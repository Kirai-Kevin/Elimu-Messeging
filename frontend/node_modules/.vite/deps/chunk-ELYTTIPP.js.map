{
  "version": 3,
  "sources": ["../../@sendbird/uikit-react/Channel.js", "../../@sendbird/uikit-react/Channel/context.js", "../../@sendbird/uikit-react/chunks/bundle-mxwNwHvq.js", "../../@sendbird/uikit-react/chunks/bundle-B61f7NvF.js", "../../@sendbird/node_modules/date-fns/esm/isDate/index.js", "../../@sendbird/node_modules/date-fns/esm/isValid/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/toInteger/index.js", "../../@sendbird/node_modules/date-fns/esm/addMilliseconds/index.js", "../../@sendbird/node_modules/date-fns/esm/subMilliseconds/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/getUTCDayOfYear/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/getUTCISOWeekYear/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/startOfUTCISOWeekYear/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/defaultOptions/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/startOfUTCWeekYear/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/getUTCWeek/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/addLeadingZeros/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/format/lightFormatters/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/format/formatters/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/format/longFormatters/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js", "../../@sendbird/node_modules/date-fns/esm/_lib/protectedTokens/index.js", "../../@sendbird/node_modules/date-fns/esm/format/index.js", "../../@sendbird/uikit-react/chunks/bundle-DMK903AV.js", "../../@sendbird/uikit-react/chunks/bundle-DhzCuHhn.js", "../../@sendbird/uikit-react/chunks/bundle-CCDeoxT_.js", "../../@sendbird/uikit-react/chunks/bundle-BlD_kPlV.js", "../../@sendbird/uikit-react/Channel/components/ChannelUI.js", "../../@sendbird/uikit-react/chunks/bundle-DXhV0XQx.js", "../../@sendbird/uikit-react/GroupChannel/components/TypingIndicator.js", "../../@sendbird/uikit-react/chunks/bundle-BHELL2oy.js", "../../@sendbird/uikit-react/ui/ConnectionStatus.js", "../../@sendbird/uikit-react/Channel/components/ChannelHeader.js", "../../@sendbird/uikit-react/chunks/bundle-BX3jAILv.js", "../../@sendbird/uikit-react/chunks/bundle-C68gpKfa.js", "../../@sendbird/uikit-react/Channel/components/MessageList.js", "../../@sendbird/uikit-react/Channel/components/Message.js", "../../@sendbird/uikit-react/chunks/bundle-DL8bJVs5.js", "../../@sendbird/uikit-react/chunks/bundle-DgO_xXWo.js", "../../@sendbird/uikit-react/Message/hooks/useDirtyGetMentions.js", "../../@sendbird/uikit-react/ui/DateSeparator.js", "../../@sendbird/uikit-react/ui/MessageInput.js", "../../@sendbird/uikit-react/chunks/bundle-B-wIh5Qv.js", "../../@sendbird/uikit-react/chunks/bundle-Ob8Qv8ze.js", "../../dompurify/dist/purify.es.mjs", "../../@sendbird/uikit-react/chunks/bundle-CnWjrGUf.js", "../../@sendbird/uikit-react/chunks/bundle-B602cp-8.js", "../../@sendbird/uikit-react/chunks/bundle-CXh4vzCv.js", "../../@sendbird/uikit-react/chunks/bundle-BJl-Stow.js", "../../@sendbird/uikit-react/ui/MessageContent.js", "../../@sendbird/uikit-react/chunks/bundle-SEoRcjBh.js", "../../@sendbird/node_modules/date-fns/esm/startOfDay/index.js", "../../@sendbird/node_modules/date-fns/esm/isSameDay/index.js", "../../@sendbird/node_modules/date-fns/esm/isToday/index.js", "../../@sendbird/node_modules/date-fns/esm/isSameYear/index.js", "../../@sendbird/node_modules/date-fns/esm/isThisYear/index.js", "../../@sendbird/node_modules/date-fns/esm/addDays/index.js", "../../@sendbird/node_modules/date-fns/esm/subDays/index.js", "../../@sendbird/node_modules/date-fns/esm/isYesterday/index.js", "../../@sendbird/uikit-react/chunks/bundle-iiHh_YqB.js", "../../@sendbird/uikit-react/ui/MessageItemReactionMenu.js", "../../@sendbird/uikit-react/ui/ReactionButton.js", "../../@sendbird/uikit-react/chunks/bundle-BSieP1ow.js", "../../@sendbird/uikit-react/ui/EmojiReactions.js", "../../@sendbird/uikit-react/ui/ReactionBadge.js", "../../@sendbird/uikit-react/ui/BottomSheet.js", "../../@sendbird/uikit-react/hooks/useModal.js", "../../@sendbird/uikit-react/ui/Tooltip.js", "../../@sendbird/uikit-react/ui/TooltipWrapper.js", "../../@sendbird/uikit-react/Message/context.js", "../../@sendbird/uikit-react/ui/AdminMessage.js", "../../@sendbird/uikit-react/ui/QuoteMessage.js", "../../@sendbird/uikit-react/chunks/bundle-COu2UBrG.js", "../../@sendbird/uikit-react/ui/MobileMenu.js", "../../@sendbird/uikit-react/ui/ThreadReplies.js", "../../@sendbird/uikit-react/chunks/bundle-DEVtRtKL.js", "../../@sendbird/uikit-react/ui/OGMessageItemBody.js", "../../@sendbird/uikit-react/chunks/bundle-bLHW4VuD.js", "../../@sendbird/uikit-react/ui/MentionLabel.js", "../../@sendbird/uikit-react/ui/LinkLabel.js", "../../@sendbird/uikit-react/ui/TextMessageItemBody.js", "../../@sendbird/uikit-react/ui/FileMessageItemBody.js", "../../@sendbird/uikit-react/chunks/bundle-CxdqLaUY.js", "../../@sendbird/uikit-react/ui/FileViewer.js", "../../@sendbird/uikit-react/chunks/bundle-CsZOw9J5.js", "../../@sendbird/uikit-react/ui/VoiceMessageItemBody.js", "../../@sendbird/uikit-react/ui/ProgressBar.js", "../../@sendbird/uikit-react/VoicePlayer/useVoicePlayer.js", "../../@sendbird/uikit-react/chunks/bundle-B6tSyuRm.js", "../../@sendbird/uikit-react/VoiceRecorder/context.js", "../../@sendbird/uikit-react/ui/PlaybackTime.js", "../../@sendbird/uikit-react/ui/ThumbnailMessageItemBody.js", "../../@sendbird/uikit-react/ui/UnknownMessageItemBody.js", "../../@sendbird/uikit-react/ui/TemplateMessageItemBody.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/types/components.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/core/transforms/colorTransform.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/core/transforms/numberTransform.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/core/parser.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/core/renderer.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/context/SizeProvider.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/types/styles.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/utils/index.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/utils/templateItemId.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/core/defaultValues.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/core/messageTemplate.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/types/properties.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/test/data.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/components/Carousel/useCarousel.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/components/Carousel/index.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/util/index.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/components/ReactMessageTemplateImage/index.canvas.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/components/ReactMessageTemplateImage/index.img.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/components/ReactMessageTemplateImage/index.placeholder.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/components/ReactMessageTemplateImage/index.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/styles/index.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/context/MessageContextProvider.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/hook/usePreservedCallback.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/hook/useRefEffect.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/hook/useResizeObserver.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/hook/useElementSize.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/hook/useRecalculationSize.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/ui/ActionHandler.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/ui/index.js", "../../@sendbird/uikit-react/ui/FallbackTemplateMessageItemBody.tsx.js", "../../@sendbird/uikit-react/ui/LoadingTemplateMessageItemBody.tsx.js", "../../@sendbird/uikit-react/ui/MessageFeedbackFailedModal.js", "../../@sendbird/uikit-react/ui/FeedbackIconButton.js", "../../@sendbird/uikit-react/ui/MobileFeedbackMenu.js", "../../@sendbird/uikit-react/ui/MessageFeedbackModal.js", "../../@sendbird/uikit-react/chunks/bundle-C-Qr6Xbj.js", "../../@sendbird/uikit-react/GroupChannel/components/SuggestedReplies.js", "../../@sendbird/uikit-react/chunks/bundle-CaZn7sCJ.js", "../../@sendbird/uikit-react/Channel/components/FileViewer.js", "../../@sendbird/uikit-react/chunks/bundle-BoobDQ7G.js", "../../@sendbird/uikit-react/Channel/components/RemoveMessageModal.js", "../../@sendbird/uikit-react/chunks/bundle-DiNcrytb.js", "../../@sendbird/uikit-react/chunks/bundle-DMQ4ARs5.js", "../../@sendbird/uikit-react/GroupChannel/components/UnreadCount.js", "../../@sendbird/uikit-react/GroupChannel/components/FrozenNotification.js", "../../@sendbird/uikit-react/chunks/bundle-BkJOIji-.js", "../../@sendbird/uikit-react/ui/TypingIndicatorBubble.js", "../../@sendbird/uikit-react/Channel/utils/compareMessagesForGrouping.js", "../../@sendbird/uikit-react/Channel/utils/getMessagePartsInfo.js", "../../@sendbird/uikit-react/Channel/components/MessageInput.js", "../../@sendbird/uikit-react/chunks/bundle-D59i-wy0.js", "../../@sendbird/uikit-react/GroupChannel/components/SuggestedMentionList.js", "../../@sendbird/uikit-react/ui/QuoteMessageInput.js", "../../@sendbird/uikit-react/VoiceRecorder/useVoiceRecorder.js", "../../@sendbird/uikit-react/chunks/bundle-vF_8gzZb.js", "../../@sendbird/uikit-react/chunks/bundle-4VvXLz4o.js"],
  "sourcesContent": ["import { _ as __assign } from './chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { ChannelProvider } from './Channel/context.js';\nimport ChannelUI from './Channel/components/ChannelUI.js';\nimport './chunks/bundle-ByW5tGii.js';\nimport './chunks/bundle-Bk7vYzLW.js';\nimport './chunks/bundle-CK7w7gep.js';\nimport './chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport './chunks/bundle-mxwNwHvq.js';\nimport './chunks/bundle-CVdCKMn9.js';\nimport '@sendbird/chat/message';\nimport './chunks/bundle-y-yf0Djs.js';\nimport './chunks/bundle-DXRcwk7R.js';\nimport './chunks/bundle-BRWYGzyd.js';\nimport './chunks/bundle-B61f7NvF.js';\nimport './chunks/bundle-CDOQ--pz.js';\nimport './chunks/bundle-BovMsFd4.js';\nimport './chunks/bundle-BA9ZfQ-7.js';\nimport './chunks/bundle-DMK903AV.js';\nimport './chunks/bundle-C7sqWYfV.js';\nimport './chunks/bundle-Ug7rKzFJ.js';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-CWd47dzy.js';\nimport './chunks/bundle-BGRwc73U.js';\nimport './chunks/bundle-DhzCuHhn.js';\nimport './chunks/bundle-DxUY6hv0.js';\nimport './chunks/bundle-CCDeoxT_.js';\nimport './chunks/bundle-BlD_kPlV.js';\nimport './chunks/bundle-DXhV0XQx.js';\nimport './GroupChannel/components/TypingIndicator.js';\nimport './chunks/bundle-MoKyCGQH.js';\nimport './chunks/bundle-BHELL2oy.js';\nimport './ui/ConnectionStatus.js';\nimport './ui/Icon.js';\nimport './chunks/bundle-Bc1fdQjj.js';\nimport './ui/PlaceHolder.js';\nimport './ui/Loader.js';\nimport './Channel/components/ChannelHeader.js';\nimport './chunks/bundle-BX3jAILv.js';\nimport './ui/ChannelAvatar.js';\nimport './chunks/bundle-BkCv3z1C.js';\nimport './ui/ImageRenderer.js';\nimport './chunks/bundle-MdZYxYNf.js';\nimport './chunks/bundle-ByD0lt6-.js';\nimport './chunks/bundle-C68gpKfa.js';\nimport './chunks/bundle-DvgqpwmQ.js';\nimport './ui/Header.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-DU7VpG0M.js';\nimport './ui/IconButton.js';\nimport './Channel/components/MessageList.js';\nimport './Channel/components/Message.js';\nimport './chunks/bundle-DL8bJVs5.js';\nimport './chunks/bundle-DgO_xXWo.js';\nimport './Message/hooks/useDirtyGetMentions.js';\nimport './ui/DateSeparator.js';\nimport './ui/MessageInput.js';\nimport './chunks/bundle-B-wIh5Qv.js';\nimport './ui/Button.js';\nimport './chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport './chunks/bundle-CnWjrGUf.js';\nimport './chunks/bundle-B602cp-8.js';\nimport './chunks/bundle-CXh4vzCv.js';\nimport './chunks/bundle-BJl-Stow.js';\nimport './ui/MessageContent.js';\nimport './chunks/bundle-SEoRcjBh.js';\nimport './chunks/bundle-B_HhSA6x.js';\nimport './chunks/bundle-BBGwVlcE.js';\nimport './chunks/bundle-iiHh_YqB.js';\nimport './chunks/bundle-BEUsrftF.js';\nimport 'react-dom';\nimport './ui/SortByRow.js';\nimport './ui/MessageItemReactionMenu.js';\nimport './ui/ReactionButton.js';\nimport './chunks/bundle-BSieP1ow.js';\nimport './ui/EmojiReactions.js';\nimport './ui/ReactionBadge.js';\nimport './ui/BottomSheet.js';\nimport './hooks/useModal.js';\nimport './chunks/bundle-ZMBEGemL.js';\nimport './ui/UserListItem.js';\nimport './ui/MutedAvatarOverlay.js';\nimport './ui/Checkbox.js';\nimport './ui/UserProfile.js';\nimport './sendbirdSelectors.js';\nimport './ui/Tooltip.js';\nimport './ui/TooltipWrapper.js';\nimport './Message/context.js';\nimport './ui/AdminMessage.js';\nimport './ui/QuoteMessage.js';\nimport './chunks/bundle-COu2UBrG.js';\nimport './ui/MobileMenu.js';\nimport './ui/ThreadReplies.js';\nimport './chunks/bundle-DEVtRtKL.js';\nimport './ui/OGMessageItemBody.js';\nimport './chunks/bundle-bLHW4VuD.js';\nimport './ui/MentionLabel.js';\nimport './ui/LinkLabel.js';\nimport './ui/TextMessageItemBody.js';\nimport './ui/FileMessageItemBody.js';\nimport './chunks/bundle-CxdqLaUY.js';\nimport './ui/FileViewer.js';\nimport './chunks/bundle-CsZOw9J5.js';\nimport '@sendbird/uikit-tools';\nimport './ui/VoiceMessageItemBody.js';\nimport './ui/ProgressBar.js';\nimport './VoicePlayer/useVoicePlayer.js';\nimport './chunks/bundle-B6tSyuRm.js';\nimport './VoiceRecorder/context.js';\nimport './ui/PlaybackTime.js';\nimport './ui/ThumbnailMessageItemBody.js';\nimport './ui/UnknownMessageItemBody.js';\nimport './ui/TemplateMessageItemBody.js';\nimport './chunks/bundle-D9VCJ_xd.js';\nimport './ui/FallbackTemplateMessageItemBody.tsx.js';\nimport './ui/LoadingTemplateMessageItemBody.tsx.js';\nimport './ui/MessageFeedbackFailedModal.js';\nimport './ui/FeedbackIconButton.js';\nimport './ui/MobileFeedbackMenu.js';\nimport './ui/MessageFeedbackModal.js';\nimport './ui/Input.js';\nimport './chunks/bundle-C-Qr6Xbj.js';\nimport './GroupChannel/components/SuggestedReplies.js';\nimport './chunks/bundle-CaZn7sCJ.js';\nimport './Channel/components/FileViewer.js';\nimport './chunks/bundle-BoobDQ7G.js';\nimport './Channel/components/RemoveMessageModal.js';\nimport './chunks/bundle-DiNcrytb.js';\nimport './chunks/bundle-DMQ4ARs5.js';\nimport './GroupChannel/components/UnreadCount.js';\nimport './GroupChannel/components/FrozenNotification.js';\nimport './chunks/bundle-BkJOIji-.js';\nimport './chunks/bundle-COBh1gnD.js';\nimport './ui/TypingIndicatorBubble.js';\nimport './chunks/bundle-BcyPGc4o.js';\nimport './Channel/utils/getMessagePartsInfo.js';\nimport './Channel/utils/compareMessagesForGrouping.js';\nimport './Channel/components/MessageInput.js';\nimport './chunks/bundle-D59i-wy0.js';\nimport './GroupChannel/components/SuggestedMentionList.js';\nimport './ui/QuoteMessageInput.js';\nimport './VoiceRecorder/useVoiceRecorder.js';\nimport './chunks/bundle-vF_8gzZb.js';\nimport './chunks/bundle-4VvXLz4o.js';\n\n/**\n * @deprecated This component is deprecated and will be removed in the next major update.\n * Please use the `GroupChannel` component from '@sendbird/uikit-react/GroupChannel' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar Channel = function (props) {\n    return (React__default.createElement(ChannelProvider, __assign({}, props),\n        React__default.createElement(ChannelUI, __assign({}, props))));\n};\n\nexport { Channel as default };\n//# sourceMappingURL=Channel.js.map\n", "import { _ as __assign, a as __spreadArray } from '../chunks/bundle-BosquA9C.js';\nimport React__default, { useEffect, useCallback, useRef, useState, useReducer, useMemo } from 'react';\nimport { U as UserProfileProvider } from '../chunks/bundle-ByW5tGii.js';\nimport { T as ThreadReplySelectType } from '../chunks/bundle-mxwNwHvq.js';\nimport { m as mergeAndSortMessages, p as passUnsuccessfullMessages, s as scrollIntoLast, d as scrollToRenderedMessage, g as getAllEmojisMapFromEmojiContainer, e as getNicknamesMapFromMembers } from '../chunks/bundle-CVdCKMn9.js';\nimport { g as getIsReactionEnabled } from '../chunks/bundle-B61f7NvF.js';\nimport { f as format } from '../chunks/bundle-CDOQ--pz.js';\nimport { SendingStatus, ReplyType, MessageMetaArray } from '@sendbird/chat/message';\nimport { K, S } from '../chunks/bundle-BA9ZfQ-7.js';\nimport { R as RESET_MESSAGES, F as FETCH_INITIAL_MESSAGES_START, a as FETCH_INITIAL_MESSAGES_SUCCESS, b as FETCH_PREV_MESSAGES_SUCCESS, P as PREV_RESULT_SIZE, c as FETCH_NEXT_MESSAGES_SUCCESS, N as NEXT_RESULT_SIZE, d as FETCH_INITIAL_MESSAGES_FAILURE, e as FETCH_PREV_MESSAGES_FAILURE, f as FETCH_NEXT_MESSAGES_FAILURE, S as SEND_MESSAGE_START, g as SEND_MESSAGE_SUCCESS, h as SEND_MESSAGE_FAILURE, i as SET_CURRENT_CHANNEL, j as SET_CHANNEL_INVALID, O as ON_MESSAGE_RECEIVED, k as ON_MESSAGE_UPDATED, l as ON_MESSAGE_THREAD_INFO_UPDATED, m as RESEND_MESSAGE_START, M as MARK_AS_READ, n as ON_MESSAGE_DELETED, o as ON_MESSAGE_DELETED_BY_REQ_ID, p as SET_EMOJI_CONTAINER, q as ON_REACTION_UPDATED, r as MESSAGE_LIST_PARAMS_CHANGED, s as ON_FILE_INFO_UPLOADED, t as ON_TYPING_STATUS_UPDATED, u as useInitialMessagesFetch, v as channelActions } from '../chunks/bundle-DMK903AV.js';\nimport { c as compareIds } from '../chunks/bundle-C7sqWYfV.js';\nimport { l as isSendableMessage, a2 as filterMessageListParams } from '../chunks/bundle-Ug7rKzFJ.js';\nimport { u as useLocalization } from '../chunks/bundle-y-yf0Djs.js';\nimport { GroupChannelHandler } from '@sendbird/chat/groupChannel';\nimport { u as uuidv4 } from '../chunks/bundle-BGRwc73U.js';\nimport { u as useSendbird } from '../chunks/bundle-Bk7vYzLW.js';\nimport { u as useReconnectOnIdle } from '../chunks/bundle-DhzCuHhn.js';\nimport { f as SCROLL_BOTTOM_DELAY_FOR_FETCH, e as SCROLL_BOTTOM_DELAY_FOR_SEND, a as VOICE_MESSAGE_FILE_NAME, b as VOICE_MESSAGE_MIME_TYPE, i as META_ARRAY_VOICE_DURATION_KEY, j as META_ARRAY_MESSAGE_TYPE_KEY, k as META_ARRAY_MESSAGE_TYPE_VALUE__VOICE } from '../chunks/bundle-BDIF-bj_.js';\nimport { p as pubSubTopics, b as PublishingModuleType, P as PUBSUB_TOPICS, s as shouldPubSubPublishToChannel } from '../chunks/bundle-DxUY6hv0.js';\nimport { g as getCaseResolvedReplyType, a as getCaseResolvedThreadReplySelectType } from '../chunks/bundle-CCDeoxT_.js';\nimport { u as useSendMultipleFilesMessage } from '../chunks/bundle-BlD_kPlV.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\n\nvar initialState = {\n    initialized: false,\n    loading: true,\n    allMessages: [],\n    /**\n     * localMessages: pending & failed messages\n     */\n    localMessages: [],\n    currentGroupChannel: null,\n    // for scrollup\n    hasMorePrev: false,\n    oldestMessageTimeStamp: 0,\n    // for scroll down\n    // onScrollDownCallback is added for navigation to different timestamps on messageSearch\n    // hasMorePrev, onScrollCallback -> scroll up(default behavior)\n    // hasMoreNext, onScrollDownCallback -> scroll down\n    hasMoreNext: false,\n    latestMessageTimeStamp: 0,\n    emojiContainer: { emojiCategories: [], emojiHash: '' },\n    /** @deprecated Please use `unreadSinceDate` instead. * */\n    unreadSince: null,\n    /**\n     * unreadSinceDate is a date information about message unread.\n     * It's used only for the {unreadSinceDate && <UnreadCount unreadSinceDate={unreadSinceDate} />}\n     */\n    unreadSinceDate: null,\n    isInvalid: false,\n    readStatus: null,\n    messageListParams: null,\n    typingMembers: [],\n};\n\nvar getOldestMessageTimeStamp = function (messages) {\n    if (messages === void 0) { messages = []; }\n    var oldestMessage = messages[0];\n    return (oldestMessage && oldestMessage.createdAt) || null;\n};\nvar getLatestMessageTimeStamp = function (messages) {\n    if (messages === void 0) { messages = []; }\n    var latestMessage = messages[messages.length - 1];\n    return (latestMessage && latestMessage.createdAt) || null;\n};\nfunction hasReqId(message) {\n    return 'reqId' in message;\n}\nfunction channelReducer(state, action) {\n    var stringSet = useLocalization().stringSet;\n    return K(action)\n        .with({ type: RESET_MESSAGES }, function () {\n        return __assign(__assign({}, state), { \n            // when user switches channel, if the previous channel `hasMorePrev`\n            // the onScroll gets called twice, setting hasMorePrev false prevents this\n            hasMorePrev: false, hasMoreNext: false, allMessages: [], localMessages: [] });\n    })\n        .with({ type: FETCH_INITIAL_MESSAGES_START }, function () {\n        return __assign(__assign({}, state), { loading: true, allMessages: state.allMessages.filter(function (m) { return isSendableMessage(m)\n                ? m.sendingStatus !== SendingStatus.SUCCEEDED\n                : true; }), localMessages: [] });\n    })\n        .with({ type: FETCH_INITIAL_MESSAGES_SUCCESS }, function (action) {\n        var _a;\n        var _b = action.payload, currentGroupChannel = _b.currentGroupChannel, messages = _b.messages;\n        if (!((currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url) === ((_a = state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url))) {\n            return state;\n        }\n        var oldestMessageTimeStamp = getOldestMessageTimeStamp(messages);\n        var latestMessageTimeStamp = getLatestMessageTimeStamp(messages);\n        return __assign(__assign({}, state), { loading: false, initialized: true, hasMorePrev: true, hasMoreNext: true, oldestMessageTimeStamp: oldestMessageTimeStamp, latestMessageTimeStamp: latestMessageTimeStamp, allMessages: __spreadArray([], messages, true) });\n    })\n        .with({ type: FETCH_PREV_MESSAGES_SUCCESS }, function (action) {\n        var _a, _b, _c, _d;\n        var _e = action.payload, currentGroupChannel = _e.currentGroupChannel, messages = _e.messages;\n        if (!((currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url) === ((_a = state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url))) {\n            return state;\n        }\n        var hasMorePrev = ((_b = messages === null || messages === void 0 ? void 0 : messages.length) !== null && _b !== void 0 ? _b : 0)\n            >= ((_d = (_c = state === null || state === void 0 ? void 0 : state.messageListParams) === null || _c === void 0 ? void 0 : _c.prevResultSize) !== null && _d !== void 0 ? _d : PREV_RESULT_SIZE) + 1;\n        var oldestMessageTimeStamp = getOldestMessageTimeStamp(messages);\n        // Remove duplicated messages\n        var duplicatedMessageIds = [];\n        var updatedOldMessages = state.allMessages.map(function (msg) {\n            var duplicatedMessage = messages.find(function (_a) {\n                var messageId = _a.messageId;\n                return compareIds(messageId, msg.messageId);\n            });\n            if (!duplicatedMessage) {\n                return msg;\n            }\n            duplicatedMessageIds.push(duplicatedMessage.messageId);\n            return duplicatedMessage.updatedAt > msg.updatedAt\n                ? duplicatedMessage\n                : msg;\n        });\n        var filteredNewMessages = duplicatedMessageIds.length > 0\n            ? messages.filter(function (msg) { return !duplicatedMessageIds.find(function (messageId) { return compareIds(messageId, msg.messageId); }); })\n            : messages;\n        return __assign(__assign({}, state), { hasMorePrev: hasMorePrev, oldestMessageTimeStamp: oldestMessageTimeStamp, allMessages: __spreadArray(__spreadArray([], filteredNewMessages, true), updatedOldMessages, true) });\n    })\n        .with({ type: FETCH_NEXT_MESSAGES_SUCCESS }, function (action) {\n        var _a, _b, _c, _d;\n        var _e = action.payload, currentGroupChannel = _e.currentGroupChannel, messages = _e.messages;\n        if (!((currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url) === ((_a = state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url))) {\n            return state;\n        }\n        var hasMoreNext = ((_b = messages === null || messages === void 0 ? void 0 : messages.length) !== null && _b !== void 0 ? _b : 0)\n            === ((_d = (_c = state === null || state === void 0 ? void 0 : state.messageListParams) === null || _c === void 0 ? void 0 : _c.nextResultSize) !== null && _d !== void 0 ? _d : NEXT_RESULT_SIZE) + 1;\n        var latestMessageTimeStamp = getLatestMessageTimeStamp(messages);\n        // sort ~\n        var sortedMessages = mergeAndSortMessages(state.allMessages, messages);\n        return __assign(__assign({}, state), { hasMoreNext: hasMoreNext, latestMessageTimeStamp: latestMessageTimeStamp, allMessages: sortedMessages });\n    })\n        .with({\n        type: S.union(FETCH_INITIAL_MESSAGES_FAILURE, FETCH_PREV_MESSAGES_FAILURE, FETCH_NEXT_MESSAGES_FAILURE),\n    }, function (action) {\n        var _a;\n        var currentGroupChannel = action.payload.currentGroupChannel;\n        if ((currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url) !== ((_a = state === null || state === void 0 ? void 0 : state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url))\n            return state;\n        // It shows something went wrong screen when fetching initial messages failed.\n        var shouldInvalid = [FETCH_INITIAL_MESSAGES_FAILURE].includes(action.type);\n        return __assign(__assign({}, state), { loading: false, isInvalid: shouldInvalid, initialized: false, allMessages: [], hasMorePrev: false, hasMoreNext: false, oldestMessageTimeStamp: null, latestMessageTimeStamp: null });\n    })\n        .with({ type: SEND_MESSAGE_START }, function (action) {\n        // Message should not be spread here\n        // it will loose some methods like `isUserMessage`\n        return __assign(__assign({}, state), { localMessages: __spreadArray(__spreadArray([], state.localMessages, true), [action.payload], false) });\n    })\n        .with({ type: SEND_MESSAGE_SUCCESS }, function (action) {\n        var message = action.payload;\n        /**\n         * Admin messages do not have reqId. We need to include them.\n         */\n        var filteredMessages = state.allMessages.filter(function (m) { return !hasReqId(m) || (m === null || m === void 0 ? void 0 : m.reqId) !== (message === null || message === void 0 ? void 0 : message.reqId); });\n        // [Policy] Pending messages and failed messages\n        // must always be at the end of the message list\n        return __assign(__assign({}, state), { allMessages: __spreadArray(__spreadArray([], filteredMessages, true), [message], false), localMessages: state.localMessages.filter(function (m) { return hasReqId(m) && (m === null || m === void 0 ? void 0 : m.reqId) !== (message === null || message === void 0 ? void 0 : message.reqId); }) });\n    })\n        .with({ type: SEND_MESSAGE_FAILURE }, function (action) {\n        // @ts-ignore\n        action.payload.failed = true;\n        return __assign(__assign({}, state), { localMessages: state.localMessages.map(function (m) { return compareIds(hasReqId(m) && m.reqId, action.payload.reqId)\n                ? action.payload\n                : m; }) });\n    })\n        .with({ type: SET_CURRENT_CHANNEL }, function (action) {\n        return __assign(__assign({}, state), { currentGroupChannel: action.payload, isInvalid: false });\n    })\n        .with({ type: SET_CHANNEL_INVALID }, function () {\n        return __assign(__assign({}, state), { currentGroupChannel: null, allMessages: [], localMessages: [], isInvalid: true });\n    })\n        .with({ type: ON_MESSAGE_RECEIVED }, function (action) {\n        var _a, _b;\n        var _c = action.payload, channel = _c.channel, message = _c.message;\n        var members = channel.members;\n        var sender = message.sender;\n        var currentGroupChannel = state.currentGroupChannel;\n        var currentGroupChannelUrl = currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url;\n        if (!compareIds(channel === null || channel === void 0 ? void 0 : channel.url, currentGroupChannelUrl)) {\n            return state;\n        }\n        // Excluded overlapping messages\n        if (state.allMessages.some(function (msg) { return msg.messageId === message.messageId; })) {\n            return state;\n        }\n        // Filter by userFilledQuery\n        if (state.messageListParams\n            && !filterMessageListParams(state.messageListParams, message)) {\n            return state;\n        }\n        if (message.isAdminMessage && message.isAdminMessage()) {\n            return __assign(__assign({}, state), { allMessages: passUnsuccessfullMessages(state.allMessages, message) });\n        }\n        // Update members when sender profileUrl, nickname, friendName has been changed\n        var senderMember = members === null || members === void 0 ? void 0 : members.find(function (m) { return (m === null || m === void 0 ? void 0 : m.userId) === (sender === null || sender === void 0 ? void 0 : sender.userId); });\n        if ((senderMember === null || senderMember === void 0 ? void 0 : senderMember.profileUrl) !== (sender === null || sender === void 0 ? void 0 : sender.profileUrl)\n            || (senderMember === null || senderMember === void 0 ? void 0 : senderMember.friendName) !== (sender === null || sender === void 0 ? void 0 : sender.friendName)\n            || (senderMember === null || senderMember === void 0 ? void 0 : senderMember.nickname) !== (sender === null || sender === void 0 ? void 0 : sender.nickname)) {\n            // @ts-ignore\n            channel.members = members.map(function (member) {\n                if (member.userId === sender.userId) {\n                    return sender;\n                }\n                return member;\n            });\n        }\n        return __assign(__assign({}, state), { currentGroupChannel: channel, unreadSince: (_a = state.unreadSince) !== null && _a !== void 0 ? _a : format(new Date(), stringSet.DATE_FORMAT__UNREAD_SINCE), unreadSinceDate: (_b = state.unreadSinceDate) !== null && _b !== void 0 ? _b : new Date(), allMessages: passUnsuccessfullMessages(state.allMessages, message) });\n    })\n        .with({ type: ON_MESSAGE_UPDATED }, function (action) {\n        var _a;\n        var _b = action.payload, channel = _b.channel, message = _b.message;\n        var currentGroupChannelUrl = ((_a = state === null || state === void 0 ? void 0 : state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url) || '';\n        if (!compareIds(channel === null || channel === void 0 ? void 0 : channel.url, currentGroupChannelUrl)) {\n            return state; // Ignore event when it is not for the current channel\n        }\n        if (state.messageListParams\n            && !filterMessageListParams(state.messageListParams, message)) {\n            // Delete the message if it doesn't match to the params anymore\n            return __assign(__assign({}, state), { allMessages: state.allMessages.filter(function (m) { return !compareIds(m.messageId, message === null || message === void 0 ? void 0 : message.messageId); }) });\n        }\n        return __assign(__assign({}, state), { allMessages: state.allMessages.map(function (m) {\n                if (compareIds(m.messageId, message.messageId)) {\n                    return message;\n                }\n                if (compareIds(m.parentMessageId, message.messageId)) {\n                    m.parentMessage = message; // eslint-disable-line no-param-reassign\n                }\n                return m;\n            }) });\n    })\n        .with({ type: ON_MESSAGE_THREAD_INFO_UPDATED }, function (action) {\n        var _a;\n        var _b = action.payload, channel = _b.channel, event = _b.event;\n        var channelUrl = event.channelUrl, threadInfo = event.threadInfo, targetMessageId = event.targetMessageId;\n        var currentGroupChannelUrl = ((_a = state === null || state === void 0 ? void 0 : state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url) || '';\n        if (!compareIds(channel === null || channel === void 0 ? void 0 : channel.url, currentGroupChannelUrl)\n            || !compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n            return state; // Ignore event when it is not for the current channel\n        }\n        return __assign(__assign({}, state), { allMessages: state.allMessages.map(function (m) {\n                if (compareIds(m.messageId, targetMessageId)) {\n                    // eslint-disable-next-line no-param-reassign\n                    m.threadInfo = threadInfo; // Upsert threadInfo to the target message\n                }\n                return m;\n            }) });\n    })\n        .with({ type: RESEND_MESSAGE_START }, function (action) {\n        return __assign(__assign({}, state), { localMessages: state.localMessages.map(function (m) { return compareIds(hasReqId(m) && m.reqId, action.payload.reqId)\n                ? action.payload\n                : m; }) });\n    })\n        .with({ type: MARK_AS_READ }, function (action) {\n        var _a, _b, _c;\n        if (((_a = state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url) !== ((_c = (_b = action.payload) === null || _b === void 0 ? void 0 : _b.channel) === null || _c === void 0 ? void 0 : _c.url)) {\n            return state;\n        }\n        return __assign(__assign({}, state), { unreadSince: null, unreadSinceDate: null });\n    })\n        .with({ type: ON_MESSAGE_DELETED }, function (action) {\n        return __assign(__assign({}, state), { allMessages: state.allMessages.filter(function (m) { return !compareIds(m.messageId, action.payload); }) });\n    })\n        .with({ type: ON_MESSAGE_DELETED_BY_REQ_ID }, function (action) {\n        return __assign(__assign({}, state), { localMessages: state.localMessages.filter(function (m) { return !compareIds(hasReqId(m) && m.reqId, action.payload); }) });\n    })\n        .with({ type: SET_EMOJI_CONTAINER }, function (action) {\n        return __assign(__assign({}, state), { emojiContainer: action.payload });\n    })\n        .with({ type: ON_REACTION_UPDATED }, function (action) {\n        return __assign(__assign({}, state), { allMessages: state.allMessages.map(function (m) {\n                if (compareIds(m.messageId, action.payload.messageId)) {\n                    if (m.applyReactionEvent\n                        && typeof m.applyReactionEvent === 'function') {\n                        m.applyReactionEvent(action.payload);\n                    }\n                    return m;\n                }\n                return m;\n            }) });\n    })\n        .with({ type: MESSAGE_LIST_PARAMS_CHANGED }, function (action) {\n        return __assign(__assign({}, state), { messageListParams: action.payload });\n    })\n        .with({ type: ON_FILE_INFO_UPLOADED }, function (action) {\n        var _a, _b;\n        var _c = action.payload, channelUrl = _c.channelUrl, requestId = _c.requestId, index = _c.index, uploadableFileInfo = _c.uploadableFileInfo, error = _c.error;\n        if (!compareIds(channelUrl, (_a = state === null || state === void 0 ? void 0 : state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url)) {\n            return state;\n        }\n        /**\n         * We don't have to do anything here because\n         * onFailed() will be called so handle error there instead.\n         */\n        if (error)\n            return state;\n        var localMessages = state.localMessages;\n        var messageToUpdate = localMessages.find(function (message) { return compareIds(hasReqId(message) && message.reqId, requestId); });\n        var fileInfoList = (_b = messageToUpdate\n            .messageParams) === null || _b === void 0 ? void 0 : _b.fileInfoList;\n        if (Array.isArray(fileInfoList)) {\n            fileInfoList[index] = uploadableFileInfo;\n        }\n        return __assign(__assign({}, state), { localMessages: localMessages });\n    })\n        .with({ type: ON_TYPING_STATUS_UPDATED }, function (action) {\n        var _a;\n        var _b = action.payload, channel = _b.channel, typingMembers = _b.typingMembers;\n        if (!compareIds(channel.url, (_a = state === null || state === void 0 ? void 0 : state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url)) {\n            return state;\n        }\n        return __assign(__assign({}, state), { typingMembers: typingMembers });\n    })\n        .otherwise(function () { return state; });\n}\n\nvar DELIVERY_RECEIPT = 'delivery_receipt';\nfunction useHandleChannelEvents(_a, _b) {\n    var _c, _d, _e;\n    var sdkInit = _a.sdkInit, currentGroupChannel = _a.currentGroupChannel, disableMarkAsRead = _a.disableMarkAsRead;\n    var sdk = _b.sdk, logger = _b.logger, scrollRef = _b.scrollRef, setQuoteMessage = _b.setQuoteMessage, messagesDispatcher = _b.messagesDispatcher;\n    var store = useSendbird().state;\n    var _f = store.config, markAsReadScheduler = _f.markAsReadScheduler, markAsDeliveredScheduler = _f.markAsDeliveredScheduler, disableMarkAsDelivered = _f.disableMarkAsDelivered;\n    var canSetMarkAsDelivered = (_e = (_d = (_c = store.stores.sdkStore.sdk) === null || _c === void 0 ? void 0 : _c.appInfo) === null || _d === void 0 ? void 0 : _d.premiumFeatureList) === null || _e === void 0 ? void 0 : _e.find(function (feature) { return (feature === DELIVERY_RECEIPT); });\n    useEffect(function () {\n        var _a;\n        var channelUrl = currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url;\n        var channelHandlerId = uuidv4();\n        if (channelUrl && sdkInit) {\n            var channelHandler = {\n                onMessageReceived: function (channel, message) {\n                    var _a, _b;\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        var scrollToEnd = false;\n                        try {\n                            var current = scrollRef.current;\n                            if (current) {\n                                scrollToEnd = current.offsetHeight + current.scrollTop >= current.scrollHeight - 10;\n                            }\n                            // 10 is a buffer\n                        }\n                        catch (error) {\n                            //\n                        }\n                        logger.info('Channel | useHandleChannelEvents: onMessageReceived', message);\n                        messagesDispatcher({\n                            type: ON_MESSAGE_RECEIVED,\n                            payload: { channel: channel, message: message },\n                        });\n                        if (scrollToEnd\n                            && ((_a = document.getElementById('sendbird-dropdown-portal')) === null || _a === void 0 ? void 0 : _a.childElementCount) === 0\n                            && ((_b = document.getElementById('sendbird-emoji-list-portal')) === null || _b === void 0 ? void 0 : _b.childElementCount) === 0) {\n                            // and !openContextMenu\n                            try {\n                                setTimeout(function () { return scrollIntoLast(0, scrollRef); });\n                                if (!disableMarkAsRead) {\n                                    markAsReadScheduler.push(currentGroupChannel);\n                                }\n                                if (canSetMarkAsDelivered && !disableMarkAsDelivered) {\n                                    markAsDeliveredScheduler.push(currentGroupChannel);\n                                }\n                            }\n                            catch (error) {\n                                logger.warning('Channel | onMessageReceived | scroll to end failed');\n                            }\n                        }\n                    }\n                },\n                onUnreadMemberStatusUpdated: function (channel) {\n                    logger.info('Channel | useHandleChannelEvents: onUnreadMemberStatusUpdated', channel);\n                    if (compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                // before(onDeliveryReceiptUpdated)\n                onUndeliveredMemberStatusUpdated: function (channel) {\n                    if (compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onDeliveryReceiptUpdated', channel);\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                onMessageUpdated: function (channel, message) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onMessageUpdated', message);\n                        messagesDispatcher({\n                            type: ON_MESSAGE_UPDATED,\n                            payload: { channel: channel, message: message },\n                        });\n                    }\n                },\n                onThreadInfoUpdated: function (channel, threadInfoUpdateEvent) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onThreadInfoUpdated', { channel: channel, threadInfoUpdateEvent: threadInfoUpdateEvent });\n                        messagesDispatcher({\n                            type: ON_MESSAGE_THREAD_INFO_UPDATED,\n                            payload: { channel: channel, event: threadInfoUpdateEvent },\n                        });\n                    }\n                },\n                onMessageDeleted: function (channel, messageId) {\n                    logger.info('Channel | useHandleChannelEvents: onMessageDeleted', { channel: channel, messageId: messageId });\n                    setQuoteMessage(null);\n                    messagesDispatcher({\n                        type: ON_MESSAGE_DELETED,\n                        payload: messageId,\n                    });\n                },\n                onReactionUpdated: function (channel, reactionEvent) {\n                    logger.info('Channel | useHandleChannelEvents: onReactionUpdated', { channel: channel, reactionEvent: reactionEvent });\n                    messagesDispatcher({\n                        type: ON_REACTION_UPDATED,\n                        payload: reactionEvent,\n                    });\n                },\n                onChannelChanged: function (channel) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onChannelChanged', channel);\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                onChannelFrozen: function (channel) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onChannelFrozen', channel);\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                onChannelUnfrozen: function (channel) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onChannelUnFrozen', channel);\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                onUserMuted: function (channel, user) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onUserMuted', { channel: channel, user: user });\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                onUserUnmuted: function (channel, user) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onUserUnmuted', { channel: channel, user: user });\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                onUserBanned: function (channel, user) {\n                    var _a;\n                    if (compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl) && channel.isGroupChannel()) {\n                        logger.info('Channel | useHandleChannelEvents: onUserBanned', { channel: channel, user: user });\n                        var isByMe = (user === null || user === void 0 ? void 0 : user.userId) === ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _a === void 0 ? void 0 : _a.userId);\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: isByMe ? null : channel,\n                        });\n                    }\n                },\n                onOperatorUpdated: function (channel, users) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onOperatorUpdated', { channel: channel, users: users });\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                onUserLeft: function (channel, user) {\n                    var _a;\n                    if (compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onUserLeft', { channel: channel, user: user });\n                        var isByMe = (user === null || user === void 0 ? void 0 : user.userId) === ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _a === void 0 ? void 0 : _a.userId);\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: isByMe ? null : channel,\n                        });\n                    }\n                },\n                onTypingStatusUpdated: function (channel) {\n                    if (compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | onTypingStatusUpdated', { channel: channel });\n                        var typingMembers = channel.getTypingUsers();\n                        messagesDispatcher({\n                            type: ON_TYPING_STATUS_UPDATED,\n                            payload: {\n                                channel: channel,\n                                typingMembers: typingMembers,\n                            },\n                        });\n                    }\n                },\n            };\n            logger.info('Channel | useHandleChannelEvents: Setup event handler', { channelHandlerId: channelHandlerId, channelHandler: channelHandler });\n            // Add this group channel handler to the Sendbird chat instance\n            (_a = sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.addGroupChannelHandler(channelHandlerId, new GroupChannelHandler(channelHandler));\n        }\n        return function () {\n            var _a;\n            if ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.removeGroupChannelHandler) {\n                logger.info('Channel | useHandleChannelEvents: Removing message reciver handler', channelHandlerId);\n                sdk.groupChannel.removeGroupChannelHandler(channelHandlerId);\n            }\n            else if (sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) {\n                logger.error('Channel | useHandleChannelEvents: Not found the removeGroupChannelHandler');\n            }\n        };\n    }, [currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url, sdkInit]);\n}\n\nfunction useGetChannel(_a, _b) {\n    var channelUrl = _a.channelUrl, sdkInit = _a.sdkInit, disableMarkAsRead = _a.disableMarkAsRead;\n    var messagesDispatcher = _b.messagesDispatcher, sdk = _b.sdk, logger = _b.logger, markAsReadScheduler = _b.markAsReadScheduler;\n    useEffect(function () {\n        if (channelUrl && sdkInit && sdk && sdk.groupChannel) {\n            logger.info('Channel | useSetChannel fetching channel', channelUrl);\n            sdk.groupChannel\n                .getChannel(channelUrl)\n                .then(function (groupChannel) {\n                logger.info('Channel | useSetChannel fetched channel', groupChannel);\n                messagesDispatcher({\n                    type: SET_CURRENT_CHANNEL,\n                    payload: groupChannel,\n                });\n                logger.info('Channel: Mark as read', groupChannel);\n                if (!disableMarkAsRead) {\n                    markAsReadScheduler.push(groupChannel);\n                }\n            })\n                .catch(function (e) {\n                logger.warning('Channel | useSetChannel fetch channel failed', { channelUrl: channelUrl, e: e });\n                messagesDispatcher({\n                    type: SET_CHANNEL_INVALID,\n                });\n            });\n            sdk\n                .getAllEmoji()\n                .then(function (emojiContainer_) {\n                logger.info('Channel: Getting emojis success', emojiContainer_);\n                messagesDispatcher({\n                    type: SET_EMOJI_CONTAINER,\n                    payload: emojiContainer_,\n                });\n            })\n                .catch(function (err) {\n                logger.error('Channel: Getting emojis failed', err);\n            });\n        }\n    }, [channelUrl, sdkInit]);\n}\n\nfunction useHandleReconnect(_a, _b) {\n    var isOnline = _a.isOnline, replyType = _a.replyType, disableMarkAsRead = _a.disableMarkAsRead, reconnectOnIdle = _a.reconnectOnIdle;\n    var logger = _b.logger, sdk = _b.sdk, scrollRef = _b.scrollRef, currentGroupChannel = _b.currentGroupChannel, messagesDispatcher = _b.messagesDispatcher, markAsReadScheduler = _b.markAsReadScheduler, userFilledMessageListQuery = _b.userFilledMessageListQuery;\n    var shouldReconnect = useReconnectOnIdle(isOnline, currentGroupChannel, reconnectOnIdle).shouldReconnect;\n    useEffect(function () {\n        return function () {\n            var _a, _b, _c;\n            // state changed from offline to online AND tab is visible\n            if (shouldReconnect) {\n                logger.info('Refreshing conversation state');\n                var isReactionEnabled = ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) === null || _a === void 0 ? void 0 : _a.useReaction) || false;\n                var messageListParams_1 = {\n                    prevResultSize: PREV_RESULT_SIZE,\n                    isInclusive: true,\n                    includeReactions: isReactionEnabled,\n                    includeMetaArray: true,\n                    nextResultSize: NEXT_RESULT_SIZE,\n                };\n                if (replyType && replyType === 'QUOTE_REPLY') {\n                    messageListParams_1.includeThreadInfo = true;\n                    messageListParams_1.includeParentMessageInfo = true;\n                    messageListParams_1.replyType = ReplyType.ONLY_REPLY_TO_CHANNEL;\n                }\n                if (userFilledMessageListQuery) {\n                    Object.keys(userFilledMessageListQuery).forEach(function (key) {\n                        // @ts-ignore\n                        messageListParams_1[key] = userFilledMessageListQuery[key];\n                    });\n                }\n                logger.info('Channel: Fetching messages', { currentGroupChannel: currentGroupChannel, userFilledMessageListQuery: userFilledMessageListQuery });\n                messagesDispatcher({\n                    type: FETCH_INITIAL_MESSAGES_START,\n                    payload: null,\n                });\n                (_b = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _b === void 0 ? void 0 : _b.getChannel((_c = currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url) !== null && _c !== void 0 ? _c : '').then(function (groupChannel) {\n                    var lastMessageTime = new Date().getTime();\n                    groupChannel.getMessagesByTimestamp(lastMessageTime, messageListParams_1)\n                        .then(function (messages) {\n                        messagesDispatcher({\n                            type: FETCH_INITIAL_MESSAGES_SUCCESS,\n                            payload: {\n                                currentGroupChannel: groupChannel,\n                                messages: messages,\n                            },\n                        });\n                        setTimeout(function () { return scrollIntoLast(0, scrollRef); }, SCROLL_BOTTOM_DELAY_FOR_FETCH);\n                    })\n                        .catch(function (error) {\n                        logger.error('Channel: Fetching messages failed', error);\n                        messagesDispatcher({\n                            type: FETCH_INITIAL_MESSAGES_FAILURE,\n                            payload: { currentGroupChannel: groupChannel },\n                        });\n                    });\n                    if (!disableMarkAsRead) {\n                        markAsReadScheduler.push(groupChannel);\n                    }\n                });\n            }\n        };\n    }, [shouldReconnect, replyType]);\n}\n\nfunction useScrollCallback(_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, oldestMessageTimeStamp = _a.oldestMessageTimeStamp, userFilledMessageListQuery = _a.userFilledMessageListQuery, replyType = _a.replyType;\n    var hasMorePrev = _b.hasMorePrev, logger = _b.logger, messagesDispatcher = _b.messagesDispatcher, sdk = _b.sdk;\n    return useCallback(function (callback) {\n        var _a, _b;\n        if (!hasMorePrev) {\n            return;\n        }\n        var messageListParams = {\n            prevResultSize: PREV_RESULT_SIZE,\n            isInclusive: true,\n            includeMetaArray: true,\n            includeReactions: (_b = (_a = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) === null || _a === void 0 ? void 0 : _a.useReaction) !== null && _b !== void 0 ? _b : false,\n        };\n        if (replyType === 'QUOTE_REPLY' || replyType === 'THREAD') {\n            messageListParams.includeThreadInfo = true;\n            messageListParams.includeParentMessageInfo = true;\n            messageListParams.replyType = ReplyType.ONLY_REPLY_TO_CHANNEL;\n        }\n        if (userFilledMessageListQuery) {\n            Object.keys(userFilledMessageListQuery).forEach(function (key) {\n                // @ts-ignore\n                messageListParams[key] = userFilledMessageListQuery[key];\n            });\n        }\n        logger.info('Channel: Fetching messages', {\n            currentGroupChannel: currentGroupChannel,\n            userFilledMessageListQuery: userFilledMessageListQuery,\n        });\n        currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.getMessagesByTimestamp(oldestMessageTimeStamp || new Date().getTime(), messageListParams).then(function (messages) {\n            messagesDispatcher({\n                type: FETCH_PREV_MESSAGES_SUCCESS,\n                payload: { currentGroupChannel: currentGroupChannel, messages: messages },\n            });\n            if (callback)\n                setTimeout(function () { return callback(); });\n        }).catch(function () {\n            messagesDispatcher({\n                type: FETCH_PREV_MESSAGES_FAILURE,\n                payload: { currentGroupChannel: currentGroupChannel },\n            });\n        });\n    }, [currentGroupChannel, oldestMessageTimeStamp, replyType]);\n}\n\nfunction useScrollDownCallback(_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, latestMessageTimeStamp = _a.latestMessageTimeStamp, userFilledMessageListQuery = _a.userFilledMessageListQuery, hasMoreNext = _a.hasMoreNext, replyType = _a.replyType;\n    var logger = _b.logger, messagesDispatcher = _b.messagesDispatcher, sdk = _b.sdk;\n    return useCallback(function (cb) {\n        var _a, _b;\n        if (!hasMoreNext) {\n            return;\n        }\n        var isReactionEnabled = (_b = (_a = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) === null || _a === void 0 ? void 0 : _a.useReaction) !== null && _b !== void 0 ? _b : false;\n        var messageListParams = {\n            nextResultSize: NEXT_RESULT_SIZE,\n            isInclusive: true,\n            includeReactions: isReactionEnabled,\n            includeMetaArray: true,\n        };\n        if (replyType && (replyType === 'QUOTE_REPLY' || replyType === 'THREAD')) {\n            messageListParams.includeThreadInfo = true;\n            messageListParams.includeParentMessageInfo = true;\n            messageListParams.replyType = ReplyType.ONLY_REPLY_TO_CHANNEL;\n        }\n        if (userFilledMessageListQuery) {\n            Object.keys(userFilledMessageListQuery).forEach(function (key) {\n                // @ts-ignore\n                messageListParams[key] = userFilledMessageListQuery[key];\n            });\n        }\n        logger.info('Channel: Fetching later messages', { currentGroupChannel: currentGroupChannel, userFilledMessageListQuery: userFilledMessageListQuery });\n        currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.getMessagesByTimestamp(latestMessageTimeStamp || new Date().getTime(), messageListParams).then(function (messages) {\n            messagesDispatcher({\n                type: FETCH_NEXT_MESSAGES_SUCCESS,\n                payload: { currentGroupChannel: currentGroupChannel, messages: messages },\n            });\n            setTimeout(function () { return cb([messages, null]); });\n        }).catch(function (error) {\n            logger.error('Channel: Fetching later messages failed', error);\n            messagesDispatcher({\n                type: FETCH_NEXT_MESSAGES_FAILURE,\n                payload: { currentGroupChannel: currentGroupChannel },\n            });\n            setTimeout(function () { return cb([null, error]); });\n        });\n    }, [currentGroupChannel, latestMessageTimeStamp, hasMoreNext, replyType]);\n}\n\nfunction useDeleteMessageCallback(_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, messagesDispatcher = _a.messagesDispatcher;\n    var logger = _b.logger;\n    return useCallback(function (message) {\n        logger.info('Channel | useDeleteMessageCallback: Deleting message', message);\n        var sendingStatus = isSendableMessage(message) ? message.sendingStatus : undefined;\n        return new Promise(function (resolve, reject) {\n            logger.info('Channel | useDeleteMessageCallback: Deleting message requestState:', sendingStatus);\n            // Message is only on local\n            if ((sendingStatus === SendingStatus.FAILED || sendingStatus === SendingStatus.PENDING) && 'reqId' in message) {\n                logger.info('Channel | useDeleteMessageCallback: Deleted message from local:', message);\n                messagesDispatcher({\n                    type: ON_MESSAGE_DELETED_BY_REQ_ID,\n                    payload: message.reqId,\n                });\n                resolve();\n            }\n            else {\n                logger.info('Channel | useDeleteMessageCallback: Deleting message from remote:', sendingStatus);\n                currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.deleteMessage(message).then(function () {\n                    logger.info('Channel | useDeleteMessageCallback: Deleting message success!', message);\n                    messagesDispatcher({\n                        type: ON_MESSAGE_DELETED,\n                        payload: message.messageId,\n                    });\n                    resolve();\n                }).catch(function (err) {\n                    logger.warning('Channel | useDeleteMessageCallback: Deleting message failed!', err);\n                    reject(err);\n                });\n            }\n        });\n    }, [currentGroupChannel, messagesDispatcher]);\n}\n\nfunction useUpdateMessageCallback(_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, messagesDispatcher = _a.messagesDispatcher, onBeforeUpdateUserMessage = _a.onBeforeUpdateUserMessage, isMentionEnabled = _a.isMentionEnabled;\n    var logger = _b.logger, pubSub = _b.pubSub;\n    return useCallback(function (props, callback) {\n        var messageId = props.messageId, message = props.message, mentionedUsers = props.mentionedUsers, mentionTemplate = props.mentionTemplate;\n        var createParamsDefault = function (message) {\n            var params = {\n                message: message,\n            };\n            if (isMentionEnabled && mentionedUsers && mentionedUsers.length > 0) {\n                params.mentionedUsers = mentionedUsers;\n            }\n            if (isMentionEnabled && mentionTemplate) {\n                params.mentionedMessageTemplate = mentionTemplate;\n            }\n            else {\n                params.mentionedMessageTemplate = message;\n            }\n            return params;\n        };\n        var shouldCreateCustomParams = onBeforeUpdateUserMessage && typeof onBeforeUpdateUserMessage === 'function';\n        if (shouldCreateCustomParams) {\n            logger.info('Channel: creating params using onBeforeUpdateUserMessage', onBeforeUpdateUserMessage);\n        }\n        var params = shouldCreateCustomParams ? onBeforeUpdateUserMessage(message) : createParamsDefault(message);\n        logger.info('Channel: Updating message!', params);\n        currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.updateUserMessage(messageId, params).then(function (msg) {\n            if (callback) {\n                callback(null, msg);\n            }\n            logger.info('Channel: Updating message success!', msg);\n            messagesDispatcher({\n                type: ON_MESSAGE_UPDATED,\n                payload: {\n                    channel: currentGroupChannel,\n                    message: msg,\n                },\n            });\n            pubSub.publish(pubSubTopics.UPDATE_USER_MESSAGE, {\n                message: msg,\n                channel: currentGroupChannel,\n                publishingModules: [PublishingModuleType.CHANNEL],\n            });\n        }).catch(function (err) {\n            if (callback) {\n                callback(err, null);\n            }\n        });\n    }, [currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url, messagesDispatcher, onBeforeUpdateUserMessage]);\n}\n\nfunction useResendMessageCallback(_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, messagesDispatcher = _a.messagesDispatcher;\n    var logger = _b.logger, pubSub = _b.pubSub;\n    return useCallback(function (failedMessage) {\n        logger.info('Channel: Resending message has started', failedMessage);\n        if (failedMessage === null || failedMessage === void 0 ? void 0 : failedMessage.isResendable) {\n            // userMessage\n            if (failedMessage.isUserMessage()) {\n                currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.resendMessage(failedMessage).onPending(function (message) {\n                    logger.info('Channel: Resending message start!', message);\n                    messagesDispatcher({\n                        type: RESEND_MESSAGE_START,\n                        payload: message,\n                    });\n                }).onSucceeded(function (message) {\n                    logger.info('Channel: Resending message success!', message);\n                    messagesDispatcher({\n                        type: SEND_MESSAGE_SUCCESS,\n                        payload: message,\n                    });\n                }).onFailed(function (e, message) {\n                    logger.warning('Channel: Resending message failed!', e);\n                    messagesDispatcher({\n                        type: SEND_MESSAGE_FAILURE,\n                        payload: message,\n                    });\n                });\n            }\n            else if (failedMessage.isFileMessage()) {\n                currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.resendMessage(failedMessage).onPending(function (message) {\n                    logger.info('Channel: Resending file message start!', message);\n                    messagesDispatcher({\n                        type: RESEND_MESSAGE_START,\n                        payload: message,\n                    });\n                }).onSucceeded(function (message) {\n                    logger.info('Channel: Resending file message success!', message);\n                    messagesDispatcher({\n                        type: SEND_MESSAGE_SUCCESS,\n                        payload: message,\n                    });\n                }).onFailed(function (e, message) {\n                    logger.warning('Channel: Resending file message failed!', e);\n                    messagesDispatcher({\n                        type: SEND_MESSAGE_FAILURE,\n                        payload: message,\n                    });\n                });\n            }\n            else if (failedMessage.isMultipleFilesMessage()) {\n                currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.resendMessage(failedMessage).onPending(function (message) {\n                    logger.info('Channel: Resending multiple files message start!', message);\n                    messagesDispatcher({\n                        type: RESEND_MESSAGE_START,\n                        payload: message,\n                    });\n                }).onFileUploaded(function (requestId, index, uploadableFileInfo, error) {\n                    var _a;\n                    logger.info('Channel: Resending multiple files message file uploaded!', {\n                        requestId: requestId,\n                        index: index,\n                        error: error,\n                        uploadableFileInfo: uploadableFileInfo,\n                    });\n                    pubSub.publish(pubSubTopics.ON_FILE_INFO_UPLOADED, {\n                        response: {\n                            channelUrl: (_a = currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url) !== null && _a !== void 0 ? _a : '',\n                            requestId: requestId,\n                            index: index,\n                            uploadableFileInfo: uploadableFileInfo,\n                            error: error,\n                        },\n                        publishingModules: [PublishingModuleType.CHANNEL],\n                    });\n                }).onSucceeded(function (message) {\n                    logger.info('Channel: Resending multiple files message success!', message);\n                    messagesDispatcher({\n                        type: SEND_MESSAGE_SUCCESS,\n                        payload: message,\n                    });\n                }).onFailed(function (e, message) {\n                    logger.warning('Channel: Resending multiple files message failed!', e);\n                    messagesDispatcher({\n                        type: SEND_MESSAGE_FAILURE,\n                        payload: message,\n                    });\n                });\n            }\n        }\n        else {\n            logger.error('Message is not resendable', failedMessage);\n        }\n    }, [currentGroupChannel, messagesDispatcher]);\n}\n\nfunction useSendMessageCallback(_a, _b) {\n    var isMentionEnabled = _a.isMentionEnabled, currentGroupChannel = _a.currentGroupChannel, onBeforeSendUserMessage = _a.onBeforeSendUserMessage;\n    var logger = _b.logger, pubSub = _b.pubSub, scrollRef = _b.scrollRef, messagesDispatcher = _b.messagesDispatcher;\n    var messageInputRef = useRef(null);\n    var sendMessage = useCallback(function (_a) {\n        var quoteMessage = _a.quoteMessage, message = _a.message, mentionTemplate = _a.mentionTemplate, \n        // mentionedUserIds,\n        mentionedUsers = _a.mentionedUsers;\n        var createParamsDefault = function () {\n            var params = {\n                message: message,\n            };\n            // if (isMentionEnabled && mentionedUserIds?.length > 0) {\n            if (isMentionEnabled && mentionedUsers && mentionedUsers.length > 0) {\n                // params.mentionedUserIds = mentionedUserIds;\n                params.mentionedUsers = mentionedUsers;\n            }\n            // if (isMentionEnabled && mentionTemplate && mentionedUserIds?.length > 0) {\n            if (isMentionEnabled && mentionTemplate && mentionedUsers && mentionedUsers.length > 0) {\n                params.mentionedMessageTemplate = mentionTemplate;\n            }\n            if (quoteMessage) {\n                params.isReplyToChannel = true;\n                params.parentMessageId = quoteMessage.messageId;\n            }\n            return params;\n        };\n        var shouldCreateCustomParams = onBeforeSendUserMessage && typeof onBeforeSendUserMessage === 'function';\n        if (shouldCreateCustomParams) {\n            logger.info('Channel: creating params using onBeforeSendUserMessage', onBeforeSendUserMessage);\n        }\n        var params = shouldCreateCustomParams ? onBeforeSendUserMessage(message, quoteMessage) : createParamsDefault();\n        logger.info('Channel: Sending message has started', params);\n        currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.sendUserMessage(params).onPending(function (pendingMsg) {\n            pubSub.publish(pubSubTopics.SEND_MESSAGE_START, {\n                /* pubSub is used instead of messagesDispatcher\n                  to avoid redundantly calling `messageActionTypes.SEND_MESSAGE_START` */\n                message: pendingMsg,\n                channel: currentGroupChannel,\n                publishingModules: [PublishingModuleType.CHANNEL],\n            });\n            setTimeout(function () { return scrollIntoLast(0, scrollRef); }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n        }).onFailed(function (err, msg) {\n            logger.warning('Channel: Sending message failed!', { message: msg, error: err });\n            messagesDispatcher({\n                type: SEND_MESSAGE_FAILURE,\n                payload: msg,\n            });\n        }).onSucceeded(function (msg) {\n            logger.info('Channel: Sending message success!', msg);\n            messagesDispatcher({\n                type: SEND_MESSAGE_SUCCESS,\n                payload: msg,\n            });\n        });\n    }, [currentGroupChannel, onBeforeSendUserMessage]);\n    return [messageInputRef, sendMessage];\n}\n\nfunction useSendFileMessageCallback(_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, onBeforeSendFileMessage = _a.onBeforeSendFileMessage, imageCompression = _a.imageCompression;\n    var logger = _b.logger, pubSub = _b.pubSub, scrollRef = _b.scrollRef, messagesDispatcher = _b.messagesDispatcher;\n    var sendMessage = useCallback(function (compressedFile, quoteMessage) { return new Promise(function (resolve, reject) {\n        // Create FileMessageParams\n        var params = onBeforeSendFileMessage === null || onBeforeSendFileMessage === void 0 ? void 0 : onBeforeSendFileMessage(compressedFile, quoteMessage);\n        if (!params) {\n            params = { file: compressedFile };\n            if (quoteMessage) {\n                params.isReplyToChannel = true;\n                params.parentMessageId = quoteMessage.messageId;\n            }\n        }\n        // Send FileMessage\n        logger.info('Channel: Uploading file message start!', params);\n        currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.sendFileMessage(params).onPending(function (pendingMessage) {\n            pubSub.publish(pubSubTopics.SEND_MESSAGE_START, {\n                /* pubSub is used instead of messagesDispatcher\n                  to avoid redundantly calling `messageActionTypes.SEND_MESSAGE_START` */\n                // TODO: remove data pollution\n                message: __assign(__assign({}, pendingMessage), { url: URL.createObjectURL(compressedFile), \n                    // pending thumbnail message seems to be failed\n                    requestState: 'pending', isUserMessage: pendingMessage.isUserMessage, isFileMessage: pendingMessage.isFileMessage, isAdminMessage: pendingMessage.isAdminMessage, isMultipleFilesMessage: pendingMessage.isMultipleFilesMessage }),\n                channel: currentGroupChannel,\n                publishingModules: [PublishingModuleType.CHANNEL],\n            });\n            setTimeout(function () { return scrollIntoLast(0, scrollRef); }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n        }).onFailed(function (err, failedMessage) {\n            logger.error('Channel: Sending file message failed!', { failedMessage: failedMessage, err: err });\n            // TODO: v4 - remove logic that modifies the original object.\n            //  It makes the code difficult to track, likely causing unpredictable side effects.\n            // @ts-ignore eslint-disable-next-line no-param-reassign\n            failedMessage.localUrl = URL.createObjectURL(compressedFile);\n            // @ts-ignore eslint-disable-next-line no-param-reassign\n            failedMessage.file = compressedFile;\n            messagesDispatcher({\n                type: SEND_MESSAGE_FAILURE,\n                payload: failedMessage,\n            });\n            reject(err);\n        }).onSucceeded(function (succeededMessage) {\n            logger.info('Channel: Sending file message success!', succeededMessage);\n            messagesDispatcher({\n                type: SEND_MESSAGE_SUCCESS,\n                payload: succeededMessage,\n            });\n            resolve(succeededMessage);\n        });\n    }); }, [currentGroupChannel, onBeforeSendFileMessage, imageCompression]);\n    return [sendMessage];\n}\n\nvar LOG_PRESET = 'useToggleReactionCallback:';\n/**\n * POTENTIAL IMPROVEMENT NEEDED:\n * Current implementation might have race condition issues when the hook is called multiple times in rapid succession:\n *\n * 1. Race Condition Risk:\n *    - Multiple rapid clicks on reaction buttons could trigger concurrent API calls\n *    - The server responses might arrive in different order than the requests were sent\n *    - This could lead to inconsistent UI states where the final reaction state doesn't match user's last action\n *\n * 2. Performance Impact:\n *    - Each click generates a separate API call without debouncing/throttling\n *    - Under high-frequency clicks, this could cause unnecessary server load\n *\n * But we won't address these issues for now since it's being used only in the legacy codebase.\n * */\nfunction useToggleReactionCallback(currentChannel, logger) {\n    return useCallback(function (message, key, isReacted) {\n        if (!currentChannel) {\n            logger === null || logger === void 0 ? void 0 : logger.warning(\"\".concat(LOG_PRESET, \" currentChannel doesn't exist\"), currentChannel);\n            return;\n        }\n        if (isReacted) {\n            currentChannel\n                .deleteReaction(message, key)\n                .then(function (res) {\n                logger === null || logger === void 0 ? void 0 : logger.info(\"\".concat(LOG_PRESET, \" Delete reaction success\"), res);\n            })\n                .catch(function (err) {\n                logger === null || logger === void 0 ? void 0 : logger.warning(\"\".concat(LOG_PRESET, \" Delete reaction failed\"), err);\n            });\n        }\n        else {\n            currentChannel\n                .addReaction(message, key)\n                .then(function (res) {\n                logger === null || logger === void 0 ? void 0 : logger.info(\"\".concat(LOG_PRESET, \" Add reaction success\"), res);\n            })\n                .catch(function (err) {\n                logger === null || logger === void 0 ? void 0 : logger.warning(\"\".concat(LOG_PRESET, \" Add reaction failed\"), err);\n            });\n        }\n    }, [currentChannel]);\n}\n\n// To prevent multiple clicks on the message in the channel while scrolling\nfunction deactivateClick(scrollRef) {\n    var element = scrollRef.current;\n    var parentNode = element === null || element === void 0 ? void 0 : element.parentNode;\n    if (element && parentNode) {\n        element.style.pointerEvents = 'none';\n        parentNode.style.cursor = 'wait';\n    }\n}\nfunction activateClick(scrollRef) {\n    var element = scrollRef.current;\n    var parentNode = element === null || element === void 0 ? void 0 : element.parentNode;\n    if (element && parentNode) {\n        element.style.pointerEvents = 'auto';\n        parentNode.style.cursor = 'auto';\n    }\n}\nfunction useScrollToMessage(_a, _b) {\n    var setInitialTimeStamp = _a.setInitialTimeStamp, setAnimatedMessageId = _a.setAnimatedMessageId, allMessages = _a.allMessages, scrollRef = _a.scrollRef;\n    var logger = _b.logger;\n    return useCallback(function (createdAt, messageId) {\n        var isPresent = allMessages.find(function (m) { return (m.messageId === messageId); });\n        setAnimatedMessageId(null);\n        setTimeout(function () {\n            try {\n                logger.info('Channel: scroll to message - disabling mouse events');\n                deactivateClick(scrollRef);\n                if (isPresent) {\n                    logger.info('Channel: scroll to message - message is present');\n                    setAnimatedMessageId(messageId);\n                    scrollToRenderedMessage(scrollRef, createdAt);\n                }\n                else {\n                    logger.info('Channel: scroll to message - fetching older messages');\n                    setInitialTimeStamp(null);\n                    setInitialTimeStamp(createdAt);\n                    setAnimatedMessageId(messageId);\n                }\n            }\n            finally {\n                logger.info('Channel: scroll to message - enabled mouse events');\n                activateClick(scrollRef);\n            }\n        });\n    }, [\n        setInitialTimeStamp,\n        setAnimatedMessageId,\n        allMessages,\n    ]);\n}\n\nvar useSendVoiceMessageCallback = function (_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, onBeforeSendVoiceMessage = _a.onBeforeSendVoiceMessage;\n    var logger = _b.logger, pubSub = _b.pubSub, scrollRef = _b.scrollRef, messagesDispatcher = _b.messagesDispatcher;\n    var sendMessage = useCallback(function (file, duration, quoteMessage) { return new Promise(function (resolve, reject) {\n        if (!currentGroupChannel) {\n            return;\n        }\n        var messageParams = (onBeforeSendVoiceMessage && typeof onBeforeSendVoiceMessage === 'function')\n            ? onBeforeSendVoiceMessage(file, quoteMessage)\n            : {\n                file: file,\n                fileName: VOICE_MESSAGE_FILE_NAME,\n                mimeType: VOICE_MESSAGE_MIME_TYPE,\n                metaArrays: [\n                    new MessageMetaArray({\n                        key: META_ARRAY_VOICE_DURATION_KEY,\n                        value: [\"\".concat(duration)],\n                    }),\n                    new MessageMetaArray({\n                        key: META_ARRAY_MESSAGE_TYPE_KEY,\n                        value: [META_ARRAY_MESSAGE_TYPE_VALUE__VOICE],\n                    }),\n                ],\n            };\n        if (quoteMessage) {\n            messageParams.isReplyToChannel = true;\n            messageParams.parentMessageId = quoteMessage.messageId;\n        }\n        logger.info('Channel: Start sending voice message', messageParams);\n        currentGroupChannel.sendFileMessage(messageParams)\n            .onPending(function (pendingMessage) {\n            pubSub.publish(pubSubTopics.SEND_MESSAGE_START, {\n                /* pubSub is used instead of messagesDispatcher\n                  to avoid redundantly calling `messageActionTypes.SEND_MESSAGE_START` */\n                message: pendingMessage,\n                channel: currentGroupChannel,\n                publishingModules: [PublishingModuleType.CHANNEL],\n            });\n            setTimeout(function () { return scrollIntoLast(0, scrollRef); }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n        })\n            .onFailed(function (err, failedMessage) {\n            logger.error('Channel: Sending voice message failed!', { failedMessage: failedMessage, err: err });\n            messagesDispatcher({\n                type: SEND_MESSAGE_FAILURE,\n                payload: failedMessage,\n            });\n            reject(err);\n        })\n            .onSucceeded(function (succeededMessage) {\n            logger.info('Channel: Sending voice message success!', succeededMessage);\n            messagesDispatcher({\n                type: SEND_MESSAGE_SUCCESS,\n                payload: succeededMessage,\n            });\n            resolve(succeededMessage);\n        });\n    }); }, [\n        currentGroupChannel,\n        onBeforeSendVoiceMessage,\n    ]);\n    return [sendMessage];\n};\n\nvar useHandleChannelPubsubEvents = function (_a) {\n    var channelUrl = _a.channelUrl, sdkInit = _a.sdkInit, pubSub = _a.pubSub, dispatcher = _a.dispatcher, scrollRef = _a.scrollRef;\n    useEffect(function () {\n        var subscriber = new Map();\n        if (pubSub === null || pubSub === void 0 ? void 0 : pubSub.subscribe) {\n            subscriber.set(PUBSUB_TOPICS.SEND_USER_MESSAGE, pubSub.subscribe(PUBSUB_TOPICS.SEND_USER_MESSAGE, function (props) {\n                var channel = props.channel, message = props.message;\n                if (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                    dispatcher({\n                        type: SEND_MESSAGE_SUCCESS,\n                        payload: message,\n                    });\n                    setTimeout(function () { return scrollIntoLast(0, scrollRef); }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n                }\n            }));\n            subscriber.set(PUBSUB_TOPICS.SEND_MESSAGE_START, pubSub.subscribe(PUBSUB_TOPICS.SEND_MESSAGE_START, function (props) {\n                var channel = props.channel, message = props.message, publishingModules = props.publishingModules;\n                if (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url) && shouldPubSubPublishToChannel(publishingModules)) {\n                    dispatcher({\n                        type: SEND_MESSAGE_START,\n                        payload: message,\n                    });\n                }\n            }));\n            subscriber.set(PUBSUB_TOPICS.ON_FILE_INFO_UPLOADED, pubSub.subscribe(PUBSUB_TOPICS.ON_FILE_INFO_UPLOADED, function (props) {\n                var response = props.response, publishingModules = props.publishingModules;\n                if (channelUrl === response.channelUrl && shouldPubSubPublishToChannel(publishingModules)) {\n                    dispatcher({\n                        type: ON_FILE_INFO_UPLOADED,\n                        payload: response,\n                    });\n                }\n            }));\n            subscriber.set(PUBSUB_TOPICS.SEND_MESSAGE_FAILED, pubSub.subscribe(PUBSUB_TOPICS.SEND_MESSAGE_FAILED, function (props) {\n                var channel = props.channel, message = props.message, publishingModules = props.publishingModules;\n                if (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url) && shouldPubSubPublishToChannel(publishingModules)) {\n                    dispatcher({\n                        type: SEND_MESSAGE_FAILURE,\n                        payload: message,\n                    });\n                }\n            }));\n            subscriber.set(PUBSUB_TOPICS.SEND_FILE_MESSAGE, pubSub.subscribe(PUBSUB_TOPICS.SEND_FILE_MESSAGE, function (props) {\n                var channel = props.channel, message = props.message;\n                if (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                    dispatcher({\n                        type: SEND_MESSAGE_SUCCESS,\n                        payload: message,\n                    });\n                    setTimeout(function () { return scrollIntoLast(0, scrollRef); }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n                }\n            }));\n            subscriber.set(PUBSUB_TOPICS.UPDATE_USER_MESSAGE, pubSub.subscribe(PUBSUB_TOPICS.UPDATE_USER_MESSAGE, function (props) {\n                var channel = props.channel, message = props.message, fromSelector = props.fromSelector;\n                if (fromSelector && (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url)) && channel.isGroupChannel()) {\n                    dispatcher({\n                        type: ON_MESSAGE_UPDATED,\n                        payload: { channel: channel, message: message },\n                    });\n                }\n            }));\n            subscriber.set(PUBSUB_TOPICS.DELETE_MESSAGE, pubSub.subscribe(PUBSUB_TOPICS.DELETE_MESSAGE, function (props) {\n                var channel = props.channel, messageId = props.messageId;\n                if (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                    dispatcher({\n                        type: ON_MESSAGE_DELETED,\n                        payload: messageId,\n                    });\n                }\n            }));\n        }\n        return function () {\n            subscriber.forEach(function (s) {\n                try {\n                    s.remove();\n                }\n                catch (_a) {\n                    //\n                }\n            });\n        };\n    }, [\n        channelUrl,\n        sdkInit,\n    ]);\n};\n\nvar ChannelContext = React__default.createContext(null);\n/**\n * @deprecated This provider is deprecated and will be removed in the next major update.\n * Please use the `GroupChannelProvider` from '@sendbird/uikit-react/GroupChannel' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar ChannelProvider = function (props) {\n    var _a, _b, _c, _d, _e, _f;\n    var channelUrl = props.channelUrl, children = props.children, isReactionEnabled = props.isReactionEnabled, _g = props.isMessageGroupingEnabled, isMessageGroupingEnabled = _g === void 0 ? true : _g, isMultipleFilesMessageEnabled = props.isMultipleFilesMessageEnabled, showSearchIcon = props.showSearchIcon, animatedMessage = props.animatedMessage, highlightedMessage = props.highlightedMessage, startingPoint = props.startingPoint, onBeforeSendUserMessage = props.onBeforeSendUserMessage, onBeforeSendFileMessage = props.onBeforeSendFileMessage, onBeforeUpdateUserMessage = props.onBeforeUpdateUserMessage, onBeforeSendVoiceMessage = props.onBeforeSendVoiceMessage, onBeforeSendMultipleFilesMessage = props.onBeforeSendMultipleFilesMessage, onChatHeaderActionClick = props.onChatHeaderActionClick, onSearchClick = props.onSearchClick, onBackClick = props.onBackClick, threadReplySelectType = props.threadReplySelectType, queries = props.queries, filterMessageList = props.filterMessageList, _h = props.disableMarkAsRead, disableMarkAsRead = _h === void 0 ? false : _h, onReplyInThread = props.onReplyInThread, onQuoteMessageClick = props.onQuoteMessageClick, onMessageAnimated = props.onMessageAnimated, onMessageHighlighted = props.onMessageHighlighted, _j = props.scrollBehavior, scrollBehavior = _j === void 0 ? 'auto' : _j, _k = props.reconnectOnIdle, reconnectOnIdle = _k === void 0 ? true : _k;\n    var globalStore = useSendbird().state;\n    var config = globalStore.config;\n    var replyType = (_a = props.replyType) !== null && _a !== void 0 ? _a : getCaseResolvedReplyType(config.groupChannel.replyType).upperCase;\n    var pubSub = config.pubSub, logger = config.logger, userId = config.userId, isOnline = config.isOnline, imageCompression = config.imageCompression, markAsReadScheduler = config.markAsReadScheduler, groupChannel = config.groupChannel;\n    var sdk = (_c = (_b = globalStore === null || globalStore === void 0 ? void 0 : globalStore.stores) === null || _b === void 0 ? void 0 : _b.sdkStore) === null || _c === void 0 ? void 0 : _c.sdk;\n    var sdkInit = (_e = (_d = globalStore === null || globalStore === void 0 ? void 0 : globalStore.stores) === null || _d === void 0 ? void 0 : _d.sdkStore) === null || _e === void 0 ? void 0 : _e.initialized;\n    var globalConfigs = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config;\n    var _l = useState(startingPoint), initialTimeStamp = _l[0], setInitialTimeStamp = _l[1];\n    useEffect(function () {\n        setInitialTimeStamp(startingPoint);\n    }, [startingPoint, channelUrl]);\n    var _m = useState(null), animatedMessageId = _m[0], setAnimatedMessageId = _m[1];\n    var _o = useState(highlightedMessage), highLightedMessageId = _o[0], setHighLightedMessageId = _o[1];\n    useEffect(function () {\n        setHighLightedMessageId(highlightedMessage);\n    }, [highlightedMessage]);\n    var userFilledMessageListQuery = queries === null || queries === void 0 ? void 0 : queries.messageListParams;\n    var _p = useState(null), quoteMessage = _p[0], setQuoteMessage = _p[1];\n    var _q = useState(false), isScrolled = _q[0], setIsScrolled = _q[1];\n    var _r = useReducer(channelReducer, initialState), messagesStore = _r[0], messagesDispatcher = _r[1];\n    var scrollRef = useRef(null);\n    var isMentionEnabled = groupChannel.enableMention;\n    var allMessages = messagesStore.allMessages, localMessages = messagesStore.localMessages, loading = messagesStore.loading, initialized = messagesStore.initialized, unreadSince = messagesStore.unreadSince, unreadSinceDate = messagesStore.unreadSinceDate, isInvalid = messagesStore.isInvalid, currentGroupChannel = messagesStore.currentGroupChannel, hasMorePrev = messagesStore.hasMorePrev, oldestMessageTimeStamp = messagesStore.oldestMessageTimeStamp, hasMoreNext = messagesStore.hasMoreNext, latestMessageTimeStamp = messagesStore.latestMessageTimeStamp, emojiContainer = messagesStore.emojiContainer, readStatus = messagesStore.readStatus, typingMembers = messagesStore.typingMembers;\n    var usingReaction = getIsReactionEnabled({\n        channel: currentGroupChannel,\n        config: config,\n        moduleLevel: isReactionEnabled,\n    });\n    var emojiAllMap = useMemo(function () { return (usingReaction\n        ? getAllEmojisMapFromEmojiContainer(emojiContainer)\n        : new Map()); }, [emojiContainer]);\n    var nicknamesMap = useMemo(function () { return ((usingReaction && currentGroupChannel)\n        ? getNicknamesMapFromMembers(currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.members)\n        : new Map()); }, [currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.members]);\n    // Animate message\n    useEffect(function () {\n        if (animatedMessage) {\n            setAnimatedMessageId(animatedMessage);\n        }\n    }, [animatedMessage]);\n    // Scrollup is default scroll for channel\n    var onScrollCallback = useScrollCallback({\n        currentGroupChannel: currentGroupChannel,\n        oldestMessageTimeStamp: oldestMessageTimeStamp,\n        userFilledMessageListQuery: userFilledMessageListQuery,\n        replyType: replyType,\n    }, {\n        hasMorePrev: hasMorePrev,\n        logger: logger,\n        messagesDispatcher: messagesDispatcher,\n        sdk: sdk,\n    });\n    var scrollToMessage = useScrollToMessage({\n        setInitialTimeStamp: setInitialTimeStamp,\n        setAnimatedMessageId: setAnimatedMessageId,\n        allMessages: allMessages,\n        scrollRef: scrollRef,\n    }, { logger: logger });\n    // onScrollDownCallback is added for navigation to different timestamps on messageSearch\n    // hasMorePrev, onScrollCallback -> scroll up(default behavior)\n    // hasMoreNext, onScrollDownCallback -> scroll down\n    var onScrollDownCallback = useScrollDownCallback({\n        currentGroupChannel: currentGroupChannel,\n        latestMessageTimeStamp: latestMessageTimeStamp,\n        userFilledMessageListQuery: userFilledMessageListQuery,\n        hasMoreNext: hasMoreNext,\n        replyType: replyType,\n    }, {\n        logger: logger,\n        messagesDispatcher: messagesDispatcher,\n        sdk: sdk,\n    });\n    var toggleReaction = useToggleReactionCallback(currentGroupChannel, logger);\n    // to create message-datasource\n    // this hook sets currentGroupChannel asynchronously\n    useGetChannel({ channelUrl: channelUrl, sdkInit: sdkInit, disableMarkAsRead: disableMarkAsRead }, { messagesDispatcher: messagesDispatcher, sdk: sdk, logger: logger, markAsReadScheduler: markAsReadScheduler });\n    // to set quote message as null\n    useEffect(function () {\n        setQuoteMessage(null);\n    }, [channelUrl]);\n    // Hook to handle ChannelEvents and send values to useReducer using messagesDispatcher\n    useHandleChannelEvents({\n        currentGroupChannel: currentGroupChannel,\n        sdkInit: sdkInit,\n        currentUserId: userId,\n        disableMarkAsRead: disableMarkAsRead,\n    }, {\n        messagesDispatcher: messagesDispatcher,\n        sdk: sdk,\n        logger: logger,\n        scrollRef: scrollRef,\n        setQuoteMessage: setQuoteMessage,\n    });\n    // hook that fetches messages when channel changes\n    // to be clear here useGetChannel sets currentGroupChannel\n    // and useInitialMessagesFetch executes when currentGroupChannel changes\n    // p.s This one executes on initialTimeStamp change too\n    useInitialMessagesFetch({\n        currentGroupChannel: currentGroupChannel,\n        userFilledMessageListQuery: userFilledMessageListQuery,\n        initialTimeStamp: initialTimeStamp,\n        replyType: replyType,\n        setIsScrolled: setIsScrolled,\n    }, {\n        logger: logger,\n        scrollRef: scrollRef,\n        messagesDispatcher: messagesDispatcher,\n    });\n    // handles API calls from withSendbird\n    useHandleChannelPubsubEvents({\n        channelUrl: channelUrl,\n        sdkInit: sdkInit,\n        pubSub: pubSub,\n        dispatcher: messagesDispatcher,\n        scrollRef: scrollRef,\n    });\n    // handling connection breaks\n    useHandleReconnect({ isOnline: isOnline, replyType: replyType, disableMarkAsRead: disableMarkAsRead, reconnectOnIdle: reconnectOnIdle }, {\n        logger: logger,\n        sdk: sdk,\n        scrollRef: scrollRef,\n        currentGroupChannel: currentGroupChannel,\n        messagesDispatcher: messagesDispatcher,\n        userFilledMessageListQuery: userFilledMessageListQuery,\n        markAsReadScheduler: markAsReadScheduler,\n    });\n    // callbacks for Message CURD actions\n    var deleteMessage = useDeleteMessageCallback({ currentGroupChannel: currentGroupChannel, messagesDispatcher: messagesDispatcher }, { logger: logger });\n    var updateMessage = useUpdateMessageCallback({ currentGroupChannel: currentGroupChannel, messagesDispatcher: messagesDispatcher, onBeforeUpdateUserMessage: onBeforeUpdateUserMessage, isMentionEnabled: isMentionEnabled }, { logger: logger, pubSub: pubSub });\n    var resendMessage = useResendMessageCallback({ currentGroupChannel: currentGroupChannel, messagesDispatcher: messagesDispatcher }, { logger: logger, pubSub: pubSub });\n    var _s = useSendMessageCallback({\n        currentGroupChannel: currentGroupChannel,\n        isMentionEnabled: isMentionEnabled,\n        onBeforeSendUserMessage: onBeforeSendUserMessage,\n    }, {\n        logger: logger,\n        pubSub: pubSub,\n        scrollRef: scrollRef,\n        messagesDispatcher: messagesDispatcher,\n    }), messageInputRef = _s[0], sendMessage = _s[1];\n    var sendFileMessage = useSendFileMessageCallback({\n        currentGroupChannel: currentGroupChannel,\n        imageCompression: imageCompression,\n        onBeforeSendFileMessage: onBeforeSendFileMessage,\n    }, {\n        logger: logger,\n        pubSub: pubSub,\n        scrollRef: scrollRef,\n        messagesDispatcher: messagesDispatcher,\n    })[0];\n    var sendVoiceMessage = useSendVoiceMessageCallback({\n        currentGroupChannel: currentGroupChannel,\n        onBeforeSendVoiceMessage: onBeforeSendVoiceMessage,\n    }, {\n        logger: logger,\n        pubSub: pubSub,\n        scrollRef: scrollRef,\n        messagesDispatcher: messagesDispatcher,\n    })[0];\n    var sendMultipleFilesMessage = useSendMultipleFilesMessage({\n        currentChannel: currentGroupChannel,\n        onBeforeSendMultipleFilesMessage: onBeforeSendMultipleFilesMessage,\n        publishingModules: [PublishingModuleType.CHANNEL],\n    }, {\n        logger: logger,\n        pubSub: pubSub,\n        scrollRef: scrollRef,\n    })[0];\n    return (React__default.createElement(ChannelContext.Provider, { value: {\n            // props\n            channelUrl: channelUrl,\n            isReactionEnabled: usingReaction,\n            isMessageGroupingEnabled: isMessageGroupingEnabled,\n            isMultipleFilesMessageEnabled: isMultipleFilesMessageEnabled,\n            showSearchIcon: showSearchIcon !== null && showSearchIcon !== void 0 ? showSearchIcon : globalConfigs.groupChannelSettings.enableMessageSearch,\n            highlightedMessage: highlightedMessage,\n            startingPoint: startingPoint,\n            onBeforeSendUserMessage: onBeforeSendUserMessage,\n            onBeforeSendFileMessage: onBeforeSendFileMessage,\n            onBeforeUpdateUserMessage: onBeforeUpdateUserMessage,\n            onChatHeaderActionClick: onChatHeaderActionClick,\n            onSearchClick: onSearchClick,\n            onBackClick: onBackClick,\n            replyType: replyType,\n            threadReplySelectType: (_f = threadReplySelectType !== null && threadReplySelectType !== void 0 ? threadReplySelectType : getCaseResolvedThreadReplySelectType(groupChannel.threadReplySelectType).upperCase) !== null && _f !== void 0 ? _f : ThreadReplySelectType.THREAD,\n            queries: queries,\n            filterMessageList: filterMessageList,\n            disableMarkAsRead: disableMarkAsRead,\n            onReplyInThread: onReplyInThread,\n            onQuoteMessageClick: onQuoteMessageClick,\n            onMessageAnimated: onMessageAnimated,\n            onMessageHighlighted: onMessageHighlighted,\n            // messagesStore\n            allMessages: allMessages,\n            localMessages: localMessages,\n            loading: loading,\n            initialized: initialized,\n            unreadSince: unreadSince,\n            unreadSinceDate: unreadSinceDate,\n            isInvalid: isInvalid,\n            currentGroupChannel: currentGroupChannel,\n            hasMorePrev: hasMorePrev,\n            hasMoreNext: hasMoreNext,\n            oldestMessageTimeStamp: oldestMessageTimeStamp,\n            latestMessageTimeStamp: latestMessageTimeStamp,\n            emojiContainer: emojiContainer,\n            readStatus: readStatus,\n            typingMembers: typingMembers,\n            // utils\n            scrollToMessage: scrollToMessage,\n            quoteMessage: quoteMessage,\n            setQuoteMessage: setQuoteMessage,\n            deleteMessage: deleteMessage,\n            updateMessage: updateMessage,\n            resendMessage: resendMessage,\n            messageInputRef: messageInputRef,\n            sendMessage: sendMessage,\n            sendFileMessage: sendFileMessage,\n            sendVoiceMessage: sendVoiceMessage,\n            sendMultipleFilesMessage: sendMultipleFilesMessage,\n            initialTimeStamp: initialTimeStamp,\n            messageActionTypes: channelActions,\n            messagesDispatcher: messagesDispatcher,\n            setInitialTimeStamp: setInitialTimeStamp,\n            setAnimatedMessageId: setAnimatedMessageId,\n            setHighLightedMessageId: setHighLightedMessageId,\n            animatedMessageId: animatedMessageId,\n            highLightedMessageId: highLightedMessageId,\n            nicknamesMap: nicknamesMap,\n            emojiAllMap: emojiAllMap,\n            onScrollCallback: onScrollCallback,\n            onScrollDownCallback: onScrollDownCallback,\n            scrollRef: scrollRef,\n            scrollBehavior: scrollBehavior,\n            toggleReaction: toggleReaction,\n            isScrolled: isScrolled,\n            setIsScrolled: setIsScrolled,\n        } },\n        React__default.createElement(UserProfileProvider, __assign({}, props), children)));\n};\nvar useChannelContext = function () {\n    var context = React__default.useContext(ChannelContext);\n    if (!context)\n        throw new Error('ChannelContext not found. Use within the Channel module.');\n    return context;\n};\n\nexport { ChannelProvider, ThreadReplySelectType, useChannelContext };\n//# sourceMappingURL=context.js.map\n", "var MAX_USER_MENTION_COUNT = 10;\nvar MAX_USER_SUGGESTION_COUNT = 15;\nvar USER_MENTION_TEMP_CHAR = '@';\nvar UIKIT_COMPATIBLE_FORM_VERSION = 1;\nvar ThreadReplySelectType;\n(function (ThreadReplySelectType) {\n    ThreadReplySelectType[\"PARENT\"] = \"PARENT\";\n    ThreadReplySelectType[\"THREAD\"] = \"THREAD\";\n})(ThreadReplySelectType || (ThreadReplySelectType = {}));\n\nexport { MAX_USER_MENTION_COUNT as M, ThreadReplySelectType as T, UIKIT_COMPATIBLE_FORM_VERSION as U, USER_MENTION_TEMP_CHAR as a, MAX_USER_SUGGESTION_COUNT as b };\n//# sourceMappingURL=bundle-mxwNwHvq.js.map\n", "/**\n * This function helps consider the every condition\n * related to enabling emoji reaction feature.\n */\nfunction getIsReactionEnabled(_a) {\n    var channel = _a.channel, config = _a.config, moduleLevel = _a.moduleLevel;\n    if (!channel || channel.isBroadcast || channel.isEphemeral) {\n        return false;\n    }\n    if (channel.isSuper)\n        return moduleLevel !== null && moduleLevel !== void 0 ? moduleLevel : config.groupChannel.enableReactionsSupergroup;\n    return moduleLevel !== null && moduleLevel !== void 0 ? moduleLevel : config.groupChannel.enableReactions;\n}\n\nexport { getIsReactionEnabled as g };\n//# sourceMappingURL=bundle-B61f7NvF.js.map\n", "import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param {*} value - the value to check\n * @returns {boolean} true if the given value is a date\n * @throws {TypeError} 1 arguments required\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport default function isDate(value) {\n  requiredArgs(1, arguments);\n  return value instanceof Date || _typeof(value) === 'object' && Object.prototype.toString.call(value) === '[object Date]';\n}", "import isDate from \"../isDate/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate]{@link https://date-fns.org/docs/toDate}\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param {*} date - the date to check\n * @returns {Boolean} the date is valid\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertable into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport default function isValid(dirtyDate) {\n  requiredArgs(1, arguments);\n  if (!isDate(dirtyDate) && typeof dirtyDate !== 'number') {\n    return false;\n  }\n  var date = toDate(dirtyDate);\n  return !isNaN(Number(date));\n}", "export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n  var number = Number(dirtyNumber);\n  if (isNaN(number)) {\n    return number;\n  }\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addMilliseconds\n * @category Millisecond Helpers\n * @summary Add the specified number of milliseconds to the given date.\n *\n * @description\n * Add the specified number of milliseconds to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 750 milliseconds to 10 July 2014 12:45:30.000:\n * const result = addMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:30.750\n */\nexport default function addMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var timestamp = toDate(dirtyDate).getTime();\n  var amount = toInteger(dirtyAmount);\n  return new Date(timestamp + amount);\n}", "import addMilliseconds from \"../addMilliseconds/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name subMilliseconds\n * @category Millisecond Helpers\n * @summary Subtract the specified number of milliseconds from the given date.\n *\n * @description\n * Subtract the specified number of milliseconds from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of milliseconds to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the milliseconds subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 750 milliseconds from 10 July 2014 12:45:30.000:\n * const result = subMilliseconds(new Date(2014, 6, 10, 12, 45, 30, 0), 750)\n * //=> Thu Jul 10 2014 12:45:29.250\n */\nexport default function subMilliseconds(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMilliseconds(dirtyDate, -amount);\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 86400000;\nexport default function getUTCDayOfYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var timestamp = date.getTime();\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n  var startOfYearTimestamp = date.getTime();\n  var difference = timestamp - startOfYearTimestamp;\n  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nexport default function getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}", "import getUTCISOWeekYear from \"../getUTCISOWeekYear/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport startOfUTCISOWeekYear from \"../startOfUTCISOWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}", "var defaultOptions = {};\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function getUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, options);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, options);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}", "import getUTCWeekYear from \"../getUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n  var year = getUTCWeekYear(dirtyDate, options);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, options);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport startOfUTCWeekYear from \"../startOfUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}", "export default function addLeadingZeros(number, targetLength) {\n  var sign = number < 0 ? '-' : '';\n  var output = Math.abs(number).toString();\n  while (output.length < targetLength) {\n    output = '0' + output;\n  }\n  return sign + output;\n}", "import addLeadingZeros from \"../../addLeadingZeros/index.js\";\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\nvar formatters = {\n  // Year\n  y: function y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    var signedYear = date.getUTCFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    var year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === 'yy' ? year % 100 : year, token.length);\n  },\n  // Month\n  M: function M(date, token) {\n    var month = date.getUTCMonth();\n    return token === 'M' ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n  // Day of the month\n  d: function d(date, token) {\n    return addLeadingZeros(date.getUTCDate(), token.length);\n  },\n  // AM or PM\n  a: function a(date, token) {\n    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? 'pm' : 'am';\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return dayPeriodEnumValue.toUpperCase();\n      case 'aaa':\n        return dayPeriodEnumValue;\n      case 'aaaaa':\n        return dayPeriodEnumValue[0];\n      case 'aaaa':\n      default:\n        return dayPeriodEnumValue === 'am' ? 'a.m.' : 'p.m.';\n    }\n  },\n  // Hour [1-12]\n  h: function h(date, token) {\n    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);\n  },\n  // Hour [0-23]\n  H: function H(date, token) {\n    return addLeadingZeros(date.getUTCHours(), token.length);\n  },\n  // Minute\n  m: function m(date, token) {\n    return addLeadingZeros(date.getUTCMinutes(), token.length);\n  },\n  // Second\n  s: function s(date, token) {\n    return addLeadingZeros(date.getUTCSeconds(), token.length);\n  },\n  // Fraction of second\n  S: function S(date, token) {\n    var numberOfDigits = token.length;\n    var milliseconds = date.getUTCMilliseconds();\n    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n    return addLeadingZeros(fractionalSeconds, token.length);\n  }\n};\nexport default formatters;", "import getUTCDayOfYear from \"../../../_lib/getUTCDayOfYear/index.js\";\nimport getUTCISOWeek from \"../../../_lib/getUTCISOWeek/index.js\";\nimport getUTCISOWeekYear from \"../../../_lib/getUTCISOWeekYear/index.js\";\nimport getUTCWeek from \"../../../_lib/getUTCWeek/index.js\";\nimport getUTCWeekYear from \"../../../_lib/getUTCWeekYear/index.js\";\nimport addLeadingZeros from \"../../addLeadingZeros/index.js\";\nimport lightFormatters from \"../lightFormatters/index.js\";\nvar dayPeriodEnum = {\n  am: 'am',\n  pm: 'pm',\n  midnight: 'midnight',\n  noon: 'noon',\n  morning: 'morning',\n  afternoon: 'afternoon',\n  evening: 'evening',\n  night: 'night'\n};\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nvar formatters = {\n  // Era\n  G: function G(date, token, localize) {\n    var era = date.getUTCFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case 'G':\n      case 'GG':\n      case 'GGG':\n        return localize.era(era, {\n          width: 'abbreviated'\n        });\n      // A, B\n      case 'GGGGG':\n        return localize.era(era, {\n          width: 'narrow'\n        });\n      // Anno Domini, Before Christ\n      case 'GGGG':\n      default:\n        return localize.era(era, {\n          width: 'wide'\n        });\n    }\n  },\n  // Year\n  y: function y(date, token, localize) {\n    // Ordinal number\n    if (token === 'yo') {\n      var signedYear = date.getUTCFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      var year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, {\n        unit: 'year'\n      });\n    }\n    return lightFormatters.y(date, token);\n  },\n  // Local week-numbering year\n  Y: function Y(date, token, localize, options) {\n    var signedWeekYear = getUTCWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === 'YY') {\n      var twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === 'Yo') {\n      return localize.ordinalNumber(weekYear, {\n        unit: 'year'\n      });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n  // ISO week-numbering year\n  R: function R(date, token) {\n    var isoWeekYear = getUTCISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function u(date, token) {\n    var year = date.getUTCFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n  // Quarter\n  Q: function Q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'Q':\n        return String(quarter);\n      // 01, 02, 03, 04\n      case 'QQ':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case 'Qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n      case 'QQQ':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case 'QQQQQ':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // 1st quarter, 2nd quarter, ...\n      case 'QQQQ':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone quarter\n  q: function q(date, token, localize) {\n    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case 'q':\n        return String(quarter);\n      // 01, 02, 03, 04\n      case 'qq':\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case 'qo':\n        return localize.ordinalNumber(quarter, {\n          unit: 'quarter'\n        });\n      // Q1, Q2, Q3, Q4\n      case 'qqq':\n        return localize.quarter(quarter, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case 'qqqqq':\n        return localize.quarter(quarter, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // 1st quarter, 2nd quarter, ...\n      case 'qqqq':\n      default:\n        return localize.quarter(quarter, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Month\n  M: function M(date, token, localize) {\n    var month = date.getUTCMonth();\n    switch (token) {\n      case 'M':\n      case 'MM':\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case 'Mo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n      case 'MMM':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // J, F, ..., D\n      case 'MMMMM':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // January, February, ..., December\n      case 'MMMM':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone month\n  L: function L(date, token, localize) {\n    var month = date.getUTCMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case 'L':\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case 'LL':\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case 'Lo':\n        return localize.ordinalNumber(month + 1, {\n          unit: 'month'\n        });\n      // Jan, Feb, ..., Dec\n      case 'LLL':\n        return localize.month(month, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // J, F, ..., D\n      case 'LLLLL':\n        return localize.month(month, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // January, February, ..., December\n      case 'LLLL':\n      default:\n        return localize.month(month, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // Local week of year\n  w: function w(date, token, localize, options) {\n    var week = getUTCWeek(date, options);\n    if (token === 'wo') {\n      return localize.ordinalNumber(week, {\n        unit: 'week'\n      });\n    }\n    return addLeadingZeros(week, token.length);\n  },\n  // ISO week of year\n  I: function I(date, token, localize) {\n    var isoWeek = getUTCISOWeek(date);\n    if (token === 'Io') {\n      return localize.ordinalNumber(isoWeek, {\n        unit: 'week'\n      });\n    }\n    return addLeadingZeros(isoWeek, token.length);\n  },\n  // Day of the month\n  d: function d(date, token, localize) {\n    if (token === 'do') {\n      return localize.ordinalNumber(date.getUTCDate(), {\n        unit: 'date'\n      });\n    }\n    return lightFormatters.d(date, token);\n  },\n  // Day of year\n  D: function D(date, token, localize) {\n    var dayOfYear = getUTCDayOfYear(date);\n    if (token === 'Do') {\n      return localize.ordinalNumber(dayOfYear, {\n        unit: 'dayOfYear'\n      });\n    }\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n  // Day of week\n  E: function E(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    switch (token) {\n      // Tue\n      case 'E':\n      case 'EE':\n      case 'EEE':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'EEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'EEEEEE':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'EEEE':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Local day of week\n  e: function e(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case 'e':\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case 'ee':\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case 'eo':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n      case 'eee':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'eeeee':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'eeeeee':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'eeee':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Stand-alone local day of week\n  c: function c(date, token, localize, options) {\n    var dayOfWeek = date.getUTCDay();\n    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case 'c':\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case 'cc':\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case 'co':\n        return localize.ordinalNumber(localDayOfWeek, {\n          unit: 'day'\n        });\n      case 'ccc':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'standalone'\n        });\n      // T\n      case 'ccccc':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'standalone'\n        });\n      // Tu\n      case 'cccccc':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'standalone'\n        });\n      // Tuesday\n      case 'cccc':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'standalone'\n        });\n    }\n  },\n  // ISO day of week\n  i: function i(date, token, localize) {\n    var dayOfWeek = date.getUTCDay();\n    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case 'i':\n        return String(isoDayOfWeek);\n      // 02\n      case 'ii':\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case 'io':\n        return localize.ordinalNumber(isoDayOfWeek, {\n          unit: 'day'\n        });\n      // Tue\n      case 'iii':\n        return localize.day(dayOfWeek, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      // T\n      case 'iiiii':\n        return localize.day(dayOfWeek, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      // Tu\n      case 'iiiiii':\n        return localize.day(dayOfWeek, {\n          width: 'short',\n          context: 'formatting'\n        });\n      // Tuesday\n      case 'iiii':\n      default:\n        return localize.day(dayOfWeek, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM or PM\n  a: function a(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    switch (token) {\n      case 'a':\n      case 'aa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'aaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n      case 'aaaaa':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'aaaa':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // AM, PM, midnight, noon\n  b: function b(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? 'pm' : 'am';\n    }\n    switch (token) {\n      case 'b':\n      case 'bb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'bbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        }).toLowerCase();\n      case 'bbbbb':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'bbbb':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // in the morning, in the afternoon, in the evening, at night\n  B: function B(date, token, localize) {\n    var hours = date.getUTCHours();\n    var dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n    switch (token) {\n      case 'B':\n      case 'BB':\n      case 'BBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'abbreviated',\n          context: 'formatting'\n        });\n      case 'BBBBB':\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'narrow',\n          context: 'formatting'\n        });\n      case 'BBBB':\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: 'wide',\n          context: 'formatting'\n        });\n    }\n  },\n  // Hour [1-12]\n  h: function h(date, token, localize) {\n    if (token === 'ho') {\n      var hours = date.getUTCHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return lightFormatters.h(date, token);\n  },\n  // Hour [0-23]\n  H: function H(date, token, localize) {\n    if (token === 'Ho') {\n      return localize.ordinalNumber(date.getUTCHours(), {\n        unit: 'hour'\n      });\n    }\n    return lightFormatters.H(date, token);\n  },\n  // Hour [0-11]\n  K: function K(date, token, localize) {\n    var hours = date.getUTCHours() % 12;\n    if (token === 'Ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return addLeadingZeros(hours, token.length);\n  },\n  // Hour [1-24]\n  k: function k(date, token, localize) {\n    var hours = date.getUTCHours();\n    if (hours === 0) hours = 24;\n    if (token === 'ko') {\n      return localize.ordinalNumber(hours, {\n        unit: 'hour'\n      });\n    }\n    return addLeadingZeros(hours, token.length);\n  },\n  // Minute\n  m: function m(date, token, localize) {\n    if (token === 'mo') {\n      return localize.ordinalNumber(date.getUTCMinutes(), {\n        unit: 'minute'\n      });\n    }\n    return lightFormatters.m(date, token);\n  },\n  // Second\n  s: function s(date, token, localize) {\n    if (token === 'so') {\n      return localize.ordinalNumber(date.getUTCSeconds(), {\n        unit: 'second'\n      });\n    }\n    return lightFormatters.s(date, token);\n  },\n  // Fraction of second\n  S: function S(date, token) {\n    return lightFormatters.S(date, token);\n  },\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function X(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    if (timezoneOffset === 0) {\n      return 'Z';\n    }\n    switch (token) {\n      // Hours and optional minutes\n      case 'X':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case 'XXXX':\n      case 'XX':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case 'XXXXX':\n      case 'XXX': // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function x(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Hours and optional minutes\n      case 'x':\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case 'xxxx':\n      case 'xx':\n        // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case 'xxxxx':\n      case 'xxx': // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (GMT)\n  O: function O(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Short\n      case 'O':\n      case 'OO':\n      case 'OOO':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n      case 'OOOO':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Timezone (specific non-location)\n  z: function z(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timezoneOffset = originalDate.getTimezoneOffset();\n    switch (token) {\n      // Short\n      case 'z':\n      case 'zz':\n      case 'zzz':\n        return 'GMT' + formatTimezoneShort(timezoneOffset, ':');\n      // Long\n      case 'zzzz':\n      default:\n        return 'GMT' + formatTimezone(timezoneOffset, ':');\n    }\n  },\n  // Seconds timestamp\n  t: function t(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = Math.floor(originalDate.getTime() / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n  // Milliseconds timestamp\n  T: function T(date, token, _localize, options) {\n    var originalDate = options._originalDate || date;\n    var timestamp = originalDate.getTime();\n    return addLeadingZeros(timestamp, token.length);\n  }\n};\nfunction formatTimezoneShort(offset, dirtyDelimiter) {\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = Math.floor(absOffset / 60);\n  var minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  var delimiter = dirtyDelimiter || '';\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\nfunction formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n  if (offset % 60 === 0) {\n    var sign = offset > 0 ? '-' : '+';\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, dirtyDelimiter);\n}\nfunction formatTimezone(offset, dirtyDelimiter) {\n  var delimiter = dirtyDelimiter || '';\n  var sign = offset > 0 ? '-' : '+';\n  var absOffset = Math.abs(offset);\n  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);\n  var minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\nexport default formatters;", "var dateLongFormatter = function dateLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'P':\n      return formatLong.date({\n        width: 'short'\n      });\n    case 'PP':\n      return formatLong.date({\n        width: 'medium'\n      });\n    case 'PPP':\n      return formatLong.date({\n        width: 'long'\n      });\n    case 'PPPP':\n    default:\n      return formatLong.date({\n        width: 'full'\n      });\n  }\n};\nvar timeLongFormatter = function timeLongFormatter(pattern, formatLong) {\n  switch (pattern) {\n    case 'p':\n      return formatLong.time({\n        width: 'short'\n      });\n    case 'pp':\n      return formatLong.time({\n        width: 'medium'\n      });\n    case 'ppp':\n      return formatLong.time({\n        width: 'long'\n      });\n    case 'pppp':\n    default:\n      return formatLong.time({\n        width: 'full'\n      });\n  }\n};\nvar dateTimeLongFormatter = function dateTimeLongFormatter(pattern, formatLong) {\n  var matchResult = pattern.match(/(P+)(p+)?/) || [];\n  var datePattern = matchResult[1];\n  var timePattern = matchResult[2];\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n  var dateTimeFormat;\n  switch (datePattern) {\n    case 'P':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'short'\n      });\n      break;\n    case 'PP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'medium'\n      });\n      break;\n    case 'PPP':\n      dateTimeFormat = formatLong.dateTime({\n        width: 'long'\n      });\n      break;\n    case 'PPPP':\n    default:\n      dateTimeFormat = formatLong.dateTime({\n        width: 'full'\n      });\n      break;\n  }\n  return dateTimeFormat.replace('{{date}}', dateLongFormatter(datePattern, formatLong)).replace('{{time}}', timeLongFormatter(timePattern, formatLong));\n};\nvar longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter\n};\nexport default longFormatters;", "/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport default function getTimezoneOffsetInMilliseconds(date) {\n  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n  utcDate.setUTCFullYear(date.getFullYear());\n  return date.getTime() - utcDate.getTime();\n}", "var protectedDayOfYearTokens = ['D', 'DD'];\nvar protectedWeekYearTokens = ['YY', 'YYYY'];\nexport function isProtectedDayOfYearToken(token) {\n  return protectedDayOfYearTokens.indexOf(token) !== -1;\n}\nexport function isProtectedWeekYearToken(token) {\n  return protectedWeekYearTokens.indexOf(token) !== -1;\n}\nexport function throwProtectedError(token, format, input) {\n  if (token === 'YYYY') {\n    throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'YY') {\n    throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format, \"`) for formatting years to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'D') {\n    throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  } else if (token === 'DD') {\n    throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\"));\n  }\n}", "import isValid from \"../isValid/index.js\";\nimport subMilliseconds from \"../subMilliseconds/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport formatters from \"../_lib/format/formatters/index.js\";\nimport longFormatters from \"../_lib/format/longFormatters/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport { isProtectedDayOfYearToken, isProtectedWeekYearToken, throwProtectedError } from \"../_lib/protectedTokens/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\nimport defaultLocale from \"../_lib/defaultLocale/index.js\"; // This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nvar formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nvar longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\nvar escapedStringRegExp = /^'([^]*?)'?$/;\nvar doubleQuoteRegExp = /''/g;\nvar unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\n/**\n * @name format\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * >  Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear]{@link https://date-fns.org/docs/getISOWeekYear}\n *    and [getWeekYear]{@link https://date-fns.org/docs/getWeekYear}).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @param {Date|Number} date - the original date\n * @param {String} format - the string of tokens\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {Number} [options.firstWeekContainsDate=1] - the day of January, which is\n * @param {Boolean} [options.useAdditionalWeekYearTokens=false] - if true, allows usage of the week-numbering year tokens `YY` and `YYYY`;\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @param {Boolean} [options.useAdditionalDayOfYearTokens=false] - if true, allows usage of the day of year tokens `D` and `DD`;\n *   see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @returns {String} the formatted date string\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `options.locale` must contain `localize` property\n * @throws {RangeError} `options.locale` must contain `formatLong` property\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n * @throws {RangeError} use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws {RangeError} format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\n\nexport default function format(dirtyDate, dirtyFormatStr, options) {\n  var _ref, _options$locale, _ref2, _ref3, _ref4, _options$firstWeekCon, _options$locale2, _options$locale2$opti, _defaultOptions$local, _defaultOptions$local2, _ref5, _ref6, _ref7, _options$weekStartsOn, _options$locale3, _options$locale3$opti, _defaultOptions$local3, _defaultOptions$local4;\n  requiredArgs(2, arguments);\n  var formatStr = String(dirtyFormatStr);\n  var defaultOptions = getDefaultOptions();\n  var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : defaultLocale;\n  var firstWeekContainsDate = toInteger((_ref2 = (_ref3 = (_ref4 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale2 = options.locale) === null || _options$locale2 === void 0 ? void 0 : (_options$locale2$opti = _options$locale2.options) === null || _options$locale2$opti === void 0 ? void 0 : _options$locale2$opti.firstWeekContainsDate) !== null && _ref4 !== void 0 ? _ref4 : defaultOptions.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : 1);\n\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var weekStartsOn = toInteger((_ref5 = (_ref6 = (_ref7 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale3 = options.locale) === null || _options$locale3 === void 0 ? void 0 : (_options$locale3$opti = _options$locale3.options) === null || _options$locale3$opti === void 0 ? void 0 : _options$locale3$opti.weekStartsOn) !== null && _ref7 !== void 0 ? _ref7 : defaultOptions.weekStartsOn) !== null && _ref6 !== void 0 ? _ref6 : (_defaultOptions$local3 = defaultOptions.locale) === null || _defaultOptions$local3 === void 0 ? void 0 : (_defaultOptions$local4 = _defaultOptions$local3.options) === null || _defaultOptions$local4 === void 0 ? void 0 : _defaultOptions$local4.weekStartsOn) !== null && _ref5 !== void 0 ? _ref5 : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  if (!locale.localize) {\n    throw new RangeError('locale must contain localize property');\n  }\n  if (!locale.formatLong) {\n    throw new RangeError('locale must contain formatLong property');\n  }\n  var originalDate = toDate(dirtyDate);\n  if (!isValid(originalDate)) {\n    throw new RangeError('Invalid time value');\n  }\n\n  // Convert the date in system timezone to the same date in UTC+00:00 timezone.\n  // This ensures that when UTC functions will be implemented, locales will be compatible with them.\n  // See an issue about UTC functions: https://github.com/date-fns/date-fns/issues/376\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);\n  var utcDate = subMilliseconds(originalDate, timezoneOffset);\n  var formatterOptions = {\n    firstWeekContainsDate: firstWeekContainsDate,\n    weekStartsOn: weekStartsOn,\n    locale: locale,\n    _originalDate: originalDate\n  };\n  var result = formatStr.match(longFormattingTokensRegExp).map(function (substring) {\n    var firstCharacter = substring[0];\n    if (firstCharacter === 'p' || firstCharacter === 'P') {\n      var longFormatter = longFormatters[firstCharacter];\n      return longFormatter(substring, locale.formatLong);\n    }\n    return substring;\n  }).join('').match(formattingTokensRegExp).map(function (substring) {\n    // Replace two single quote characters with one single quote character\n    if (substring === \"''\") {\n      return \"'\";\n    }\n    var firstCharacter = substring[0];\n    if (firstCharacter === \"'\") {\n      return cleanEscapedString(substring);\n    }\n    var formatter = formatters[firstCharacter];\n    if (formatter) {\n      if (!(options !== null && options !== void 0 && options.useAdditionalWeekYearTokens) && isProtectedWeekYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, String(dirtyDate));\n      }\n      if (!(options !== null && options !== void 0 && options.useAdditionalDayOfYearTokens) && isProtectedDayOfYearToken(substring)) {\n        throwProtectedError(substring, dirtyFormatStr, String(dirtyDate));\n      }\n      return formatter(utcDate, substring, locale.localize, formatterOptions);\n    }\n    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n      throw new RangeError('Format string contains an unescaped latin alphabet character `' + firstCharacter + '`');\n    }\n    return substring;\n  }).join('');\n  return result;\n}\nfunction cleanEscapedString(input) {\n  var matched = input.match(escapedStringRegExp);\n  if (!matched) {\n    return input;\n  }\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}", "import { useCallback, useEffect } from 'react';\nimport { ReplyType } from '@sendbird/chat/message';\nimport { s as scrollIntoLast, d as scrollToRenderedMessage } from './bundle-CVdCKMn9.js';\nimport './bundle-mxwNwHvq.js';\nimport { f as SCROLL_BOTTOM_DELAY_FOR_FETCH } from './bundle-BDIF-bj_.js';\n\n// For legacy\n// These are not used for collections(GroupChannel)\nvar PREV_RESULT_SIZE = 30;\nvar NEXT_RESULT_SIZE = 15;\n\nvar RESET_MESSAGES = 'RESET_MESSAGES';\nvar FETCH_INITIAL_MESSAGES_START = 'FETCH_INITIAL_MESSAGES_START';\nvar FETCH_INITIAL_MESSAGES_SUCCESS = 'FETCH_INITIAL_MESSAGES_SUCCESS';\nvar FETCH_INITIAL_MESSAGES_FAILURE = 'FETCH_INITIAL_MESSAGES_FAILURE';\nvar FETCH_PREV_MESSAGES_SUCCESS = 'FETCH_PREV_MESSAGES_SUCCESS';\nvar FETCH_PREV_MESSAGES_FAILURE = 'FETCH_PREV_MESSAGES_FAILURE';\nvar FETCH_NEXT_MESSAGES_SUCCESS = 'FETCH_NEXT_MESSAGES_SUCCESS';\nvar FETCH_NEXT_MESSAGES_FAILURE = 'FETCH_NEXT_MESSAGES_FAILURE';\nvar SEND_MESSAGE_START = 'SEND_MESSAGE_START';\nvar SEND_MESSAGE_SUCCESS = 'SEND_MESSAGE_SUCCESS';\nvar SEND_MESSAGE_FAILURE = 'SEND_MESSAGE_FAILURE';\nvar RESEND_MESSAGE_START = 'RESEND_MESSAGE_START';\nvar ON_MESSAGE_RECEIVED = 'ON_MESSAGE_RECEIVED';\nvar ON_MESSAGE_UPDATED = 'ON_MESSAGE_UPDATED';\nvar ON_MESSAGE_THREAD_INFO_UPDATED = 'ON_MESSAGE_THREAD_INFO_UPDATED';\nvar ON_MESSAGE_DELETED = 'ON_MESSAGE_DELETED';\nvar ON_MESSAGE_DELETED_BY_REQ_ID = 'ON_MESSAGE_DELETED_BY_REQ_ID';\nvar SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\nvar SET_CHANNEL_INVALID = 'SET_CHANNEL_INVALID';\nvar MARK_AS_READ = 'MARK_AS_READ';\nvar ON_REACTION_UPDATED = 'ON_REACTION_UPDATED';\nvar SET_EMOJI_CONTAINER = 'SET_EMOJI_CONTAINER';\nvar MESSAGE_LIST_PARAMS_CHANGED = 'MESSAGE_LIST_PARAMS_CHANGED';\nvar ON_FILE_INFO_UPLOADED = 'ON_FILE_INFO_UPLOADED';\nvar ON_TYPING_STATUS_UPDATED = 'ON_TYPING_STATUS_UPDATED';\n\nvar channelActions = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  FETCH_INITIAL_MESSAGES_FAILURE: FETCH_INITIAL_MESSAGES_FAILURE,\n  FETCH_INITIAL_MESSAGES_START: FETCH_INITIAL_MESSAGES_START,\n  FETCH_INITIAL_MESSAGES_SUCCESS: FETCH_INITIAL_MESSAGES_SUCCESS,\n  FETCH_NEXT_MESSAGES_FAILURE: FETCH_NEXT_MESSAGES_FAILURE,\n  FETCH_NEXT_MESSAGES_SUCCESS: FETCH_NEXT_MESSAGES_SUCCESS,\n  FETCH_PREV_MESSAGES_FAILURE: FETCH_PREV_MESSAGES_FAILURE,\n  FETCH_PREV_MESSAGES_SUCCESS: FETCH_PREV_MESSAGES_SUCCESS,\n  MARK_AS_READ: MARK_AS_READ,\n  MESSAGE_LIST_PARAMS_CHANGED: MESSAGE_LIST_PARAMS_CHANGED,\n  ON_FILE_INFO_UPLOADED: ON_FILE_INFO_UPLOADED,\n  ON_MESSAGE_DELETED: ON_MESSAGE_DELETED,\n  ON_MESSAGE_DELETED_BY_REQ_ID: ON_MESSAGE_DELETED_BY_REQ_ID,\n  ON_MESSAGE_RECEIVED: ON_MESSAGE_RECEIVED,\n  ON_MESSAGE_THREAD_INFO_UPDATED: ON_MESSAGE_THREAD_INFO_UPDATED,\n  ON_MESSAGE_UPDATED: ON_MESSAGE_UPDATED,\n  ON_REACTION_UPDATED: ON_REACTION_UPDATED,\n  ON_TYPING_STATUS_UPDATED: ON_TYPING_STATUS_UPDATED,\n  RESEND_MESSAGE_START: RESEND_MESSAGE_START,\n  RESET_MESSAGES: RESET_MESSAGES,\n  SEND_MESSAGE_FAILURE: SEND_MESSAGE_FAILURE,\n  SEND_MESSAGE_START: SEND_MESSAGE_START,\n  SEND_MESSAGE_SUCCESS: SEND_MESSAGE_SUCCESS,\n  SET_CHANNEL_INVALID: SET_CHANNEL_INVALID,\n  SET_CURRENT_CHANNEL: SET_CURRENT_CHANNEL,\n  SET_EMOJI_CONTAINER: SET_EMOJI_CONTAINER\n});\n\nfunction useInitialMessagesFetch(_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, initialTimeStamp = _a.initialTimeStamp, userFilledMessageListQuery = _a.userFilledMessageListQuery, replyType = _a.replyType, setIsScrolled = _a.setIsScrolled;\n    var logger = _b.logger, scrollRef = _b.scrollRef, messagesDispatcher = _b.messagesDispatcher;\n    var channelUrl = currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url;\n    /**\n     * useCallback(() => {}, [currentGroupChannel]) was buggy, that is why we did\n     * const channelUrl = currentGroupChannel && currentGroupChannel.url;\n     * useCallback(() => {}, [channelUrl])\n     * Again, this hook is supposed to execute when currentGroupChannel changes\n     * The 'channelUrl' here is not the same memory reference from Conversation.props\n     */\n    var fetchMessages = useCallback(function () {\n        logger.info('Channel useInitialMessagesFetch: Setup started', currentGroupChannel);\n        setIsScrolled(false);\n        messagesDispatcher({\n            type: RESET_MESSAGES,\n            payload: null,\n        });\n        if (currentGroupChannel && (currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.getMessagesByTimestamp)) {\n            var messageListParams_1 = {\n                prevResultSize: PREV_RESULT_SIZE,\n                isInclusive: true,\n                includeReactions: true,\n                includeMetaArray: true,\n            };\n            if (initialTimeStamp) {\n                messageListParams_1.nextResultSize = NEXT_RESULT_SIZE;\n            }\n            if (replyType === 'QUOTE_REPLY' || replyType === 'THREAD') {\n                messageListParams_1.includeThreadInfo = true;\n                messageListParams_1.includeParentMessageInfo = true;\n                messageListParams_1.replyType = ReplyType.ONLY_REPLY_TO_CHANNEL;\n            }\n            if (userFilledMessageListQuery) {\n                Object.keys(userFilledMessageListQuery).forEach(function (key) {\n                    // @ts-ignore\n                    messageListParams_1[key] = userFilledMessageListQuery[key];\n                });\n            }\n            if ((replyType\n                && (replyType === 'QUOTE_REPLY' || replyType === 'THREAD'))\n                || userFilledMessageListQuery) {\n                logger.info('Channel useInitialMessagesFetch: Setup messageListParams', messageListParams_1);\n                messagesDispatcher({\n                    type: MESSAGE_LIST_PARAMS_CHANGED,\n                    payload: messageListParams_1,\n                });\n            }\n            logger.info('Channel: Fetching messages', { currentGroupChannel: currentGroupChannel, userFilledMessageListQuery: userFilledMessageListQuery });\n            messagesDispatcher({\n                type: FETCH_INITIAL_MESSAGES_START,\n                payload: null,\n            });\n            currentGroupChannel\n                .getMessagesByTimestamp(initialTimeStamp || new Date().getTime(), messageListParams_1)\n                .then(function (messages) {\n                messagesDispatcher({\n                    type: FETCH_INITIAL_MESSAGES_SUCCESS,\n                    payload: {\n                        currentGroupChannel: currentGroupChannel,\n                        messages: messages,\n                    },\n                });\n            })\n                .catch(function (error) {\n                logger.error('Channel: Fetching messages failed', error);\n                messagesDispatcher({\n                    type: FETCH_INITIAL_MESSAGES_FAILURE,\n                    payload: { currentGroupChannel: currentGroupChannel },\n                });\n            })\n                .finally(function () {\n                if (!initialTimeStamp) {\n                    setTimeout(function () { return scrollIntoLast(0, scrollRef, setIsScrolled); }, SCROLL_BOTTOM_DELAY_FOR_FETCH);\n                }\n                else {\n                    setTimeout(function () {\n                        scrollToRenderedMessage(scrollRef, initialTimeStamp, setIsScrolled);\n                    }, 500);\n                }\n            });\n        }\n    }, [channelUrl, userFilledMessageListQuery, initialTimeStamp]);\n    useEffect(function () {\n        fetchMessages();\n    }, [fetchMessages]);\n    return fetchMessages;\n}\n\nexport { FETCH_INITIAL_MESSAGES_START as F, MARK_AS_READ as M, NEXT_RESULT_SIZE as N, ON_MESSAGE_RECEIVED as O, PREV_RESULT_SIZE as P, RESET_MESSAGES as R, SEND_MESSAGE_START as S, FETCH_INITIAL_MESSAGES_SUCCESS as a, FETCH_PREV_MESSAGES_SUCCESS as b, FETCH_NEXT_MESSAGES_SUCCESS as c, FETCH_INITIAL_MESSAGES_FAILURE as d, FETCH_PREV_MESSAGES_FAILURE as e, FETCH_NEXT_MESSAGES_FAILURE as f, SEND_MESSAGE_SUCCESS as g, SEND_MESSAGE_FAILURE as h, SET_CURRENT_CHANNEL as i, SET_CHANNEL_INVALID as j, ON_MESSAGE_UPDATED as k, ON_MESSAGE_THREAD_INFO_UPDATED as l, RESEND_MESSAGE_START as m, ON_MESSAGE_DELETED as n, ON_MESSAGE_DELETED_BY_REQ_ID as o, SET_EMOJI_CONTAINER as p, ON_REACTION_UPDATED as q, MESSAGE_LIST_PARAMS_CHANGED as r, ON_FILE_INFO_UPLOADED as s, ON_TYPING_STATUS_UPDATED as t, useInitialMessagesFetch as u, channelActions as v };\n//# sourceMappingURL=bundle-DMK903AV.js.map\n", "import { useState, useEffect } from 'react';\n\nfunction useReconnectOnIdle(isOnline, currentGroupChannel, reconnectOnIdle) {\n    if (reconnectOnIdle === void 0) { reconnectOnIdle = true; }\n    var _a = useState(false), isTabHidden = _a[0], setIsTabHidden = _a[1];\n    var wasOffline = !isOnline;\n    useEffect(function () {\n        var handleVisibilityChange = function () {\n            if (reconnectOnIdle) {\n                setIsTabHidden(document.hidden);\n            }\n        };\n        document.addEventListener('visibilitychange', handleVisibilityChange);\n        return function () {\n            document.removeEventListener('visibilitychange', handleVisibilityChange);\n        };\n    }, [reconnectOnIdle, document.hidden]);\n    var shouldReconnect = wasOffline && !!currentGroupChannel && !isTabHidden;\n    return { shouldReconnect: shouldReconnect };\n}\n\nexport { useReconnectOnIdle as u };\n//# sourceMappingURL=bundle-DhzCuHhn.js.map\n", "/**\n * Dashboard UIKitConfig's replyType is consisted of all lowercases,\n * we need to convert it into uppercase ones(or vice versa)\n * when we pass the value to internal components\n *  - 'thread' <-> 'THREAD'\n *  - 'quote_reply' <-> 'QUOTE_REPLY'\n */\nfunction getCaseResolvedReplyType(replyType) {\n    return {\n        lowerCase: replyType.toLowerCase(),\n        upperCase: replyType.toUpperCase(),\n    };\n}\n/**\n * Dashboard UIKitConfig's threadReplySelectType is consisted of all lowercase letters,\n * we need to convert it into uppercase ones(or vice versa)\n * when we pass the value to internal components\n *  - 'thread' <-> 'THREAD'\n *  - 'parent' <-> 'PARENT'\n */\nfunction getCaseResolvedThreadReplySelectType(threadReplySelectType) {\n    return {\n        lowerCase: threadReplySelectType.toLowerCase(),\n        upperCase: threadReplySelectType.toUpperCase(),\n    };\n}\n\nexport { getCaseResolvedThreadReplySelectType as a, getCaseResolvedReplyType as g };\n//# sourceMappingURL=bundle-CCDeoxT_.js.map\n", "import { useCallback } from 'react';\nimport { p as pubSubTopics, s as shouldPubSubPublishToChannel, a as shouldPubSubPublishToThread } from './bundle-DxUY6hv0.js';\nimport { s as scrollIntoLast$1 } from './bundle-CVdCKMn9.js';\nimport '../utils/message/getOutgoingMessageState.js';\nimport './bundle-y-yf0Djs.js';\nimport { e as SCROLL_BOTTOM_DELAY_FOR_SEND } from './bundle-BDIF-bj_.js';\n\nvar getNicknamesMapFromMembers = function (members) {\n    if (members === void 0) { members = []; }\n    var nicknamesMap = new Map();\n    for (var memberIndex = 0; memberIndex < members.length; memberIndex += 1) {\n        var _a = members[memberIndex], userId = _a.userId, nickname = _a.nickname;\n        nicknamesMap.set(userId, nickname);\n    }\n    return nicknamesMap;\n};\nvar getParentMessageFrom = function (message) {\n    if (!message) {\n        return null;\n    }\n    if (isParentMessage(message)) {\n        return message;\n    }\n    if (isThreadMessage(message)) {\n        return (message === null || message === void 0 ? void 0 : message.parentMessage) || null;\n    }\n    return null;\n};\nvar isParentMessage = function (message) {\n    return ((message === null || message === void 0 ? void 0 : message.parentMessage) === null\n        && typeof (message === null || message === void 0 ? void 0 : message.parentMessageId) === 'number'\n        && !(message === null || message === void 0 ? void 0 : message.parentMessageId));\n};\nvar isThreadMessage = function (message) {\n    return ((message === null || message === void 0 ? void 0 : message.parentMessage) !== null\n        && typeof (message === null || message === void 0 ? void 0 : message.parentMessageId) === 'number'\n        && (message === null || message === void 0 ? void 0 : message.parentMessageId) > 0\n        && (message === null || message === void 0 ? void 0 : message.threadInfo) === null);\n};\nvar isAboutSame = function (a, b, px) { return (Math.abs(a - b) <= px); };\nvar isEmpty = function (val) { return (val === null || val === undefined); };\n// Some Ids return string and number inconsistently\n// only use to comapre IDs\nfunction compareIds(a, b) {\n    if (isEmpty(a) || isEmpty(b)) {\n        return false;\n    }\n    var aString = a.toString();\n    var bString = b.toString();\n    return aString === bString;\n}\nvar scrollIntoLast = function (intialTry) {\n    if (intialTry === void 0) { intialTry = 0; }\n    var MAX_TRIES = 10;\n    var currentTry = intialTry;\n    if (currentTry > MAX_TRIES) {\n        return;\n    }\n    try {\n        var scrollDOM = document.querySelector('.sendbird-thread-ui--scroll');\n        // eslint-disable-next-line no-multi-assign\n        if (scrollDOM) {\n            scrollDOM.scrollTop = scrollDOM.scrollHeight;\n        }\n    }\n    catch (error) {\n        setTimeout(function () {\n            scrollIntoLast(currentTry + 1);\n        }, 500 * currentTry);\n    }\n};\n\n/**\n * pubSub is used instead of messagesDispatcher to avoid redundantly calling\n * because this useSendMultipleFilesMessage is used in the Channel and Thread both\n */\nvar useSendMultipleFilesMessage = function (_a, _b) {\n    var currentChannel = _a.currentChannel, onBeforeSendMultipleFilesMessage = _a.onBeforeSendMultipleFilesMessage, publishingModules = _a.publishingModules;\n    var logger = _b.logger, pubSub = _b.pubSub, scrollRef = _b.scrollRef;\n    var sendMessage = useCallback(function (files, quoteMessage) {\n        return new Promise(function (resolve, reject) {\n            if (!currentChannel) {\n                logger.warning('Channel: Sending MFm failed, because currentChannel is null.', { currentChannel: currentChannel });\n                reject();\n            }\n            if (files.length <= 1) {\n                logger.warning('Channel: Sending MFM failed, because there are no multiple files.', { files: files });\n                reject();\n            }\n            var messageParams = {\n                fileInfoList: files.map(function (file) { return ({\n                    file: file,\n                    fileName: file.name,\n                    fileSize: file.size,\n                    mimeType: file.type,\n                }); }),\n            };\n            if (quoteMessage) {\n                messageParams.isReplyToChannel = true;\n                messageParams.parentMessageId = quoteMessage.messageId;\n            }\n            if (typeof onBeforeSendMultipleFilesMessage === 'function') {\n                messageParams = onBeforeSendMultipleFilesMessage(files, quoteMessage);\n            }\n            logger.info('Channel: Start sending MFM', { messageParams: messageParams });\n            try {\n                currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.sendMultipleFilesMessage(messageParams).onFileUploaded(function (requestId, index, uploadableFileInfo, error) {\n                    logger.info('Channel: onFileUploaded during sending MFM', {\n                        requestId: requestId,\n                        index: index,\n                        error: error,\n                        uploadableFileInfo: uploadableFileInfo,\n                    });\n                    pubSub.publish(pubSubTopics.ON_FILE_INFO_UPLOADED, {\n                        response: {\n                            channelUrl: currentChannel.url,\n                            requestId: requestId,\n                            index: index,\n                            uploadableFileInfo: uploadableFileInfo,\n                            error: error,\n                        },\n                        publishingModules: publishingModules,\n                    });\n                }).onPending(function (pendingMessage) {\n                    logger.info('Channel: in progress of sending MFM', { pendingMessage: pendingMessage, fileInfoList: messageParams.fileInfoList });\n                    pubSub.publish(pubSubTopics.SEND_MESSAGE_START, {\n                        message: pendingMessage,\n                        channel: currentChannel,\n                        publishingModules: publishingModules,\n                    });\n                    setTimeout(function () {\n                        if (scrollRef && shouldPubSubPublishToChannel(publishingModules)) {\n                            scrollIntoLast$1(0, scrollRef);\n                        }\n                        if (shouldPubSubPublishToThread(publishingModules)) {\n                            scrollIntoLast(0);\n                        }\n                    }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n                }).onFailed(function (error, failedMessage) {\n                    logger.error('Channel: Sending MFM failed.', { error: error, failedMessage: failedMessage });\n                    pubSub.publish(pubSubTopics.SEND_MESSAGE_FAILED, {\n                        channel: currentChannel,\n                        message: failedMessage,\n                        publishingModules: publishingModules,\n                    });\n                    reject(error);\n                }).onSucceeded(function (succeededMessage) {\n                    logger.info('Channel: Sending voice message success!', { succeededMessage: succeededMessage });\n                    pubSub.publish(pubSubTopics.SEND_FILE_MESSAGE, {\n                        channel: currentChannel,\n                        message: succeededMessage,\n                        publishingModules: publishingModules,\n                    });\n                    resolve(succeededMessage);\n                });\n            }\n            catch (error) {\n                logger.error('Channel: Sending MFM failed.', { error: error });\n                reject(error);\n            }\n        });\n    }, [\n        currentChannel,\n        onBeforeSendMultipleFilesMessage,\n        publishingModules,\n    ]);\n    return [sendMessage];\n};\n\nexport { getNicknamesMapFromMembers as a, compareIds as c, getParentMessageFrom as g, isAboutSame as i, scrollIntoLast as s, useSendMultipleFilesMessage as u };\n//# sourceMappingURL=bundle-BlD_kPlV.js.map\n", "import { _ as __assign } from '../../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { useChannelContext } from '../context.js';\nimport { G as GroupChannelUIView } from '../../chunks/bundle-DXhV0XQx.js';\nimport { ChannelHeader } from './ChannelHeader.js';\nimport { MessageList } from './MessageList.js';\nimport { MessageInputWrapper } from './MessageInput.js';\nimport { d as deleteNullish } from '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-CVdCKMn9.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-DMK903AV.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-DhzCuHhn.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-BlD_kPlV.js';\nimport '../../GroupChannel/components/TypingIndicator.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-BHELL2oy.js';\nimport '../../ui/ConnectionStatus.js';\nimport '../../ui/Icon.js';\nimport '../../ui/PlaceHolder.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-BX3jAILv.js';\nimport '../../ui/ChannelAvatar.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../chunks/bundle-ByD0lt6-.js';\nimport '../../chunks/bundle-C68gpKfa.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/Header.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../ui/IconButton.js';\nimport './Message.js';\nimport '../../chunks/bundle-DL8bJVs5.js';\nimport '../../chunks/bundle-DgO_xXWo.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/DateSeparator.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-B-wIh5Qv.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../ui/MessageContent.js';\nimport '../../chunks/bundle-SEoRcjBh.js';\nimport '../../chunks/bundle-B_HhSA6x.js';\nimport '../../chunks/bundle-BBGwVlcE.js';\nimport '../../chunks/bundle-iiHh_YqB.js';\nimport '../../chunks/bundle-BEUsrftF.js';\nimport 'react-dom';\nimport '../../ui/SortByRow.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-BSieP1ow.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport '../../ui/UserListItem.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '../../ui/AdminMessage.js';\nimport '../../ui/QuoteMessage.js';\nimport '../../chunks/bundle-COu2UBrG.js';\nimport '../../ui/MobileMenu.js';\nimport '../../ui/ThreadReplies.js';\nimport '../../chunks/bundle-DEVtRtKL.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../chunks/bundle-bLHW4VuD.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../chunks/bundle-CxdqLaUY.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-CsZOw9J5.js';\nimport '@sendbird/uikit-tools';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-B6tSyuRm.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-D9VCJ_xd.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../ui/FeedbackIconButton.js';\nimport '../../ui/MobileFeedbackMenu.js';\nimport '../../ui/MessageFeedbackModal.js';\nimport '../../ui/Input.js';\nimport '../../chunks/bundle-C-Qr6Xbj.js';\nimport '../../GroupChannel/components/SuggestedReplies.js';\nimport '../../chunks/bundle-CaZn7sCJ.js';\nimport './FileViewer.js';\nimport '../../chunks/bundle-BoobDQ7G.js';\nimport './RemoveMessageModal.js';\nimport '../../chunks/bundle-DiNcrytb.js';\nimport '../../chunks/bundle-DMQ4ARs5.js';\nimport '../../GroupChannel/components/UnreadCount.js';\nimport '../../GroupChannel/components/FrozenNotification.js';\nimport '../../chunks/bundle-BkJOIji-.js';\nimport '../../chunks/bundle-COBh1gnD.js';\nimport '../../ui/TypingIndicatorBubble.js';\nimport '../../chunks/bundle-BcyPGc4o.js';\nimport '../utils/getMessagePartsInfo.js';\nimport '../utils/compareMessagesForGrouping.js';\nimport '../../chunks/bundle-D59i-wy0.js';\nimport '../../GroupChannel/components/SuggestedMentionList.js';\nimport '../../ui/QuoteMessageInput.js';\nimport '../../VoiceRecorder/useVoiceRecorder.js';\nimport '../../chunks/bundle-vF_8gzZb.js';\nimport '../../chunks/bundle-4VvXLz4o.js';\n\n/**\n * @deprecated This component is deprecated and will be removed in the next major update.\n * Please use the `GroupChannel` component from '@sendbird/uikit-react/GroupChannel' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar ChannelUI = function (props) {\n    var context = useChannelContext();\n    var channelUrl = context.channelUrl, isInvalid = context.isInvalid;\n    // Inject components to presentation layer\n    var _a = deleteNullish(props), _b = _a.renderChannelHeader, renderChannelHeader = _b === void 0 ? function (p) { return React__default.createElement(ChannelHeader, __assign({}, p)); } : _b, _c = _a.renderMessageList, renderMessageList = _c === void 0 ? function (p) { return React__default.createElement(MessageList, __assign({}, p, { className: \"sendbird-conversation__message-list\" })); } : _c, _d = _a.renderMessageInput, renderMessageInput = _d === void 0 ? function () { return React__default.createElement(MessageInputWrapper, __assign({}, props)); } : _d;\n    return (React__default.createElement(GroupChannelUIView, __assign({}, props, context, { isLoading: props === null || props === void 0 ? void 0 : props.isLoading, isInvalid: isInvalid, channelUrl: channelUrl, renderChannelHeader: renderChannelHeader, renderMessageList: renderMessageList, renderMessageInput: renderMessageInput })));\n};\n\nexport { ChannelUI as default };\n//# sourceMappingURL=ChannelUI.js.map\n", "import React__default from 'react';\nimport { TypingIndicator } from '../GroupChannel/components/TypingIndicator.js';\nimport { T as TypingIndicatorType } from './bundle-BHELL2oy.js';\nimport ConnectionStatus from '../ui/ConnectionStatus.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../ui/PlaceHolder.js';\nimport { d as deleteNullish } from './bundle-Bc1fdQjj.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\n\nvar GroupChannelUIView = function (props) {\n    var _a, _b, _c, _d;\n    var isLoading = props.isLoading, isInvalid = props.isInvalid, channelUrl = props.channelUrl;\n    var _e = deleteNullish(props), renderChannelHeader = _e.renderChannelHeader, renderMessageList = _e.renderMessageList, renderMessageInput = _e.renderMessageInput, renderTypingIndicator = _e.renderTypingIndicator, renderPlaceholderLoader = _e.renderPlaceholderLoader, renderPlaceholderInvalid = _e.renderPlaceholderInvalid;\n    var state = useSendbird().state;\n    var stores = state.stores, config = state.config;\n    var sdkError = (_a = stores === null || stores === void 0 ? void 0 : stores.sdkStore) === null || _a === void 0 ? void 0 : _a.error;\n    var logger = config.logger, isOnline = config.isOnline;\n    // Note: This is not a loading status of the message list.\n    //  It is just for custom props from the Channel module and is not used in the GroupChannel module. (We should remove this in v4)\n    if (isLoading) {\n        return React__default.createElement(\"div\", { className: \"sendbird-conversation\" }, (renderPlaceholderLoader === null || renderPlaceholderLoader === void 0 ? void 0 : renderPlaceholderLoader()) || React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.LOADING }));\n    }\n    if (!channelUrl) {\n        return (React__default.createElement(\"div\", { className: \"sendbird-conversation\" }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.NO_CHANNELS })));\n    }\n    if (isInvalid) {\n        return React__default.createElement(\"div\", { className: \"sendbird-conversation\" }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.WRONG }));\n    }\n    if (sdkError) {\n        return (React__default.createElement(\"div\", { className: \"sendbird-conversation\" }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || (React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.WRONG, retryToConnect: function () {\n                logger.info('Channel: reconnecting');\n                // reconnect();\n            } }))));\n    }\n    return (React__default.createElement(\"div\", { className: \"sendbird-conversation\" }, renderChannelHeader === null || renderChannelHeader === void 0 ? void 0 :\n        renderChannelHeader({ className: 'sendbird-conversation__channel-header' }), renderMessageList === null || renderMessageList === void 0 ? void 0 :\n        renderMessageList(props),\n        React__default.createElement(\"div\", { className: \"sendbird-conversation__footer\" }, renderMessageInput === null || renderMessageInput === void 0 ? void 0 :\n            renderMessageInput(),\n            React__default.createElement(\"div\", { className: \"sendbird-conversation__footer__typing-indicator\" },\n                (renderTypingIndicator === null || renderTypingIndicator === void 0 ? void 0 : renderTypingIndicator())\n                    || (((_b = config === null || config === void 0 ? void 0 : config.groupChannel) === null || _b === void 0 ? void 0 : _b.enableTypingIndicator) && ((_d = (_c = config === null || config === void 0 ? void 0 : config.groupChannel) === null || _c === void 0 ? void 0 : _c.typingIndicatorTypes) === null || _d === void 0 ? void 0 : _d.has(TypingIndicatorType.Text)) && (React__default.createElement(TypingIndicator, { channelUrl: channelUrl }))),\n                !isOnline && React__default.createElement(ConnectionStatus, null)))));\n};\n\nexport { GroupChannelUIView as G };\n//# sourceMappingURL=bundle-DXhV0XQx.js.map\n", "import React__default, { useState, useEffect, useContext } from 'react';\nimport { GroupChannelHandler } from '@sendbird/chat/groupChannel';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-MoKyCGQH.js';\nimport { L as LocalizationContext } from '../../chunks/bundle-y-yf0Djs.js';\nimport { u as uuidv4 } from '../../chunks/bundle-BGRwc73U.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\n\nvar TypingIndicatorText = function (_a) {\n    var members = _a.members;\n    function getText() {\n        var stringSet = useContext(LocalizationContext).stringSet;\n        if (!members || members.length === 0) {\n            return '';\n        }\n        if (members && members.length === 1) {\n            return \"\".concat(members[0].nickname, \" \").concat(stringSet.TYPING_INDICATOR__IS_TYPING);\n        }\n        if (members && members.length === 2) {\n            return \"\".concat(members[0].nickname, \" \").concat(stringSet.TYPING_INDICATOR__AND, \" \").concat(members[1].nickname, \" \").concat(stringSet.TYPING_INDICATOR__ARE_TYPING);\n        }\n        return stringSet.TYPING_INDICATOR__MULTIPLE_TYPING;\n    }\n    return React__default.createElement(React__default.Fragment, null, getText());\n};\nvar TypingIndicator = function (_a) {\n    var _b, _c, _d;\n    var channelUrl = _a.channelUrl;\n    var state = useSendbird().state;\n    var sb = (_c = (_b = state === null || state === void 0 ? void 0 : state.stores) === null || _b === void 0 ? void 0 : _b.sdkStore) === null || _c === void 0 ? void 0 : _c.sdk;\n    var logger = (_d = state === null || state === void 0 ? void 0 : state.config) === null || _d === void 0 ? void 0 : _d.logger;\n    var _e = useState(uuidv4()), handlerId = _e[0], setHandlerId = _e[1];\n    var _f = useState([]), typingMembers = _f[0], setTypingMembers = _f[1];\n    useEffect(function () {\n        var _a;\n        if ((_a = sb === null || sb === void 0 ? void 0 : sb.groupChannel) === null || _a === void 0 ? void 0 : _a.addGroupChannelHandler) {\n            sb.groupChannel.removeGroupChannelHandler(handlerId);\n            var newHandlerId = uuidv4();\n            var handler = new GroupChannelHandler({\n                onTypingStatusUpdated: function (groupChannel) {\n                    // there is a possible warning in here - setState called after unmount\n                    logger.info('Channel > Typing Indicator: onTypingStatusUpdated', groupChannel);\n                    if (groupChannel.url === channelUrl) {\n                        var members = groupChannel.getTypingUsers();\n                        setTypingMembers(members);\n                    }\n                },\n            });\n            sb.groupChannel.addGroupChannelHandler(newHandlerId, handler);\n            setHandlerId(newHandlerId);\n        }\n        return function () {\n            var _a;\n            setTypingMembers([]);\n            if ((_a = sb === null || sb === void 0 ? void 0 : sb.groupChannel) === null || _a === void 0 ? void 0 : _a.removeGroupChannelHandler) {\n                sb.groupChannel.removeGroupChannelHandler(handlerId);\n            }\n        };\n    }, [channelUrl]);\n    return (React__default.createElement(Label, { className: \"sendbird-conversation__footer__typing-indicator__text\", type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 },\n        React__default.createElement(TypingIndicatorText, { members: typingMembers })));\n};\n\nexport { TypingIndicator, TypingIndicatorText, TypingIndicator as default };\n//# sourceMappingURL=TypingIndicator.js.map\n", "var TypingIndicatorType;\n(function (TypingIndicatorType) {\n    TypingIndicatorType[\"Text\"] = \"text\";\n    TypingIndicatorType[\"Bubble\"] = \"bubble\";\n})(TypingIndicatorType || (TypingIndicatorType = {}));\n\nexport { TypingIndicatorType as T };\n//# sourceMappingURL=bundle-BHELL2oy.js.map\n", "import React__default, { useContext } from 'react';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { L as LocalizationContext } from '../chunks/bundle-y-yf0Djs.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\n\nfunction ConnectionStatus() {\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(\"div\", { className: \"sendbird-connection-status\" },\n        React__default.createElement(Label, { type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_2 }, stringSet.TRYING_TO_CONNECT),\n        React__default.createElement(Icon, { type: IconTypes.DISCONNECTED, fillColor: IconColors.SENT, width: \"14px\", height: \"14px\" })));\n}\n\nexport { ConnectionStatus as default };\n//# sourceMappingURL=ConnectionStatus.js.map\n", "import { _ as __assign } from '../../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { G as GroupChannelHeaderView } from '../../chunks/bundle-BX3jAILv.js';\nimport { useChannelContext } from '../context.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../ui/ChannelAvatar.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../chunks/bundle-ByD0lt6-.js';\nimport '../../chunks/bundle-C68gpKfa.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../ui/Header.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../ui/IconButton.js';\nimport '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-CVdCKMn9.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../chunks/bundle-DMK903AV.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-DhzCuHhn.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-BlD_kPlV.js';\n\n/**\n * @deprecated This component is deprecated and will be removed in the next major update.\n * Please use the `GroupChannel` component from '@sendbird/uikit-react/GroupChannel' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar ChannelHeader = function (_a) {\n    var className = _a.className;\n    var context = useChannelContext();\n    return (React__default.createElement(GroupChannelHeaderView, __assign({}, context, { className: className, currentChannel: context.currentGroupChannel })));\n};\n\nexport { ChannelHeader, ChannelHeader as default };\n//# sourceMappingURL=ChannelHeader.js.map\n", "import { _ as __assign } from './bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { IconTypes, IconColors } from '../ui/Icon.js';\nimport ChannelAvatar from '../ui/ChannelAvatar.js';\nimport { g as getChannelTitle } from './bundle-C68gpKfa.js';\nimport { u as useMediaQueryContext } from './bundle-DvgqpwmQ.js';\nimport { u as useLocalization } from './bundle-y-yf0Djs.js';\nimport Header from '../ui/Header.js';\nimport { c as classnames } from './bundle-Bc1fdQjj.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\n\nvar GroupChannelHeaderView = function (_a) {\n    var className = _a.className, currentChannel = _a.currentChannel, showSearchIcon = _a.showSearchIcon, onBackClick = _a.onBackClick, onSearchClick = _a.onSearchClick, onChatHeaderActionClick = _a.onChatHeaderActionClick, \n    // Header custom props\n    renderLeft = _a.renderLeft, renderMiddle = _a.renderMiddle, renderRight = _a.renderRight;\n    var state = useSendbird().state;\n    var config = state.config;\n    var userId = config.userId, theme = config.theme;\n    var isMobile = useMediaQueryContext().isMobile;\n    var stringSet = useLocalization().stringSet;\n    var isMuted = (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.myMutedState) === 'muted';\n    var channelTitle = getChannelTitle(currentChannel, userId, stringSet);\n    return (React__default.createElement(Header, { className: classnames('sendbird-chat-header', className), renderLeft: renderLeft !== null && renderLeft !== void 0 ? renderLeft : (function () { return (React__default.createElement(React__default.Fragment, null,\n            isMobile && (React__default.createElement(Header.Icon, { className: \"sendbird-chat-header__icon_back\", onClick: onBackClick, type: IconTypes.ARROW_LEFT, color: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })),\n            React__default.createElement(ChannelAvatar, { theme: theme, channel: currentChannel, userId: userId, height: 32, width: 32 }))); }), renderMiddle: renderMiddle !== null && renderMiddle !== void 0 ? renderMiddle : (function () { return (React__default.createElement(Header.Title, { title: channelTitle })); }), renderRight: renderRight !== null && renderRight !== void 0 ? renderRight : (function () { return (React__default.createElement(React__default.Fragment, null,\n            isMuted && (React__default.createElement(Header.Icon, { className: \"sendbird-chat-header__right__mute\", type: IconTypes.NOTIFICATIONS_OFF_FILLED, color: IconColors.ON_BACKGROUND_2, width: \"24px\", height: \"24px\" })),\n            (showSearchIcon && !(currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.isEphemeral)) && (React__default.createElement(Header.IconButton, { className: \"sendbird-chat-header__right__search\", onClick: onSearchClick, type: IconTypes.SEARCH, color: IconColors.PRIMARY, renderIcon: function (props) { return React__default.createElement(Header.Icon, __assign({}, props, { width: \"24px\", height: \"24px\" })); } })),\n            React__default.createElement(Header.IconButton, { className: \"sendbird-chat-header__right__info\", onClick: onChatHeaderActionClick, type: IconTypes.INFO, color: IconColors.PRIMARY, renderIcon: function (props) { return React__default.createElement(Header.Icon, __assign({}, props, { width: \"24px\", height: \"24px\" })); } }))); }) }));\n};\n\nexport { GroupChannelHeaderView as G };\n//# sourceMappingURL=bundle-BX3jAILv.js.map\n", "import { c as LabelStringSet } from './bundle-MoKyCGQH.js';\nimport { a as isDefaultChannelName } from './bundle-Ug7rKzFJ.js';\n\nvar getChannelTitle = function (channel, currentUserId, stringSet) {\n    var _a;\n    var LABEL_STRING_SET = stringSet || LabelStringSet;\n    if (!(channel === null || channel === void 0 ? void 0 : channel.name) && !(channel === null || channel === void 0 ? void 0 : channel.members)) {\n        return LABEL_STRING_SET.NO_TITLE;\n    }\n    if (!isDefaultChannelName(channel)) {\n        return channel.name;\n    }\n    if (((_a = channel === null || channel === void 0 ? void 0 : channel.members) === null || _a === void 0 ? void 0 : _a.length) === 1) {\n        return LABEL_STRING_SET.NO_MEMBERS;\n    }\n    return channel === null || channel === void 0 ? void 0 : channel.members.filter(function (_a) {\n        var userId = _a.userId;\n        return userId !== currentUserId;\n    }).map(function (_a) {\n        var nickname = _a.nickname;\n        return (nickname || LABEL_STRING_SET.NO_NAME);\n    }).join(', ');\n};\n\nexport { getChannelTitle as g };\n//# sourceMappingURL=bundle-C68gpKfa.js.map\n", "import React__default, { useState, useEffect } from 'react';\nimport { useChannelContext } from '../context.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder.js';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon.js';\nimport Message from './Message.js';\nimport { T as TypingIndicatorType } from '../../chunks/bundle-BHELL2oy.js';\nimport { a as isAboutSame } from '../../chunks/bundle-CVdCKMn9.js';\nimport { UnreadCount } from '../../GroupChannel/components/UnreadCount.js';\nimport { FrozenNotification } from '../../GroupChannel/components/FrozenNotification.js';\nimport { S as SCROLL_BUFFER } from '../../chunks/bundle-BDIF-bj_.js';\nimport { MessageProvider } from '../../Message/context.js';\nimport { u as useHandleOnScrollCallback } from '../../chunks/bundle-BkJOIji-.js';\nimport { u as useThrottleCallback } from '../../chunks/bundle-COBh1gnD.js';\nimport TypingIndicatorBubble from '../../ui/TypingIndicatorBubble.js';\nimport { u as useOnScrollPositionChangeDetector } from '../../chunks/bundle-BcyPGc4o.js';\nimport { getMessagePartsInfo } from '../utils/getMessagePartsInfo.js';\nimport { d as deleteNullish } from '../../chunks/bundle-Bc1fdQjj.js';\nimport { M as getHTMLTextDirection } from '../../chunks/bundle-Ug7rKzFJ.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport { u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-DMK903AV.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-DhzCuHhn.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-BlD_kPlV.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-DL8bJVs5.js';\nimport '../../chunks/bundle-DgO_xXWo.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/DateSeparator.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-B-wIh5Qv.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/MessageContent.js';\nimport '../../chunks/bundle-SEoRcjBh.js';\nimport '../../chunks/bundle-B_HhSA6x.js';\nimport '../../chunks/bundle-BBGwVlcE.js';\nimport '../../chunks/bundle-iiHh_YqB.js';\nimport '../../chunks/bundle-BEUsrftF.js';\nimport 'react-dom';\nimport '../../ui/SortByRow.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-BSieP1ow.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../ui/AdminMessage.js';\nimport '../../ui/QuoteMessage.js';\nimport '../../chunks/bundle-COu2UBrG.js';\nimport '../../ui/MobileMenu.js';\nimport '../../ui/ThreadReplies.js';\nimport '../../chunks/bundle-DEVtRtKL.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../chunks/bundle-bLHW4VuD.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CxdqLaUY.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-CsZOw9J5.js';\nimport '@sendbird/uikit-tools';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-B6tSyuRm.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-D9VCJ_xd.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../ui/FeedbackIconButton.js';\nimport '../../ui/MobileFeedbackMenu.js';\nimport '../../ui/MessageFeedbackModal.js';\nimport '../../ui/Input.js';\nimport '../../chunks/bundle-C-Qr6Xbj.js';\nimport '../../GroupChannel/components/SuggestedReplies.js';\nimport '../../chunks/bundle-CaZn7sCJ.js';\nimport './FileViewer.js';\nimport '../../chunks/bundle-BoobDQ7G.js';\nimport './RemoveMessageModal.js';\nimport '../../chunks/bundle-DiNcrytb.js';\nimport '../../chunks/bundle-DMQ4ARs5.js';\nimport '../utils/compareMessagesForGrouping.js';\n\nvar DELAY = 100;\nfunction useSetScrollToBottom(_a) {\n    var loading = _a.loading;\n    var _b = useState(0), scrollBottom = _b[0], setScrollBottom = _b[1];\n    useEffect(function () {\n        if (loading) {\n            setScrollBottom(0);\n        }\n    }, [loading]);\n    var scrollCb = function (e) {\n        var element = e.target;\n        try {\n            setScrollBottom(element.scrollHeight - element.scrollTop - element.offsetHeight);\n        }\n        catch (_a) {\n            //\n        }\n    };\n    return {\n        scrollBottom: scrollBottom,\n        scrollToBottomHandler: useThrottleCallback(scrollCb, DELAY, { trailing: true }),\n    };\n}\n\nfunction useScrollBehavior() {\n    var _a = useChannelContext(), scrollRef = _a.scrollRef, _b = _a.scrollBehavior, scrollBehavior = _b === void 0 ? 'auto' : _b;\n    useEffect(function () {\n        if (scrollRef.current) {\n            scrollRef.current.style.scrollBehavior = scrollBehavior;\n        }\n    }, [scrollRef.current]);\n    return null;\n}\n\n/* We operate the CSS files for Channel&GroupChannel modules in the GroupChannel */\nvar SCROLL_BOTTOM_PADDING = 50;\n/**\n * @deprecated This component is deprecated and will be removed in the next major update.\n * Please use the `GroupChannel` component from '@sendbird/uikit-react/GroupChannel' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar MessageList = function (props) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    var _h = props.className, className = _h === void 0 ? '' : _h;\n    var _j = deleteNullish(props), renderMessage = _j.renderMessage, renderMessageContent = _j.renderMessageContent, renderSuggestedReplies = _j.renderSuggestedReplies, renderCustomSeparator = _j.renderCustomSeparator, _k = _j.renderPlaceholderLoader, renderPlaceholderLoader = _k === void 0 ? function () { return React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.LOADING }); } : _k, _l = _j.renderPlaceholderEmpty, renderPlaceholderEmpty = _l === void 0 ? function () { return React__default.createElement(PlaceHolder, { className: \"sendbird-conversation__no-messages\", type: PlaceHolderTypes.NO_MESSAGES }); } : _l, _m = _j.renderFrozenNotification, renderFrozenNotification = _m === void 0 ? function () { return React__default.createElement(FrozenNotification, { className: \"sendbird-conversation__messages__notification\" }); } : _m;\n    var _o = useChannelContext(), allMessages = _o.allMessages, localMessages = _o.localMessages, hasMorePrev = _o.hasMorePrev, hasMoreNext = _o.hasMoreNext, setInitialTimeStamp = _o.setInitialTimeStamp, setAnimatedMessageId = _o.setAnimatedMessageId, setHighLightedMessageId = _o.setHighLightedMessageId, isMessageGroupingEnabled = _o.isMessageGroupingEnabled, scrollRef = _o.scrollRef, onScrollCallback = _o.onScrollCallback, onScrollDownCallback = _o.onScrollDownCallback, messagesDispatcher = _o.messagesDispatcher, messageActionTypes = _o.messageActionTypes, currentGroupChannel = _o.currentGroupChannel, disableMarkAsRead = _o.disableMarkAsRead, filterMessageList = _o.filterMessageList, replyType = _o.replyType, loading = _o.loading, isScrolled = _o.isScrolled, unreadSince = _o.unreadSince, unreadSinceDate = _o.unreadSinceDate, typingMembers = _o.typingMembers;\n    var store = useSendbird().state;\n    var stringSet = useLocalization().stringSet;\n    var allMessagesFiltered = typeof filterMessageList === 'function' ? allMessages.filter(filterMessageList) : allMessages;\n    var markAsReadScheduler = store.config.markAsReadScheduler;\n    var _p = useState(false), isScrollBottom = _p[0], setIsScrollBottom = _p[1];\n    useScrollBehavior();\n    /**\n     * @param {function} callback callback from useHandleOnScrollCallback, it adjusts scroll position\n     * */\n    var onScroll = function (callback) {\n        var element = scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current;\n        if (element == null) {\n            return;\n        }\n        var scrollTop = element.scrollTop, clientHeight = element.clientHeight, scrollHeight = element.scrollHeight;\n        if (hasMorePrev && isAboutSame(scrollTop, 0, SCROLL_BUFFER)) {\n            onScrollCallback(callback);\n        }\n        if (hasMoreNext && isAboutSame(clientHeight + scrollTop, scrollHeight, SCROLL_BUFFER)) {\n            onScrollDownCallback(callback);\n        }\n        if (!disableMarkAsRead && isAboutSame(clientHeight + scrollTop, scrollHeight, SCROLL_BUFFER) && !!currentGroupChannel) {\n            messagesDispatcher({\n                type: messageActionTypes.MARK_AS_READ,\n                payload: { channel: currentGroupChannel },\n            });\n            markAsReadScheduler.push(currentGroupChannel);\n        }\n    };\n    var onClickScrollBot = function () {\n        var _a, _b;\n        setInitialTimeStamp === null || setInitialTimeStamp === void 0 ? void 0 : setInitialTimeStamp(null);\n        setAnimatedMessageId === null || setAnimatedMessageId === void 0 ? void 0 : setAnimatedMessageId(null);\n        setHighLightedMessageId === null || setHighLightedMessageId === void 0 ? void 0 : setHighLightedMessageId(null);\n        if (scrollRef.current && scrollRef.current.scrollTop > -1) {\n            scrollRef.current.scrollTop = ((_a = scrollRef.current.scrollHeight) !== null && _a !== void 0 ? _a : 0) - ((_b = scrollRef.current.offsetHeight) !== null && _b !== void 0 ? _b : 0);\n        }\n    };\n    /**\n     * 1. Move the messsage list scroll\n     *    when each message's height is changed by `reactions` OR `showEdit`\n     * 2. Keep the scrollBottom value after fetching new message list\n     */\n    var moveScroll = function (isBottomMessageAffected) {\n        if (isBottomMessageAffected === void 0) { isBottomMessageAffected = false; }\n        var current = scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current;\n        if (current) {\n            var bottom = current.scrollHeight - current.scrollTop - current.offsetHeight;\n            if (scrollBottom < bottom && (!isBottomMessageAffected || scrollBottom < SCROLL_BUFFER)) {\n                // Move the scroll as much as the height of the message has changed\n                current.scrollTop += bottom - scrollBottom;\n            }\n        }\n    };\n    var handleOnScroll = useHandleOnScrollCallback({\n        hasMore: hasMorePrev,\n        hasNext: hasMoreNext,\n        onScroll: onScroll,\n        scrollRef: scrollRef,\n    });\n    var onScrollReachedEndDetector = useOnScrollPositionChangeDetector({\n        onReachedBottom: function () {\n            /**\n             * Note that this event is already being called in onScroll() above. However, it is only being called when\n             * hasMoreNext is true but it needs to be called when hasNext is false when reached bottom as well.\n             */\n            if (!hasMoreNext && !disableMarkAsRead && !!currentGroupChannel) {\n                messagesDispatcher({\n                    type: messageActionTypes.MARK_AS_READ,\n                    payload: { channel: currentGroupChannel },\n                });\n                markAsReadScheduler.push(currentGroupChannel);\n            }\n            setIsScrollBottom(true);\n        },\n        onReachedTop: function () {\n            setIsScrollBottom(false);\n        },\n        onInBetween: function () {\n            setIsScrollBottom(false);\n        },\n    });\n    var _q = useSetScrollToBottom({ loading: loading }), scrollToBottomHandler = _q.scrollToBottomHandler, scrollBottom = _q.scrollBottom;\n    if (loading) {\n        return renderPlaceholderLoader();\n    }\n    if (allMessagesFiltered.length < 1) {\n        return renderPlaceholderEmpty();\n    }\n    return (React__default.createElement(React__default.Fragment, null,\n        !isScrolled && React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.LOADING }),\n        React__default.createElement(\"div\", { className: \"sendbird-conversation__messages \".concat(className), dir: getHTMLTextDirection((_a = store === null || store === void 0 ? void 0 : store.config) === null || _a === void 0 ? void 0 : _a.htmlTextDirection, (_b = store === null || store === void 0 ? void 0 : store.config) === null || _b === void 0 ? void 0 : _b.forceLeftToRightMessageLayout) },\n            React__default.createElement(\"div\", { className: \"sendbird-conversation__scroll-container\" },\n                React__default.createElement(\"div\", { className: \"sendbird-conversation__padding\" }),\n                React__default.createElement(\"div\", { className: \"sendbird-conversation__messages-padding\", \"data-testid\": \"sendbird-message-list-container\", ref: scrollRef, onScroll: function (e) {\n                        handleOnScroll();\n                        scrollToBottomHandler(e);\n                        onScrollReachedEndDetector(e);\n                    } },\n                    allMessagesFiltered.map(function (m, idx) {\n                        var _a, _b;\n                        var _c = getMessagePartsInfo({\n                            allMessages: allMessagesFiltered,\n                            stringSet: stringSet,\n                            replyType: replyType,\n                            isMessageGroupingEnabled: isMessageGroupingEnabled,\n                            currentIndex: idx,\n                            currentMessage: m,\n                            currentChannel: currentGroupChannel,\n                        }), chainTop = _c.chainTop, chainBottom = _c.chainBottom, hasSeparator = _c.hasSeparator;\n                        var isByMe = ((_a = m === null || m === void 0 ? void 0 : m.sender) === null || _a === void 0 ? void 0 : _a.userId) === ((_b = store === null || store === void 0 ? void 0 : store.config) === null || _b === void 0 ? void 0 : _b.userId);\n                        return (React__default.createElement(MessageProvider, { message: m, key: m === null || m === void 0 ? void 0 : m.messageId, isByMe: isByMe },\n                            React__default.createElement(Message, { handleScroll: moveScroll, message: m, hasSeparator: hasSeparator, chainTop: chainTop, chainBottom: chainBottom, renderMessageContent: renderMessageContent, renderSuggestedReplies: renderSuggestedReplies, renderCustomSeparator: renderCustomSeparator, \n                                // backward compatibility\n                                renderMessage: renderMessage })));\n                    }),\n                    localMessages.map(function (m, idx) {\n                        var _a, _b;\n                        var _c = getMessagePartsInfo({\n                            allMessages: allMessagesFiltered,\n                            stringSet: stringSet,\n                            replyType: replyType,\n                            isMessageGroupingEnabled: isMessageGroupingEnabled,\n                            currentIndex: idx,\n                            currentMessage: m,\n                            currentChannel: currentGroupChannel,\n                        }), chainTop = _c.chainTop, chainBottom = _c.chainBottom;\n                        var isByMe = ((_a = m === null || m === void 0 ? void 0 : m.sender) === null || _a === void 0 ? void 0 : _a.userId) === ((_b = store === null || store === void 0 ? void 0 : store.config) === null || _b === void 0 ? void 0 : _b.userId);\n                        return (React__default.createElement(MessageProvider, { message: m, key: m === null || m === void 0 ? void 0 : m.messageId, isByMe: isByMe },\n                            React__default.createElement(Message, { handleScroll: moveScroll, message: m, chainTop: chainTop, chainBottom: chainBottom, renderMessageContent: renderMessageContent, renderSuggestedReplies: renderSuggestedReplies, renderCustomSeparator: renderCustomSeparator, \n                                // backward compatibility\n                                renderMessage: renderMessage })));\n                    }),\n                    !hasMoreNext\n                        && ((_d = (_c = store === null || store === void 0 ? void 0 : store.config) === null || _c === void 0 ? void 0 : _c.groupChannel) === null || _d === void 0 ? void 0 : _d.enableTypingIndicator)\n                        && ((_g = (_f = (_e = store === null || store === void 0 ? void 0 : store.config) === null || _e === void 0 ? void 0 : _e.groupChannel) === null || _f === void 0 ? void 0 : _f.typingIndicatorTypes) === null || _g === void 0 ? void 0 : _g.has(TypingIndicatorType.Bubble)) && (React__default.createElement(TypingIndicatorBubble, { typingMembers: typingMembers, handleScroll: moveScroll })))),\n            (currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.isFrozen) && renderFrozenNotification(),\n            /**\n             * Show unread count IFF scroll is not bottom or is bottom but hasNext is true.\n             */\n            (!isScrollBottom || hasMoreNext) && (unreadSince || unreadSinceDate) && (React__default.createElement(UnreadCount, { className: \"sendbird-conversation__messages__notification\", count: currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.unreadMessageCount, time: unreadSince, lastReadAt: unreadSinceDate, onClick: function () {\n                    if (scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current)\n                        scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n                    if (!disableMarkAsRead && !!currentGroupChannel) {\n                        markAsReadScheduler.push(currentGroupChannel);\n                        messagesDispatcher({\n                            type: messageActionTypes.MARK_AS_READ,\n                            payload: { channel: currentGroupChannel },\n                        });\n                    }\n                    setInitialTimeStamp(null);\n                    setAnimatedMessageId(null);\n                    setHighLightedMessageId(null);\n                } })),\n            // This flag is an unmatched variable\n            scrollBottom > SCROLL_BOTTOM_PADDING && (React__default.createElement(\"div\", { className: \"sendbird-conversation__scroll-bottom-button\", onClick: onClickScrollBot, onKeyDown: onClickScrollBot, tabIndex: 0, role: \"button\" },\n                React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.CHEVRON_DOWN, fillColor: IconColors.PRIMARY }))))));\n};\n\nexport { MessageList, MessageList as default };\n//# sourceMappingURL=MessageList.js.map\n", "import { _ as __assign } from '../../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { useChannelContext } from '../context.js';\nimport { g as getSuggestedReplies } from '../../chunks/bundle-Ug7rKzFJ.js';\nimport { b as isDisabledBecauseFrozen, c as isDisabledBecauseMuted } from '../../chunks/bundle-CVdCKMn9.js';\nimport { M as MessageView } from '../../chunks/bundle-DL8bJVs5.js';\nimport { FileViewer } from './FileViewer.js';\nimport RemoveMessageModal from './RemoveMessageModal.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-DMK903AV.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-DhzCuHhn.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-BlD_kPlV.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-DgO_xXWo.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/DateSeparator.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-B-wIh5Qv.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../ui/MessageContent.js';\nimport '../../chunks/bundle-SEoRcjBh.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-B_HhSA6x.js';\nimport '../../chunks/bundle-BBGwVlcE.js';\nimport '../../chunks/bundle-iiHh_YqB.js';\nimport '../../chunks/bundle-BEUsrftF.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-BSieP1ow.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '../../ui/AdminMessage.js';\nimport '../../ui/QuoteMessage.js';\nimport '../../chunks/bundle-COu2UBrG.js';\nimport '../../ui/MobileMenu.js';\nimport '../../ui/ThreadReplies.js';\nimport '../../chunks/bundle-DEVtRtKL.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../chunks/bundle-bLHW4VuD.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CxdqLaUY.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-CsZOw9J5.js';\nimport '@sendbird/uikit-tools';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-B6tSyuRm.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-D9VCJ_xd.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../ui/FeedbackIconButton.js';\nimport '../../ui/MobileFeedbackMenu.js';\nimport '../../ui/MessageFeedbackModal.js';\nimport '../../ui/Input.js';\nimport '../../chunks/bundle-C-Qr6Xbj.js';\nimport '../../GroupChannel/components/SuggestedReplies.js';\nimport '../../chunks/bundle-CaZn7sCJ.js';\nimport '../../chunks/bundle-BoobDQ7G.js';\nimport '../../chunks/bundle-DiNcrytb.js';\nimport '../../chunks/bundle-DMQ4ARs5.js';\n\n/**\n * @deprecated This component is deprecated and will be removed in the next major update.\n * Please use the `GroupChannel` component from '@sendbird/uikit-react/GroupChannel' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar Message = function (props) {\n    var _a, _b;\n    var config = useSendbird().state.config;\n    var _c = useChannelContext(), initialized = _c.initialized, currentGroupChannel = _c.currentGroupChannel, animatedMessageId = _c.animatedMessageId, setAnimatedMessageId = _c.setAnimatedMessageId, updateMessage = _c.updateMessage, scrollToMessage = _c.scrollToMessage, replyType = _c.replyType, threadReplySelectType = _c.threadReplySelectType, isReactionEnabled = _c.isReactionEnabled, toggleReaction = _c.toggleReaction, emojiContainer = _c.emojiContainer, nicknamesMap = _c.nicknamesMap, setQuoteMessage = _c.setQuoteMessage, resendMessage = _c.resendMessage, deleteMessage = _c.deleteMessage, renderUserMentionItem = _c.renderUserMentionItem, onReplyInThread = _c.onReplyInThread, onQuoteMessageClick = _c.onQuoteMessageClick, onMessageAnimated = _c.onMessageAnimated, sendMessage = _c.sendMessage, localMessages = _c.localMessages, allMessages = _c.allMessages;\n    var message = props.message;\n    if (!currentGroupChannel)\n        return null;\n    return (React__default.createElement(MessageView, __assign({}, props, { channel: currentGroupChannel, emojiContainer: emojiContainer, editInputDisabled: !initialized || isDisabledBecauseFrozen(currentGroupChannel) || isDisabledBecauseMuted(currentGroupChannel) || !config.isOnline, shouldRenderSuggestedReplies: ((_a = config === null || config === void 0 ? void 0 : config.groupChannel) === null || _a === void 0 ? void 0 : _a.enableSuggestedReplies)\n            && (((_b = config === null || config === void 0 ? void 0 : config.groupChannel) === null || _b === void 0 ? void 0 : _b.showSuggestedRepliesFor) === 'all_messages'\n                ? true\n                : message.messageId === allMessages[allMessages.length - 1].messageId\n            // Use `allMessages[allMessages.length - 1]` instead of `currentGroupChannel.lastMessage`\n            // because lastMessage is not updated when **Bot** sends messages\n            )\n            // the options should appear only when there's no failed or pending messages\n            && (localMessages === null || localMessages === void 0 ? void 0 : localMessages.length) === 0\n            && getSuggestedReplies(message).length > 0, isReactionEnabled: isReactionEnabled, replyType: replyType, threadReplySelectType: threadReplySelectType, nicknamesMap: nicknamesMap, renderUserMentionItem: renderUserMentionItem, scrollToMessage: scrollToMessage, toggleReaction: toggleReaction, setQuoteMessage: setQuoteMessage, onQuoteMessageClick: onQuoteMessageClick, onReplyInThreadClick: onReplyInThread, sendUserMessage: function (params) {\n            sendMessage({\n                message: params.message,\n                mentionedUsers: params.mentionedUsers,\n                mentionTemplate: params.mentionedMessageTemplate,\n            });\n        }, updateUserMessage: function (messageId, params) {\n            var _a;\n            updateMessage({\n                messageId: messageId,\n                message: (_a = params.message) !== null && _a !== void 0 ? _a : '',\n                mentionedUsers: params.mentionedUsers,\n                mentionTemplate: params.mentionedMessageTemplate,\n            });\n        }, resendMessage: resendMessage, deleteMessage: deleteMessage, animatedMessageId: animatedMessageId, setAnimatedMessageId: setAnimatedMessageId, onMessageAnimated: onMessageAnimated, renderFileViewer: function (props) { return React__default.createElement(FileViewer, __assign({}, props)); }, renderRemoveMessageModal: function (props) { return React__default.createElement(RemoveMessageModal, __assign({}, props)); } })));\n};\n\nexport { Message as default };\n//# sourceMappingURL=Message.js.map\n", "import { a as __spreadArray, _ as __assign } from './bundle-BosquA9C.js';\nimport React__default, { useState, useEffect, useRef, useLayoutEffect, useMemo } from 'react';\nimport { f as format } from './bundle-CDOQ--pz.js';\nimport { u as useLocalization } from './bundle-y-yf0Djs.js';\nimport { M as MAX_USER_MENTION_COUNT, b as MAX_USER_SUGGESTION_COUNT } from './bundle-mxwNwHvq.js';\nimport { i as isDisabledBecauseFrozen, a as isDisabledBecauseMuted } from './bundle-DgO_xXWo.js';\nimport { useDirtyGetMentions } from '../Message/hooks/useDirtyGetMentions.js';\nimport { g as getSuggestedReplies } from './bundle-Ug7rKzFJ.js';\nimport DateSeparator from '../ui/DateSeparator.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from './bundle-MoKyCGQH.js';\nimport MessageInput from '../ui/MessageInput.js';\nimport { M as MessageInputKeys } from './bundle-B-wIh5Qv.js';\nimport { MessageContent } from '../ui/MessageContent.js';\nimport SuggestedReplies from '../GroupChannel/components/SuggestedReplies.js';\nimport { S as SuggestedMentionListView } from './bundle-CaZn7sCJ.js';\nimport { d as deleteNullish, c as classnames } from './bundle-Bc1fdQjj.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\n\nvar useDidMountEffect = function (func, deps) {\n    var _a = useState(false), didMount = _a[0], setDidMount = _a[1];\n    useEffect(function () {\n        if (didMount) {\n            func();\n        }\n        else {\n            setDidMount(true);\n        }\n    }, deps);\n};\n\n// TODO: Refactor this component, is too complex now\nvar MessageView = function (props) {\n    var _a, _b;\n    var \n    // MessageProps\n    message = props.message, children = props.children, hasSeparator = props.hasSeparator, chainTop = props.chainTop, chainBottom = props.chainBottom, handleScroll = props.handleScroll, \n    // MessageViewProps\n    channel = props.channel, emojiContainer = props.emojiContainer, editInputDisabled = props.editInputDisabled, shouldRenderSuggestedReplies = props.shouldRenderSuggestedReplies, isReactionEnabled = props.isReactionEnabled, replyType = props.replyType, threadReplySelectType = props.threadReplySelectType, nicknamesMap = props.nicknamesMap, scrollToMessage = props.scrollToMessage, toggleReaction = props.toggleReaction, setQuoteMessage = props.setQuoteMessage, onQuoteMessageClick = props.onQuoteMessageClick, onReplyInThreadClick = props.onReplyInThreadClick, onBeforeDownloadFileMessage = props.onBeforeDownloadFileMessage, sendUserMessage = props.sendUserMessage, updateUserMessage = props.updateUserMessage, resendMessage = props.resendMessage, deleteMessage = props.deleteMessage, setAnimatedMessageId = props.setAnimatedMessageId, animatedMessageId = props.animatedMessageId, onMessageAnimated = props.onMessageAnimated, _c = props.usedInLegacy, usedInLegacy = _c === void 0 ? true : _c;\n    var _d = deleteNullish(props), renderUserMentionItem = _d.renderUserMentionItem, renderMessage = _d.renderMessage, _e = _d.renderMessageContent, renderMessageContent = _e === void 0 ? function (props) { return React__default.createElement(MessageContent, __assign({}, props)); } : _e, _f = _d.renderSuggestedReplies, renderSuggestedReplies = _f === void 0 ? function (props) { return React__default.createElement(SuggestedReplies, __assign({}, props)); } : _f, renderCustomSeparator = _d.renderCustomSeparator, renderEditInput = _d.renderEditInput, renderFileViewer = _d.renderFileViewer, renderRemoveMessageModal = _d.renderRemoveMessageModal, filterEmojiCategoryIds = _d.filterEmojiCategoryIds;\n    var _g = useLocalization(), dateLocale = _g.dateLocale, stringSet = _g.stringSet;\n    var state = useSendbird().state;\n    var _h = state.config, userId = _h.userId, isOnline = _h.isOnline, userMention = _h.userMention, logger = _h.logger, groupChannel = _h.groupChannel;\n    var maxUserMentionCount = (userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount) || MAX_USER_MENTION_COUNT;\n    var maxUserSuggestionCount = (userMention === null || userMention === void 0 ? void 0 : userMention.maxSuggestionCount) || MAX_USER_SUGGESTION_COUNT;\n    var _j = useState(false), showEdit = _j[0], setShowEdit = _j[1];\n    var _k = useState(false), showRemove = _k[0], setShowRemove = _k[1];\n    var _l = useState(false), showFileViewer = _l[0], setShowFileViewer = _l[1];\n    var _m = useState(false), isAnimated = _m[0], setIsAnimated = _m[1];\n    var _o = useState(''), mentionNickname = _o[0], setMentionNickname = _o[1];\n    var _p = useState([]), mentionedUsers = _p[0], setMentionedUsers = _p[1];\n    var _q = useState([]), mentionedUserIds = _q[0], setMentionedUserIds = _q[1];\n    var _r = useState(null), messageInputEvent = _r[0], setMessageInputEvent = _r[1];\n    var _s = useState(null), selectedUser = _s[0], setSelectedUser = _s[1];\n    var _t = useState([]), mentionSuggestedUsers = _t[0], setMentionSuggestedUsers = _t[1];\n    var editMessageInputRef = useRef(null);\n    var messageScrollRef = useRef(null);\n    var displaySuggestedMentionList = isOnline\n        && groupChannel.enableMention && mentionNickname.length > 0\n        && !isDisabledBecauseFrozen(channel)\n        && !isDisabledBecauseMuted(channel);\n    var mentionNodes = useDirtyGetMentions({ ref: editMessageInputRef }, { logger: logger });\n    var ableMention = (mentionNodes === null || mentionNodes === void 0 ? void 0 : mentionNodes.length) < maxUserMentionCount;\n    useEffect(function () {\n        setMentionedUsers(mentionedUsers.filter(function (_a) {\n            var userId = _a.userId;\n            var i = mentionedUserIds.indexOf(userId);\n            if (i < 0) {\n                return false;\n            }\n            else {\n                mentionedUserIds.splice(i, 1);\n                return true;\n            }\n        }));\n    }, [mentionedUserIds]);\n    // Side effect: scroll position update when showEdit is toggled or reactions updated\n    useDidMountEffect(function () {\n        handleScroll === null || handleScroll === void 0 ? void 0 : handleScroll();\n    }, [showEdit, (_a = message === null || message === void 0 ? void 0 : message.reactions) === null || _a === void 0 ? void 0 : _a.length]);\n    // Side effect: scroll position update when message updated\n    useDidMountEffect(function () {\n        handleScroll === null || handleScroll === void 0 ? void 0 : handleScroll(true);\n    }, [message === null || message === void 0 ? void 0 : message.updatedAt, message === null || message === void 0 ? void 0 : message.message]);\n    // Side effect: scroll position update when suggested replies are rendered or hidden\n    var prevShouldRenderSuggestedReplies = useRef(shouldRenderSuggestedReplies);\n    useEffect(function () {\n        if (prevShouldRenderSuggestedReplies.current !== shouldRenderSuggestedReplies) {\n            handleScroll === null || handleScroll === void 0 ? void 0 : handleScroll();\n        }\n        else {\n            prevShouldRenderSuggestedReplies.current = shouldRenderSuggestedReplies;\n        }\n    }, [shouldRenderSuggestedReplies]);\n    useLayoutEffect(function () {\n        // Keep the scrollBottom value after fetching new message list (but GroupChannel module is not needed.)\n        if (usedInLegacy)\n            handleScroll === null || handleScroll === void 0 ? void 0 : handleScroll(true);\n    }, []);\n    useLayoutEffect(function () {\n        var timeouts = [];\n        if (animatedMessageId === message.messageId && (messageScrollRef === null || messageScrollRef === void 0 ? void 0 : messageScrollRef.current)) {\n            timeouts.push(setTimeout(function () {\n                setIsAnimated(true);\n            }, 500));\n            timeouts.push(setTimeout(function () {\n                setAnimatedMessageId(null);\n                onMessageAnimated === null || onMessageAnimated === void 0 ? void 0 : onMessageAnimated();\n            }, 1600));\n        }\n        else {\n            setIsAnimated(false);\n        }\n        return function () {\n            timeouts.forEach(function (it) { return clearTimeout(it); });\n        };\n    }, [animatedMessageId, messageScrollRef.current, message.messageId]);\n    var renderedCustomSeparator = useMemo(function () { var _a; return (_a = renderCustomSeparator === null || renderCustomSeparator === void 0 ? void 0 : renderCustomSeparator({ message: message })) !== null && _a !== void 0 ? _a : null; }, [message, renderCustomSeparator]);\n    var renderChildren = function () {\n        if (children) {\n            return children;\n        }\n        if (renderMessage) {\n            var messageProps = __assign(__assign({}, props), { renderMessage: undefined });\n            return renderMessage(messageProps);\n        }\n        return (React__default.createElement(React__default.Fragment, null,\n            renderMessageContent({\n                className: 'sendbird-message-hoc__message-content',\n                userId: userId,\n                scrollToMessage: scrollToMessage,\n                channel: channel,\n                message: message,\n                disabled: !isOnline,\n                chainTop: chainTop,\n                chainBottom: chainBottom,\n                isReactionEnabled: isReactionEnabled,\n                replyType: replyType,\n                threadReplySelectType: threadReplySelectType,\n                nicknamesMap: nicknamesMap,\n                emojiContainer: emojiContainer,\n                showEdit: setShowEdit,\n                showRemove: setShowRemove,\n                showFileViewer: setShowFileViewer,\n                resendMessage: resendMessage,\n                deleteMessage: deleteMessage,\n                toggleReaction: toggleReaction,\n                setQuoteMessage: setQuoteMessage,\n                onReplyInThread: onReplyInThreadClick,\n                onQuoteMessageClick: onQuoteMessageClick,\n                onMessageHeightChange: handleScroll,\n                onBeforeDownloadFileMessage: onBeforeDownloadFileMessage,\n                filterEmojiCategoryIds: filterEmojiCategoryIds,\n            }),\n            shouldRenderSuggestedReplies && renderSuggestedReplies({\n                replyOptions: getSuggestedReplies(message),\n                onSendMessage: sendUserMessage,\n                type: groupChannel === null || groupChannel === void 0 ? void 0 : groupChannel.suggestedRepliesDirection,\n            }),\n            showRemove && (renderRemoveMessageModal === null || renderRemoveMessageModal === void 0 ? void 0 : renderRemoveMessageModal({ message: message, onCancel: function () { return setShowRemove(false); } })),\n            showFileViewer && renderFileViewer({ message: message, onCancel: function () { return setShowFileViewer(false); } })));\n    };\n    if (showEdit && ((_b = message === null || message === void 0 ? void 0 : message.isUserMessage) === null || _b === void 0 ? void 0 : _b.call(message))) {\n        return ((renderEditInput === null || renderEditInput === void 0 ? void 0 : renderEditInput()) || (React__default.createElement(React__default.Fragment, null,\n            displaySuggestedMentionList && (React__default.createElement(SuggestedMentionListView, { currentChannel: channel, targetNickname: mentionNickname, inputEvent: messageInputEvent !== null && messageInputEvent !== void 0 ? messageInputEvent : undefined, renderUserMentionItem: renderUserMentionItem, onUserItemClick: function (user) {\n                    if (user) {\n                        setMentionedUsers(__spreadArray(__spreadArray([], mentionedUsers, true), [user], false));\n                    }\n                    setMentionNickname('');\n                    setSelectedUser(user);\n                    setMessageInputEvent(null);\n                }, onFocusItemChange: function () {\n                    setMessageInputEvent(null);\n                }, onFetchUsers: function (users) {\n                    setMentionSuggestedUsers(users);\n                }, ableAddMention: ableMention, maxMentionCount: maxUserMentionCount, maxSuggestionCount: maxUserSuggestionCount })),\n            React__default.createElement(MessageInput, { isEdit: true, channel: channel, disabled: editInputDisabled, ref: editMessageInputRef, mentionSelectedUser: selectedUser, isMentionEnabled: groupChannel.enableMention, message: message, onStartTyping: function () {\n                    var _a;\n                    (_a = channel === null || channel === void 0 ? void 0 : channel.startTyping) === null || _a === void 0 ? void 0 : _a.call(channel);\n                }, onUpdateMessage: function (_a) {\n                    var _b;\n                    var messageId = _a.messageId, message = _a.message, mentionTemplate = _a.mentionTemplate;\n                    updateUserMessage(messageId, {\n                        message: message,\n                        mentionedUsers: mentionedUsers,\n                        mentionedMessageTemplate: mentionTemplate,\n                    });\n                    setShowEdit(false);\n                    (_b = channel === null || channel === void 0 ? void 0 : channel.endTyping) === null || _b === void 0 ? void 0 : _b.call(channel);\n                }, onCancelEdit: function () {\n                    var _a;\n                    setMentionNickname('');\n                    setMentionedUsers([]);\n                    setMentionedUserIds([]);\n                    setMentionSuggestedUsers([]);\n                    setShowEdit(false);\n                    (_a = channel === null || channel === void 0 ? void 0 : channel.endTyping) === null || _a === void 0 ? void 0 : _a.call(channel);\n                }, onUserMentioned: function (user) {\n                    if ((selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.userId) === (user === null || user === void 0 ? void 0 : user.userId)) {\n                        setSelectedUser(null);\n                        setMentionNickname('');\n                    }\n                }, onMentionStringChange: function (mentionText) {\n                    setMentionNickname(mentionText);\n                }, onMentionedUserIdsUpdated: function (userIds) {\n                    setMentionedUserIds(userIds);\n                }, onKeyDown: function (e) {\n                    if (displaySuggestedMentionList\n                        && (mentionSuggestedUsers === null || mentionSuggestedUsers === void 0 ? void 0 : mentionSuggestedUsers.length) > 0\n                        && ((e.key === MessageInputKeys.Enter && ableMention)\n                            || e.key === MessageInputKeys.ArrowUp\n                            || e.key === MessageInputKeys.ArrowDown)) {\n                        setMessageInputEvent(e);\n                        return true;\n                    }\n                    return false;\n                } }))));\n    }\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-msg-hoc sendbird-msg--scroll-ref', isAnimated && 'sendbird-msg-hoc__animated'), \"data-testid\": \"sendbird-message-view\", style: children || renderMessage ? undefined : { marginBottom: '2px' }, \"data-sb-message-id\": message.messageId, \"data-sb-created-at\": message.createdAt, ref: messageScrollRef },\n        hasSeparator\n            && (renderedCustomSeparator || (React__default.createElement(DateSeparator, null,\n                React__default.createElement(Label, { type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, format(message.createdAt, stringSet.DATE_FORMAT__MESSAGE_LIST__DATE_SEPARATOR, {\n                    locale: dateLocale,\n                }))))),\n        renderChildren()));\n};\n\nexport { MessageView as M };\n//# sourceMappingURL=bundle-DL8bJVs5.js.map\n", "import { U as UIKIT_COMPATIBLE_FORM_VERSION } from './bundle-mxwNwHvq.js';\n\nfunction getComponentKeyFromMessage(message) {\n    if ('sendingStatus' in message) {\n        if (message.sendingStatus === 'succeeded')\n            return String(message.messageId);\n        return message.reqId;\n    }\n    return String(message.messageId);\n}\nfunction isContextMenuClosed() {\n    var _a, _b;\n    return (((_a = document.getElementById('sendbird-dropdown-portal')) === null || _a === void 0 ? void 0 : _a.childElementCount) === 0\n        && ((_b = document.getElementById('sendbird-emoji-list-portal')) === null || _b === void 0 ? void 0 : _b.childElementCount) === 0);\n}\nfunction getMessageTopOffset(messageCreatedAt) {\n    var _a;\n    var element = (_a = document.querySelectorAll(\"[data-sb-created-at=\\\"\".concat(messageCreatedAt, \"\\\"]\"))) === null || _a === void 0 ? void 0 : _a[0];\n    if (element instanceof HTMLElement) {\n        return element.offsetTop;\n    }\n    return null;\n}\nvar isDisabledBecauseFrozen = function (groupChannel) {\n    if (!groupChannel)\n        return false;\n    return groupChannel.isFrozen && groupChannel.myRole !== 'operator';\n};\nvar isDisabledBecauseMuted = function (groupChannel) {\n    if (!groupChannel)\n        return false;\n    return groupChannel.myMutedState === 'muted';\n};\nvar isDisabledBecauseSuggestedReplies = function (channel, enableSuggestedReplies) {\n    var _a, _b, _c, _d;\n    return enableSuggestedReplies\n        && Array.isArray((_b = (_a = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _a === void 0 ? void 0 : _a.extendedMessagePayload) === null || _b === void 0 ? void 0 : _b.suggested_replies)\n        && !!((_d = (_c = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _c === void 0 ? void 0 : _c.extendedMessagePayload) === null || _d === void 0 ? void 0 : _d.disable_chat_input);\n};\nvar isFormVersionCompatible = function (version) {\n    return version <= UIKIT_COMPATIBLE_FORM_VERSION;\n};\nvar isDisabledBecauseMessageForm = function (allMessages, enableFormTypeMessage) {\n    return enableFormTypeMessage\n        && allMessages.some(function (message) {\n            var _a;\n            return (!!message.messageForm\n                && !message.messageForm.isSubmitted\n                && !!((_a = message.extendedMessagePayload) === null || _a === void 0 ? void 0 : _a.disable_chat_input)\n                && isFormVersionCompatible(message.messageForm.version));\n        });\n};\n\nexport { isDisabledBecauseMuted as a, isContextMenuClosed as b, isDisabledBecauseSuggestedReplies as c, isDisabledBecauseMessageForm as d, getMessageTopOffset as e, isFormVersionCompatible as f, getComponentKeyFromMessage as g, isDisabledBecauseFrozen as i };\n//# sourceMappingURL=bundle-DgO_xXWo.js.map\n", "import { useState, useLayoutEffect, useEffect } from 'react';\n\nfunction getMentionNodes(root) {\n    if (root) {\n        var mentions = root.querySelectorAll('[data-sb-mention=\\'true\\']');\n        var mentionsArray = Array.from(mentions);\n        return mentionsArray;\n    }\n    return [];\n}\n\n/**\n * exported, should be backwords compatible\n * This is a dirty way to get the mentions given DOM node\n */\nfunction useDirtyGetMentions(_a, _b) {\n    var ref = _a.ref;\n    var logger = _b.logger;\n    // Select the node that will be observed for mutations\n    var targetNode = ref.current;\n    var _c = useState([]), mentionNodes = _c[0], setMentionNodes = _c[1];\n    // to get the initial mentions\n    useLayoutEffect(function () {\n        if (targetNode) {\n            var mentions = getMentionNodes(targetNode);\n            setMentionNodes(mentions);\n        }\n    }, [targetNode]);\n    useEffect(function () {\n        // Options for the observer (which mutations to observe)\n        var config = { childList: true, subtree: true };\n        // Callback function to execute when mutations are observed\n        var callback = function (mutationList) {\n            var hasMutation = mutationList.length > 0;\n            if (hasMutation) {\n                setMentionNodes(getMentionNodes(targetNode));\n            }\n        };\n        // Create an observer instance linked to the callback function\n        var observer = new MutationObserver(callback);\n        if (targetNode) {\n            // Start observing the target node for configured mutations\n            observer.observe(targetNode, config);\n            // logger.info('useDirtyGetMentions: observer started', { observer, config });\n        }\n        return function () {\n            try {\n                observer.disconnect();\n                // logger.info('useDirtyGetMentions: observer disconnected', { observer });\n            }\n            catch (error) {\n                logger.error('useDirtyGetMentions: observer disconnect failed', { observer: observer });\n            }\n        };\n    }, [targetNode]);\n    return mentionNodes;\n}\n\nexport { useDirtyGetMentions };\n//# sourceMappingURL=useDirtyGetMentions.js.map\n", "import { a as __spreadArray } from '../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { C as Colors, c as changeColorToClassName } from '../chunks/bundle-DU7VpG0M.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport '../chunks/bundle-DXRcwk7R.js';\n\nvar DateSeparator = function (_a) {\n    var _b = _a.children, children = _b === void 0 ? undefined : _b, _c = _a.className, className = _c === void 0 ? '' : _c, _d = _a.separatorColor, separatorColor = _d === void 0 ? Colors.ONBACKGROUND_4 : _d;\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-separator',\n        ], false).join(' ') },\n        React__default.createElement(\"div\", { className: ['sendbird-separator__left', \"\".concat(changeColorToClassName(separatorColor), \"--background-color\")].join(' ') }),\n        React__default.createElement(\"div\", { className: \"sendbird-separator__text\" }, children\n            || (React__default.createElement(Label, { type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, \"Date Separator\"))),\n        React__default.createElement(\"div\", { className: ['sendbird-separator__right', \"\".concat(changeColorToClassName(separatorColor), \"--background-color\")].join(' ') })));\n};\n\nexport { DateSeparator as default };\n//# sourceMappingURL=DateSeparator.js.map\n", "import { _ as __assign, a as __spreadArray } from '../chunks/bundle-BosquA9C.js';\nimport React__default, { useRef, useState, useEffect, useCallback } from 'react';\nimport { M as MessageInputKeys, N as NodeTypes } from '../chunks/bundle-B-wIh5Qv.js';\nimport { a as USER_MENTION_TEMP_CHAR } from '../chunks/bundle-mxwNwHvq.js';\nimport IconButton from './IconButton.js';\nimport Button, { ButtonTypes, ButtonSizes } from './Button.js';\nimport { r as renderToString, s as sanitizeString, n as nodeListToArray, u as usePaste, i as isChannelTypeSupportsMultipleFilesMessage, e as extractTextAndMentions } from '../chunks/bundle-Ob8Qv8ze.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { u as useLocalization } from '../chunks/bundle-y-yf0Djs.js';\nimport { H as arrayEqual, I as getMimeTypesUIKitAccepts } from '../chunks/bundle-Ug7rKzFJ.js';\nimport { t as tokenizeMessage, T as TOKEN_TYPES, U as USER_MENTION_PREFIX } from '../chunks/bundle-BJl-Stow.js';\nimport { K } from '../chunks/bundle-BA9ZfQ-7.js';\nimport { c as classnames } from '../chunks/bundle-Bc1fdQjj.js';\nimport { i as isMobileIOS } from '../chunks/bundle-CWd47dzy.js';\nimport { u as useSendbird } from '../chunks/bundle-Bk7vYzLW.js';\nimport 'dompurify';\nimport '../chunks/bundle-CnWjrGUf.js';\nimport '../chunks/bundle-B602cp-8.js';\nimport '../chunks/bundle-CXh4vzCv.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\n\n/**\n * FIXME:\n * Import this ChannelType enum from @sendbird/chat\n * once MessageInput.spec unit tests can be run \\wo jest <-> ESM issue\n */\nvar ChannelType;\n(function (ChannelType) {\n    ChannelType[\"BASE\"] = \"base\";\n    ChannelType[\"GROUP\"] = \"group\";\n    ChannelType[\"OPEN\"] = \"open\";\n})(ChannelType || (ChannelType = {}));\n/**\n * FIXME: Simplify this in UIKit@v4\n * If customer is using MessageInput inside our modules(ie: Channel, Thread, etc),\n * we should use the config from the module.\n * If customer is using MessageInput outside our modules(ie: custom UI),\n * we expect Channel to be undefined and customer gets control to show/hide file-upload.\n * @param {*} channel GroupChannel | OpenChannel\n * @param {*} config SendbirdStateConfig\n * @returns boolean\n */\nvar checkIfFileUploadEnabled = function (_a) {\n    var channel = _a.channel, config = _a.config;\n    var isEnabled = K(channel === null || channel === void 0 ? void 0 : channel.channelType)\n        .with(ChannelType.GROUP, function () { var _a; return (_a = config === null || config === void 0 ? void 0 : config.groupChannel) === null || _a === void 0 ? void 0 : _a.enableDocument; })\n        .with(ChannelType.OPEN, function () { var _a; return (_a = config === null || config === void 0 ? void 0 : config.openChannel) === null || _a === void 0 ? void 0 : _a.enableDocument; })\n        .otherwise(function () { return true; });\n    return isEnabled;\n};\n\nvar TEXT_FIELD_ID = 'sendbird-message-input-text-field';\nvar noop = function () {\n    return null;\n};\nvar resetInput = function (ref) {\n    if (ref && ref.current) {\n        ref.current.innerHTML = '';\n    }\n};\nvar initialTargetStringInfo = {\n    targetString: '',\n    startNodeIndex: null,\n    startOffsetIndex: null,\n    endNodeIndex: null,\n    endOffsetIndex: null,\n};\nvar MessageInput = React__default.forwardRef(function (props, externalRef) {\n    var _a, _b, _c, _d, _e;\n    var channel = props.channel, _f = props.className, className = _f === void 0 ? '' : _f, _g = props.messageFieldId, messageFieldId = _g === void 0 ? '' : _g, _h = props.isEdit, isEdit = _h === void 0 ? false : _h, _j = props.isMobile, isMobile = _j === void 0 ? false : _j, _k = props.isMentionEnabled, isMentionEnabled = _k === void 0 ? false : _k, _l = props.isVoiceMessageEnabled, isVoiceMessageEnabled = _l === void 0 ? true : _l, _m = props.isSelectingMultipleFilesEnabled, isSelectingMultipleFilesEnabled = _m === void 0 ? false : _m, _o = props.disabled, disabled = _o === void 0 ? false : _o, _p = props.message, message = _p === void 0 ? null : _p, _q = props.placeholder, placeholder = _q === void 0 ? '' : _q, _r = props.maxLength, maxLength = _r === void 0 ? 5000 : _r, _s = props.onFileUpload, onFileUpload = _s === void 0 ? noop : _s, _t = props.onSendMessage, onSendMessage = _t === void 0 ? noop : _t, _u = props.onUpdateMessage, onUpdateMessage = _u === void 0 ? noop : _u, _v = props.onCancelEdit, onCancelEdit = _v === void 0 ? noop : _v, _w = props.onStartTyping, onStartTyping = _w === void 0 ? noop : _w, _x = props.channelUrl, channelUrl = _x === void 0 ? '' : _x, _y = props.mentionSelectedUser, mentionSelectedUser = _y === void 0 ? null : _y, _z = props.onUserMentioned, onUserMentioned = _z === void 0 ? noop : _z, _0 = props.onMentionStringChange, onMentionStringChange = _0 === void 0 ? noop : _0, _1 = props.onMentionedUserIdsUpdated, onMentionedUserIdsUpdated = _1 === void 0 ? noop : _1, _2 = props.onVoiceMessageIconClick, onVoiceMessageIconClick = _2 === void 0 ? noop : _2, _3 = props.onKeyUp, onKeyUp = _3 === void 0 ? noop : _3, _4 = props.onKeyDown, onKeyDown = _4 === void 0 ? noop : _4, _5 = props.renderFileUploadIcon, renderFileUploadIcon = _5 === void 0 ? noop : _5, _6 = props.renderVoiceMessageIcon, renderVoiceMessageIcon = _6 === void 0 ? noop : _6, _7 = props.renderSendMessageIcon, renderSendMessageIcon = _7 === void 0 ? noop : _7, _8 = props.setMentionedUsers, setMentionedUsers = _8 === void 0 ? noop : _8, acceptableMimeTypes = props.acceptableMimeTypes;\n    var internalRef = (externalRef && 'current' in externalRef) ? externalRef : useRef(null);\n    var ghostInputRef = useRef(null);\n    var textFieldId = messageFieldId || TEXT_FIELD_ID;\n    var stringSet = useLocalization().stringSet;\n    var _9 = useSendbird().state, config = _9.config, eventHandlers = _9.eventHandlers;\n    var isFileUploadEnabled = checkIfFileUploadEnabled({\n        channel: channel,\n        config: config,\n    });\n    var fileInputRef = useRef();\n    var _10 = useState(false), isInput = _10[0], setIsInput = _10[1];\n    var _11 = useState([]), mentionedUserIds = _11[0], setMentionedUserIds = _11[1];\n    var _12 = useState(__assign({}, initialTargetStringInfo)), targetStringInfo = _12[0], setTargetStringInfo = _12[1];\n    // #Edit mode\n    // for easily initialize input value from outside, but\n    // useEffect(_, [channelUrl]) erase it\n    var initialValue = props === null || props === void 0 ? void 0 : props.value;\n    useEffect(function () {\n        var textField = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n        setMentionedUserIds([]);\n        setIsInput((textField === null || textField === void 0 ? void 0 : textField.textContent) ? textField.textContent.trim().length > 0 : false);\n    }, [initialValue]);\n    // #Mention | Clear input value when channel changes\n    useEffect(function () {\n        if (!isEdit) {\n            setIsInput(false);\n            resetInput(internalRef);\n        }\n    }, [channelUrl]);\n    // #Mention & #Edit | Fill message input values\n    useEffect(function () {\n        var _a, _b;\n        if (isEdit && (message === null || message === void 0 ? void 0 : message.messageId)) {\n            // const textField = document.getElementById(textFieldId);\n            var textField = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n            if (isMentionEnabled\n                && (message === null || message === void 0 ? void 0 : message.mentionedUsers)\n                && message.mentionedUsers.length > 0\n                && (message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate)\n                && message.mentionedMessageTemplate.length > 0) {\n                /* mention enabled */\n                var _c = message.mentionedUsers, mentionedUsers_1 = _c === void 0 ? [] : _c;\n                var tokens = tokenizeMessage({\n                    messageText: message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate,\n                    mentionedUsers: mentionedUsers_1,\n                    includeMarkdown: channel.isGroupChannel() && config.groupChannel.enableMarkdownForUserMessage,\n                });\n                if (textField) {\n                    textField.innerHTML = tokens\n                        .map(function (token) {\n                        if (token.type === TOKEN_TYPES.mention) {\n                            var mentionedUser = mentionedUsers_1.find(function (user) { return user.userId === token.userId; });\n                            var nickname = \"\".concat(USER_MENTION_PREFIX).concat((mentionedUser === null || mentionedUser === void 0 ? void 0 : mentionedUser.nickname) || token.value || stringSet.MENTION_NAME__NO_NAME);\n                            return renderToString({\n                                userId: token.userId,\n                                nickname: nickname,\n                            });\n                        }\n                        return sanitizeString(token.value);\n                    })\n                        .join('');\n                }\n            }\n            else {\n                /* mention disabled */\n                try {\n                    if (textField) {\n                        textField.innerHTML = (_a = sanitizeString(message === null || message === void 0 ? void 0 : message.message)) !== null && _a !== void 0 ? _a : '';\n                    }\n                }\n                catch (_d) {\n                    //\n                }\n                setMentionedUserIds([]);\n            }\n            setIsInput((textField === null || textField === void 0 ? void 0 : textField.textContent) ? ((_b = textField === null || textField === void 0 ? void 0 : textField.textContent) === null || _b === void 0 ? void 0 : _b.trim().length) > 0 : false);\n        }\n    }, [isEdit, message]);\n    // #Mention | Detect MentionedLabel modified\n    var useMentionedLabelDetection = useCallback(function () {\n        var _a;\n        var textField = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n        if (isMentionEnabled && textField) {\n            var newMentionedUserIds = Array.from(textField.getElementsByClassName('sendbird-mention-user-label')).map(\n            // @ts-ignore\n            function (node) { var _a; return (_a = node === null || node === void 0 ? void 0 : node.dataset) === null || _a === void 0 ? void 0 : _a.userid; });\n            if (!arrayEqual(mentionedUserIds, newMentionedUserIds) || newMentionedUserIds.length === 0) {\n                onMentionedUserIdsUpdated(newMentionedUserIds);\n                setMentionedUserIds(newMentionedUserIds);\n            }\n        }\n        setIsInput((textField === null || textField === void 0 ? void 0 : textField.textContent) ? ((_a = textField.textContent) === null || _a === void 0 ? void 0 : _a.trim().length) > 0 : false);\n    }, [targetStringInfo, isMentionEnabled]);\n    // #Mention | Replace selected user nickname to the MentionedUserLabel\n    useEffect(function () {\n        var _a, _b, _c, _d;\n        if (isMentionEnabled && mentionSelectedUser) {\n            var targetString = targetStringInfo.targetString, startNodeIndex = targetStringInfo.startNodeIndex, startOffsetIndex = targetStringInfo.startOffsetIndex, endNodeIndex = targetStringInfo.endNodeIndex, endOffsetIndex = targetStringInfo.endOffsetIndex;\n            var textField_1 = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n            if (targetString && startNodeIndex !== null && startOffsetIndex !== null && endOffsetIndex !== null && endNodeIndex !== null && textField_1) {\n                // const textField = document.getElementById(textFieldId);\n                var childNodes = nodeListToArray(textField_1 === null || textField_1 === void 0 ? void 0 : textField_1.childNodes);\n                var startNodeTextContent = (_b = (_a = childNodes[startNodeIndex]) === null || _a === void 0 ? void 0 : _a.textContent) !== null && _b !== void 0 ? _b : '';\n                var frontTextNode = document.createTextNode(startNodeTextContent.slice(0, startOffsetIndex));\n                var endNodeTextContent = (_d = (_c = childNodes[endNodeIndex]) === null || _c === void 0 ? void 0 : _c.textContent) !== null && _d !== void 0 ? _d : '';\n                var backTextNode = endOffsetIndex && document.createTextNode(\"\\u00A0\".concat(endNodeTextContent.slice(endOffsetIndex)));\n                var mentionLabel = renderToString({\n                    userId: mentionSelectedUser === null || mentionSelectedUser === void 0 ? void 0 : mentionSelectedUser.userId,\n                    nickname: \"\".concat(USER_MENTION_TEMP_CHAR).concat((mentionSelectedUser === null || mentionSelectedUser === void 0 ? void 0 : mentionSelectedUser.nickname) || stringSet.MENTION_NAME__NO_NAME),\n                });\n                var div = document.createElement('div');\n                div.innerHTML = mentionLabel;\n                var newNodes = __spreadArray(__spreadArray(__spreadArray([], childNodes.slice(0, startNodeIndex), true), [\n                    frontTextNode,\n                    div.childNodes[0],\n                    backTextNode\n                ], false), childNodes.slice(endNodeIndex + 1), true);\n                if (textField_1) {\n                    textField_1.innerHTML = '';\n                    newNodes.forEach(function (newNode) {\n                        if (newNode) {\n                            textField_1.appendChild(newNode);\n                        }\n                    });\n                }\n                onUserMentioned(mentionSelectedUser);\n                if (window.getSelection || document.getSelection) {\n                    // set caret postion\n                    var selection = window.getSelection() || document.getSelection();\n                    selection === null || selection === void 0 ? void 0 : selection.removeAllRanges();\n                    var range = new Range();\n                    range.selectNodeContents(textField_1);\n                    range.setStart(textField_1.childNodes[startNodeIndex + 2], 1);\n                    range.setEnd(textField_1.childNodes[startNodeIndex + 2], 1);\n                    range.collapse(false);\n                    selection === null || selection === void 0 ? void 0 : selection.addRange(range);\n                    textField_1.focus();\n                }\n                setTargetStringInfo(__assign({}, initialTargetStringInfo));\n                useMentionedLabelDetection();\n            }\n        }\n    }, [mentionSelectedUser, isMentionEnabled]);\n    // #Mention | Detect mentioning user nickname\n    var useMentionInputDetection = useCallback(function () {\n        var _a, _b;\n        var selection = ((_a = window === null || window === void 0 ? void 0 : window.getSelection) === null || _a === void 0 ? void 0 : _a.call(window)) || ((_b = document === null || document === void 0 ? void 0 : document.getSelection) === null || _b === void 0 ? void 0 : _b.call(document));\n        var textField = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n        if ((selection === null || selection === void 0 ? void 0 : selection.anchorNode) === textField) {\n            onMentionStringChange('');\n        }\n        if (isMentionEnabled\n            && textField\n            && selection\n            && selection.anchorNode === selection.focusNode\n            && selection.anchorOffset === selection.focusOffset) {\n            var textStack = '';\n            var startNodeIndex = null;\n            var startOffsetIndex = null;\n            var _loop_1 = function (index) {\n                var currentNode = textField.childNodes[index];\n                if (currentNode.nodeType === NodeTypes.TextNode) {\n                    /* text node */\n                    var textContent = (function () {\n                        var _a;\n                        if (currentNode === selection.anchorNode) {\n                            return (currentNode === null || currentNode === void 0 ? void 0 : currentNode.textContent) ? currentNode === null || currentNode === void 0 ? void 0 : currentNode.textContent.slice(0, selection.anchorOffset) : '';\n                        }\n                        return (_a = currentNode === null || currentNode === void 0 ? void 0 : currentNode.textContent) !== null && _a !== void 0 ? _a : '';\n                    })();\n                    if (textStack.length > 0) {\n                        textStack += textContent;\n                    }\n                    else {\n                        var charLastIndex = textContent.lastIndexOf(USER_MENTION_TEMP_CHAR);\n                        for (var i = charLastIndex - 1; i > -1; i -= 1) {\n                            if (textContent[i] === USER_MENTION_TEMP_CHAR) {\n                                charLastIndex = i;\n                            }\n                            else {\n                                break;\n                            }\n                        }\n                        if (charLastIndex > -1) {\n                            textStack = textContent;\n                            startNodeIndex = index;\n                            startOffsetIndex = charLastIndex;\n                        }\n                    }\n                }\n                else {\n                    /* other nodes */\n                    textStack = '';\n                    startNodeIndex = null;\n                    startOffsetIndex = null;\n                }\n                if (currentNode === selection.anchorNode) {\n                    /**\n                     * targetString could be ''\n                     * startNodeIndex and startOffsetIndex could be null\n                     */\n                    var targetString = textStack && startOffsetIndex !== null ? textStack.slice(startOffsetIndex) : ''; // include template character\n                    setTargetStringInfo({\n                        targetString: targetString,\n                        startNodeIndex: startNodeIndex,\n                        startOffsetIndex: startOffsetIndex,\n                        endNodeIndex: index,\n                        endOffsetIndex: selection.anchorOffset,\n                    });\n                    onMentionStringChange(targetString);\n                    return { value: void 0 };\n                }\n            };\n            for (var index = 0; index < textField.childNodes.length; index += 1) {\n                var state_1 = _loop_1(index);\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n            }\n        }\n    }, [isMentionEnabled]);\n    var sendMessage = function () {\n        var _a, _b;\n        try {\n            var textField_2 = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n            if (!isEdit && (textField_2 === null || textField_2 === void 0 ? void 0 : textField_2.textContent)) {\n                var _c = extractTextAndMentions(textField_2.childNodes), messageText = _c.messageText, mentionTemplate = _c.mentionTemplate;\n                var params = { message: messageText, mentionTemplate: mentionTemplate };\n                onSendMessage(params);\n                resetInput(internalRef);\n                /**\n                 * Note: contentEditable does not work as expected in mobile WebKit (Safari).\n                 * @see https://github.com/sendbird/sendbird-uikit-react/pull/1108\n                 */\n                if (isMobileIOS(navigator.userAgent)) {\n                    if (ghostInputRef.current)\n                        ghostInputRef.current.focus();\n                    requestAnimationFrame(function () { return textField_2.focus(); });\n                }\n                else {\n                    // important: keeps the keyboard open -> must add test on refactor\n                    textField_2.focus();\n                }\n                setIsInput(false);\n            }\n        }\n        catch (error) {\n            (_b = (_a = eventHandlers === null || eventHandlers === void 0 ? void 0 : eventHandlers.message) === null || _a === void 0 ? void 0 : _a.onSendMessageFailed) === null || _b === void 0 ? void 0 : _b.call(_a, message, error);\n        }\n    };\n    var isEditDisabled = !((_b = (_a = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current) === null || _a === void 0 ? void 0 : _a.textContent) === null || _b === void 0 ? void 0 : _b.trim());\n    var editMessage = function () {\n        var _a, _b;\n        try {\n            var textField = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n            var messageId = message === null || message === void 0 ? void 0 : message.messageId;\n            if (isEdit && messageId && textField) {\n                var _c = extractTextAndMentions(textField.childNodes), messageText = _c.messageText, mentionTemplate = _c.mentionTemplate;\n                var params = { messageId: messageId, message: messageText, mentionTemplate: mentionTemplate };\n                onUpdateMessage(params);\n                resetInput(internalRef);\n            }\n        }\n        catch (error) {\n            (_b = (_a = eventHandlers === null || eventHandlers === void 0 ? void 0 : eventHandlers.message) === null || _a === void 0 ? void 0 : _a.onUpdateMessageFailed) === null || _b === void 0 ? void 0 : _b.call(_a, message, error);\n        }\n    };\n    var onPaste = usePaste({\n        ref: internalRef,\n        setMentionedUsers: setMentionedUsers,\n        channel: channel,\n        setIsInput: setIsInput,\n    });\n    var uploadFile = function (event) {\n        var _a, _b;\n        var files = event.currentTarget.files;\n        try {\n            if (files) {\n                onFileUpload(Array.from(files));\n            }\n        }\n        catch (error) {\n            (_b = (_a = eventHandlers === null || eventHandlers === void 0 ? void 0 : eventHandlers.message) === null || _a === void 0 ? void 0 : _a.onFileUploadFailed) === null || _b === void 0 ? void 0 : _b.call(_a, error);\n        }\n        finally {\n            event.target.value = '';\n        }\n    };\n    var adjustScrollToCaret = function () {\n        var _a;\n        var inputRef = internalRef;\n        var selection = window.getSelection();\n        if (!selection || selection.rangeCount === 0)\n            return;\n        // Get the last range (caret or selected text position) from the selection\n        var range = selection.getRangeAt(selection.rangeCount - 1);\n        var rect = range.getBoundingClientRect();\n        var container = (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n        if (!container || !inputRef.current)\n            return;\n        // If the caret (or selection) is below the visible container area, scroll down\n        if (rect.bottom > container.bottom) {\n            var scrollAmount = Math.min(rect.bottom - container.bottom, // Calculate how much we need to scroll\n            inputRef.current.scrollHeight - inputRef.current.clientHeight);\n            inputRef.current.scrollTop += scrollAmount; // Adjust the scroll position downward\n        }\n        // If the caret (or selection) is above the visible container area, scroll up\n        else if (rect.top < container.top) {\n            var scrollAmount = Math.min(container.top - rect.top, // Calculate how much we need to scroll\n            inputRef.current.scrollTop);\n            inputRef.current.scrollTop -= scrollAmount; // Adjust the scroll position upward\n        }\n    };\n    return (React__default.createElement(\"form\", { className: classnames.apply(void 0, __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), false), [isEdit && 'sendbird-message-input__edit',\n            disabled && 'sendbird-message-input-form__disabled'], false)) },\n        React__default.createElement(\"div\", { className: classnames('sendbird-message-input', disabled && 'sendbird-message-input__disabled'), \"data-testid\": \"sendbird-message-input\" },\n            isMobileIOS(navigator.userAgent) && (React__default.createElement(\"input\", { id: 'ghost-input-reset-ime-cjk', ref: ghostInputRef, style: { opacity: 0, padding: 0, margin: 0, height: 0, border: 'none', position: 'absolute', top: -9999 }, defaultValue: '_' })),\n            React__default.createElement(\"div\", { id: \"\".concat(textFieldId).concat(isEdit ? message === null || message === void 0 ? void 0 : message.messageId : ''), className: \"sendbird-message-input--textarea \".concat(textFieldId), contentEditable: !disabled, role: \"textbox\", \"aria-label\": \"Text Input\", ref: internalRef, \n                // @ts-ignore\n                disabled: disabled, maxLength: maxLength, onKeyDown: function (e) {\n                    var _a, _b, _c, _d;\n                    var preventEvent = onKeyDown(e);\n                    if (preventEvent) {\n                        e.preventDefault();\n                    }\n                    else {\n                        if (!e.shiftKey\n                            && e.key === MessageInputKeys.Enter\n                            && !isMobile\n                            && ((_a = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current) === null || _a === void 0 ? void 0 : _a.textContent)\n                            && internalRef.current.textContent.trim().length > 0\n                            && ((_b = e === null || e === void 0 ? void 0 : e.nativeEvent) === null || _b === void 0 ? void 0 : _b.isComposing) !== true\n                        /**\n                         * NOTE: What isComposing does?\n                         * Check if the user has finished composing characters\n                         * (e.g., for languages like Korean, Japanese, where characters are composed from multiple keystrokes)\n                         * Prevents executing the code while the user is still composing characters.\n                         */\n                        ) {\n                            e.preventDefault();\n                            sendMessage();\n                        }\n                        if (e.key === MessageInputKeys.Backspace\n                            && ((_d = (_c = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current) === null || _c === void 0 ? void 0 : _c.childNodes) === null || _d === void 0 ? void 0 : _d.length) === 2\n                            && !internalRef.current.childNodes[0].textContent\n                            && internalRef.current.childNodes[1].nodeType === NodeTypes.ElementNode) {\n                            internalRef.current.removeChild(internalRef.current.childNodes[1]);\n                        }\n                    }\n                }, onKeyUp: function (e) {\n                    var preventEvent = onKeyUp(e);\n                    if (preventEvent) {\n                        e.preventDefault();\n                    }\n                    else {\n                        useMentionInputDetection();\n                    }\n                }, onClick: function () {\n                    useMentionInputDetection();\n                }, onInput: function () {\n                    var _a;\n                    onStartTyping();\n                    setIsInput(((_a = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current) === null || _a === void 0 ? void 0 : _a.textContent) ? internalRef.current.textContent.trim().length > 0 : false);\n                    useMentionedLabelDetection();\n                }, onPaste: function (e) {\n                    onPaste(e);\n                    setTimeout(adjustScrollToCaret);\n                } }),\n            ((_e = (_d = (_c = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current) === null || _c === void 0 ? void 0 : _c.textContent) === null || _d === void 0 ? void 0 : _d.length) !== null && _e !== void 0 ? _e : 0) === 0 && (React__default.createElement(Label, { className: \"sendbird-message-input--placeholder\", type: LabelTypography.BODY_1, color: disabled ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_3 }, placeholder || stringSet.MESSAGE_INPUT__PLACE_HOLDER)),\n            !isEdit && isInput && (React__default.createElement(IconButton, { className: \"sendbird-message-input--send\", height: \"32px\", width: \"32px\", onClick: function () { return sendMessage(); }, testID: \"sendbird-message-input-send-button\" }, (renderSendMessageIcon === null || renderSendMessageIcon === void 0 ? void 0 : renderSendMessageIcon()) || (React__default.createElement(Icon, { type: IconTypes.SEND, fillColor: disabled ? IconColors.ON_BACKGROUND_4 : IconColors.PRIMARY, width: \"20px\", height: \"20px\" })))),\n            !isEdit\n                && !isInput\n                && ((renderFileUploadIcon === null || renderFileUploadIcon === void 0 ? void 0 : renderFileUploadIcon())\n                    // UIKit Dashboard configuration should have lower priority than\n                    // renderFileUploadIcon which is set in code level\n                    || (isFileUploadEnabled && (React__default.createElement(IconButton, { className: classnames('sendbird-message-input--attach', isVoiceMessageEnabled && 'is-voice-message-enabled'), height: \"32px\", width: \"32px\", onClick: function () {\n                            var _a, _b;\n                            // todo: clear previous input\n                            (_b = (_a = fileInputRef === null || fileInputRef === void 0 ? void 0 : fileInputRef.current) === null || _a === void 0 ? void 0 : _a.click) === null || _b === void 0 ? void 0 : _b.call(_a);\n                        } },\n                        React__default.createElement(Icon, { type: IconTypes.ATTACH, fillColor: disabled ? IconColors.ON_BACKGROUND_4 : IconColors.CONTENT_INVERSE, width: \"20px\", height: \"20px\" }),\n                        React__default.createElement(\"input\", { className: \"sendbird-message-input--attach-input\", type: \"file\", ref: fileInputRef, \n                            // It will affect to <Channel /> and <Thread />\n                            onChange: function (event) { return uploadFile(event); }, accept: getMimeTypesUIKitAccepts(acceptableMimeTypes), multiple: isSelectingMultipleFilesEnabled && isChannelTypeSupportsMultipleFilesMessage(channel) }))))),\n            isVoiceMessageEnabled && !isEdit && !isInput && (React__default.createElement(IconButton, { className: \"sendbird-message-input--voice-message\", width: \"32px\", height: \"32px\", onClick: onVoiceMessageIconClick }, (renderVoiceMessageIcon === null || renderVoiceMessageIcon === void 0 ? void 0 : renderVoiceMessageIcon()) || (React__default.createElement(Icon, { type: IconTypes.AUDIO_ON_LINED, fillColor: disabled ? IconColors.ON_BACKGROUND_4 : IconColors.CONTENT_INVERSE, width: \"20px\", height: \"20px\" }))))),\n        isEdit && (React__default.createElement(\"div\", { className: \"sendbird-message-input--edit-action\", \"data-testid\": \"sendbird-message-input--edit-action\" },\n            React__default.createElement(Button, { className: \"sendbird-message-input--edit-action__cancel\", type: ButtonTypes.SECONDARY, size: ButtonSizes.SMALL, onClick: onCancelEdit }, stringSet.BUTTON__CANCEL),\n            React__default.createElement(Button, { className: \"sendbird-message-input--edit-action__save\", type: ButtonTypes.PRIMARY, size: ButtonSizes.SMALL, disabled: isEditDisabled, onClick: function () { return editMessage(); } }, stringSet.BUTTON__SAVE)))));\n});\n\nexport { MessageInput as default };\n//# sourceMappingURL=MessageInput.js.map\n", "var MessageInputKeys = {\n    Enter: 'Enter',\n    ArrowUp: 'ArrowUp',\n    ArrowDown: 'ArrowDown',\n    Backspace: 'Backspace',\n};\nvar NodeTypes = {\n    ElementNode: 1,\n    TextNode: 3,\n};\nvar NodeNames = {\n    Span: 'SPAN',\n    Br: 'BR',\n    Div: 'DIV',\n};\n\nexport { MessageInputKeys as M, NodeTypes as N, NodeNames as a };\n//# sourceMappingURL=bundle-B-wIh5Qv.js.map\n", "import { useCallback } from 'react';\nimport DOMPurify from 'dompurify';\nimport { a as NodeNames, N as NodeTypes } from './bundle-B-wIh5Qv.js';\nimport { a as USER_MENTION_TEMP_CHAR } from './bundle-mxwNwHvq.js';\nimport { a as __spreadArray } from './bundle-BosquA9C.js';\nimport { M as MENTION_USER_LABEL_CLASSNAME } from './bundle-CnWjrGUf.js';\nimport { T as TEXT_MESSAGE_BODY_CLASSNAME } from './bundle-B602cp-8.js';\nimport { O as OG_MESSAGE_BODY_CLASSNAME } from './bundle-CXh4vzCv.js';\n\nfunction renderToString(_a) {\n    var userId = _a.userId, nickname = _a.nickname;\n    // donot change this template, it wont work\n    var el = \"<span data-userid=\\\"\".concat(userId, \"\\\" data-sb-mention=\\\"true\\\" class=\\\"\").concat(MENTION_USER_LABEL_CLASSNAME, \"\\\">\").concat(nickname, \"</span>\");\n    var purifier = DOMPurify(window);\n    var sanitized_ = purifier.sanitize(el);\n    var token = sanitized_.split(' ');\n    var spanTag = token[0], rest = token.slice(1);\n    // we do this because DOMPurify removes the contenteditable attribute\n    var sanitized = __spreadArray([spanTag, 'contenteditable=\"false\"'], rest, true).join(' ');\n    return sanitized;\n}\n\n/**\n * - Converts `<` and `>` characters to their HTML entities (`&#60;` and `&#62;`).\n * - All other characters (including special symbols, emojis, and non-English text) remain unchanged.\n */\nvar sanitizeString = function (str) {\n    if (str === void 0) { str = ''; }\n    if (!str)\n        return '';\n    return str.replace(/[<>]/g, function (char) { return (char === '<' ? '&#60;' : '&#62;'); });\n};\n/**\n * NodeList cannot be used with Array methods\n * @param {NodeListOf<ChildNode>} childNodes\n * @returns Array of child nodes\n */\nvar nodeListToArray = function (childNodes) {\n    return childNodes ? Array.from(childNodes) : [];\n};\nfunction isChannelTypeSupportsMultipleFilesMessage(channel) {\n    var _a;\n    return channel && ((_a = channel.isGroupChannel) === null || _a === void 0 ? void 0 : _a.call(channel)) && !channel.isBroadcast && !channel.isSuper;\n}\n// Type guard: This function ensures that the node contains `innerText` and `dataset` properties\nfunction isHTMLElement(node) {\n    return node.nodeType === NodeTypes.ElementNode;\n}\n// eslint-disable-next-line no-undef\nfunction extractTextAndMentions(childNodes) {\n    var messageText = '';\n    var mentionTemplate = '';\n    childNodes.forEach(function (node) {\n        if (isHTMLElement(node) && node.nodeName === NodeNames.Span) {\n            var innerText = node.innerText, _a = node.dataset, dataset = _a === void 0 ? {} : _a;\n            var _b = dataset.userid, userid = _b === void 0 ? '' : _b;\n            messageText += innerText;\n            mentionTemplate += \"\".concat(USER_MENTION_TEMP_CHAR, \"{\").concat(userid, \"}\");\n        }\n        else if (isHTMLElement(node) && node.nodeName === NodeNames.Br) {\n            messageText += '\\n';\n            mentionTemplate += '\\n';\n        }\n        else if (isHTMLElement(node) && node.nodeName === NodeNames.Div) {\n            var _c = node.textContent, textContent = _c === void 0 ? '' : _c;\n            messageText += \"\\n\".concat(textContent);\n            mentionTemplate += \"\\n\".concat(textContent);\n        }\n        else {\n            var _d = node.textContent, textContent = _d === void 0 ? '' : _d;\n            messageText += textContent;\n            mentionTemplate += textContent;\n        }\n    });\n    return { messageText: messageText, mentionTemplate: mentionTemplate };\n}\n\nfunction insertTemplateToDOM(templateList) {\n    var nodes = templateList.map(function (template) {\n        var text = template.text, userId = template.userId;\n        if (userId) {\n            return renderToString({ userId: userId, nickname: text });\n        }\n        return sanitizeString(text);\n    })\n        .join(' ')\n        // add a space at the end of the mention, else cursor/caret wont work\n        .concat(' ');\n    document.execCommand('insertHTML', false, nodes);\n}\n\nvar MENTION_CLASS = 'sendbird-word__mention';\nvar MENTION_CLASS_IN_INPUT = 'sendbird-mention-user-label';\nvar MENTION_CLASS_COMBINED_QUERY = \".\".concat(MENTION_CLASS, \", .\").concat(MENTION_CLASS_IN_INPUT);\n\nfunction querySelectorIncludingSelf(master, selector) {\n    var result = __spreadArray([\n        master\n    ], Array.from(master.querySelectorAll(selector)), true).find(function (el) { return el.matches(selector); });\n    return result;\n}\n// Pasted dom node can be OG_MESSAGE or partial message or full message\n// full messsage would have TEXT_MESSAGE_BODY_CLASSNAME and have childNodes\n// partial message would not have TEXT_MESSAGE_BODY_CLASSNAME\nfunction getLeafNodes(master) {\n    // og message\n    var ogMessage = querySelectorIncludingSelf(master, \".\".concat(OG_MESSAGE_BODY_CLASSNAME));\n    if (ogMessage) {\n        return nodeListToArray(ogMessage.childNodes);\n    }\n    var textMessageBody = querySelectorIncludingSelf(master, \".\".concat(TEXT_MESSAGE_BODY_CLASSNAME));\n    if (textMessageBody) {\n        return nodeListToArray(textMessageBody.childNodes);\n    }\n    return nodeListToArray(master.childNodes);\n}\nfunction hasMention(parent) {\n    return (parent === null || parent === void 0 ? void 0 : parent.querySelector(MENTION_CLASS_COMBINED_QUERY)) ? true : false;\n}\nfunction domToMessageTemplate(nodeArray) {\n    var templates = nodeArray === null || nodeArray === void 0 ? void 0 : nodeArray.reduce(function (accumulator, currentValue) {\n        var _a, _b;\n        // currentValue can be node(from messageBody or messageInput) or text\n        var mentionNode;\n        // this looks awkward, but it is a fallback to set default text\n        var text = currentValue === null || currentValue === void 0 ? void 0 : currentValue.innerText;\n        // if text node, set text\n        if (currentValue instanceof Text) {\n            mentionNode = false;\n            text = (_a = currentValue.textContent) !== null && _a !== void 0 ? _a : '';\n        }\n        if (currentValue instanceof HTMLElement) {\n            mentionNode = (currentValue.classList.contains(MENTION_CLASS) || currentValue.classList.contains(MENTION_CLASS_IN_INPUT))\n                ? currentValue\n                : currentValue.querySelector(MENTION_CLASS_COMBINED_QUERY);\n        }\n        // if mentionNode is not null, it is a mention\n        if (mentionNode) {\n            var text_1 = currentValue === null || currentValue === void 0 ? void 0 : currentValue.innerText;\n            var userId = (_b = mentionNode.dataset) === null || _b === void 0 ? void 0 : _b.userid;\n            return __spreadArray(__spreadArray([], accumulator, true), [\n                {\n                    text: text_1,\n                    userId: userId,\n                },\n            ], false);\n        }\n        return __spreadArray(__spreadArray([], accumulator, true), [\n            {\n                text: text,\n            },\n        ], false);\n    }, []);\n    return templates;\n}\nfunction getUsersFromWords(templates, channel) {\n    var userMap = {};\n    var users = channel.members;\n    templates.forEach(function (template) {\n        if (template.userId) {\n            var mentionedMember = users.find(function (user) { return user.userId === template.userId; });\n            // Object.values would return array-> [undefined] if the user is not in the channel\n            if (mentionedMember) {\n                userMap[template.userId] = mentionedMember;\n            }\n        }\n    });\n    return Object.values(userMap);\n}\n\nfunction pasteContentAtCaret(content) {\n    var selection = window.getSelection(); // Get the current selection\n    if (selection && selection.rangeCount > 0) {\n        var range = selection.getRangeAt(selection.rangeCount - 1); // Get the last range\n        range.deleteContents(); // Clear any existing content\n        // Create a new text node with the content and a Zero-width space\n        var textNode = document.createTextNode(content + '\\u200B');\n        range.insertNode(textNode); // Insert the new text node at the caret position\n        // Move the caret to the end of the inserted content\n        range.setStart(textNode, textNode.length);\n        range.collapse(true); // Collapse the range (no text selection)\n        // Reset the selection with the updated range\n        selection.removeAllRanges();\n        selection.addRange(range); // Apply the updated selection\n    }\n}\nfunction createPasteNodeWithContent(html) {\n    var pasteNode = document.createElement('div');\n    pasteNode.innerHTML = html;\n    return pasteNode;\n}\n// usePaste Hook\nfunction usePaste(_a) {\n    var ref = _a.ref, setIsInput = _a.setIsInput, channel = _a.channel, setMentionedUsers = _a.setMentionedUsers;\n    return useCallback(function (e) {\n        e.preventDefault();\n        var html = e.clipboardData.getData('text/html');\n        var text = e.clipboardData.getData('text') || getURIListText(e);\n        // 1. Simple text paste: no HTML present\n        if (!html) {\n            pasteContentAtCaret(sanitizeString(text));\n            setIsInput(true);\n            return;\n        }\n        // 2. HTML paste: process mentions and sanitized content\n        var purifier = DOMPurify(window);\n        var cleanHtml = purifier.sanitize(html);\n        var pasteNode = createPasteNodeWithContent(cleanHtml);\n        if (!hasMention(pasteNode)) {\n            // No mention, paste as plain text\n            pasteContentAtCaret(sanitizeString(text));\n            pasteNode.remove();\n            setIsInput(true);\n            return;\n        }\n        // 3. Mentions present: process mentions and update state\n        var leafNodes = getLeafNodes(pasteNode);\n        var words = domToMessageTemplate(leafNodes);\n        var mentionedUsers = channel.isGroupChannel() ? getUsersFromWords(words, channel) : [];\n        setMentionedUsers(mentionedUsers); // Update mentioned users state\n        insertTemplateToDOM(words); // Insert mentions and content into the DOM\n        pasteNode.remove();\n        setIsInput(true);\n    }, [ref, setIsInput, channel, setMentionedUsers]);\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#dragging_links\nfunction getURIListText(e) {\n    var pasteData = e.clipboardData.getData('text/uri-list');\n    if (pasteData.length === 0)\n        return '';\n    return pasteData\n        .split('\\n')\n        .reduce(function (accumulator, line) {\n        var txt = line.trim();\n        if (txt !== '' && !txt.startsWith('#')) {\n            accumulator += txt + '\\n';\n        }\n        return accumulator;\n    }, '');\n}\n\nexport { extractTextAndMentions as e, isChannelTypeSupportsMultipleFilesMessage as i, nodeListToArray as n, renderToString as r, sanitizeString as s, usePaste as u };\n//# sourceMappingURL=bundle-Ob8Qv8ze.js.map\n", "/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func, args) {\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySplice = unapply(Array.prototype.splice);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(func) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return construct(func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.2.4';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (7.3.3)\n   *   - DOM Tree Accessors (3.1.5)\n   *   - Form Element Parent-Child Relations (4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n   *   - HTMLCollection (4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      let value = name === 'value' ? attrValue : stringTrim(attrValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n        } else {\n          arrayPop(DOMPurify.removed);\n        }\n      } catch (_) {}\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n      return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n", "var MENTION_USER_LABEL_CLASSNAME = 'sendbird-mention-user-label';\n\nexport { MENTION_USER_LABEL_CLASSNAME as M };\n//# sourceMappingURL=bundle-CnWjrGUf.js.map\n", "var TEXT_MESSAGE_BODY_CLASSNAME = 'sendbird-text-message-item-body';\n\nexport { TEXT_MESSAGE_BODY_CLASSNAME as T };\n//# sourceMappingURL=bundle-B602cp-8.js.map\n", "var OG_MESSAGE_BODY_CLASSNAME = 'sendbird-og-message-item-body__text-bubble';\n\nexport { OG_MESSAGE_BODY_CLASSNAME as O };\n//# sourceMappingURL=bundle-CXh4vzCv.js.map\n", "import { a as __spreadArray } from './bundle-BosquA9C.js';\n\nvar USER_MENTION_PREFIX = '@';\n\nvar TOKEN_TYPES = {\n    string: 'string',\n    mention: 'mention',\n    url: 'url',\n    undetermined: 'undetermined',\n    markdown: 'markdown',\n};\n\n/**\n * /\\[(.*?)\\]\\((.*?)\\) is for url.\n * /\\*\\*(.*?)\\*\\* for bold.\n */\nvar MarkdownRegex = /\\[(.*?)\\]\\((.*?)\\)|\\*\\*(.*?)\\*\\*/g;\nfunction getUserMentionRegex(mentionedUsers, templatePrefix_) {\n    var templatePrefix = templatePrefix_ || USER_MENTION_PREFIX;\n    return RegExp(\"(\".concat(mentionedUsers.map(function (u) {\n        var userId = u.userId.replace(\n        // If user.id includes these patterns, need to convert it into an escaped one\n        /([.*+?^${}()|[\\]\\\\])/g, '\\\\$1');\n        /**\n         * //{ And //} are also for escaping\n         * because curly braces `{}` are metacharacters in regular expressions used to specify repetition\n         */\n        return \"\".concat(templatePrefix, \"\\\\{\").concat(userId, \"\\\\}\");\n    }).join('|'), \")\"), 'g');\n}\nfunction identifyMentions(_a) {\n    var tokens = _a.tokens, _b = _a.mentionedUsers, mentionedUsers = _b === void 0 ? [] : _b, _c = _a.templatePrefix, templatePrefix = _c === void 0 ? USER_MENTION_PREFIX : _c;\n    if (!(mentionedUsers === null || mentionedUsers === void 0 ? void 0 : mentionedUsers.length)) {\n        return tokens;\n    }\n    var userMentionRegex = getUserMentionRegex(mentionedUsers, templatePrefix);\n    var results = tokens.map(function (token) {\n        // if the token is not undetermined, return it as is\n        // is kinda unnecessary with TS, but just in case\n        if (token.type !== TOKEN_TYPES.undetermined) {\n            return token;\n        }\n        var value = token.value;\n        var parts = value.split(userMentionRegex);\n        var tokens = parts.map(function (part) {\n            if (part.match(userMentionRegex)) {\n                var matchedUser = mentionedUsers.find(function (user) { return \"@{\".concat(user === null || user === void 0 ? void 0 : user.userId, \"}\") === part; });\n                var nickname = (matchedUser === null || matchedUser === void 0 ? void 0 : matchedUser.nickname) || '(No name)';\n                return { value: nickname, type: TOKEN_TYPES.mention, userId: matchedUser === null || matchedUser === void 0 ? void 0 : matchedUser.userId };\n            }\n            else {\n                return { value: part, type: TOKEN_TYPES.undetermined };\n            }\n        });\n        return tokens;\n    }).flat();\n    return results;\n}\nfunction identifyUrlsAndStrings(token) {\n    var URL_REG = /(?:https?:\\/\\/|www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.(xn--)?[a-z]{2,20}\\b([-a-zA-Z0-9@:%_+[\\],.~#?&/=]*[-a-zA-Z0-9@:%_+~#?&/=])*/g;\n    var results = token.map(function (token) {\n        if (token.type !== TOKEN_TYPES.undetermined) {\n            return token;\n        }\n        var _a = token.value, value = _a === void 0 ? '' : _a;\n        var matches = Array.from(value.matchAll(URL_REG));\n        var founds = matches.map(function (value) {\n            var _a;\n            var text = value[0];\n            var start = (_a = value.index) !== null && _a !== void 0 ? _a : 0;\n            var end = start + text.length;\n            return { text: text, start: start, end: end };\n        });\n        var items = [{ value: value, type: TOKEN_TYPES.string }];\n        var cursor = 0;\n        founds.forEach(function (_a) {\n            var text = _a.text, start = _a.start, end = _a.end;\n            var restText = items.pop().value;\n            var head = restText.slice(0, start - cursor);\n            var mid = text;\n            var tail = restText.slice(end - cursor);\n            if (head.length > 0)\n                items.push({ value: head, type: TOKEN_TYPES.string });\n            items.push({ value: mid, type: TOKEN_TYPES.url });\n            if (tail.length > 0)\n                items.push({ value: tail, type: TOKEN_TYPES.string });\n            cursor = end;\n        });\n        return items;\n    }).flat();\n    return results;\n}\n/**\n * For every string token in the given list of tokens, if the token contains markdowns, the token is split into\n * string tokens and markdown tokens in the original order.\n * Returns a new array tokens.\n * @param tokens\n */\nfunction splitTokensWithMarkdowns(tokens) {\n    var prevTokens = tokens;\n    var newTokens = [];\n    prevTokens.forEach(function (token) {\n        if (token.type === TOKEN_TYPES.mention || token.type === TOKEN_TYPES.markdown) {\n            newTokens.push(token);\n            return;\n        }\n        var rawStr = token.value;\n        // @ts-ignore\n        var matches = Array.from(rawStr.matchAll(MarkdownRegex));\n        var allMatches = matches.map(function (value) {\n            var _a;\n            var text = value[0];\n            var start = (_a = value.index) !== null && _a !== void 0 ? _a : 0;\n            var end = start + text.length;\n            return { text: text, start: start, end: end, groups: value.filter(function (val) { return typeof val === 'string'; }) };\n        });\n        var restText = rawStr;\n        var cursor = 0;\n        allMatches.forEach(function (_a) {\n            var text = _a.text, start = _a.start, end = _a.end, groups = _a.groups;\n            var left = {\n                type: TOKEN_TYPES.undetermined,\n                value: restText.slice(0, start - cursor),\n            };\n            newTokens.push(left);\n            var markdownType;\n            if (text.startsWith('[')) {\n                markdownType = 'url';\n            }\n            else if (text.startsWith('**')) {\n                markdownType = 'bold';\n            }\n            var mid = {\n                type: TOKEN_TYPES.markdown,\n                markdownType: markdownType,\n                value: text,\n                groups: groups,\n            };\n            newTokens.push(mid);\n            restText = rawStr.slice(end);\n            cursor = end;\n        });\n        if (restText) {\n            var right = {\n                type: TOKEN_TYPES.undetermined,\n                value: restText,\n            };\n            newTokens.push(right);\n        }\n    });\n    return newTokens;\n}\nfunction combineNearbyStrings(tokens) {\n    var results = tokens.reduce(function (acc, token) {\n        var lastToken = acc[acc.length - 1];\n        if ((lastToken === null || lastToken === void 0 ? void 0 : lastToken.type) === TOKEN_TYPES.string && token.type === TOKEN_TYPES.string) {\n            lastToken.value = \"\".concat(lastToken.value).concat(token.value);\n            return acc;\n        }\n        return __spreadArray(__spreadArray([], acc, true), [token], false);\n    }, []);\n    return results;\n}\n/**\n * Converts text into set of rich tokens\n */\nfunction tokenizeMessage(_a) {\n    var messageText = _a.messageText, _b = _a.mentionedUsers, mentionedUsers = _b === void 0 ? [] : _b, _c = _a.templatePrefix, templatePrefix = _c === void 0 ? USER_MENTION_PREFIX : _c, _d = _a.includeMarkdown, includeMarkdown = _d === void 0 ? false : _d;\n    // mention can be squeezed-in(no-space-between) with other mentions and urls\n    // if no users are mentioned, return the messageText as a single token\n    var partialResult = [{\n            type: TOKEN_TYPES.undetermined,\n            value: messageText,\n        }];\n    // order is important because we want to identify mentions first\n    // identifyMentions will return a token with type mention or undetermined\n    var partialWithMentions = identifyMentions({\n        tokens: partialResult,\n        mentionedUsers: mentionedUsers,\n        templatePrefix: templatePrefix,\n    });\n    var partialsWithUrlsAndMentions = identifyUrlsAndStrings(includeMarkdown\n        ? splitTokensWithMarkdowns(partialWithMentions)\n        : partialWithMentions);\n    var result = combineNearbyStrings(partialsWithUrlsAndMentions);\n    return result;\n}\nfunction getChannelPreviewMessage(messageText) {\n    var partialResult = [{\n            type: TOKEN_TYPES.undetermined,\n            value: messageText,\n        }];\n    var tokens = splitTokensWithMarkdowns(partialResult);\n    return markDownTokenResolver(tokens);\n}\nfunction markDownTokenResolver(tokens) {\n    var result = tokens.map(function (token) {\n        if (token.type === TOKEN_TYPES.markdown) {\n            return markDownTokenResolver(tokenizeMarkdown({ messageText: token.groups[1] }));\n        }\n        return token.value;\n    });\n    return result.join('');\n}\nfunction tokenizeMarkdown(_a) {\n    var messageText = _a.messageText;\n    var partialResult = [{\n            type: TOKEN_TYPES.undetermined,\n            value: messageText,\n        }];\n    var result = combineNearbyStrings(splitTokensWithMarkdowns(partialResult));\n    return result;\n}\n/**\n * Don't need to use this util in DOM element since the white spaces will be kept as is,\n * but will need if the text is wrapped \\w React.Fragement or </>\n * @link https://sendbird.slack.com/archives/GPGHESTL3/p1681180484341369\n * Or!!! -> convert any space or tab in leading/trailing to nbsp\n * to preserve the leading & trailing white spaces\n */\nfunction getWhiteSpacePreservedText(text) {\n    var NON_BREAKING_SPACE = '\\u00A0';\n    // Split the input string into lines\n    var lines = text.split('\\n');\n    // Process each line and convert leading and trailing white spaces to \"\\u00A0\"\n    var processedLines = lines.map(function (line) {\n        var _a, _b;\n        var leadingWhitespace = ((_a = line.match(/^\\s*/)) === null || _a === void 0 ? void 0 : _a[0]) || '';\n        var trailingWhitespace = ((_b = line.match(/\\s*$/)) === null || _b === void 0 ? void 0 : _b[0]) || '';\n        var convertedLeadingWhitespace = leadingWhitespace.replace(/ /g, NON_BREAKING_SPACE);\n        var convertedTrailingWhitespace = trailingWhitespace.replace(/ /g, NON_BREAKING_SPACE);\n        return convertedLeadingWhitespace + line.trim() + convertedTrailingWhitespace;\n    });\n    // Combine the processed lines into a new string with \"\\n\"\n    var result = processedLines.join('\\n');\n    return result;\n}\n\nexport { TOKEN_TYPES as T, USER_MENTION_PREFIX as U, tokenizeMarkdown as a, getWhiteSpacePreservedText as b, getChannelPreviewMessage as g, tokenizeMessage as t };\n//# sourceMappingURL=bundle-BJl-Stow.js.map\n", "import { _ as __assign, b as __awaiter, c as __generator } from '../chunks/bundle-BosquA9C.js';\nimport React__default, { useRef, useState } from 'react';\nimport { f as format } from '../chunks/bundle-CDOQ--pz.js';\nimport { M as MessageStatus } from '../chunks/bundle-SEoRcjBh.js';\nimport { M as MessageMenu } from '../chunks/bundle-iiHh_YqB.js';\nimport { d as MENU_ROOT_ID, E as EMOJI_MENU_ROOT_ID, g as getObservingId, e as MENU_OBSERVING_CLASS_NAME } from '../chunks/bundle-BEUsrftF.js';\nimport { c as classnames, d as deleteNullish, n as noop } from '../chunks/bundle-Bc1fdQjj.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { MessageEmojiMenu } from './MessageItemReactionMenu.js';\nimport EmojiReactions from './EmojiReactions.js';\nimport AdminMessage from './AdminMessage.js';\nimport QuoteMessage from './QuoteMessage.js';\nimport { O as uiContainerType, D as isTemplateMessage, P as isFormMessage, Q as isAdminMessage, R as isValidTemplateMessageType, y as getClassName, d as isMultipleFilesMessage, q as isThumbnailMessage, N as isOGMessage, l as isSendableMessage } from '../chunks/bundle-Ug7rKzFJ.js';\nimport { u as useLocalization } from '../chunks/bundle-y-yf0Djs.js';\nimport { EmojiContainer } from '@sendbird/chat';\nimport { FeedbackRating, Feedback } from '@sendbird/chat/message';\nimport { u as useLongPress } from '../chunks/bundle-BSieP1ow.js';\nimport { MobileMenu } from './MobileMenu.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DvgqpwmQ.js';\nimport ThreadReplies from './ThreadReplies.js';\nimport { T as ThreadReplySelectType } from '../chunks/bundle-mxwNwHvq.js';\nimport { M as MessageProfile, a as MessageBody, b as MessageHeader } from '../chunks/bundle-DEVtRtKL.js';\nimport Icon, { IconTypes } from './Icon.js';\nimport FeedbackIconButton from './FeedbackIconButton.js';\nimport MobileFeedbackMenu from './MobileFeedbackMenu.js';\nimport MessageFeedbackModal from './MessageFeedbackModal.js';\nimport MessageFeedbackFailedModal from './MessageFeedbackFailedModal.js';\nimport { u as useElementObserver } from '../chunks/bundle-C-Qr6Xbj.js';\nimport { M as MESSAGE_TEMPLATE_KEY } from '../chunks/bundle-BDIF-bj_.js';\nimport { u as useSendbird } from '../chunks/bundle-Bk7vYzLW.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport './Loader.js';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-B_HhSA6x.js';\nimport '../chunks/bundle-BBGwVlcE.js';\nimport './IconButton.js';\nimport 'react-dom';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat/groupChannel';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport './ImageRenderer.js';\nimport './ReactionButton.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport './ReactionBadge.js';\nimport './BottomSheet.js';\nimport '../hooks/useModal.js';\nimport '../chunks/bundle-ZMBEGemL.js';\nimport './Button.js';\nimport './UserListItem.js';\nimport '../chunks/bundle-ByW5tGii.js';\nimport '../chunks/bundle-BkCv3z1C.js';\nimport '../chunks/bundle-MdZYxYNf.js';\nimport './MutedAvatarOverlay.js';\nimport './Checkbox.js';\nimport './UserProfile.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DxUY6hv0.js';\nimport './Tooltip.js';\nimport './TooltipWrapper.js';\nimport '../Message/context.js';\nimport '../chunks/bundle-B61f7NvF.js';\nimport '../chunks/bundle-COu2UBrG.js';\nimport './OGMessageItemBody.js';\nimport '../chunks/bundle-bLHW4VuD.js';\nimport '../chunks/bundle-BJl-Stow.js';\nimport './MentionLabel.js';\nimport './LinkLabel.js';\nimport '../chunks/bundle-CXh4vzCv.js';\nimport './TextMessageItemBody.js';\nimport '../chunks/bundle-B602cp-8.js';\nimport './FileMessageItemBody.js';\nimport './TextButton.js';\nimport '../chunks/bundle-DU7VpG0M.js';\nimport '../chunks/bundle-CxdqLaUY.js';\nimport './FileViewer.js';\nimport '../chunks/bundle-CsZOw9J5.js';\nimport '@sendbird/uikit-tools';\nimport './VoiceMessageItemBody.js';\nimport './ProgressBar.js';\nimport '../VoicePlayer/useVoicePlayer.js';\nimport '../chunks/bundle-B6tSyuRm.js';\nimport '../VoiceRecorder/context.js';\nimport './PlaybackTime.js';\nimport './ThumbnailMessageItemBody.js';\nimport './UnknownMessageItemBody.js';\nimport './TemplateMessageItemBody.js';\nimport '../chunks/bundle-D9VCJ_xd.js';\nimport './FallbackTemplateMessageItemBody.tsx.js';\nimport './LoadingTemplateMessageItemBody.tsx.js';\nimport '../chunks/bundle-DgO_xXWo.js';\nimport './Input.js';\n\nvar SbFeedbackStatus;\n(function (SbFeedbackStatus) {\n    /** Feedback is unavailable for this message. This is the default value for base message. */\n    SbFeedbackStatus[\"NOT_APPLICABLE\"] = \"NOT_APPLICABLE\";\n    /** Feedback can be set for this message, but nothing has been submitted yet. */\n    SbFeedbackStatus[\"NO_FEEDBACK\"] = \"NO_FEEDBACK\";\n    /** Feedback can be set for this message, and something has been submitted. */\n    SbFeedbackStatus[\"SUBMITTED\"] = \"SUBMITTED\";\n})(SbFeedbackStatus || (SbFeedbackStatus = {}));\n\nfunction MessageContentForTemplateMessage(props) {\n    var _a, _b, _c;\n    var channel = props.channel, message = props.message, showFileViewer = props.showFileViewer, onMessageHeightChange = props.onMessageHeightChange, onBeforeDownloadFileMessage = props.onBeforeDownloadFileMessage, renderSenderProfile = props.renderSenderProfile, renderMessageHeader = props.renderMessageHeader, renderMessageBody = props.renderMessageBody, isByMe = props.isByMe, displayThreadReplies = props.displayThreadReplies, mouseHover = props.mouseHover, isMobile = props.isMobile, isReactionEnabledInChannel = props.isReactionEnabledInChannel, hoveredMenuClassName = props.hoveredMenuClassName, templateType = props.templateType, useReplying = props.useReplying;\n    var config = useSendbird().state.config;\n    var dateLocale = useLocalization().dateLocale;\n    var uiContainerTypeClassName = (_a = uiContainerType[templateType]) !== null && _a !== void 0 ? _a : '';\n    var senderProfile = renderSenderProfile(__assign(__assign({}, props), { chainBottom: false, className: '', isByMe: isByMe, displayThreadReplies: displayThreadReplies }));\n    var messageHeader = renderMessageHeader(props);\n    var messageBody = renderMessageBody({\n        message: message,\n        channel: channel,\n        showFileViewer: showFileViewer,\n        onMessageHeightChange: onMessageHeightChange,\n        mouseHover: mouseHover,\n        isMobile: isMobile,\n        config: config,\n        isReactionEnabledInChannel: isReactionEnabledInChannel,\n        isByMe: isByMe,\n        onBeforeDownloadFileMessage: onBeforeDownloadFileMessage,\n    });\n    var timeStamp = React__default.createElement(Label, { className: classnames('sendbird-message-content__middle__body-container__created-at', 'right', hoveredMenuClassName, uiContainerTypeClassName), type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, format((message === null || message === void 0 ? void 0 : message.createdAt) || 0, 'p', {\n        locale: dateLocale,\n    }));\n    var templateData = (_b = message.extendedMessagePayload) === null || _b === void 0 ? void 0 : _b[MESSAGE_TEMPLATE_KEY];\n    var _d = (_c = templateData === null || templateData === void 0 ? void 0 : templateData.container_options) !== null && _c !== void 0 ? _c : {}, _e = _d.profile, profile = _e === void 0 ? true : _e, _f = _d.time, time = _f === void 0 ? true : _f, _g = _d.nickname, nickname = _g === void 0 ? true : _g;\n    var hasContainerHeader = profile || nickname;\n    return (React__default.createElement(\"div\", { className: \"sendbird-message-content__sendbird-ui-container-type__default__root\" },\n        !isByMe\n            && hasContainerHeader\n            && !useReplying\n            && (React__default.createElement(\"div\", { className: \"sendbird-message-content__sendbird-ui-container-type__default__header-container\" },\n                React__default.createElement(\"div\", { className: \"sendbird-message-content__sendbird-ui-container-type__default__header-container__left__profile\" }, profile && senderProfile),\n                nickname && messageHeader)),\n        messageBody,\n        (!isByMe && time)\n            && React__default.createElement(\"div\", { className: \"sendbird-message-content__sendbird-ui-container-type__default__bottom\" }, timeStamp)));\n}\n\nfunction MessageContent(props) {\n    var _this = this;\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n    var \n    // Internal props\n    className = props.className, userId = props.userId, channel = props.channel, message = props.message, _p = props.disabled, disabled = _p === void 0 ? false : _p, _q = props.chainTop, chainTop = _q === void 0 ? false : _q, _r = props.chainBottom, chainBottom = _r === void 0 ? false : _r, _s = props.isReactionEnabled, isReactionEnabled = _s === void 0 ? false : _s, _t = props.disableQuoteMessage, disableQuoteMessage = _t === void 0 ? false : _t, replyType = props.replyType, threadReplySelectType = props.threadReplySelectType, nicknamesMap = props.nicknamesMap, emojiContainer = props.emojiContainer, scrollToMessage = props.scrollToMessage, showEdit = props.showEdit, showRemove = props.showRemove, showFileViewer = props.showFileViewer, resendMessage = props.resendMessage, deleteMessage = props.deleteMessage, toggleReaction = props.toggleReaction, setQuoteMessage = props.setQuoteMessage, onReplyInThread = props.onReplyInThread, onQuoteMessageClick = props.onQuoteMessageClick, onMessageHeightChange = props.onMessageHeightChange, onBeforeDownloadFileMessage = props.onBeforeDownloadFileMessage, filterEmojiCategoryIds = props.filterEmojiCategoryIds;\n    // Public props for customization\n    var _u = deleteNullish(props), _v = _u.renderSenderProfile, renderSenderProfile = _v === void 0 ? function (props) { return React__default.createElement(MessageProfile, __assign({}, props)); } : _v, _w = _u.renderMessageBody, renderMessageBody = _w === void 0 ? function (props) { return React__default.createElement(MessageBody, __assign({}, props)); } : _w, _x = _u.renderMessageHeader, renderMessageHeader = _x === void 0 ? function (props) { return React__default.createElement(MessageHeader, __assign({}, props)); } : _x, _y = _u.renderMessageMenu, renderMessageMenu = _y === void 0 ? function (props) { return React__default.createElement(MessageMenu, __assign({}, props)); } : _y, _z = _u.renderEmojiMenu, renderEmojiMenu = _z === void 0 ? function (props) { return React__default.createElement(MessageEmojiMenu, __assign({}, props)); } : _z, _0 = _u.renderEmojiReactions, renderEmojiReactions = _0 === void 0 ? function (props) { return React__default.createElement(EmojiReactions, __assign({}, props)); } : _0, _1 = _u.renderMobileMenuOnLongPress, renderMobileMenuOnLongPress = _1 === void 0 ? function (props) { return React__default.createElement(MobileMenu, __assign({}, props)); } : _1;\n    var _2 = useLocalization(), dateLocale = _2.dateLocale, stringSet = _2.stringSet;\n    var _3 = useSendbird().state, config = _3.config, eventHandlers = _3.eventHandlers;\n    var logger = config.logger;\n    var onPressUserProfileHandler = (_a = eventHandlers === null || eventHandlers === void 0 ? void 0 : eventHandlers.reaction) === null || _a === void 0 ? void 0 : _a.onPressUserProfile;\n    var contentRef = useRef();\n    var threadRepliesRef = useRef();\n    var feedbackButtonsRef = useRef();\n    var isMobile = useMediaQueryContext().isMobile;\n    var _4 = useState(false), showMenu = _4[0], setShowMenu = _4[1];\n    var _5 = useState(false), mouseHover = _5[0], setMouseHover = _5[1];\n    var isMenuMounted = useElementObserver(\"#\".concat(getObservingId(message.messageId), \".\").concat(MENU_OBSERVING_CLASS_NAME), [\n        document.getElementById(MENU_ROOT_ID),\n        document.getElementById(EMOJI_MENU_ROOT_ID),\n    ]);\n    // Feedback states\n    var _6 = useState(false), showFeedbackOptionsMenu = _6[0], setShowFeedbackOptionsMenu = _6[1];\n    var _7 = useState(false), showFeedbackModal = _7[0], setShowFeedbackModal = _7[1];\n    var _8 = useState(''), feedbackFailedText = _8[0], setFeedbackFailedText = _8[1];\n    var isByMe = (userId === ((_b = message === null || message === void 0 ? void 0 : message.sender) === null || _b === void 0 ? void 0 : _b.userId))\n        || ((message === null || message === void 0 ? void 0 : message.sendingStatus) === 'pending')\n        || ((message === null || message === void 0 ? void 0 : message.sendingStatus) === 'failed');\n    var isByMeClassName = isByMe ? 'outgoing' : 'incoming';\n    var chainTopClassName = chainTop ? 'chain-top' : '';\n    var isReactionEnabledInChannel = isReactionEnabled && !(channel === null || channel === void 0 ? void 0 : channel.isEphemeral);\n    var isReactionEnabledClassName = isReactionEnabledInChannel ? 'use-reactions' : '';\n    var hoveredMenuClassName = isMenuMounted ? 'sendbird-mouse-hover' : '';\n    var useReplying = !!((replyType === 'QUOTE_REPLY' || replyType === 'THREAD')\n        && (message === null || message === void 0 ? void 0 : message.parentMessageId) && (message === null || message === void 0 ? void 0 : message.parentMessage)\n        && !disableQuoteMessage);\n    var useReplyingClassName = useReplying ? 'use-quote' : '';\n    // Thread replies\n    var displayThreadReplies = ((_c = message === null || message === void 0 ? void 0 : message.threadInfo) === null || _c === void 0 ? void 0 : _c.replyCount)\n        && message.threadInfo.replyCount > 0\n        && replyType === 'THREAD';\n    // Feedback buttons\n    var isFeedbackMessage = !isByMe\n        && !!(message === null || message === void 0 ? void 0 : message.myFeedbackStatus)\n        && message.myFeedbackStatus !== SbFeedbackStatus.NOT_APPLICABLE;\n    var isFeedbackEnabled = !!((_d = config === null || config === void 0 ? void 0 : config.groupChannel) === null || _d === void 0 ? void 0 : _d.enableFeedback) && isFeedbackMessage;\n    var hasFeedback = (_e = message === null || message === void 0 ? void 0 : message.myFeedback) === null || _e === void 0 ? void 0 : _e.rating;\n    /**\n     * For TemplateMessage or FormMessage, do not display:\n     *   - in web view:\n     *     - message menu\n     *     - reaction menu\n     *     - reply in thread\n     *   - in mobile view:\n     *     - bottom sheet on long click\n     */\n    var isNotSpecialMessage = !isTemplateMessage(message) && !isFormMessage(message);\n    var showLongPressMenu = isNotSpecialMessage && isMobile;\n    var showOutgoingMenu = isNotSpecialMessage && isByMe && !isMobile;\n    var showThreadReplies = isNotSpecialMessage && displayThreadReplies;\n    var showRightContent = isNotSpecialMessage && !isByMe && !isMobile;\n    var getTotalBottom = function () {\n        var sum = 2;\n        if (threadRepliesRef.current) {\n            sum += 4 + threadRepliesRef.current.clientHeight;\n        }\n        if (feedbackButtonsRef.current) {\n            sum += 4 + feedbackButtonsRef.current.clientHeight;\n        }\n        return sum > 0 ? sum + 'px' : '';\n    };\n    var onCloseFeedbackForm = function () {\n        setShowFeedbackModal(false);\n    };\n    var openFeedbackFormOrMenu = function (hasFeedback) {\n        if (hasFeedback === void 0) { hasFeedback = false; }\n        if (isMobile && hasFeedback) {\n            setShowFeedbackOptionsMenu(true);\n        }\n        else {\n            setShowFeedbackModal(true);\n        }\n    };\n    // onMouseDown: (e: React.MouseEvent<T>) => void;\n    // onTouchStart: (e: React.TouchEvent<T>) => void;\n    // onMouseUp: (e: React.MouseEvent<T>) => void;\n    // onMouseLeave: (e: React.MouseEvent<T>) => void;\n    // onTouchEnd: (e: React.TouchEvent<T>) => void;\n    var longPress = useLongPress({\n        onLongPress: function () {\n            if (showLongPressMenu) {\n                setShowMenu(true);\n            }\n        },\n        onClick: noop,\n    }, {\n        delay: 300,\n        shouldPreventDefault: false,\n    });\n    if (isAdminMessage(message)) {\n        return (React__default.createElement(AdminMessage, { message: message }));\n    }\n    if (isTemplateMessage(message)) {\n        var templatePayload = message.extendedMessagePayload[MESSAGE_TEMPLATE_KEY];\n        if (isValidTemplateMessageType(templatePayload)) {\n            return (React__default.createElement(MessageContentForTemplateMessage, __assign({}, props, { renderSenderProfile: renderSenderProfile, renderMessageHeader: renderMessageHeader, renderMessageBody: renderMessageBody, isByMe: isByMe, displayThreadReplies: displayThreadReplies, mouseHover: mouseHover, isMobile: isMobile, isReactionEnabledInChannel: isReactionEnabledInChannel, hoveredMenuClassName: hoveredMenuClassName, templateType: templatePayload['type'], useReplying: useReplying })));\n        }\n    }\n    return (React__default.createElement(\"div\", { className: getClassName([\n            className !== null && className !== void 0 ? className : '',\n            'sendbird-message-content',\n            isByMeClassName,\n        ]), onMouseOver: function () { return setMouseHover(true); }, onMouseLeave: function () { return setMouseHover(false); } },\n        React__default.createElement(\"div\", { className: classnames('sendbird-message-content__left', isReactionEnabledClassName, isByMeClassName, useReplyingClassName), \"data-testid\": \"sendbird-message-content__left\" },\n            renderSenderProfile(__assign(__assign({}, props), { className: 'sendbird-message-content__left__avatar', isByMe: isByMe, displayThreadReplies: displayThreadReplies, bottom: getTotalBottom() })),\n            showOutgoingMenu && (React__default.createElement(\"div\", { className: classnames('sendbird-message-content-menu', isReactionEnabledClassName, hoveredMenuClassName, isByMeClassName) },\n                renderMessageMenu({\n                    channel: channel,\n                    message: message,\n                    isByMe: isByMe,\n                    replyType: replyType,\n                    showEdit: showEdit,\n                    showRemove: showRemove,\n                    resendMessage: resendMessage,\n                    setQuoteMessage: setQuoteMessage,\n                    onReplyInThread: function (_a) {\n                        var _b, _c;\n                        var message = _a.message;\n                        if (threadReplySelectType === ThreadReplySelectType.THREAD) {\n                            onReplyInThread === null || onReplyInThread === void 0 ? void 0 : onReplyInThread({ message: message });\n                        }\n                        else if (threadReplySelectType === ThreadReplySelectType.PARENT) {\n                            scrollToMessage === null || scrollToMessage === void 0 ? void 0 : scrollToMessage((_c = (_b = message.parentMessage) === null || _b === void 0 ? void 0 : _b.createdAt) !== null && _c !== void 0 ? _c : 0, message.parentMessageId);\n                        }\n                    },\n                    deleteMessage: deleteMessage,\n                }),\n                isReactionEnabledInChannel && (renderEmojiMenu({\n                    message: message,\n                    userId: userId,\n                    emojiContainer: emojiContainer,\n                    toggleReaction: toggleReaction,\n                    filterEmojiCategoryIds: filterEmojiCategoryIds,\n                }))))),\n        React__default.createElement(\"div\", __assign({ className: classnames('sendbird-message-content__middle'), \"data-testid\": \"sendbird-message-content__middle\" }, (isMobile ? __assign({}, longPress) : {}), { ref: contentRef }),\n            (!isByMe && !chainTop && !useReplying) && renderMessageHeader(props),\n            (useReplying) ? (React__default.createElement(\"div\", { className: classnames('sendbird-message-content__middle__quote-message', isByMe ? 'outgoing' : 'incoming', useReplyingClassName), \"data-testid\": \"sendbird-message-content__middle__quote-message\" },\n                React__default.createElement(QuoteMessage, { className: \"sendbird-message-content__middle__quote-message__quote\", message: message, userId: userId, isByMe: isByMe, isUnavailable: ((_f = channel === null || channel === void 0 ? void 0 : channel.messageOffsetTimestamp) !== null && _f !== void 0 ? _f : 0) > ((_h = (_g = message.parentMessage) === null || _g === void 0 ? void 0 : _g.createdAt) !== null && _h !== void 0 ? _h : 0), onClick: function () {\n                        var _a;\n                        if (replyType === 'THREAD' && threadReplySelectType === ThreadReplySelectType.THREAD) {\n                            onQuoteMessageClick === null || onQuoteMessageClick === void 0 ? void 0 : onQuoteMessageClick({ message: message });\n                        }\n                        if ((replyType === 'QUOTE_REPLY' || (replyType === 'THREAD' && threadReplySelectType === ThreadReplySelectType.PARENT))\n                            && ((_a = message === null || message === void 0 ? void 0 : message.parentMessage) === null || _a === void 0 ? void 0 : _a.createdAt) && (message === null || message === void 0 ? void 0 : message.parentMessageId)) {\n                            scrollToMessage === null || scrollToMessage === void 0 ? void 0 : scrollToMessage(message.parentMessage.createdAt, message.parentMessageId);\n                        }\n                    } }))) : null,\n            React__default.createElement(\"div\", { className: classnames('sendbird-message-content__middle__body-container') },\n                (isByMe && !chainBottom) && (React__default.createElement(\"div\", { className: classnames('sendbird-message-content__middle__body-container__created-at', 'left', hoveredMenuClassName) },\n                    React__default.createElement(\"div\", { className: \"sendbird-message-content__middle__body-container__created-at__component-container\" },\n                        React__default.createElement(MessageStatus, { message: message, channel: channel })))),\n                renderMessageBody({\n                    message: message,\n                    channel: channel,\n                    showFileViewer: showFileViewer,\n                    onMessageHeightChange: onMessageHeightChange,\n                    mouseHover: mouseHover,\n                    isMobile: isMobile,\n                    config: config,\n                    isReactionEnabledInChannel: isReactionEnabledInChannel,\n                    isByMe: isByMe,\n                    onBeforeDownloadFileMessage: onBeforeDownloadFileMessage,\n                }),\n                (isReactionEnabledInChannel && ((_j = message === null || message === void 0 ? void 0 : message.reactions) === null || _j === void 0 ? void 0 : _j.length) > 0) && (React__default.createElement(\"div\", { className: classnames('sendbird-message-content-reactions', isMultipleFilesMessage(message) ? 'image-grid'\n                        : (isByMe && !isThumbnailMessage(message) && !isOGMessage(message)) && 'primary', mouseHover && 'mouse-hover') }, renderEmojiReactions({\n                    userId: userId,\n                    message: message,\n                    channel: channel,\n                    isByMe: isByMe,\n                    // @ts-ignore\n                    emojiContainer: emojiContainer !== null && emojiContainer !== void 0 ? emojiContainer : new EmojiContainer({}),\n                    memberNicknamesMap: nicknamesMap !== null && nicknamesMap !== void 0 ? nicknamesMap : new Map(),\n                    toggleReaction: toggleReaction,\n                    onPressUserProfile: onPressUserProfileHandler,\n                    filterEmojiCategoryIds: filterEmojiCategoryIds,\n                }))),\n                (!isByMe && !chainBottom) && (React__default.createElement(Label, { className: classnames('sendbird-message-content__middle__body-container__created-at', 'right', hoveredMenuClassName), type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, format((message === null || message === void 0 ? void 0 : message.createdAt) || 0, stringSet.DATE_FORMAT__MESSAGE_CREATED_AT, {\n                    locale: dateLocale,\n                })))),\n            showThreadReplies && (message === null || message === void 0 ? void 0 : message.threadInfo) && (React__default.createElement(ThreadReplies, { className: \"sendbird-message-content__middle__thread-replies\", threadInfo: message === null || message === void 0 ? void 0 : message.threadInfo, onClick: function () { return onReplyInThread === null || onReplyInThread === void 0 ? void 0 : onReplyInThread({ message: message }); }, ref: threadRepliesRef })),\n            isFeedbackEnabled && React__default.createElement(\"div\", { className: \"sendbird-message-content__middle__body-container__feedback-buttons-container\", ref: feedbackButtonsRef },\n                React__default.createElement(FeedbackIconButton, { isSelected: ((_k = message === null || message === void 0 ? void 0 : message.myFeedback) === null || _k === void 0 ? void 0 : _k.rating) === FeedbackRating.GOOD, onClick: function () { return __awaiter(_this, void 0, void 0, function () {\n                        var error_1;\n                        var _a, _b;\n                        return __generator(this, function (_c) {\n                            switch (_c.label) {\n                                case 0:\n                                    if (!!hasFeedback) return [3 /*break*/, 5];\n                                    _c.label = 1;\n                                case 1:\n                                    _c.trys.push([1, 3, , 4]);\n                                    return [4 /*yield*/, message.submitFeedback({\n                                            rating: FeedbackRating.GOOD,\n                                        })];\n                                case 2:\n                                    _c.sent();\n                                    openFeedbackFormOrMenu();\n                                    return [3 /*break*/, 4];\n                                case 3:\n                                    error_1 = _c.sent();\n                                    (_b = (_a = config === null || config === void 0 ? void 0 : config.logger) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, 'Channel: Submit feedback failed.', error_1);\n                                    setFeedbackFailedText(stringSet.FEEDBACK_FAILED_SUBMIT);\n                                    return [3 /*break*/, 4];\n                                case 4: return [3 /*break*/, 6];\n                                case 5:\n                                    openFeedbackFormOrMenu(true);\n                                    _c.label = 6;\n                                case 6: return [2 /*return*/];\n                            }\n                        });\n                    }); }, disabled: !!(message === null || message === void 0 ? void 0 : message.myFeedback) && message.myFeedback.rating !== FeedbackRating.GOOD },\n                    React__default.createElement(Icon, { type: IconTypes.FEEDBACK_LIKE, width: '24px', height: '24px' })),\n                React__default.createElement(FeedbackIconButton, { isSelected: ((_l = message === null || message === void 0 ? void 0 : message.myFeedback) === null || _l === void 0 ? void 0 : _l.rating) === FeedbackRating.BAD, onClick: function () { return __awaiter(_this, void 0, void 0, function () {\n                        var error_2;\n                        var _a, _b;\n                        return __generator(this, function (_c) {\n                            switch (_c.label) {\n                                case 0:\n                                    if (!!hasFeedback) return [3 /*break*/, 5];\n                                    _c.label = 1;\n                                case 1:\n                                    _c.trys.push([1, 3, , 4]);\n                                    return [4 /*yield*/, message.submitFeedback({\n                                            rating: FeedbackRating.BAD,\n                                        })];\n                                case 2:\n                                    _c.sent();\n                                    openFeedbackFormOrMenu();\n                                    return [3 /*break*/, 4];\n                                case 3:\n                                    error_2 = _c.sent();\n                                    (_b = (_a = config === null || config === void 0 ? void 0 : config.logger) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, 'Channel: Submit feedback failed.', error_2);\n                                    setFeedbackFailedText(stringSet.FEEDBACK_FAILED_SUBMIT);\n                                    return [3 /*break*/, 4];\n                                case 4: return [3 /*break*/, 6];\n                                case 5:\n                                    openFeedbackFormOrMenu(true);\n                                    _c.label = 6;\n                                case 6: return [2 /*return*/];\n                            }\n                        });\n                    }); }, disabled: !!(message === null || message === void 0 ? void 0 : message.myFeedback) && message.myFeedback.rating !== FeedbackRating.BAD },\n                    React__default.createElement(Icon, { type: IconTypes.FEEDBACK_DISLIKE, width: '24px', height: '24px' })))),\n        showRightContent && (React__default.createElement(\"div\", { className: classnames('sendbird-message-content__right', chainTopClassName, isReactionEnabledClassName, useReplyingClassName), \"data-testid\": \"sendbird-message-content__right\" },\n            React__default.createElement(\"div\", { className: classnames('sendbird-message-content-menu', chainTopClassName, hoveredMenuClassName, isByMeClassName) },\n                isReactionEnabledInChannel && (renderEmojiMenu({\n                    className: 'sendbird-message-content-menu__reaction-menu',\n                    message: message,\n                    userId: userId,\n                    emojiContainer: emojiContainer,\n                    toggleReaction: toggleReaction,\n                    filterEmojiCategoryIds: filterEmojiCategoryIds,\n                })),\n                renderMessageMenu({\n                    className: 'sendbird-message-content-menu__normal-menu',\n                    channel: channel,\n                    message: message,\n                    isByMe: isByMe,\n                    replyType: replyType,\n                    showRemove: showRemove,\n                    resendMessage: resendMessage,\n                    setQuoteMessage: setQuoteMessage,\n                    onReplyInThread: function (_a) {\n                        var _b, _c;\n                        var message = _a.message;\n                        if (threadReplySelectType === ThreadReplySelectType.THREAD) {\n                            onReplyInThread === null || onReplyInThread === void 0 ? void 0 : onReplyInThread({ message: message });\n                        }\n                        else if (threadReplySelectType === ThreadReplySelectType.PARENT) {\n                            scrollToMessage === null || scrollToMessage === void 0 ? void 0 : scrollToMessage((_c = (_b = message.parentMessage) === null || _b === void 0 ? void 0 : _b.createdAt) !== null && _c !== void 0 ? _c : 0, message.parentMessageId);\n                        }\n                    },\n                    deleteMessage: deleteMessage,\n                })))),\n        showMenu && isSendableMessage(message) && channel && renderMobileMenuOnLongPress({\n            parentRef: contentRef,\n            channel: channel,\n            hideMenu: function () { setShowMenu(false); },\n            message: message,\n            isReactionEnabled: isReactionEnabledInChannel,\n            isByMe: isByMe,\n            userId: userId,\n            replyType: replyType,\n            disabled: disabled,\n            showRemove: showRemove,\n            emojiContainer: emojiContainer,\n            resendMessage: resendMessage,\n            deleteMessage: deleteMessage,\n            setQuoteMessage: setQuoteMessage,\n            toggleReaction: toggleReaction,\n            showEdit: showEdit,\n            onReplyInThread: function (_a) {\n                var _b;\n                var message = _a.message;\n                if (threadReplySelectType === ThreadReplySelectType.THREAD) {\n                    onReplyInThread === null || onReplyInThread === void 0 ? void 0 : onReplyInThread({ message: message });\n                }\n                else if (threadReplySelectType === ThreadReplySelectType.PARENT) {\n                    scrollToMessage === null || scrollToMessage === void 0 ? void 0 : scrollToMessage(((_b = message === null || message === void 0 ? void 0 : message.parentMessage) === null || _b === void 0 ? void 0 : _b.createdAt) || 0, (message === null || message === void 0 ? void 0 : message.parentMessageId) || 0);\n                }\n            },\n            onDownloadClick: function (e) { return __awaiter(_this, void 0, void 0, function () {\n                var allowDownload, err_1;\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (!onBeforeDownloadFileMessage) {\n                                return [2 /*return*/];\n                            }\n                            _c.label = 1;\n                        case 1:\n                            _c.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, onBeforeDownloadFileMessage({ message: message })];\n                        case 2:\n                            allowDownload = _c.sent();\n                            if (!allowDownload) {\n                                e.preventDefault();\n                                (_a = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'MessageContent: Not allowed to download.');\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _c.sent();\n                            (_b = logger === null || logger === void 0 ? void 0 : logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'MessageContent: Error occurred while determining download continuation:', err_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); },\n        }),\n        ((_m = message === null || message === void 0 ? void 0 : message.myFeedback) === null || _m === void 0 ? void 0 : _m.rating) && showFeedbackOptionsMenu && (React__default.createElement(MobileFeedbackMenu, { hideMenu: function () {\n                setShowFeedbackOptionsMenu(false);\n            }, onEditFeedback: function () {\n                setShowFeedbackOptionsMenu(false);\n                setShowFeedbackModal(true);\n            }, onRemoveFeedback: function () { return __awaiter(_this, void 0, void 0, function () {\n                var error_3;\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            _c.trys.push([0, 3, , 4]);\n                            if (!(message.myFeedback !== null)) return [3 /*break*/, 2];\n                            return [4 /*yield*/, message.deleteFeedback(message.myFeedback.id)];\n                        case 1:\n                            _c.sent();\n                            _c.label = 2;\n                        case 2: return [3 /*break*/, 4];\n                        case 3:\n                            error_3 = _c.sent();\n                            (_b = (_a = config === null || config === void 0 ? void 0 : config.logger) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, 'Channel: Delete feedback failed.', error_3);\n                            setFeedbackFailedText(stringSet.FEEDBACK_FAILED_DELETE);\n                            return [3 /*break*/, 4];\n                        case 4:\n                            setShowFeedbackOptionsMenu(false);\n                            return [2 /*return*/];\n                    }\n                });\n            }); } })),\n        ((_o = message === null || message === void 0 ? void 0 : message.myFeedback) === null || _o === void 0 ? void 0 : _o.rating) && showFeedbackModal && (React__default.createElement(MessageFeedbackModal, { selectedFeedback: message.myFeedback.rating, message: message, onUpdate: function (selectedFeedback, comment) { return __awaiter(_this, void 0, void 0, function () {\n                var newFeedback, error_4;\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (!(message.myFeedback !== null)) return [3 /*break*/, 4];\n                            newFeedback = new Feedback({\n                                id: message.myFeedback.id,\n                                rating: selectedFeedback,\n                                comment: comment,\n                            });\n                            _c.label = 1;\n                        case 1:\n                            _c.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, message.updateFeedback(newFeedback)];\n                        case 2:\n                            _c.sent();\n                            return [3 /*break*/, 4];\n                        case 3:\n                            error_4 = _c.sent();\n                            (_b = (_a = config === null || config === void 0 ? void 0 : config.logger) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, 'Channel: Update feedback failed.', error_4);\n                            setFeedbackFailedText(stringSet.FEEDBACK_FAILED_SAVE);\n                            return [3 /*break*/, 4];\n                        case 4:\n                            onCloseFeedbackForm();\n                            return [2 /*return*/];\n                    }\n                });\n            }); }, onClose: onCloseFeedbackForm, onRemove: function () { return __awaiter(_this, void 0, void 0, function () {\n                var error_5;\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            _c.trys.push([0, 3, , 4]);\n                            if (!(message.myFeedback !== null)) return [3 /*break*/, 2];\n                            return [4 /*yield*/, message.deleteFeedback(message.myFeedback.id)];\n                        case 1:\n                            _c.sent();\n                            _c.label = 2;\n                        case 2: return [3 /*break*/, 4];\n                        case 3:\n                            error_5 = _c.sent();\n                            (_b = (_a = config === null || config === void 0 ? void 0 : config.logger) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, 'Channel: Delete feedback failed.', error_5);\n                            setFeedbackFailedText(stringSet.FEEDBACK_FAILED_DELETE);\n                            return [3 /*break*/, 4];\n                        case 4:\n                            onCloseFeedbackForm();\n                            return [2 /*return*/];\n                    }\n                });\n            }); } })),\n        feedbackFailedText && (React__default.createElement(MessageFeedbackFailedModal, { text: feedbackFailedText, onCancel: function () {\n                setFeedbackFailedText('');\n            } }))));\n}\n\nexport { MessageBody, MessageContent, MessageHeader, MessageProfile, MessageContent as default };\n//# sourceMappingURL=MessageContent.js.map\n", "import { a as __spreadArray } from './bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { f as format } from './bundle-CDOQ--pz.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport { c as LabelStringSet, L as Label, a as LabelTypography, b as LabelColors } from './bundle-MoKyCGQH.js';\nimport Loader from '../ui/Loader.js';\nimport { a as isDefaultChannelName, D as isTemplateMessage, k as isImage, A as isGif, j as isVideo, E as isAudio, F as isVoiceMessageMimeType, G as isSentStatus } from './bundle-Ug7rKzFJ.js';\nimport { OutgoingMessageStates, getOutgoingMessageState } from '../utils/message/getOutgoingMessageState.js';\nimport { i as isToday, a as isYesterday, b as isThisYear } from './bundle-B_HhSA6x.js';\nimport { u as useLocalization } from './bundle-y-yf0Djs.js';\nimport { c as classnames } from './bundle-Bc1fdQjj.js';\n\nvar getChannelTitle = function (channel, currentUserId, stringSet) {\n    var _a;\n    if (stringSet === void 0) { stringSet = LabelStringSet; }\n    if (!(channel === null || channel === void 0 ? void 0 : channel.name) && !(channel === null || channel === void 0 ? void 0 : channel.members)) {\n        return stringSet.NO_TITLE;\n    }\n    if (!isDefaultChannelName(channel)) {\n        return channel.name;\n    }\n    if (((_a = channel === null || channel === void 0 ? void 0 : channel.members) === null || _a === void 0 ? void 0 : _a.length) === 1) {\n        return stringSet.NO_MEMBERS;\n    }\n    return ((channel === null || channel === void 0 ? void 0 : channel.members) || [])\n        .filter(function (_a) {\n        var userId = _a.userId;\n        return userId !== currentUserId;\n    })\n        .map(function (_a) {\n        var nickname = _a.nickname;\n        return nickname || stringSet.NO_NAME;\n    })\n        .join(', ');\n};\nvar getLastMessageCreatedAt = function (_a) {\n    var _b;\n    var channel = _a.channel, locale = _a.locale, _c = _a.stringSet, stringSet = _c === void 0 ? LabelStringSet : _c;\n    var createdAt = (_b = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _b === void 0 ? void 0 : _b.createdAt;\n    var optionalParam = locale ? { locale: locale } : null;\n    if (!createdAt) {\n        return '';\n    }\n    if (isToday(createdAt)) {\n        return format(createdAt, stringSet.DATE_FORMAT__LAST_MESSAGE_CREATED_AT__TODAY, optionalParam);\n    }\n    if (isYesterday(createdAt)) {\n        return stringSet.MESSAGE_STATUS__YESTERDAY || 'Yesterday';\n    }\n    if (isThisYear(createdAt)) {\n        return format(createdAt, stringSet.DATE_FORMAT__LAST_MESSAGE_CREATED_AT__THIS_YEAR, optionalParam);\n    }\n    return format(createdAt, stringSet.DATE_FORMAT__LAST_MESSAGE_CREATED_AT__PREVIOUS_YEAR, optionalParam);\n};\nvar getTotalMembers = function (channel) { return ((channel === null || channel === void 0 ? void 0 : channel.memberCount) ? channel.memberCount : 0); };\nvar getChannelPreviewFileDisplayString = function (mimeType, stringSet) {\n    var _a, _b, _c, _d, _e, _f;\n    if (stringSet === void 0) { stringSet = LabelStringSet; }\n    if (isGif(mimeType)) {\n        return (_a = stringSet === null || stringSet === void 0 ? void 0 : stringSet.CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_GIF) !== null && _a !== void 0 ? _a : '';\n    }\n    if (isImage(mimeType)) {\n        return (_b = stringSet === null || stringSet === void 0 ? void 0 : stringSet.CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_PHOTO) !== null && _b !== void 0 ? _b : '';\n    }\n    if (isVideo(mimeType)) {\n        return (_c = stringSet === null || stringSet === void 0 ? void 0 : stringSet.CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_VIDEO) !== null && _c !== void 0 ? _c : '';\n    }\n    if (isAudio(mimeType)) {\n        return (_d = stringSet === null || stringSet === void 0 ? void 0 : stringSet.CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_AUDIO) !== null && _d !== void 0 ? _d : '';\n    }\n    if (isVoiceMessageMimeType(mimeType)) {\n        return (_e = stringSet === null || stringSet === void 0 ? void 0 : stringSet.CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_VOICE_MESSAGE) !== null && _e !== void 0 ? _e : '';\n    }\n    return (_f = stringSet === null || stringSet === void 0 ? void 0 : stringSet.CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_GENERAL) !== null && _f !== void 0 ? _f : '';\n};\nvar getPrettyLastMessage = function (message, stringSet) {\n    var _a, _b, _c, _d;\n    if (message === void 0) { message = null; }\n    if (stringSet === void 0) { stringSet = LabelStringSet; }\n    if (!message)\n        return '';\n    if (isTemplateMessage(message)) {\n        return stringSet.CHANNEL_PREVIEW_LAST_MESSAGE_TEMPLATE_MESSAGE;\n    }\n    if (message.isFileMessage()) {\n        return getChannelPreviewFileDisplayString(message.type, stringSet);\n    }\n    if (message.isMultipleFilesMessage()) {\n        var mimeType = (_b = (_a = message.fileInfoList) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.mimeType;\n        if (isImage(mimeType) || isGif(mimeType)) {\n            return (_c = stringSet === null || stringSet === void 0 ? void 0 : stringSet.CHANNEL_PREVIEW_LAST_MESSAGE_FILE_TYPE_PHOTO) !== null && _c !== void 0 ? _c : '';\n        }\n        return getChannelPreviewFileDisplayString(mimeType, stringSet);\n    }\n    return (_d = message.message) !== null && _d !== void 0 ? _d : '';\n};\nvar getLastMessageText = function (channel, stringSet) {\n    if (stringSet === void 0) { stringSet = LabelStringSet; }\n    return (channel === null || channel === void 0 ? void 0 : channel.lastMessage) ? getPrettyLastMessage(channel === null || channel === void 0 ? void 0 : channel.lastMessage, stringSet) : '';\n};\nvar getChannelUnreadMessageCount = function (channel) { return (channel === null || channel === void 0 ? void 0 : channel.unreadMessageCount) ? channel.unreadMessageCount : 0; };\n\nvar _a, _b;\nvar MessageStatusTypes = OutgoingMessageStates;\nvar iconType = (_a = {},\n    _a[OutgoingMessageStates.SENT] = IconTypes.DONE,\n    _a[OutgoingMessageStates.DELIVERED] = IconTypes.DONE_ALL,\n    _a[OutgoingMessageStates.READ] = IconTypes.DONE_ALL,\n    _a[OutgoingMessageStates.FAILED] = IconTypes.ERROR,\n    _a[OutgoingMessageStates.PENDING] = undefined,\n    _a[OutgoingMessageStates.NONE] = undefined,\n    _a);\nvar iconColor = (_b = {},\n    _b[OutgoingMessageStates.SENT] = IconColors.SENT,\n    _b[OutgoingMessageStates.DELIVERED] = IconColors.SENT,\n    _b[OutgoingMessageStates.READ] = IconColors.READ,\n    _b[OutgoingMessageStates.FAILED] = IconColors.ERROR,\n    _b[OutgoingMessageStates.PENDING] = undefined,\n    _b[OutgoingMessageStates.NONE] = undefined,\n    _b);\nfunction MessageStatus(_a) {\n    var _b;\n    var className = _a.className, message = _a.message, channel = _a.channel, _c = _a.isDateSeparatorConsidered, isDateSeparatorConsidered = _c === void 0 ? true : _c;\n    var _d = useLocalization(), stringSet = _d.stringSet, dateLocale = _d.dateLocale;\n    var status = getOutgoingMessageState(channel, message);\n    var hideMessageStatusIcon = ((_b = channel === null || channel === void 0 ? void 0 : channel.isGroupChannel) === null || _b === void 0 ? void 0 : _b.call(channel)) && ((channel.isSuper || channel.isPublic || channel.isBroadcast)\n        && !(status === OutgoingMessageStates.PENDING || status === OutgoingMessageStates.FAILED));\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-message-status',\n        ], false).join(' ') },\n        (status === OutgoingMessageStates.PENDING) ? (React__default.createElement(Loader, { className: \"sendbird-message-status__icon\", testID: \"sendbird-message-status-icon\", width: \"16px\", height: \"16px\" },\n            React__default.createElement(Icon, { type: IconTypes.SPINNER, fillColor: IconColors.PRIMARY, width: \"16px\", height: \"16px\" }))) : (React__default.createElement(Icon, { className: classnames('sendbird-message-status__icon', hideMessageStatusIcon && 'hide-icon', status !== OutgoingMessageStates.FAILED && 'sendbird-message-status--sent'), testID: \"sendbird-message-status-icon\", type: iconType[status] || IconTypes.ERROR, fillColor: iconColor[status], width: \"16px\", height: \"16px\" })),\n        isSentStatus(status) && (React__default.createElement(Label, { className: \"sendbird-message-status__text\", testID: \"sendbird-message-status-text\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, isDateSeparatorConsidered\n            ? format((message === null || message === void 0 ? void 0 : message.createdAt) || 0, stringSet.DATE_FORMAT__MESSAGE_CREATED_AT, { locale: dateLocale })\n            : getLastMessageCreatedAt({ channel: channel, locale: dateLocale, stringSet: stringSet })))));\n}\n\nexport { MessageStatus as M, getLastMessageText as a, getTotalMembers as b, getLastMessageCreatedAt as c, getChannelUnreadMessageCount as d, MessageStatusTypes as e, getChannelTitle as g };\n//# sourceMappingURL=bundle-SEoRcjBh.js.map\n", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport default function startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}", "import startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameDay\n * @category Day Helpers\n * @summary Are the given dates in the same day (and year and month)?\n *\n * @description\n * Are the given dates in the same day (and year and month)?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same day (and year and month)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4, 6, 0), new Date(2014, 8, 4, 18, 0))\n * //=> true\n *\n * @example\n * // Are 4 September and 4 October in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2014, 9, 4))\n * //=> false\n *\n * @example\n * // Are 4 September, 2014 and 4 September, 2015 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2015, 8, 4))\n * //=> false\n */\nexport default function isSameDay(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfDay = startOfDay(dirtyDateLeft);\n  var dateRightStartOfDay = startOfDay(dirtyDateRight);\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime();\n}", "import isSameDay from \"../isSameDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isToday\n * @category Day Helpers\n * @summary Is the given date today?\n * @pure false\n *\n * @description\n * Is the given date today?\n *\n * >  Please note that this function is not present in the FP submodule as\n * > it uses `Date.now()` internally hence impure and can't be safely curried.\n *\n * @param {Date|Number} date - the date to check\n * @returns {Boolean} the date is today\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // If today is 6 October 2014, is 6 October 14:00:00 today?\n * const result = isToday(new Date(2014, 9, 6, 14, 0))\n * //=> true\n */\nexport default function isToday(dirtyDate) {\n  requiredArgs(1, arguments);\n  return isSameDay(dirtyDate, Date.now());\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameYear\n * @category Year Helpers\n * @summary Are the given dates in the same year?\n *\n * @description\n * Are the given dates in the same year?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same year\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same year?\n * const result = isSameYear(new Date(2014, 8, 2), new Date(2014, 8, 25))\n * //=> true\n */\nexport default function isSameYear(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeft = toDate(dirtyDateLeft);\n  var dateRight = toDate(dirtyDateRight);\n  return dateLeft.getFullYear() === dateRight.getFullYear();\n}", "import isSameYear from \"../isSameYear/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isThisYear\n * @category Year Helpers\n * @summary Is the given date in the same year as the current date?\n * @pure false\n *\n * @description\n * Is the given date in the same year as the current date?\n *\n * >  Please note that this function is not present in the FP submodule as\n * > it uses `Date.now()` internally hence impure and can't be safely curried.\n *\n * @param {Date|Number} date - the date to check\n * @returns {Boolean} the date is in this year\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // If today is 25 September 2014, is 2 July 2014 in this year?\n * const result = isThisYear(new Date(2014, 6, 2))\n * //=> true\n */\nexport default function isThisYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  return isSameYear(dirtyDate, Date.now());\n}", "import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} - the new date with the days added\n * @throws {TypeError} - 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport default function addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n  date.setDate(date.getDate() + amount);\n  return date;\n}", "import addDays from \"../addDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nimport toInteger from \"../_lib/toInteger/index.js\";\n/**\n * @name subDays\n * @category Day Helpers\n * @summary Subtract the specified number of days from the given date.\n *\n * @description\n * Subtract the specified number of days from the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the days subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 10 days from 1 September 2014:\n * const result = subDays(new Date(2014, 8, 1), 10)\n * //=> Fri Aug 22 2014 00:00:00\n */\nexport default function subDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addDays(dirtyDate, -amount);\n}", "import isSameDay from \"../isSameDay/index.js\";\nimport subDays from \"../subDays/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isYesterday\n * @category Day Helpers\n * @summary Is the given date yesterday?\n * @pure false\n *\n * @description\n * Is the given date yesterday?\n *\n * >  Please note that this function is not present in the FP submodule as\n * > it uses `Date.now()` internally hence impure and can't be safely curried.\n *\n * @param {Date|Number} date - the date to check\n * @returns {Boolean} the date is yesterday\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // If today is 6 October 2014, is 5 October 14:00:00 yesterday?\n * const result = isYesterday(new Date(2014, 9, 5, 14, 0))\n * //=> true\n */\nexport default function isYesterday(dirtyDate) {\n  requiredArgs(1, arguments);\n  return isSameDay(dirtyDate, subDays(Date.now(), 1));\n}", "import React__default, { useRef, useState } from 'react';\nimport { n as noop, c as classnames } from './bundle-Bc1fdQjj.js';\nimport { u as useMessageMenuContext, a as MenuItem, M as MessageMenuProvider, b as MenuItems, g as getObservingId } from './bundle-BEUsrftF.js';\nimport { _ as __assign } from './bundle-BosquA9C.js';\nimport IconButton from '../ui/IconButton.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport { m as isUserMessage, B as copyToClipboard, x as isFailedMessage, r as isSentMessage, w as isPendingMessage } from './bundle-Ug7rKzFJ.js';\nimport { u as useLocalization } from './bundle-y-yf0Djs.js';\nimport { Role } from '@sendbird/chat';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\n\nvar TriggerIcon = function (_a) {\n    var ref = _a.ref, _b = _a.onClick, onClick = _b === void 0 ? noop : _b, _c = _a.onBlur, onBlur = _c === void 0 ? noop : _c, _d = _a.renderIcon, renderIcon = _d === void 0 ? function (props) { return React__default.createElement(Icon, __assign({}, props)); } : _d;\n    return (React__default.createElement(IconButton, { ref: ref, width: \"32px\", height: \"32px\", onClick: onClick, onBlur: onBlur }, renderIcon({\n        type: IconTypes.MORE,\n        fillColor: IconColors.CONTENT_INVERSE,\n        width: '24px',\n        height: '24px',\n    })));\n};\nvar CopyMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isUserMessage(message))\n                copyToClipboard(message.message);\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : stringSet.MESSAGE_MENU__COPY));\n};\nvar ReplyMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu, setQuoteMessage = _b.setQuoteMessage;\n    return (React__default.createElement(MenuItem, __assign({}, props, { disabled: message.parentMessageId > 0, onClick: function (e) {\n            var _a;\n            setQuoteMessage(message);\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : stringSet.MESSAGE_MENU__REPLY));\n};\nvar ThreadMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu, onReplyInThread = _b.onReplyInThread;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            onReplyInThread({ message: message });\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : stringSet.MESSAGE_MENU__THREAD));\n};\nvar OpenInChannelMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), hideMenu = _b.hideMenu, onMoveToParentMessage = _b.onMoveToParentMessage;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            onMoveToParentMessage();\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : stringSet.MESSAGE_MENU__OPEN_IN_CHANNEL));\n};\nvar EditMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), hideMenu = _b.hideMenu, showEdit = _b.showEdit, isOnline = _b.isOnline;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isOnline) {\n                showEdit(true);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : stringSet.MESSAGE_MENU__EDIT));\n};\nvar ResendMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu, resendMessage = _b.resendMessage, isOnline = _b.isOnline;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isOnline) {\n                resendMessage(message);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : stringSet.MESSAGE_MENU__RESEND));\n};\nvar DeleteMenuItem = function (props) {\n    var _a, _b, _c;\n    var stringSet = useLocalization().stringSet;\n    var _d = useMessageMenuContext(), message = _d.message, hideMenu = _d.hideMenu, deleteMessage = _d.deleteMessage, showRemove = _d.showRemove, isOnline = _d.isOnline, disableDeleteMessage = _d.disableDeleteMessage;\n    return (React__default.createElement(MenuItem, __assign({}, props, { disabled: typeof disableDeleteMessage === 'boolean'\n            ? disableDeleteMessage\n            : ((_b = (_a = message.threadInfo) === null || _a === void 0 ? void 0 : _a.replyCount) !== null && _b !== void 0 ? _b : 0) > 0, onClick: function (e) {\n            var _a;\n            if (isFailedMessage(message)) {\n                deleteMessage(message);\n            }\n            else if (isOnline) {\n                showRemove(true);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_c = props.children) !== null && _c !== void 0 ? _c : stringSet.MESSAGE_MENU__DELETE));\n};\n\nvar isReplyTypeMessageEnabled = function (_a) {\n    var _b;\n    var channel = _a.channel, message = _a.message;\n    if (isFailedMessage(message) || isPendingMessage(message)) {\n        return false;\n    }\n    if (!((_b = channel === null || channel === void 0 ? void 0 : channel.isGroupChannel) === null || _b === void 0 ? void 0 : _b.call(channel)) || (channel === null || channel === void 0 ? void 0 : channel.isEphemeral)) {\n        return false;\n    }\n    var isBroadcast = channel === null || channel === void 0 ? void 0 : channel.isBroadcast;\n    var isOperator = (channel === null || channel === void 0 ? void 0 : channel.myRole) === Role.OPERATOR;\n    if (isBroadcast)\n        return isOperator;\n    return true;\n};\nvar showMenuItemCopy = function (_a) {\n    var message = _a.message;\n    return isUserMessage(message);\n};\nvar showMenuItemEdit = function (_a) {\n    var message = _a.message, channel = _a.channel, isByMe = _a.isByMe;\n    return (!(channel === null || channel === void 0 ? void 0 : channel.isEphemeral) && isUserMessage(message) && isSentMessage(message) && isByMe);\n};\nvar showMenuItemResend = function (_a) {\n    var message = _a.message, isByMe = _a.isByMe;\n    return (isFailedMessage(message) && (message === null || message === void 0 ? void 0 : message.isResendable) && isByMe);\n};\nvar showMenuItemDelete = function (_a) {\n    var message = _a.message, channel = _a.channel, isByMe = _a.isByMe;\n    return !(channel === null || channel === void 0 ? void 0 : channel.isEphemeral) && !isPendingMessage(message) && isByMe;\n};\nvar showMenuItemOpenInChannel = function (_a) {\n    var _b = _a.onMoveToParentMessage, onMoveToParentMessage = _b === void 0 ? undefined : _b;\n    return !!onMoveToParentMessage;\n};\nvar showMenuItemReply = function (_a) {\n    var channel = _a.channel, message = _a.message, replyType = _a.replyType;\n    return isReplyTypeMessageEnabled({ channel: channel, message: message }) && replyType === 'QUOTE_REPLY';\n};\nvar showMenuItemThread = function (_a) {\n    var channel = _a.channel, message = _a.message, replyType = _a.replyType, onReplyInThread = _a.onReplyInThread;\n    return isReplyTypeMessageEnabled({ channel: channel, message: message }) && replyType === 'THREAD' && !(message === null || message === void 0 ? void 0 : message.parentMessageId) && typeof onReplyInThread === 'function';\n};\n\nvar MessageMenu = function (_a) {\n    var _b;\n    var className = _a.className, message = _a.message, channel = _a.channel, isByMe = _a.isByMe, replyType = _a.replyType, _c = _a.renderTrigger, renderTrigger = _c === void 0 ? TriggerIcon : _c, renderMenuItems = _a.renderMenuItems, _d = _a.disableDeleteMessage, disableDeleteMessage = _d === void 0 ? null : _d, _e = _a.showEdit, showEdit = _e === void 0 ? noop : _e, _f = _a.showRemove, showRemove = _f === void 0 ? noop : _f, deleteMessage = _a.deleteMessage, resendMessage = _a.resendMessage, setQuoteMessage = _a.setQuoteMessage, onReplyInThread = _a.onReplyInThread, onMoveToParentMessage = _a.onMoveToParentMessage;\n    var isOnline = useSendbird().state.config.isOnline;\n    var triggerRef = useRef(null);\n    var containerRef = useRef(null);\n    var _g = useState(false), isMenuVisible = _g[0], setMenuVisibility = _g[1];\n    var hideMenu = function () { return setMenuVisibility(false); };\n    var showMenu = function () { return setMenuVisibility(true); };\n    var toggleMenu = function () { return setMenuVisibility(function (visible) { return !visible; }); };\n    var params = {\n        message: message,\n        channel: channel,\n        isByMe: isByMe,\n        replyType: replyType,\n        onReplyInThread: onReplyInThread,\n        onMoveToParentMessage: onMoveToParentMessage,\n    };\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-message-menu', className), ref: containerRef },\n        React__default.createElement(MessageMenuProvider, { value: {\n                message: message,\n                hideMenu: hideMenu,\n                showMenu: showMenu,\n                toggleMenu: toggleMenu,\n                setQuoteMessage: setQuoteMessage,\n                onReplyInThread: onReplyInThread,\n                onMoveToParentMessage: onMoveToParentMessage,\n                showEdit: showEdit,\n                showRemove: showRemove,\n                deleteMessage: deleteMessage,\n                resendMessage: resendMessage,\n                isOnline: isOnline,\n                disableDeleteMessage: disableDeleteMessage,\n                triggerRef: triggerRef,\n                containerRef: containerRef,\n            } },\n            (renderTrigger({ ref: triggerRef, onClick: toggleMenu })),\n            isMenuVisible && (React__default.createElement(MenuItems, { id: getObservingId(message.messageId), parentRef: triggerRef, parentContainRef: containerRef, closeDropdown: hideMenu, openLeft: isByMe }, (_b = renderMenuItems === null || renderMenuItems === void 0 ? void 0 : renderMenuItems({\n                items: {\n                    CopyMenuItem: CopyMenuItem,\n                    ReplyMenuItem: ReplyMenuItem,\n                    ThreadMenuItem: ThreadMenuItem,\n                    OpenInChannelMenuItem: OpenInChannelMenuItem,\n                    EditMenuItem: EditMenuItem,\n                    ResendMenuItem: ResendMenuItem,\n                    DeleteMenuItem: DeleteMenuItem,\n                },\n            })) !== null && _b !== void 0 ? _b : (React__default.createElement(React__default.Fragment, null,\n                showMenuItemCopy(params) && React__default.createElement(CopyMenuItem, null),\n                showMenuItemReply(params) && React__default.createElement(ReplyMenuItem, null),\n                showMenuItemThread(params) && React__default.createElement(ThreadMenuItem, null),\n                showMenuItemOpenInChannel(params) && React__default.createElement(OpenInChannelMenuItem, null),\n                showMenuItemEdit(params) && React__default.createElement(EditMenuItem, null),\n                showMenuItemResend(params) && React__default.createElement(ResendMenuItem, null),\n                showMenuItemDelete(params) && React__default.createElement(DeleteMenuItem, null))))))));\n};\n\nexport { MessageMenu as M };\n//# sourceMappingURL=bundle-iiHh_YqB.js.map\n", "import React__default, { useRef, useMemo } from 'react';\nimport { C as ContextMenu, f as EmojiListItems, g as getObservingId } from '../chunks/bundle-BEUsrftF.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport IconButton from './IconButton.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport ReactionButton from './ReactionButton.js';\nimport { v as getEmojiListByCategoryIds, w as isPendingMessage, x as isFailedMessage, y as getClassName } from '../chunks/bundle-Ug7rKzFJ.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport 'react-dom';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport '../chunks/bundle-y-yf0Djs.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../chunks/bundle-MoKyCGQH.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat/groupChannel';\nimport '../chunks/bundle-BSieP1ow.js';\nimport '../chunks/bundle-DvgqpwmQ.js';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BovMsFd4.js';\n\nfunction MessageEmojiMenu(_a) {\n    var className = _a.className, message = _a.message, userId = _a.userId, _b = _a.spaceFromTrigger, spaceFromTrigger = _b === void 0 ? { x: 0, y: 0 } : _b, emojiContainer = _a.emojiContainer, filterEmojiCategoryIds = _a.filterEmojiCategoryIds, toggleReaction = _a.toggleReaction;\n    var triggerRef = useRef(null);\n    var containerRef = useRef(null);\n    var filteredEmojis = useMemo(function () {\n        return getEmojiListByCategoryIds(emojiContainer, filterEmojiCategoryIds === null || filterEmojiCategoryIds === void 0 ? void 0 : filterEmojiCategoryIds(message));\n    }, [emojiContainer, filterEmojiCategoryIds]);\n    if (isPendingMessage(message) || isFailedMessage(message)) {\n        return null;\n    }\n    return (React__default.createElement(\"div\", { className: getClassName([className !== null && className !== void 0 ? className : '', 'sendbird-message-item-reaction-menu']), ref: containerRef },\n        React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(IconButton, { className: \"sendbird-message-item-reaction-menu__trigger\", ref: triggerRef, width: \"32px\", height: \"32px\", onClick: function () {\n                    toggleDropdown();\n                } },\n                React__default.createElement(Icon, { className: \"sendbird-message-item-reaction-menu__trigger__icon\", testID: \"sendbird-message-item-reaction-menu__trigger__icon\", type: IconTypes.EMOJI_MORE, fillColor: IconColors.CONTENT_INVERSE, width: \"24px\", height: \"24px\" }))); }, menuItems: function (closeDropdown) {\n                if (filteredEmojis.length === 0)\n                    return null;\n                return (React__default.createElement(EmojiListItems, { id: getObservingId(message.messageId), parentRef: triggerRef, parentContainRef: containerRef, closeDropdown: closeDropdown, spaceFromTrigger: spaceFromTrigger }, filteredEmojis.map(function (emoji) {\n                    var _a, _b, _c;\n                    var isReacted = ((_c = (_b = (_a = message === null || message === void 0 ? void 0 : message.reactions) === null || _a === void 0 ? void 0 : _a.find(function (reaction) { return reaction.key === emoji.key; })) === null || _b === void 0 ? void 0 : _b.userIds) === null || _c === void 0 ? void 0 : _c.some(function (reactorId) { return reactorId === userId; })) || false;\n                    return (React__default.createElement(ReactionButton, { key: emoji.key, width: \"36px\", height: \"36px\", selected: isReacted, onClick: function () {\n                            closeDropdown();\n                            toggleReaction === null || toggleReaction === void 0 ? void 0 : toggleReaction(message, emoji.key, isReacted);\n                        }, testID: \"ui_emoji_reactions_menu_\".concat(emoji.key) },\n                        React__default.createElement(ImageRenderer, { url: emoji.url, width: \"28px\", height: \"28px\", placeHolder: function (_a) {\n                                var style = _a.style;\n                                return (React__default.createElement(\"div\", { style: style },\n                                    React__default.createElement(Icon, { type: IconTypes.QUESTION, fillColor: IconColors.ON_BACKGROUND_3, width: \"28px\", height: \"28px\" })));\n                            } })));\n                })));\n            } })));\n}\n\nexport { MessageEmojiMenu, MessageEmojiMenu as default };\n//# sourceMappingURL=MessageItemReactionMenu.js.map\n", "import { _ as __assign, a as __spreadArray } from '../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { u as useLongPress } from '../chunks/bundle-BSieP1ow.js';\nimport { n as noop } from '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-DvgqpwmQ.js';\n\nvar ReactionButton = React__default.forwardRef(function (props, ref) {\n    var className = props.className, width = props.width, height = props.height, selected = props.selected, _a = props.dataSbId, dataSbId = _a === void 0 ? '' : _a, testID = props.testID, onClick = props.onClick, children = props.children;\n    var onClickHandler = useLongPress({\n        onLongPress: noop,\n        onClick: onClick,\n    }, {\n        shouldPreventDefault: true,\n        shouldStopPropagation: true,\n    });\n    return (React__default.createElement(\"div\", __assign({ className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            \"sendbird-reaction-button\".concat(selected ? '--selected' : ''),\n        ], false).join(' '), ref: ref, role: \"button\", style: { width: width, height: height } }, onClickHandler, { tabIndex: 0, \"data-sb-id\": testID !== null && testID !== void 0 ? testID : dataSbId, \"data-testid\": testID !== null && testID !== void 0 ? testID : dataSbId }),\n        React__default.createElement(\"div\", { className: \"sendbird-reaction-button__inner\" }, children)));\n});\n\nexport { ReactionButton as default };\n//# sourceMappingURL=ReactionButton.js.map\n", "import { _ as __assign } from './bundle-BosquA9C.js';\nimport { useState, useRef, useCallback } from 'react';\nimport { u as useMediaQueryContext } from './bundle-DvgqpwmQ.js';\n\nvar DEFAULT_DURATION = 300;\nfunction preventDefault(e) {\n    if (!isTouchEvent(e)) {\n        return;\n    }\n    if (e.touches.length < 2 && e.preventDefault) {\n        e.preventDefault();\n    }\n}\nfunction isTouchEvent(e) {\n    return e && 'touches' in e;\n}\nfunction useLongPress(_a, _b) {\n    var onLongPress = _a.onLongPress, onClick = _a.onClick;\n    var _c = _b === void 0 ? {} : _b, _d = _c.delay, delay = _d === void 0 ? DEFAULT_DURATION : _d, _e = _c.shouldPreventDefault, shouldPreventDefault = _e === void 0 ? true : _e, _f = _c.shouldStopPropagation, shouldStopPropagation = _f === void 0 ? false : _f;\n    var isMobile = useMediaQueryContext().isMobile;\n    var _g = useState(false), longPressTriggered = _g[0], setLongPressTriggered = _g[1];\n    var _h = useState(false), dragTriggered = _h[0], setDragTriggered = _h[1];\n    // https://www.typescriptlang.org/docs/handbook/utility-types.html#returntypetype\n    var timeout = useRef();\n    var target = useRef();\n    var start = useCallback(function (e) {\n        e.persist();\n        var clonedEvent = __assign({}, e);\n        setDragTriggered(false);\n        if (shouldStopPropagation) {\n            e.stopPropagation();\n        }\n        if (shouldPreventDefault && e.target) {\n            e.target.addEventListener('touchend', preventDefault, {\n                passive: false,\n            });\n            target.current = e.target;\n        }\n        timeout.current = setTimeout(function () {\n            onLongPress(clonedEvent);\n            setLongPressTriggered(true);\n        }, delay);\n    }, [onLongPress, delay, shouldPreventDefault, shouldStopPropagation, isMobile]);\n    var clear = useCallback(function (e, shouldTriggerClick, onDrag) {\n        if (shouldTriggerClick === void 0) { shouldTriggerClick = true; }\n        if (onDrag === void 0) { onDrag = false; }\n        if (onDrag) {\n            setDragTriggered(true);\n        }\n        else {\n            setDragTriggered(false);\n        }\n        if (timeout === null || timeout === void 0 ? void 0 : timeout.current) {\n            clearTimeout(timeout.current);\n        }\n        if (shouldTriggerClick && !longPressTriggered && !dragTriggered) {\n            onClick === null || onClick === void 0 ? void 0 : onClick(e);\n        }\n        setLongPressTriggered(false);\n        if (shouldPreventDefault && target.current) {\n            target.current.removeEventListener('touchend', preventDefault);\n        }\n    }, [shouldPreventDefault, onClick, longPressTriggered, dragTriggered]);\n    return {\n        onMouseDown: function (e) { return start(e); },\n        onMouseUp: function (e) { return clear(e); },\n        onMouseLeave: function (e) { return clear(e, false); },\n        onTouchStart: function (e) { return start(e); },\n        // setDragTriggered as true on touchmove, so that next onTouchEnd is ignored\n        // if we dont do it, onClick?.(e) will be triggred, see inside clear()\n        onTouchMove: function (e) { return clear(e, false, true); },\n        onTouchEnd: function (e) { return clear(e); },\n    };\n}\n\nexport { useLongPress as u };\n//# sourceMappingURL=bundle-BSieP1ow.js.map\n", "import React__default, { useState, useContext, useMemo, useRef } from 'react';\nimport ReactionBadge from './ReactionBadge.js';\nimport ReactionButton from './ReactionButton.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { C as ContextMenu, f as EmojiListItems } from '../chunks/bundle-BEUsrftF.js';\nimport { W as getEmojiUrl, X as isReactedBy, Y as getEmojiTooltipString, V as getEmojiListAll, Z as getEmojiMapAll, v as getEmojiListByCategoryIds, y as getClassName } from '../chunks/bundle-Ug7rKzFJ.js';\nimport BottomSheet from './BottomSheet.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { UserListItem } from './UserListItem.js';\nimport { c as classnames } from '../chunks/bundle-Bc1fdQjj.js';\nimport { _ as __assign } from '../chunks/bundle-BosquA9C.js';\nimport Tooltip from './Tooltip.js';\nimport TooltipWrapper from './TooltipWrapper.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DvgqpwmQ.js';\nimport { u as useLongPress } from '../chunks/bundle-BSieP1ow.js';\nimport { L as LocalizationContext } from '../chunks/bundle-y-yf0Djs.js';\nimport { useMessageContext } from '../Message/context.js';\nimport { c as ModalFooter } from '../chunks/bundle-ZMBEGemL.js';\nimport { ButtonTypes } from './Button.js';\nimport { useGlobalModalContext } from '../hooks/useModal.js';\nimport { u as useSendbird } from '../chunks/bundle-Bk7vYzLW.js';\nimport { g as getIsReactionEnabled } from '../chunks/bundle-B61f7NvF.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport './IconButton.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../chunks/bundle-ByW5tGii.js';\nimport '../chunks/bundle-BkCv3z1C.js';\nimport '../chunks/bundle-MdZYxYNf.js';\nimport './MutedAvatarOverlay.js';\nimport './Checkbox.js';\nimport './UserProfile.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DxUY6hv0.js';\n\nvar ReactedMembersBottomSheet = function (_a) {\n    var _b, _c, _d;\n    var message = _a.message, channel = _a.channel, _e = _a.emojiKey, emojiKey = _e === void 0 ? '' : _e, hideMenu = _a.hideMenu, emojiContainer = _a.emojiContainer, onPressUserProfileHandler = _a.onPressUserProfileHandler;\n    var _f = channel.members, members = _f === void 0 ? [] : _f;\n    var _g = useState(emojiKey), selectedEmoji = _g[0], setSelectedEmoji = _g[1];\n    function onPressUserProfileCallBack() {\n        if (onPressUserProfileHandler && message) {\n            var sender = message === null || message === void 0 ? void 0 : message.sender;\n            onPressUserProfileHandler(sender);\n        }\n    }\n    return (React__default.createElement(BottomSheet, { onBackdropClick: hideMenu },\n        React__default.createElement(\"div\", { className: \"sendbird-message__bottomsheet\" },\n            React__default.createElement(\"div\", { className: \"sendbird-message__bottomsheet__reacted-members\" }, (_b = message.reactions) === null || _b === void 0 ? void 0 : _b.map(function (reaction) {\n                var emojiUrl = getEmojiUrl(emojiContainer, reaction.key);\n                return (React__default.createElement(\"div\", { key: reaction.key, className: classnames('sendbird-message__bottomsheet__reacted-members__item', selectedEmoji === reaction.key && 'sendbird-message__bottomsheet__reacted-members__item__selected'), onClick: function () {\n                        setSelectedEmoji(reaction.key);\n                    } },\n                    React__default.createElement(ImageRenderer, { url: emojiUrl, width: \"28px\", height: \"28px\", placeHolder: function (_a) {\n                            var style = _a.style;\n                            return (React__default.createElement(\"div\", { style: style },\n                                React__default.createElement(Icon, { type: IconTypes.QUESTION, fillColor: IconColors.ON_BACKGROUND_3, width: \"28px\", height: \"28px\" })));\n                        } }),\n                    React__default.createElement(Label, { type: LabelTypography.BUTTON_2, color: selectedEmoji === reaction.key ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3 }, reaction.userIds.length)));\n            })),\n            React__default.createElement(\"div\", { className: \"sendbird-message__bottomsheet__reactor-list\" }, // making a member list who reacted to the message with the `selectedEmoji`\n            ((_d = (_c = message.reactions) === null || _c === void 0 ? void 0 : _c.find(function (reaction) { return reaction.key === selectedEmoji; })) === null || _d === void 0 ? void 0 : _d.userIds.map(function (userId) { return members.find(function (member) { return member.userId === userId; }); }).filter(function (member) { return member !== undefined; }))\n                .map(function (member) { return (React__default.createElement(UserListItem, { key: member.userId, className: \"sendbird-message__bottomsheet__reactor-list__item\", user: member, avatarSize: \"36px\", onUserAvatarClick: onPressUserProfileCallBack })); })))));\n};\n\nfunction ReactionItem(_a) {\n    var _b;\n    var reaction = _a.reaction, memberNicknamesMap = _a.memberNicknamesMap, setEmojiKey = _a.setEmojiKey, toggleReaction = _a.toggleReaction, emojisMap = _a.emojisMap, channel = _a.channel, message = _a.message, isFiltered = _a.isFiltered;\n    var openModal = useGlobalModalContext().openModal;\n    var userId = useSendbird().state.config.userId;\n    var isMobile = useMediaQueryContext().isMobile;\n    var messageStore = useMessageContext();\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var reactedByMe = isReactedBy(userId, reaction);\n    var showHoverTooltip = (reaction.userIds.length > 0)\n        && ((channel === null || channel === void 0 ? void 0 : channel.isGroupChannel()) && !channel.isSuper);\n    var handleOnClick = function () {\n        if (isFiltered && !reactedByMe) {\n            openModal({\n                modalProps: {\n                    titleText: 'Add reaction failed',\n                    hideFooter: true,\n                    isCloseOnClickOutside: true,\n                },\n                childElement: function (_a) {\n                    var closeModal = _a.closeModal;\n                    return (React__default.createElement(ModalFooter, { type: ButtonTypes.PRIMARY, submitText: stringSet.BUTTON__OK, hideCancelButton: true, onCancel: closeModal, onSubmit: closeModal }));\n                },\n            });\n            return;\n        }\n        setEmojiKey('');\n        toggleReaction === null || toggleReaction === void 0 ? void 0 : toggleReaction((message !== null && message !== void 0 ? message : messageStore === null || messageStore === void 0 ? void 0 : messageStore.message), reaction.key, reactedByMe);\n    };\n    var longPress = useLongPress({\n        onLongPress: function () {\n            setEmojiKey(reaction.key);\n        },\n        onClick: handleOnClick,\n    }, {\n        shouldPreventDefault: true,\n        shouldStopPropagation: true,\n    });\n    return (React__default.createElement(TooltipWrapper, { className: \"sendbird-emoji-reactions__reaction-badge\", hoverTooltip: showHoverTooltip ? (React__default.createElement(Tooltip, null, getEmojiTooltipString(reaction, userId, memberNicknamesMap, stringSet))) : React__default.createElement(React__default.Fragment, null) },\n        React__default.createElement(\"div\", __assign({}, (isMobile\n            ? longPress\n            : { onClick: handleOnClick })),\n            React__default.createElement(ReactionBadge, { count: reaction.userIds.length, selected: reactedByMe },\n                React__default.createElement(ImageRenderer, { circle: true, url: ((_b = emojisMap.get(reaction === null || reaction === void 0 ? void 0 : reaction.key)) === null || _b === void 0 ? void 0 : _b.url) || '', width: \"20px\", height: \"20px\", defaultComponent: (React__default.createElement(Icon, { width: \"20px\", height: \"20px\", type: IconTypes.QUESTION })) })))));\n}\n\nvar AddReactionBadgeItem = function (_a) {\n    var onClick = _a.onClick;\n    var onlyClick = useLongPress({\n        onLongPress: function () { },\n        onClick: onClick,\n    }, {\n        shouldPreventDefault: true,\n        shouldStopPropagation: true,\n    });\n    return (React__default.createElement(\"div\", __assign({ className: \"sendbird-emoji-reactions__add-reaction-badge\", \"data-testid\": \"sendbird-emoji-reactions__add-reaction-badge\" }, onlyClick),\n        React__default.createElement(ReactionBadge, { isAdd: true },\n            React__default.createElement(Icon, { type: IconTypes.EMOJI_MORE, fillColor: IconColors.ON_BACKGROUND_3, width: \"20px\", height: \"20px\" }))));\n};\n\nvar MobileEmojisBottomSheet = function (_a) {\n    var userId = _a.userId, message = _a.message, emojiContainer = _a.emojiContainer, hideMenu = _a.hideMenu, toggleReaction = _a.toggleReaction;\n    var emojiAllList = useMemo(function () {\n        return getEmojiListAll(emojiContainer);\n    }, [emojiContainer]);\n    return (React__default.createElement(BottomSheet, { onBackdropClick: hideMenu },\n        React__default.createElement(\"div\", { className: \"sendbird-message__bottomsheet sendbird-message__emojis-bottomsheet\" }, emojiAllList.map(function (emoji) {\n            var _a, _b, _c, _d;\n            var isReacted = (_d = ((_c = (_b = (_a = message === null || message === void 0 ? void 0 : message.reactions) === null || _a === void 0 ? void 0 : _a.find(function (reaction) { return reaction.key === emoji.key; })) === null || _b === void 0 ? void 0 : _b.userIds) === null || _c === void 0 ? void 0 : _c.some(function (reactorId) { return reactorId === userId; }))) !== null && _d !== void 0 ? _d : false;\n            return (React__default.createElement(ReactionButton, { key: emoji.key, width: \"44px\", height: \"44px\", selected: isReacted, onClick: function (e) {\n                    e === null || e === void 0 ? void 0 : e.stopPropagation();\n                    toggleReaction === null || toggleReaction === void 0 ? void 0 : toggleReaction(message, emoji.key, isReacted);\n                    hideMenu();\n                }, testID: \"ui_mobile_emoji_reactions_menu_\".concat(emoji.key) },\n                React__default.createElement(ImageRenderer, { url: emoji.url, width: \"38px\", height: \"38px\", placeHolder: function (_a) {\n                        var style = _a.style;\n                        return (React__default.createElement(\"div\", { style: style },\n                            React__default.createElement(Icon, { type: IconTypes.QUESTION, fillColor: IconColors.ON_BACKGROUND_3, width: \"28px\", height: \"28px\" })));\n                    } })));\n        }))));\n};\n\nvar EmojiReactions = function (_a) {\n    var _b, _c, _d, _e, _f;\n    var _g = _a.className, className = _g === void 0 ? '' : _g, userId = _a.userId, message = _a.message, channel = _a.channel, emojiContainer = _a.emojiContainer, memberNicknamesMap = _a.memberNicknamesMap, _h = _a.spaceFromTrigger, spaceFromTrigger = _h === void 0 ? { x: 0, y: 0 } : _h, _j = _a.isByMe, isByMe = _j === void 0 ? false : _j, toggleReaction = _a.toggleReaction, onPressUserProfile = _a.onPressUserProfile, filterEmojiCategoryIds = _a.filterEmojiCategoryIds;\n    var showTheReactedMembers = false;\n    try {\n        var config = useSendbird().state.config;\n        showTheReactedMembers = channel ? getIsReactionEnabled({\n            channel: channel,\n            config: config,\n        }) : false;\n    }\n    catch (err) {\n        // TODO: Handle error\n    }\n    var isMobile = useMediaQueryContext().isMobile;\n    var addReactionRef = useRef(null);\n    var _k = useState(false), showEmojiList = _k[0], setShowEmojiList = _k[1];\n    var _l = useState(''), selectedEmojiKey = _l[0], setSelectedEmojiKey = _l[1];\n    var emojisMap = getEmojiMapAll(emojiContainer);\n    var filteredEmojis = useMemo(function () {\n        return getEmojiListByCategoryIds(emojiContainer, filterEmojiCategoryIds === null || filterEmojiCategoryIds === void 0 ? void 0 : filterEmojiCategoryIds(message));\n    }, [emojiContainer, filterEmojiCategoryIds]);\n    var showAddReactionBadge = ((_c = (_b = message.reactions) === null || _b === void 0 ? void 0 : _b.length) !== null && _c !== void 0 ? _c : 0) < emojisMap.size;\n    return (React__default.createElement(\"div\", { className: getClassName([\n            className, 'sendbird-emoji-reactions',\n            isByMe ? 'outgoing' : 'incoming',\n        ]) },\n        (((_e = (_d = message.reactions) === null || _d === void 0 ? void 0 : _d.length) !== null && _e !== void 0 ? _e : 0) > 0) && ((_f = message.reactions) === null || _f === void 0 ? void 0 : _f.map(function (reaction) {\n            return (React__default.createElement(ReactionItem, { key: reaction === null || reaction === void 0 ? void 0 : reaction.key, reaction: reaction, memberNicknamesMap: memberNicknamesMap, setEmojiKey: setSelectedEmojiKey, toggleReaction: toggleReaction, emojisMap: emojisMap, channel: channel, message: message, isFiltered: getEmojiListByCategoryIds(emojiContainer, filterEmojiCategoryIds === null || filterEmojiCategoryIds === void 0 ? void 0 : filterEmojiCategoryIds(message))\n                    .every(function (elem) { return elem.key !== (reaction === null || reaction === void 0 ? void 0 : reaction.key); }) }));\n        })),\n        (!isMobile && showAddReactionBadge) && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(ReactionBadge, { className: \"sendbird-emoji-reactions__add-reaction-badge\", testID: \"sendbird-emoji-reactions__add-reaction-badge\", ref: addReactionRef, isAdd: true, onClick: function (e) {\n                    var _a;\n                    toggleDropdown();\n                    (_a = e === null || e === void 0 ? void 0 : e.stopPropagation) === null || _a === void 0 ? void 0 : _a.call(e);\n                } },\n                React__default.createElement(Icon, { type: IconTypes.EMOJI_MORE, fillColor: IconColors.ON_BACKGROUND_3, width: \"20px\", height: \"20px\" }))); }, menuItems: function (closeDropdown) {\n                if (filteredEmojis.length === 0)\n                    return null;\n                return (React__default.createElement(EmojiListItems, { parentRef: addReactionRef, parentContainRef: addReactionRef, closeDropdown: closeDropdown, spaceFromTrigger: spaceFromTrigger }, getEmojiListByCategoryIds(emojiContainer, filterEmojiCategoryIds === null || filterEmojiCategoryIds === void 0 ? void 0 : filterEmojiCategoryIds(message)).map(function (emoji) {\n                    var _a, _b, _c;\n                    var isReacted = ((_c = (_b = (_a = message === null || message === void 0 ? void 0 : message.reactions) === null || _a === void 0 ? void 0 : _a.find(function (reaction) { return reaction.key === emoji.key; })) === null || _b === void 0 ? void 0 : _b.userIds) === null || _c === void 0 ? void 0 : _c.some(function (reactorId) { return reactorId === userId; })) || false;\n                    return (React__default.createElement(ReactionButton, { key: emoji.key, width: \"36px\", height: \"36px\", selected: isReacted, onClick: function (e) {\n                            closeDropdown();\n                            toggleReaction === null || toggleReaction === void 0 ? void 0 : toggleReaction(message, emoji.key, isReacted);\n                            e === null || e === void 0 ? void 0 : e.stopPropagation();\n                        }, testID: \"ui_emoji_reactions_menu_\".concat(emoji.key) },\n                        React__default.createElement(ImageRenderer, { url: (emoji === null || emoji === void 0 ? void 0 : emoji.url) || '', width: \"28px\", height: \"28px\", placeHolder: function (_a) {\n                                var style = _a.style;\n                                return (React__default.createElement(\"div\", { style: style },\n                                    React__default.createElement(Icon, { type: IconTypes.QUESTION, fillColor: IconColors.ON_BACKGROUND_3, width: \"28px\", height: \"28px\" })));\n                            } })));\n                })));\n            } })),\n        (isMobile && showAddReactionBadge) && (React__default.createElement(AddReactionBadgeItem, { onClick: function () {\n                setShowEmojiList(true);\n            } })),\n        (isMobile && showEmojiList) && (React__default.createElement(MobileEmojisBottomSheet, { userId: userId, message: message, emojiContainer: emojiContainer, hideMenu: function () {\n                setShowEmojiList(false);\n            }, toggleReaction: toggleReaction })),\n        (isMobile && selectedEmojiKey && channel !== null && showTheReactedMembers) && (React__default.createElement(ReactedMembersBottomSheet, { message: message, channel: channel, emojiKey: selectedEmojiKey, hideMenu: function () {\n                setSelectedEmojiKey('');\n            }, emojiContainer: emojiContainer, onPressUserProfileHandler: onPressUserProfile }))));\n};\n\nexport { EmojiReactions as default };\n//# sourceMappingURL=EmojiReactions.js.map\n", "import { a as __spreadArray } from '../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport '../chunks/bundle-DXRcwk7R.js';\n\nvar ReactionBadge = React__default.forwardRef(function (props, ref) {\n    var _a = props.className, className = _a === void 0 ? '' : _a, testID = props.testID, children = props.children, _b = props.count, count = _b === void 0 ? '' : _b, _c = props.isAdd, isAdd = _c === void 0 ? false : _c, _d = props.selected, selected = _d === void 0 ? false : _d, _e = props.onClick, onClick = _e === void 0 ? function () { } : _e;\n    var getClassNameTail = function () {\n        if (selected && !isAdd) {\n            return '--selected';\n        }\n        if (isAdd) {\n            return '--is-add';\n        }\n        return '';\n    };\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            \"sendbird-reaction-badge\".concat(getClassNameTail()),\n        ], false).join(' '), \"data-testid\": testID, role: \"button\", ref: ref, onClick: onClick, onKeyDown: onClick, onTouchEnd: onClick, tabIndex: 0 },\n        React__default.createElement(\"div\", { className: \"sendbird-reaction-badge__inner\" },\n            React__default.createElement(\"div\", { className: \"sendbird-reaction-badge__inner__icon\" }, children),\n            React__default.createElement(Label, { className: (children && count) ? 'sendbird-reaction-badge__inner__count' : '', type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_1 }, count))));\n});\n\nexport { ReactionBadge as default };\n//# sourceMappingURL=ReactionBadge.js.map\n", "import React__default, { useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport '../hooks/useModal.js';\nimport { u as useSendbird } from '../chunks/bundle-Bk7vYzLW.js';\nimport { a as MODAL_ROOT } from '../chunks/bundle-ZMBEGemL.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-y-yf0Djs.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../chunks/bundle-DvgqpwmQ.js';\nimport './IconButton.js';\nimport './Button.js';\nimport '../chunks/bundle-MoKyCGQH.js';\nimport './Icon.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\n\nvar BottomSheet = function (props) {\n    var _a;\n    var _b = props.className, className = _b === void 0 ? '' : _b, children = props.children, onBackdropClick = props.onBackdropClick;\n    var logger = useSendbird().state.config.logger;\n    // https://github.com/testing-library/react-testing-library/issues/62#issuecomment-438653348\n    var portalRoot = useRef();\n    portalRoot.current = document.getElementById(MODAL_ROOT);\n    if (!portalRoot.current) {\n        portalRoot.current = document.createElement('div');\n        portalRoot.current.setAttribute('id', MODAL_ROOT);\n        document.body.appendChild(portalRoot.current);\n        (_a = logger === null || logger === void 0 ? void 0 : logger.warning) === null || _a === void 0 ? void 0 : _a.call(logger, '@sendbird/uikit-react/ui/BottomSheet | Should put a ModalRoot to use the BottomSheet.');\n    }\n    return createPortal(React__default.createElement(\"div\", { className: \"\".concat(className, \" sendbird-bottomsheet\") },\n        React__default.createElement(\"div\", { className: \"sendbird-bottomsheet__content\", role: 'dialog', \"aria-modal\": 'true', \"aria-expanded\": 'true' }, children),\n        React__default.createElement(\"div\", { className: \"sendbird-bottomsheet__backdrop\", onClick: function (e) {\n                e === null || e === void 0 ? void 0 : e.stopPropagation();\n                onBackdropClick === null || onBackdropClick === void 0 ? void 0 : onBackdropClick();\n            } })), portalRoot.current);\n};\n\nexport { BottomSheet as default };\n//# sourceMappingURL=BottomSheet.js.map\n", "import { a as __spreadArray, _ as __assign } from '../chunks/bundle-BosquA9C.js';\nimport React__default, { createContext, useState, useCallback, useMemo, useContext } from 'react';\nimport { K } from '../chunks/bundle-BA9ZfQ-7.js';\nimport { n as noop, c as classnames } from '../chunks/bundle-Bc1fdQjj.js';\nimport { M as Modal } from '../chunks/bundle-ZMBEGemL.js';\nexport { a as MODAL_ROOT, b as ModalRoot } from '../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../chunks/bundle-y-yf0Djs.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../chunks/bundle-DvgqpwmQ.js';\nimport '../ui/IconButton.js';\nimport '../ui/Button.js';\nimport '../chunks/bundle-MoKyCGQH.js';\nimport '../ui/Icon.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport '../chunks/bundle-Bk7vYzLW.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\n\nvar GlobalModalContext = createContext({\n    openModal: noop,\n});\nvar GlobalModalProvider = function (_a) {\n    var children = _a.children;\n    // Idea from https://dev.to/nurislamov/simple-modals-queue-in-react-4g6c\n    var _b = useState([]), globalModalQueue = _b[0], setGlobalModalQueue = _b[1];\n    var openModal = useCallback(function (props) {\n        setGlobalModalQueue(function (currentQue) { return __spreadArray(__spreadArray([], currentQue, true), [props], false); });\n    }, []);\n    var closeModal = useCallback(function () {\n        setGlobalModalQueue(function (currentQue) { return currentQue.slice(1); });\n    }, []);\n    var ModalComponent = useMemo(function () { return function () {\n        return K(globalModalQueue)\n            .when(function (q) { return q.length === 0; }, function () {\n            return React__default.createElement(React__default.Fragment, null);\n        })\n            .otherwise(function () {\n            var _a = globalModalQueue[0], modalProps = _a.modalProps, childElement = _a.childElement;\n            return (React__default.createElement(Modal, __assign({}, modalProps, { className: classnames('sendbird-global-modal', modalProps === null || modalProps === void 0 ? void 0 : modalProps.className), onClose: function () {\n                    var _a;\n                    (_a = modalProps === null || modalProps === void 0 ? void 0 : modalProps.onClose) === null || _a === void 0 ? void 0 : _a.call(modalProps);\n                    closeModal();\n                } }), childElement({\n                closeModal: closeModal,\n            })));\n        });\n    }; }, [globalModalQueue]);\n    return (React__default.createElement(GlobalModalContext.Provider, { value: {\n            openModal: openModal,\n        } },\n        React__default.createElement(ModalComponent, null),\n        children));\n};\nvar useGlobalModalContext = function () { return useContext(GlobalModalContext); };\n\nexport { GlobalModalProvider, useGlobalModalContext };\n//# sourceMappingURL=useModal.js.map\n", "import { a as __spreadArray } from '../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport '../chunks/bundle-DXRcwk7R.js';\n\nfunction Tooltip(_a) {\n    var _b = _a.className, className = _b === void 0 ? '' : _b, _c = _a.children, children = _c === void 0 ? '' : _c;\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-tooltip',\n        ], false).join(' ') },\n        React__default.createElement(Label, { className: \"sendbird-tooltip__text\", type: LabelTypography.CAPTION_2, color: LabelColors.ONCONTENT_1 }, children)));\n}\n\nexport { Tooltip as default };\n//# sourceMappingURL=Tooltip.js.map\n", "import { a as __spreadArray } from '../chunks/bundle-BosquA9C.js';\nimport React__default, { useState, useRef } from 'react';\n\nvar SPACE_FROM_TRIGGER = 8;\nfunction TooltipWrapper(_a) {\n    var _b = _a.className, className = _b === void 0 ? '' : _b, children = _a.children, hoverTooltip = _a.hoverTooltip;\n    var _c = useState(false), showHoverTooltip = _c[0], setShowHoverTooltip = _c[1];\n    var childrenRef = useRef();\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-tooltip-wrapper',\n        ], false).join(' '), onMouseOver: function () { setShowHoverTooltip(true); }, onFocus: function () { setShowHoverTooltip(true); }, onMouseOut: function () { setShowHoverTooltip(false); }, onBlur: function () { setShowHoverTooltip(false); } },\n        React__default.createElement(\"div\", { className: \"sendbird-tooltip-wrapper__children\", ref: childrenRef }, children),\n        showHoverTooltip && (React__default.createElement(\"div\", { className: \"sendbird-tooltip-wrapper__hover-tooltip\", style: { bottom: \"calc(100% + \".concat(SPACE_FROM_TRIGGER, \"px)\") } },\n            React__default.createElement(\"div\", { className: \"sendbird-tooltip-wrapper__hover-tooltip__inner\" },\n                React__default.createElement(\"div\", { className: \"sendbird-tooltip-wrapper__hover-tooltip__inner__tooltip-container\", style: { left: childrenRef.current ? \"calc(\".concat(childrenRef.current.offsetWidth / 2, \"px - 50%)\") : undefined } }, hoverTooltip))))));\n}\n\nexport { TooltipWrapper as default };\n//# sourceMappingURL=TooltipWrapper.js.map\n", "import React__default from 'react';\n\n// todo@v4.0.0: combine with the provider in core-ts, see:\n// https://github.com/sendbird/sendbird-uikit-core-ts\n// packages/react-uikit-message-template-view/src/context/MessageContextProvider.tsx\nvar defaultValue = {\n    message: {},\n    isByMe: false,\n};\nvar MessageContext = React__default.createContext(defaultValue);\nvar MessageProvider = function (props) {\n    var children = props.children, message = props.message, _a = props.isByMe, isByMe = _a === void 0 ? false : _a;\n    return (React__default.createElement(MessageContext.Provider, { value: {\n            message: message,\n            isByMe: isByMe,\n        } }, children));\n};\nvar useMessageContext = function () {\n    var value = React__default.useContext(MessageContext);\n    if (value === undefined) {\n        throw new Error('useMessageContext must be used within a MessageProvider');\n    }\n    return value;\n};\n\nexport { MessageProvider, useMessageContext };\n//# sourceMappingURL=context.js.map\n", "import { a as __spreadArray } from '../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport '../chunks/bundle-DXRcwk7R.js';\n\nfunction AdminMessage(_a) {\n    var _b;\n    var _c = _a.className, className = _c === void 0 ? '' : _c, message = _a.message;\n    if (!((message === null || message === void 0 ? void 0 : message.isAdminMessage) || (message === null || message === void 0 ? void 0 : message.messageType)) || !((_b = message === null || message === void 0 ? void 0 : message.isAdminMessage) === null || _b === void 0 ? void 0 : _b.call(message)) || (message === null || message === void 0 ? void 0 : message.messageType) !== 'admin') {\n        return null;\n    }\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-admin-message',\n        ], false).join(' ') },\n        React__default.createElement(Label, { className: \"sendbird-admin-message__text\", type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, message === null || message === void 0 ? void 0 : message.message)));\n}\n\nexport { AdminMessage as default };\n//# sourceMappingURL=AdminMessage.js.map\n", "import React__default, { useContext, useState } from 'react';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport { L as LocalizationContext } from '../chunks/bundle-y-yf0Djs.js';\nimport { z as getUIKitFileTypes, y as getClassName, m as isUserMessage, i as isVoiceMessage, q as isThumbnailMessage, d as isMultipleFilesMessage, j as isVideo, A as isGif, n as getUIKitMessageType, U as UIKitMessageTypes, p as getUIKitFileType, t as truncateString } from '../chunks/bundle-Ug7rKzFJ.js';\nimport { g as getMessageFirstFileUrl, a as getMessageFirstFileType, b as getMessageFirstFileName } from '../chunks/bundle-COu2UBrG.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BDIF-bj_.js';\n\nfunction QuoteMessage(_a) {\n    var _b;\n    var _c, _d, _e, _f, _g, _h;\n    var message = _a.message, _j = _a.userId, userId = _j === void 0 ? '' : _j, _k = _a.isByMe, isByMe = _k === void 0 ? false : _k, _l = _a.className, className = _l === void 0 ? '' : _l, _m = _a.isUnavailable, isUnavailable = _m === void 0 ? false : _m, onClick = _a.onClick;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var parentMessage = message.parentMessage;\n    var parentMessageSender = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender;\n    var parentMessageSenderNickname = (userId === (parentMessageSender === null || parentMessageSender === void 0 ? void 0 : parentMessageSender.userId)) ? stringSet.QUOTED_MESSAGE__CURRENT_USER : parentMessageSender === null || parentMessageSender === void 0 ? void 0 : parentMessageSender.nickname;\n    var parentMessageUrl = getMessageFirstFileUrl(parentMessage);\n    var parentMessageType = getMessageFirstFileType(parentMessage);\n    var currentMessageSenderNickname = (userId === ((_c = message === null || message === void 0 ? void 0 : message.sender) === null || _c === void 0 ? void 0 : _c.userId)) ? stringSet.QUOTED_MESSAGE__CURRENT_USER : (_d = message === null || message === void 0 ? void 0 : message.sender) === null || _d === void 0 ? void 0 : _d.nickname;\n    var _o = useState(false), isThumbnailLoaded = _o[0], setThumbnailLoaded = _o[1];\n    var uikitFileTypes = getUIKitFileTypes();\n    var splitFileName = (_f = (_e = getMessageFirstFileName(parentMessage)) === null || _e === void 0 ? void 0 : _e.split('/')) !== null && _f !== void 0 ? _f : parentMessageUrl.split('/');\n    return (React__default.createElement(\"div\", { className: getClassName([className, 'sendbird-quote-message', isByMe ? 'outgoing' : 'incoming', isUnavailable ? 'unavailable' : '']), key: parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.messageId, onClick: function () {\n            if (!isUnavailable && onClick) {\n                onClick();\n            }\n        }, onTouchEnd: function () {\n            if (!isUnavailable && onClick) {\n                onClick();\n            }\n        } },\n        React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-to\" },\n            React__default.createElement(Icon, { className: \"sendbird-quote-message__replied-to__icon\", type: IconTypes.REPLY, fillColor: IconColors.ON_BACKGROUND_3, width: \"12px\", height: \"12px\" }),\n            React__default.createElement(Label, { className: \"sendbird-quote-message__replied-to__text\", testID: \"sendbird-quote-message__replied-to__text\", type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_3 },\n                React__default.createElement(\"span\", { className: \"sendbird-quote-message__replied-to__text__nickname\" }, currentMessageSenderNickname),\n                React__default.createElement(\"span\", { className: \"sendbird-quote-message__replied-to__text__text\" }, stringSet.QUOTED_MESSAGE__REPLIED_TO),\n                React__default.createElement(\"span\", { className: \"sendbird-quote-message__replied-to__text__nickname\" }, parentMessageSenderNickname))),\n        React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message\" },\n            isUnavailable && (React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__text-message\" },\n                React__default.createElement(Label, { className: \"sendbird-quote-message__replied-message__text-message__word\", testID: \"sendbird-quote-message__replied-message__text-message__word\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_1 }, stringSet.QUOTED_MESSAGE__UNAVAILABLE))),\n            ((isUserMessage(parentMessage) && ((_g = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.message) === null || _g === void 0 ? void 0 : _g.length) > 0) && !isUnavailable) && (React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__text-message\" },\n                React__default.createElement(Label, { className: \"sendbird-quote-message__replied-message__text-message__word\", testID: \"sendbird-quote-message__replied-message__text-message__word\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_1 }, parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.message))),\n            (isVoiceMessage(parentMessage) && parentMessageUrl && !isUnavailable) && (React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__text-message\" },\n                React__default.createElement(Label, { className: \"sendbird-quote-message__replied-message__text-message__word\", testID: \"sendbird-quote-message__replied-message__text-message__word\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_1 }, stringSet.VOICE_MESSAGE))),\n            ((isThumbnailMessage(parentMessage)\n                || isMultipleFilesMessage(parentMessage))\n                && parentMessageUrl\n                && !isUnavailable) && (React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__thumbnail-message\" },\n                React__default.createElement(ImageRenderer, { className: \"sendbird-quote-message__replied-message__thumbnail-message__image\", url: parentMessageUrl, alt: parentMessageType, width: \"144px\", height: \"108px\", onLoad: function () { return setThumbnailLoaded(true); }, defaultComponent: (React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__thumbnail-message__placeholder\" },\n                        React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__thumbnail-message__placeholder__icon\" },\n                            React__default.createElement(Icon, { type: isVideo(parentMessageType) ? IconTypes.PLAY : IconTypes.PHOTO, fillColor: IconColors.ON_BACKGROUND_2, width: \"22px\", height: \"22px\" })))) }),\n                (isVideo(parentMessageType) && !(((_h = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.thumbnails) === null || _h === void 0 ? void 0 : _h.length) > 0)) && (React__default.createElement(React__default.Fragment, null,\n                    React__default.createElement(\"video\", { className: \"sendbird-quote-message__replied-message__thumbnail-message__video\" },\n                        React__default.createElement(\"source\", { src: parentMessageUrl, type: parentMessageType })),\n                    React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__thumbnail-message__cover\" },\n                        React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__thumbnail-message__cover__icon\" },\n                            React__default.createElement(Icon, { type: IconTypes.PLAY, fillColor: IconColors.ON_BACKGROUND_2, width: \"14px\", height: \"14px\" }))))),\n                (isThumbnailLoaded && isGif(parentMessageType)) && (React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__thumbnail-message__cover\" },\n                    React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__thumbnail-message__cover__icon\" },\n                        React__default.createElement(Icon, { type: IconTypes.GIF, fillColor: IconColors.THUMBNAIL_ICON, width: \"14px\", height: \"14px\" })))))),\n            (getUIKitMessageType(parentMessage) === UIKitMessageTypes.FILE && parentMessageUrl && !isUnavailable) && (React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__file-message\" },\n                React__default.createElement(Icon, { className: \"sendbird-quote-message__replied-message__file-message__type-icon\", type: (_b = {},\n                        _b[uikitFileTypes.IMAGE] = IconTypes.PHOTO,\n                        _b[uikitFileTypes.VIDEO] = IconTypes.PLAY,\n                        _b[uikitFileTypes.AUDIO] = IconTypes.FILE_AUDIO,\n                        _b[uikitFileTypes.GIF] = IconTypes.GIF,\n                        _b[uikitFileTypes.OTHERS] = IconTypes.FILE_DOCUMENT,\n                        _b)[getUIKitFileType(parentMessageType)], fillColor: IconColors.ON_BACKGROUND_3, width: \"16px\", height: \"16px\" }),\n                React__default.createElement(Label, { className: \"sendbird-quote-message__replied-message__file-message__file-name\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_3 }, truncateString(splitFileName[splitFileName.length - 1])))))));\n}\n\nexport { QuoteMessage as default };\n//# sourceMappingURL=QuoteMessage.js.map\n", "import { c as isFileMessage, d as isMultipleFilesMessage } from './bundle-Ug7rKzFJ.js';\nimport { K } from './bundle-BA9ZfQ-7.js';\n\nfunction getMessageFirstFileType(message) {\n    return K(message)\n        .when(isFileMessage, function () {\n        var _a;\n        return (_a = message === null || message === void 0 ? void 0 : message.type) !== null && _a !== void 0 ? _a : '';\n    })\n        .when(isMultipleFilesMessage, function () {\n        var _a, _b;\n        return (_b = (_a = getFirstFileInfo(message)) === null || _a === void 0 ? void 0 : _a.mimeType) !== null && _b !== void 0 ? _b : '';\n    })\n        .otherwise(function () {\n        return '';\n    });\n}\nfunction getFirstFileInfo(message) {\n    var fileInfoList = message.fileInfoList;\n    return fileInfoList.length > 0 ? fileInfoList[0] : null;\n}\nfunction getMessageFirstFileName(message) {\n    return K(message)\n        .when(isFileMessage, function () {\n        var _a;\n        return (_a = message === null || message === void 0 ? void 0 : message.name) !== null && _a !== void 0 ? _a : '';\n    })\n        .when(isMultipleFilesMessage, function () {\n        var _a, _b;\n        return (_b = (_a = getFirstFileInfo(message)) === null || _a === void 0 ? void 0 : _a.fileName) !== null && _b !== void 0 ? _b : '';\n    })\n        .otherwise(function () {\n        return '';\n    });\n}\nfunction getMessageFirstFileUrl(message) {\n    return K(message)\n        .when(isFileMessage, function () {\n        var _a;\n        return (_a = message === null || message === void 0 ? void 0 : message.url) !== null && _a !== void 0 ? _a : '';\n    })\n        .when(isMultipleFilesMessage, function () {\n        var _a, _b;\n        return (_b = (_a = getFirstFileInfo(message)) === null || _a === void 0 ? void 0 : _a.url) !== null && _b !== void 0 ? _b : '';\n    })\n        .otherwise(function () {\n        return '';\n    });\n}\nfunction getMessageFirstFileThumbnails(message) {\n    return K(message)\n        .when(isFileMessage, function () {\n        return message.thumbnails;\n    })\n        .when(isMultipleFilesMessage, function () {\n        var _a, _b;\n        return (_b = (_a = getFirstFileInfo(message)) === null || _a === void 0 ? void 0 : _a.thumbnails) !== null && _b !== void 0 ? _b : [];\n    })\n        .otherwise(function () {\n        return [];\n    });\n}\nfunction getMessageFirstFileThumbnailUrl(message) {\n    var thumbnails = getMessageFirstFileThumbnails(message);\n    return (thumbnails && thumbnails.length > 0) ? thumbnails[0].url : '';\n}\n\nexport { getMessageFirstFileType as a, getMessageFirstFileName as b, getMessageFirstFileThumbnailUrl as c, getMessageFirstFileUrl as g };\n//# sourceMappingURL=bundle-COu2UBrG.js.map\n", "import { _ as __assign } from '../chunks/bundle-BosquA9C.js';\nimport React__default, { useState } from 'react';\nimport { m as isUserMessage, B as copyToClipboard, x as isFailedMessage, r as isSentMessage, w as isPendingMessage, c as isFileMessage, i as isVoiceMessage, T as isThreadMessage, V as getEmojiListAll } from '../chunks/bundle-Ug7rKzFJ.js';\nimport { n as noop, c as classnames } from '../chunks/bundle-Bc1fdQjj.js';\nimport { u as useMessageMenuContext, a as MenuItem, M as MessageMenuProvider, b as MenuItems, B as BottomSheetMenuItem } from '../chunks/bundle-BEUsrftF.js';\nimport './IconButton.js';\nimport { u as useLocalization } from '../chunks/bundle-y-yf0Djs.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport '@sendbird/chat';\nimport { u as useSendbird } from '../chunks/bundle-Bk7vYzLW.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport BottomSheet from './BottomSheet.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport ReactionButton from './ReactionButton.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport 'react-dom';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../hooks/useModal.js';\nimport '../chunks/bundle-ZMBEGemL.js';\nimport '../chunks/bundle-DvgqpwmQ.js';\nimport './Button.js';\nimport '../chunks/bundle-BSieP1ow.js';\n\nvar CopyMenuItem$1 = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isUserMessage(message))\n                copyToClipboard(message.message);\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__COPY),\n        React__default.createElement(Icon, { type: IconTypes.COPY, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n};\nvar ReplyMenuItem$1 = function (props) {\n    var _a, _b, _c;\n    var stringSet = useLocalization().stringSet;\n    var _d = useMessageMenuContext(), message = _d.message, hideMenu = _d.hideMenu, setQuoteMessage = _d.setQuoteMessage;\n    return (React__default.createElement(MenuItem, __assign({}, props, { disabled: message.parentMessageId > 0, onClick: function (e) {\n            var _a;\n            setQuoteMessage(message);\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: ((_b = message.parentMessageId) !== null && _b !== void 0 ? _b : 0) > 0 ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__REPLY),\n        React__default.createElement(Icon, { type: IconTypes.REPLY, fillColor: ((_c = message.parentMessageId) !== null && _c !== void 0 ? _c : 0) > 0 ? IconColors.ON_BACKGROUND_4 : IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n};\nvar ThreadMenuItem$1 = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu, onReplyInThread = _b.onReplyInThread;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            onReplyInThread({ message: message });\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__THREAD),\n        React__default.createElement(Icon, { type: IconTypes.THREAD, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n};\nvar EditMenuItem$1 = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), hideMenu = _b.hideMenu, showEdit = _b.showEdit, isOnline = _b.isOnline;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isOnline) {\n                showEdit(true);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__EDIT),\n        React__default.createElement(Icon, { type: IconTypes.EDIT, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n};\nvar ResendMenuItem$1 = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu, resendMessage = _b.resendMessage, isOnline = _b.isOnline;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isOnline) {\n                resendMessage(message);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__RESEND),\n        React__default.createElement(Icon, { type: IconTypes.REFRESH, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n};\nvar DeleteMenuItem$1 = function (props) {\n    var _a, _b, _c;\n    var stringSet = useLocalization().stringSet;\n    var _d = useMessageMenuContext(), message = _d.message, hideMenu = _d.hideMenu, deleteMessage = _d.deleteMessage, showRemove = _d.showRemove, isOnline = _d.isOnline, disableDeleteMessage = _d.disableDeleteMessage;\n    return (React__default.createElement(MenuItem, __assign({}, props, { disabled: typeof disableDeleteMessage === 'boolean'\n            ? disableDeleteMessage\n            : ((_b = (_a = message.threadInfo) === null || _a === void 0 ? void 0 : _a.replyCount) !== null && _b !== void 0 ? _b : 0) > 0, onClick: function (e) {\n            var _a;\n            if (isFailedMessage(message)) {\n                deleteMessage(message);\n            }\n            else if (isOnline) {\n                showRemove(true);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_c = props.children) !== null && _c !== void 0 ? _c : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: disableDeleteMessage ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__DELETE),\n        React__default.createElement(Icon, { type: IconTypes.DELETE, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n};\nvar DownloadMenuItem$1 = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), hideMenu = _b.hideMenu, message = _b.message, onDownloadClick = _b.onDownloadClick;\n    var url = message.url;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function () {\n            hideMenu();\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(\"a\", { className: \"sendbird-message__contextmenu--hyperlink\", rel: \"noopener noreferrer\", href: url, target: \"_blank\", onClick: onDownloadClick },\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__SAVE),\n        React__default.createElement(Icon, { type: IconTypes.DOWNLOAD, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n};\n\nvar MobileContextMenu = function (props) {\n    var _a, _b, _c, _d;\n    var channel = props.channel, message = props.message, replyType = props.replyType, userId = props.userId, resendMessage = props.resendMessage, showEdit = props.showEdit, showRemove = props.showRemove, deleteMenuState = props.deleteMenuState, deleteMessage = props.deleteMessage, setQuoteMessage = props.setQuoteMessage, parentRef = props.parentRef, onReplyInThread = props.onReplyInThread, _e = props.isOpenedFromThread, isOpenedFromThread = _e === void 0 ? false : _e, _f = props.onDownloadClick, onDownloadClick = _f === void 0 ? null : _f, renderMenuItems = props.renderMenuItems, hideMobileMenu = props.hideMenu;\n    var isByMe = ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId) === userId;\n    var isOnline = useSendbird().state.config.isOnline;\n    // Menu Items condition\n    var showMenuItemCopy = isUserMessage(message);\n    var showMenuItemEdit = isUserMessage(message) && isSentMessage(message) && isByMe;\n    var showMenuItemResend = isFailedMessage(message) && (message === null || message === void 0 ? void 0 : message.isResendable) && isByMe;\n    var showMenuItemDelete = !isPendingMessage(message) && isByMe;\n    var showMenuItemDeleteByState = isByMe && (deleteMenuState === undefined || deleteMenuState !== 'HIDE');\n    var showMenuItemDeleteFinal = showMenuItemDeleteByState && showMenuItemDelete;\n    var showMenuItemDownload = !isPendingMessage(message) && isFileMessage(message) && !(isVoiceMessage(message) && (channel === null || channel === void 0 ? void 0 : channel.isSuper) || (channel === null || channel === void 0 ? void 0 : channel.isBroadcast));\n    var showMenuItemReply = replyType === 'QUOTE_REPLY' && !isFailedMessage(message) && !isPendingMessage(message) && (channel === null || channel === void 0 ? void 0 : channel.isGroupChannel());\n    var showMenuItemThread = replyType === 'THREAD' && !isOpenedFromThread && !isFailedMessage(message) && !isPendingMessage(message) && !isThreadMessage(message) && (channel === null || channel === void 0 ? void 0 : channel.isGroupChannel());\n    var disableDeleteMessage = (deleteMenuState !== undefined && deleteMenuState === 'DISABLE') || ((_c = (_b = message === null || message === void 0 ? void 0 : message.threadInfo) === null || _b === void 0 ? void 0 : _b.replyCount) !== null && _c !== void 0 ? _c : 0) > 0;\n    var contextValue = {\n        message: message,\n        hideMenu: hideMobileMenu,\n        setQuoteMessage: setQuoteMessage,\n        onReplyInThread: onReplyInThread,\n        onMoveToParentMessage: noop,\n        showEdit: showEdit,\n        showRemove: showRemove,\n        deleteMessage: deleteMessage,\n        resendMessage: resendMessage,\n        isOnline: isOnline,\n        disableDeleteMessage: disableDeleteMessage,\n        triggerRef: parentRef,\n        containerRef: parentRef,\n        onDownloadClick: onDownloadClick,\n    };\n    return (React__default.createElement(MessageMenuProvider, { value: contextValue },\n        React__default.createElement(MenuItems, { className: \"sendbird-message__mobile-context-menu\", parentRef: parentRef, parentContainRef: parentRef, closeDropdown: hideMobileMenu }, (_d = renderMenuItems === null || renderMenuItems === void 0 ? void 0 : renderMenuItems({\n            items: {\n                CopyMenuItem: CopyMenuItem$1,\n                ReplyMenuItem: ReplyMenuItem$1,\n                ThreadMenuItem: ThreadMenuItem$1,\n                EditMenuItem: EditMenuItem$1,\n                ResendMenuItem: ResendMenuItem$1,\n                DeleteMenuItem: DeleteMenuItem$1,\n            },\n        })) !== null && _d !== void 0 ? _d : (React__default.createElement(React__default.Fragment, null,\n            showMenuItemCopy && React__default.createElement(CopyMenuItem$1, null),\n            showMenuItemReply && React__default.createElement(ReplyMenuItem$1, null),\n            showMenuItemThread && React__default.createElement(ThreadMenuItem$1, null),\n            showMenuItemEdit && React__default.createElement(EditMenuItem$1, null),\n            showMenuItemResend && React__default.createElement(ResendMenuItem$1, null),\n            showMenuItemDeleteFinal && React__default.createElement(DeleteMenuItem$1, null),\n            showMenuItemDownload && React__default.createElement(DownloadMenuItem$1, null))))));\n};\n\nvar CopyMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu;\n    return (React__default.createElement(BottomSheetMenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isUserMessage(message))\n                copyToClipboard(message.message);\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Icon, { type: IconTypes.COPY, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__COPY)))));\n};\nvar EditMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), hideMenu = _b.hideMenu, showEdit = _b.showEdit, isOnline = _b.isOnline;\n    return (React__default.createElement(BottomSheetMenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isOnline) {\n                showEdit(true);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Icon, { type: IconTypes.EDIT, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__EDIT)))));\n};\nvar ResendMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu, resendMessage = _b.resendMessage, isOnline = _b.isOnline;\n    return (React__default.createElement(BottomSheetMenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isOnline) {\n                resendMessage(message);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Icon, { type: IconTypes.REFRESH, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__RESEND)))));\n};\nvar ReplyMenuItem = function (props) {\n    var _a, _b, _c;\n    var stringSet = useLocalization().stringSet;\n    var _d = useMessageMenuContext(), message = _d.message, hideMenu = _d.hideMenu, setQuoteMessage = _d.setQuoteMessage;\n    return (React__default.createElement(BottomSheetMenuItem, __assign({}, props, { disabled: message.parentMessageId > 0, onClick: function (e) {\n            var _a;\n            setQuoteMessage(message);\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Icon, { type: IconTypes.REPLY, fillColor: ((_b = message.parentMessageId) !== null && _b !== void 0 ? _b : 0) > 0 ? IconColors.ON_BACKGROUND_3 : IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: ((_c = message.parentMessageId) !== null && _c !== void 0 ? _c : 0) > 0 ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__REPLY)))));\n};\nvar ThreadMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu, onReplyInThread = _b.onReplyInThread;\n    return (React__default.createElement(BottomSheetMenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            onReplyInThread({ message: message });\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Icon, { type: IconTypes.THREAD, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__THREAD)))));\n};\nvar DeleteMenuItem = function (props) {\n    var _a, _b, _c;\n    var stringSet = useLocalization().stringSet;\n    var _d = useMessageMenuContext(), message = _d.message, hideMenu = _d.hideMenu, deleteMessage = _d.deleteMessage, showRemove = _d.showRemove, isOnline = _d.isOnline, disableDeleteMessage = _d.disableDeleteMessage;\n    return (React__default.createElement(BottomSheetMenuItem, __assign({}, props, { disabled: typeof disableDeleteMessage === 'boolean'\n            ? disableDeleteMessage\n            : ((_b = (_a = message.threadInfo) === null || _a === void 0 ? void 0 : _a.replyCount) !== null && _b !== void 0 ? _b : 0) > 0, onClick: function (e) {\n            var _a;\n            if (isFailedMessage(message)) {\n                deleteMessage(message);\n            }\n            else if (isOnline) {\n                showRemove(true);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_c = props.children) !== null && _c !== void 0 ? _c : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Icon, { type: IconTypes.DELETE, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: disableDeleteMessage ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__DELETE)))));\n};\nvar DownloadMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), hideMenu = _b.hideMenu, message = _b.message, onDownloadClick = _b.onDownloadClick;\n    var url = message.url;\n    return (React__default.createElement(BottomSheetMenuItem, { onClick: function () { return hideMenu(); } }, (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(\"a\", { className: \"sendbird-message__bottomsheet--hyperlink\", rel: \"noopener noreferrer\", href: url, target: \"_blank\", onClick: onDownloadClick },\n        React__default.createElement(Icon, { type: IconTypes.DOWNLOAD, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__SAVE)))));\n};\n\nvar EMOJI_SIZE = 38;\nvar MobileBottomSheet = function (props) {\n    var _a, _b, _c, _d;\n    var hideMenu = props.hideMenu, channel = props.channel, emojiContainer = props.emojiContainer, message = props.message, replyType = props.replyType, userId = props.userId, resendMessage = props.resendMessage, deleteMessage = props.deleteMessage, toggleReaction = props.toggleReaction, _e = props.isReactionEnabled, isReactionEnabled = _e === void 0 ? false : _e, showEdit = props.showEdit, showRemove = props.showRemove, deleteMenuState = props.deleteMenuState, setQuoteMessage = props.setQuoteMessage, onReplyInThread = props.onReplyInThread, _f = props.isOpenedFromThread, isOpenedFromThread = _f === void 0 ? false : _f, onDownloadClick = props.onDownloadClick, renderMenuItems = props.renderMenuItems;\n    var isByMe = ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId) === userId;\n    var isOnline = useSendbird().state.config.isOnline;\n    var showMenuItemCopy = isUserMessage(message);\n    var showMenuItemEdit = (isUserMessage(message) && isSentMessage(message) && isByMe);\n    var showMenuItemResend = (isOnline && isFailedMessage(message) && (message === null || message === void 0 ? void 0 : message.isResendable) && isByMe);\n    var showMenuItemDelete = !isPendingMessage(message) && isByMe;\n    var showMenuItemDeleteByState = isByMe && (deleteMenuState === undefined || deleteMenuState !== 'HIDE');\n    var showMenuItemDeleteFinal = showMenuItemDeleteByState && showMenuItemDelete;\n    var disableDelete = ((deleteMenuState !== undefined && deleteMenuState === 'DISABLE')\n        || ((_c = (_b = message === null || message === void 0 ? void 0 : message.threadInfo) === null || _b === void 0 ? void 0 : _b.replyCount) !== null && _c !== void 0 ? _c : 0) > 0);\n    var showMenuItemDownload = isSentMessage(message) && isFileMessage(message) && !isVoiceMessage(message);\n    var showReaction = !isFailedMessage(message) && !isPendingMessage(message) && isReactionEnabled;\n    var showMenuItemReply = (replyType === 'QUOTE_REPLY')\n        && !isFailedMessage(message)\n        && !isPendingMessage(message)\n        && ((channel === null || channel === void 0 ? void 0 : channel.isGroupChannel()) && !(channel === null || channel === void 0 ? void 0 : channel.isBroadcast));\n    var showMenuItemThread = (replyType === 'THREAD') && !isOpenedFromThread\n        && !isFailedMessage(message)\n        && !isPendingMessage(message)\n        && !isThreadMessage(message)\n        && ((channel === null || channel === void 0 ? void 0 : channel.isGroupChannel()) && !(channel === null || channel === void 0 ? void 0 : channel.isBroadcast));\n    var maxEmojisPerRow = Math.floor(window.innerWidth / EMOJI_SIZE) - 1;\n    var _g = useState(false), showEmojisOnly = _g[0], setShowEmojisOnly = _g[1];\n    var emojis = emojiContainer && getEmojiListAll(emojiContainer);\n    var visibleEmojis = showEmojisOnly ? emojis : emojis === null || emojis === void 0 ? void 0 : emojis.slice(0, maxEmojisPerRow);\n    var canShowMoreEmojis = emojis && emojis.length > maxEmojisPerRow;\n    var contextValue = {\n        message: message,\n        hideMenu: hideMenu,\n        setQuoteMessage: setQuoteMessage,\n        onReplyInThread: onReplyInThread,\n        onMoveToParentMessage: function () { },\n        showEdit: showEdit,\n        showRemove: showRemove,\n        deleteMessage: deleteMessage,\n        resendMessage: resendMessage,\n        isOnline: isOnline,\n        disableDeleteMessage: disableDelete,\n        triggerRef: null,\n        containerRef: null,\n        onDownloadClick: onDownloadClick,\n    };\n    return (React__default.createElement(MessageMenuProvider, { value: contextValue },\n        React__default.createElement(BottomSheet, { onBackdropClick: hideMenu },\n            React__default.createElement(\"div\", { className: \"sendbird-message__bottomsheet\" },\n                showReaction && (React__default.createElement(\"div\", { className: \"sendbird-message__bottomsheet-reactions\" },\n                    React__default.createElement(\"ul\", { className: \"sendbird-message__bottomsheet-reaction-bar\" },\n                        React__default.createElement(\"div\", { className: classnames('sendbird-message__bottomsheet-reaction-bar__row', showEmojisOnly && 'sendbird-message__bottomsheet-reaction-bar__all') },\n                            visibleEmojis.map(function (emoji) {\n                                var _a, _b, _c;\n                                var isReacted = (_c = (_b = (_a = message === null || message === void 0 ? void 0 : message.reactions) === null || _a === void 0 ? void 0 : _a.filter(function (reaction) { return reaction.key === emoji.key; })[0]) === null || _b === void 0 ? void 0 : _b.userIds) === null || _c === void 0 ? void 0 : _c.some(function (reactorId) { return reactorId === userId; });\n                                return (React__default.createElement(ReactionButton, { key: emoji.key, width: \"\".concat(EMOJI_SIZE, \"px\"), height: \"\".concat(EMOJI_SIZE, \"px\"), selected: isReacted, onClick: function () {\n                                        hideMenu();\n                                        toggleReaction === null || toggleReaction === void 0 ? void 0 : toggleReaction(message, emoji.key, isReacted);\n                                    }, testID: \"ui_mobile_emoji_reactions_menu_\".concat(emoji.key) },\n                                    React__default.createElement(ImageRenderer, { url: (emoji === null || emoji === void 0 ? void 0 : emoji.url) || '', width: \"28px\", height: \"28px\", placeHolder: function (_a) {\n                                            var style = _a.style;\n                                            return (React__default.createElement(\"div\", { style: style },\n                                                React__default.createElement(Icon, { type: IconTypes.QUESTION, fillColor: IconColors.ON_BACKGROUND_3, width: \"28px\", height: \"28px\" })));\n                                        } })));\n                            }),\n                            canShowMoreEmojis && !showEmojisOnly && (React__default.createElement(ReactionButton, { key: \"emoji_more\", width: \"38px\", height: \"38px\", onClick: function () { return setShowEmojisOnly(true); }, testID: \"ui_mobile_emoji_reactions_menu_emojiadd\" },\n                                React__default.createElement(ImageRenderer, { url: '', width: \"28px\", height: \"28px\", placeHolder: function (_a) {\n                                        var style = _a.style;\n                                        return (React__default.createElement(\"div\", { style: style },\n                                            React__default.createElement(Icon, { type: IconTypes.EMOJI_MORE, fillColor: IconColors.ON_BACKGROUND_3, width: \"28px\", height: \"28px\" })));\n                                    } }))))))),\n                !showEmojisOnly && (React__default.createElement(\"div\", { className: \"sendbird-message__bottomsheet--actions\" }, (_d = renderMenuItems === null || renderMenuItems === void 0 ? void 0 : renderMenuItems({\n                    items: {\n                        CopyMenuItem: CopyMenuItem,\n                        EditMenuItem: EditMenuItem,\n                        ResendMenuItem: ResendMenuItem,\n                        ReplyMenuItem: ReplyMenuItem,\n                        ThreadMenuItem: ThreadMenuItem,\n                        DeleteMenuItem: DeleteMenuItem,\n                    },\n                })) !== null && _d !== void 0 ? _d : (React__default.createElement(React__default.Fragment, null,\n                    showMenuItemCopy && React__default.createElement(CopyMenuItem, null),\n                    showMenuItemEdit && React__default.createElement(EditMenuItem, null),\n                    showMenuItemResend && React__default.createElement(ResendMenuItem, null),\n                    showMenuItemReply && React__default.createElement(ReplyMenuItem, null),\n                    showMenuItemThread && React__default.createElement(ThreadMenuItem, null),\n                    showMenuItemDeleteFinal && React__default.createElement(DeleteMenuItem, null),\n                    showMenuItemDownload && React__default.createElement(DownloadMenuItem, null)))))))));\n};\n\nvar MobileMenu = function (props) {\n    return (React__default.createElement(React__default.Fragment, null, (props === null || props === void 0 ? void 0 : props.isReactionEnabled) ? React__default.createElement(MobileBottomSheet, __assign({}, props)) : React__default.createElement(MobileContextMenu, __assign({}, props))));\n};\n\nexport { MobileBottomSheet, MobileContextMenu, MobileMenu, MobileMenu as default };\n//# sourceMappingURL=MobileMenu.js.map\n", "import React__default from 'react';\nimport { A as Avatar } from '../chunks/bundle-BkCv3z1C.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { u as useLocalization } from '../chunks/bundle-y-yf0Djs.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-MdZYxYNf.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\n\nfunction ThreadReplies(_a, ref) {\n    var _b;\n    var className = _a.className, threadInfo = _a.threadInfo, onClick = _a.onClick;\n    var _c = threadInfo.mostRepliedUsers, mostRepliedUsers = _c === void 0 ? [] : _c, replyCount = threadInfo.replyCount;\n    var stringSet = useLocalization().stringSet;\n    return (React__default.createElement(\"div\", { className: \"sendbird-ui-thread-replies \".concat(className), role: \"button\", onClick: function (e) {\n            onClick === null || onClick === void 0 ? void 0 : onClick(e);\n            e === null || e === void 0 ? void 0 : e.stopPropagation();\n        }, onKeyDown: function (e) {\n            onClick === null || onClick === void 0 ? void 0 : onClick(e);\n            e === null || e === void 0 ? void 0 : e.stopPropagation();\n        }, ref: ref },\n        React__default.createElement(\"div\", { className: \"sendbird-ui-thread-replies__user-profiles\" },\n            mostRepliedUsers.slice(0, 4).map(function (user) {\n                return (React__default.createElement(Avatar, { key: user.userId, className: \"sendbird-ui-thread-replies__user-profiles__avatar\", src: user === null || user === void 0 ? void 0 : user.profileUrl, alt: \"user profile\", width: \"20px\", height: \"20px\" }));\n            }),\n            (mostRepliedUsers === null || mostRepliedUsers === void 0 ? void 0 : mostRepliedUsers.length) >= 5 && (React__default.createElement(\"div\", { className: \"sendbird-ui-thread-replies__user-profiles__avatar\" },\n                React__default.createElement(Avatar, { className: \"sendbird-ui-thread-replies__user-profiles__avatar__image\", src: (_b = mostRepliedUsers === null || mostRepliedUsers === void 0 ? void 0 : mostRepliedUsers[4]) === null || _b === void 0 ? void 0 : _b.profileUrl, alt: \"user profile\", width: \"20px\", height: \"20px\" }),\n                React__default.createElement(\"div\", { className: \"sendbird-ui-thread-replies__user-profiles__avatar__cover\" }),\n                React__default.createElement(\"div\", { className: \"sendbird-ui-thread-replies__user-profiles__avatar__plus\" },\n                    React__default.createElement(Icon, { type: IconTypes.PLUS, fillColor: IconColors.WHITE, width: \"16px\", height: \"16px\" }))))),\n        React__default.createElement(Label, { className: \"sendbird-ui-thread-replies__reply-counts\", type: LabelTypography.CAPTION_2, color: LabelColors.PRIMARY }, replyCount === 1\n            ? \"\".concat(replyCount, \" \").concat(stringSet.CHANNEL__THREAD_REPLY)\n            : \"\".concat(replyCount > 99 ? stringSet.CHANNEL__THREAD_OVER_MAX : replyCount, \" \").concat(stringSet.CHANNEL__THREAD_REPLIES)),\n        React__default.createElement(Icon, { className: \"sendbird-ui-thread-replies__icon\", type: IconTypes.CHEVRON_RIGHT, fillColor: IconColors.PRIMARY, width: \"16px\", height: \"16px\" })));\n}\nvar ThreadReplies$1 = React__default.forwardRef(ThreadReplies);\n\nexport { ThreadReplies, ThreadReplies$1 as default };\n//# sourceMappingURL=ThreadReplies.js.map\n", "import React__default, { useRef, useContext, useState, useCallback } from 'react';\nimport { l as isSendableMessage, y as getClassName, o as getUIKitMessageTypes, P as isFormMessage, D as isTemplateMessage, R as isValidTemplateMessageType, N as isOGMessage, _ as isTextMessage, n as getUIKitMessageType, d as isMultipleFilesMessage, i as isVoiceMessage, q as isThumbnailMessage, f as getSenderName } from './bundle-Ug7rKzFJ.js';\nimport { C as ContextMenu, b as MenuItems } from './bundle-BEUsrftF.js';\nimport { A as Avatar } from './bundle-BkCv3z1C.js';\nimport UserProfile from '../ui/UserProfile.js';\nimport { u as useUserProfileContext } from './bundle-ByW5tGii.js';\nimport { c as classnames } from './bundle-Bc1fdQjj.js';\nimport { b as __awaiter, c as __generator, _ as __assign } from './bundle-BosquA9C.js';\nimport OGMessageItemBody from '../ui/OGMessageItemBody.js';\nimport TextMessageItemBody from '../ui/TextMessageItemBody.js';\nimport FileMessageItemBody from '../ui/FileMessageItemBody.js';\nimport { u as useThreadMessageKindKeySelector, a as useFileInfoListWithUploaded, M as MultipleFilesMessageItemBody } from './bundle-CxdqLaUY.js';\nimport { VoiceMessageItemBody } from '../ui/VoiceMessageItemBody.js';\nimport ThumbnailMessageItemBody from '../ui/ThumbnailMessageItemBody.js';\nimport UnknownMessageItemBody from '../ui/UnknownMessageItemBody.js';\nimport { K } from './bundle-BA9ZfQ-7.js';\nimport { TemplateMessageItemBody } from '../ui/TemplateMessageItemBody.js';\nimport Button from '../ui/Button.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from './bundle-MoKyCGQH.js';\nimport MessageFeedbackFailedModal from '../ui/MessageFeedbackFailedModal.js';\nimport { L as LocalizationContext } from './bundle-y-yf0Djs.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport { T as TEXT_MESSAGE_BODY_CLASSNAME } from './bundle-B602cp-8.js';\nimport { f as isFormVersionCompatible } from './bundle-DgO_xXWo.js';\nimport { M as MESSAGE_TEMPLATE_KEY } from './bundle-BDIF-bj_.js';\n\nfunction MessageProfile(_a) {\n    var \n    // Internal props\n    _b = _a.className, \n    // Internal props\n    className = _b === void 0 ? '' : _b, isByMe = _a.isByMe, displayThreadReplies = _a.displayThreadReplies, bottom = _a.bottom, \n    // MessageContentProps\n    message = _a.message, channel = _a.channel, userId = _a.userId, _c = _a.chainBottom, chainBottom = _c === void 0 ? false : _c;\n    var avatarRef = useRef(null);\n    var _d = useUserProfileContext(), disableUserProfile = _d.disableUserProfile, renderUserProfile = _d.renderUserProfile;\n    if (isByMe || chainBottom || !isSendableMessage(message)) {\n        return null;\n    }\n    return (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) {\n            var _a, _b;\n            return (React__default.createElement(Avatar, { className: classnames(className, displayThreadReplies && 'use-thread-replies'), src: ((_b = (_a = channel === null || channel === void 0 ? void 0 : channel.members) === null || _a === void 0 ? void 0 : _a.find(function (member) { return (member === null || member === void 0 ? void 0 : member.userId) === message.sender.userId; })) === null || _b === void 0 ? void 0 : _b.profileUrl)\n                    || message.sender.profileUrl\n                    || '', \n                // TODO: Divide getting profileUrl logic to utils\n                ref: avatarRef, width: \"28px\", height: \"28px\", bottom: bottom, onClick: function () {\n                    if (!disableUserProfile)\n                        toggleDropdown();\n                } }));\n        }, menuItems: function (closeDropdown) { return (renderUserProfile ? (renderUserProfile({\n            user: message.sender,\n            close: closeDropdown,\n            currentUserId: userId,\n            avatarRef: avatarRef,\n        })) : (React__default.createElement(MenuItems\n        /**\n         * parentRef: For catching location(x, y) of MenuItems\n         * parentContainRef: For toggling more options(menus & reactions)\n        */\n        , { \n            /**\n             * parentRef: For catching location(x, y) of MenuItems\n             * parentContainRef: For toggling more options(menus & reactions)\n            */\n            parentRef: avatarRef, parentContainRef: avatarRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n            React__default.createElement(UserProfile, { user: message.sender, onSuccess: closeDropdown })))); } }));\n}\n\nvar InputLabel = function (_a) {\n    var children = _a.children;\n    return (React__default.createElement(Label, { className: 'sendbird-form-message__input__label', type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, children));\n};\nvar FormInput = function (props) {\n    var name = props.name, required = props.required, errorMessage = props.errorMessage, isValid = props.isValid, values = props.values, isInvalidated = props.isInvalidated, isSubmitTried = props.isSubmitTried, style = props.style, onFocused = props.onFocused, onChange = props.onChange, placeHolder = props.placeHolder, isSubmitted = props.isSubmitted;\n    var layout = style.layout, _a = style.options, options = _a === void 0 ? [] : _a, resultCount = style.resultCount;\n    var _b = resultCount !== null && resultCount !== void 0 ? resultCount : {}, _c = _b.min, min = _c === void 0 ? 1 : _c, _d = _b.max, max = _d === void 0 ? 1 : _d;\n    var chipDataList = getInitialChipDataList();\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var handleFocus = function () {\n        onFocused === null || onFocused === void 0 ? void 0 : onFocused(true);\n    };\n    var handleBlur = function () {\n        onFocused === null || onFocused === void 0 ? void 0 : onFocused(false);\n    };\n    function getInitialChipDataList() {\n        if (isSubmitted) {\n            return options.map(function (option) { return ({\n                state: values.includes(option)\n                    ? 'submittedSelected'\n                    : 'submittedDefault',\n                option: option,\n            }); });\n        }\n        else {\n            return options.map(function (option) { return ({\n                state: values.includes(option) ? 'selected' : 'default',\n                option: option,\n            }); });\n        }\n    }\n    var onChipClick = function (index) {\n        if (isSubmitted)\n            return;\n        var newDraftedValues;\n        if (min === 1 && max === 1) {\n            // Single select\n            newDraftedValues = chipDataList[index].state === 'selected' ? [] : [chipDataList[index].option];\n        }\n        else {\n            newDraftedValues = chipDataList.reduce(function (acc, chipData, i) {\n                if (i === index) {\n                    if (chipData.state === 'default' && values.length < max) {\n                        acc.push(chipData.option);\n                    }\n                }\n                else if (chipData.state === 'selected') {\n                    acc.push(chipData.option);\n                }\n                return acc;\n            }, []);\n        }\n        onChange(newDraftedValues);\n    };\n    return (React__default.createElement(\"div\", { className: 'sendbird-form-message__input__root' },\n        React__default.createElement(InputLabel, null,\n            React__default.createElement(\"div\", { className: 'sendbird-form-message__input__title-container' },\n                name,\n                \" \",\n                !required && React__default.createElement(\"span\", { className: 'sendbird-form-message__input__title-optional' }, \"(optional)\"))),\n        React__default.createElement(\"div\", { className: 'sendbird-input_for_form' },\n            (function () {\n                switch (layout) {\n                    case 'chip': {\n                        return (React__default.createElement(\"div\", { className: 'sendbird-form-message__input__chip-container' }, chipDataList.map(function (chipData, index) {\n                            return (React__default.createElement(\"div\", { className: \"sendbird-form-message__input__chip \".concat(chipData.state), key: index, onClick: function () { return onChipClick(index); } },\n                                React__default.createElement(\"div\", { className: 'sendbird-form-message__input__chip-text' }, chipData.option),\n                                isSubmitted\n                                    && chipData.state === 'submittedSelected' && (React__default.createElement(Icon, { className: 'sendbird-form-message__submitted-check-icon-chip', type: IconTypes.DONE, fillColor: IconColors.SECONDARY_2, width: '20px', height: '20px' }))));\n                        })));\n                    }\n                    case 'textarea': {\n                        var currentValue = values.length > 0 ? values[0] : '';\n                        return (React__default.createElement(\"div\", { className: 'sendbird-form-message__input__container' }, isSubmitted ? (React__default.createElement(\"div\", { className: 'sendbird-form-message__submitted-input-box textarea' },\n                            React__default.createElement(\"div\", { className: 'sendbird-form-message__submitted-input-box-text' }, currentValue),\n                            isValid && (React__default.createElement(\"div\", { className: 'sendbird-form-message__submitted-check-icon-container' },\n                                React__default.createElement(Icon, { type: IconTypes.DONE, fillColor: IconColors.SECONDARY_2, width: '20px', height: '20px' }))),\n                            !currentValue && (React__default.createElement(Label, { className: 'sendbird-input__placeholder', type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_3 }, stringSet.FORM_ITEM_OPTIONAL_EMPTY)))) : (React__default.createElement(React__default.Fragment, null,\n                            React__default.createElement(\"textarea\", { className: classnames('sendbird-input__input', !!errorMessage && 'error', 'sendbird-form-message__input__textarea'), required: required, disabled: isSubmitted, value: currentValue, onFocus: handleFocus, onBlur: handleBlur, onChange: function (event) {\n                                    var value = event.target.value;\n                                    onChange(value ? [value] : []);\n                                } }),\n                            (placeHolder && !currentValue) && (React__default.createElement(Label, { className: 'sendbird-input__placeholder textarea', type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_3 }, placeHolder))))));\n                    }\n                    case 'text':\n                    case 'number':\n                    case 'phone':\n                    case 'email': {\n                        var currentValue = values.length > 0 ? values[0] : '';\n                        return (React__default.createElement(\"div\", { className: \"sendbird-form-message__input__container\" }, isSubmitted ? (React__default.createElement(\"div\", { className: \"sendbird-form-message__submitted-input-box\" },\n                            React__default.createElement(\"div\", { className: \"sendbird-form-message__submitted-input-box-text\" }, currentValue),\n                            isValid && (React__default.createElement(\"div\", { className: \"sendbird-form-message__submitted-check-icon-container\" },\n                                React__default.createElement(Icon, { type: IconTypes.DONE, fillColor: IconColors.SECONDARY_2, width: \"20px\", height: \"20px\" }))),\n                            !currentValue && (React__default.createElement(Label, { className: 'sendbird-input__placeholder', type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_3 }, stringSet.FORM_ITEM_OPTIONAL_EMPTY)))) : (React__default.createElement(React__default.Fragment, null,\n                            React__default.createElement(\"input\", { type: layout === 'number' ? 'text' : layout, inputMode: layout === 'number' ? 'numeric' : 'text', className: \"sendbird-input__input \".concat(errorMessage ? 'error' : ''), name: name, required: required, disabled: isSubmitted, value: currentValue, onFocus: handleFocus, onBlur: handleBlur, onChange: function (event) {\n                                    var value = event.target.value;\n                                    onChange(value ? [value] : []);\n                                } }),\n                            (placeHolder && !currentValue) && (React__default.createElement(Label, { className: 'sendbird-input__placeholder', type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_3 }, placeHolder))))));\n                    }\n                    default: {\n                        return React__default.createElement(React__default.Fragment, null);\n                    }\n                }\n            })(),\n            errorMessage && (isSubmitTried || isInvalidated) && (React__default.createElement(Label, { className: 'sendbird-form-message__error-label', type: LabelTypography.CAPTION_3 }, errorMessage)))));\n};\n\nvar FallbackUserMessage = function (_a) {\n    var isByMe = _a.isByMe, text = _a.text;\n    return (React__default.createElement(\"div\", { className: getClassName([\n            'sendbird-unknown-message-item-body',\n            isByMe ? 'outgoing' : 'incoming',\n        ]) },\n        React__default.createElement(Label, { className: \"sendbird-unknown-message-item-body__description\", type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_3 : LabelColors.ONBACKGROUND_3 }, text)));\n};\nfunction FormMessageItemBody(props) {\n    var _this = this;\n    var message = props.message, form = props.form, isByMe = props.isByMe, logger = props.logger;\n    var items = form.items, formId = form.id;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var _a = useState(false), submitFailed = _a[0], setSubmitFailed = _a[1];\n    var _b = useState(false), isSubmitTried = _b[0], setIsSubmitTried = _b[1];\n    var _c = useState(function () {\n        var initialFormValues = [];\n        items.forEach(function (_a) {\n            var required = _a.required, _b = _a.style, style = _b === void 0 ? {} : _b;\n            var layout = style.layout, _c = style.defaultOptions, defaultOptions = _c === void 0 ? [] : _c;\n            initialFormValues.push({\n                draftValues: layout === 'chip' ? defaultOptions : [],\n                required: required,\n                errorMessage: null,\n                isInvalidated: false,\n            });\n        });\n        return initialFormValues;\n    }), formValues = _c[0], setFormValues = _c[1];\n    var isSubmitted = form.isSubmitted;\n    var hasError = formValues.some(function (_a) {\n        var errorMessage = _a.errorMessage;\n        return !!errorMessage;\n    });\n    var hasInvalidated = formValues.some(function (_a) {\n        var isInvalidated = _a.isInvalidated;\n        return isInvalidated;\n    });\n    var isButtonDisabled = (hasError && (isSubmitTried || hasInvalidated)) || isSubmitted;\n    var handleSubmit = useCallback(function () { return __awaiter(_this, void 0, void 0, function () {\n        var hasError_1, isMissingRequired, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    setIsSubmitTried(true);\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    hasError_1 = formValues.some(function (_a) {\n                        var errorMessage = _a.errorMessage;\n                        return errorMessage;\n                    });\n                    if (hasError_1) {\n                        return [2 /*return*/];\n                    }\n                    isMissingRequired = formValues.some(function (formValue) { return formValue.required\n                        && (!formValue.draftValues || formValue.draftValues.length === 0); });\n                    if (isMissingRequired) {\n                        setFormValues(function (oldFormValues) {\n                            return oldFormValues.map(function (formValue) {\n                                if (formValue.required && formValue.draftValues.length === 0) {\n                                    return __assign(__assign({}, formValue), { errorMessage: stringSet.FORM_ITEM_REQUIRED });\n                                }\n                                return formValue;\n                            });\n                        });\n                        return [2 /*return*/];\n                    }\n                    formValues.forEach(function (formValue, index) {\n                        items[index].draftValues = formValue.draftValues;\n                    });\n                    return [4 /*yield*/, message.submitMessageForm()];\n                case 2:\n                    _a.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_1 = _a.sent();\n                    setSubmitFailed(true);\n                    logger === null || logger === void 0 ? void 0 : logger.error(error_1);\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, [formValues, message.messageId, message.submitMessageForm, formId]);\n    if (!isFormVersionCompatible(form.version)) {\n        return React__default.createElement(FallbackUserMessage, { isByMe: isByMe, text: stringSet.FORM_VERSION_ERROR });\n    }\n    return (React__default.createElement(\"div\", { className: getClassName([\n            \"\".concat(TEXT_MESSAGE_BODY_CLASSNAME, \" disable-hover\"),\n            'sendbird-form-message__root',\n            'incoming',\n        ]) },\n        items.map(function (item, index) {\n            var _a;\n            var name = item.name, placeholder = item.placeholder, id = item.id, required = item.required, style = item.style;\n            var _b = formValues[index], _c = _b.draftValues, draftValues = _c === void 0 ? [] : _c, errorMessage = _b.errorMessage;\n            return (React__default.createElement(FormInput, { key: id, style: style, placeHolder: placeholder, values: (_a = item.submittedValues) !== null && _a !== void 0 ? _a : draftValues, isInvalidated: formValues[index].isInvalidated, isSubmitTried: isSubmitTried, errorMessage: errorMessage, isValid: isSubmitted, isSubmitted: isSubmitted, name: name, required: required, onFocused: function (isFocus) {\n                    if (errorMessage && !isFocus && !formValues[index].isInvalidated) {\n                        setFormValues(function (_a) {\n                            var newInputs = _a.slice(0);\n                            newInputs[index] = __assign(__assign({}, newInputs[index]), { isInvalidated: true });\n                            return newInputs;\n                        });\n                    }\n                    else if (!errorMessage) {\n                        setFormValues(function (_a) {\n                            var newInputs = _a.slice(0);\n                            newInputs[index] = __assign(__assign({}, newInputs[index]), { isInvalidated: false });\n                            return newInputs;\n                        });\n                    }\n                }, onChange: function (values) {\n                    setFormValues(function (_a) {\n                        var newInputs = _a.slice(0);\n                        newInputs[index] = __assign(__assign({}, newInputs[index]), { draftValues: values, errorMessage: (function () {\n                                if (!item.isValid(values)) {\n                                    return stringSet.FORM_ITEM_INVALID;\n                                }\n                                if (required && values.length === 0) {\n                                    return stringSet.FORM_ITEM_REQUIRED;\n                                }\n                                return null;\n                            })() });\n                        return newInputs; // Return the new array\n                    });\n                } }));\n        }),\n        React__default.createElement(Button, { className: 'sendbird-form-message__submit-button', onClick: handleSubmit, disabled: isButtonDisabled, labelType: LabelTypography.BUTTON_2, labelColor: LabelColors.ONCONTENT_1 }, isSubmitted ? 'Submitted successfully' : 'Submit'),\n        submitFailed && (React__default.createElement(MessageFeedbackFailedModal, { text: 'Submit failed.', onCancel: function () {\n                setSubmitFailed(false);\n            } }))));\n}\n\nvar MESSAGE_ITEM_BODY_CLASSNAME = 'sendbird-message-content__middle__message-item-body';\nvar MessageBody = function (props) {\n    var _a;\n    var _b = props.className, className = _b === void 0 ? MESSAGE_ITEM_BODY_CLASSNAME : _b, message = props.message, channel = props.channel, showFileViewer = props.showFileViewer, onMessageHeightChange = props.onMessageHeightChange, onBeforeDownloadFileMessage = props.onBeforeDownloadFileMessage, mouseHover = props.mouseHover, isMobile = props.isMobile, config = props.config, isReactionEnabledInChannel = props.isReactionEnabledInChannel, isByMe = props.isByMe;\n    // Private props for internal customization.\n    var customSubcomponentsProps = (_a = props['customSubcomponentsProps']) !== null && _a !== void 0 ? _a : {};\n    var threadMessageKindKey = useThreadMessageKindKeySelector({\n        isMobile: isMobile,\n    });\n    var statefulFileInfoList = useFileInfoListWithUploaded(message); // For MultipleFilesMessage.\n    var messageTypes = getUIKitMessageTypes();\n    var isOgMessageEnabledInGroupChannel = (channel === null || channel === void 0 ? void 0 : channel.isGroupChannel()) && config.groupChannel.enableOgtag;\n    var isFormMessageEnabledInGroupChannel = (channel === null || channel === void 0 ? void 0 : channel.isGroupChannel()) && config.groupChannel.enableFormTypeMessage;\n    var renderUnknownMessageItemBody = function () { return React__default.createElement(UnknownMessageItemBody, { className: className, message: message, isByMe: isByMe, mouseHover: mouseHover, isReactionEnabled: isReactionEnabledInChannel }); };\n    return K(message)\n        .when(function (message) { return isFormMessageEnabledInGroupChannel && isFormMessage(message); }, function () { return (React__default.createElement(FormMessageItemBody, { isByMe: isByMe, message: message, form: message.messageForm, logger: config.logger })); })\n        .when(isTemplateMessage, function () {\n        var _a, _b;\n        var templatePayload = message.extendedMessagePayload[MESSAGE_TEMPLATE_KEY];\n        if (!isValidTemplateMessageType(templatePayload)) {\n            (_b = (_a = config.logger) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, 'TemplateMessageItemBody: invalid type value in message.extendedMessagePayload.message_template.', templatePayload);\n            return renderUnknownMessageItemBody();\n        }\n        return React__default.createElement(TemplateMessageItemBody, { className: className, message: message, isByMe: isByMe, theme: config === null || config === void 0 ? void 0 : config.theme });\n    })\n        .when(function (message) { return isOgMessageEnabledInGroupChannel\n        && isSendableMessage(message)\n        && isOGMessage(message); }, function () {\n        var _a;\n        return (React__default.createElement(OGMessageItemBody, { className: className, message: message, isByMe: isByMe, mouseHover: mouseHover, isMentionEnabled: (_a = config.groupChannel.enableMention) !== null && _a !== void 0 ? _a : false, isReactionEnabled: isReactionEnabledInChannel, onMessageHeightChange: onMessageHeightChange, isMarkdownEnabled: config.groupChannel.enableMarkdownForUserMessage }));\n    })\n        .when(isTextMessage, function () {\n        var _a;\n        return (React__default.createElement(TextMessageItemBody, { className: className, message: message, isByMe: isByMe, mouseHover: mouseHover, isMentionEnabled: (_a = config.groupChannel.enableMention) !== null && _a !== void 0 ? _a : false, isReactionEnabled: isReactionEnabledInChannel, isMarkdownEnabled: config.groupChannel.enableMarkdownForUserMessage }));\n    })\n        .when(function (message) { return getUIKitMessageType(message) === messageTypes.FILE; }, function () { return (React__default.createElement(FileMessageItemBody, { className: className, message: message, isByMe: isByMe, mouseHover: mouseHover, isReactionEnabled: isReactionEnabledInChannel, onBeforeDownloadFileMessage: onBeforeDownloadFileMessage })); })\n        .when(isMultipleFilesMessage, function () {\n        var _a;\n        return (React__default.createElement(MultipleFilesMessageItemBody, __assign({ className: className, message: message, isByMe: isByMe, mouseHover: mouseHover, isReactionEnabled: isReactionEnabledInChannel, threadMessageKindKey: threadMessageKindKey, statefulFileInfoList: statefulFileInfoList, onBeforeDownloadFileMessage: onBeforeDownloadFileMessage }, (_a = customSubcomponentsProps['MultipleFilesMessageItemBody']) !== null && _a !== void 0 ? _a : {})));\n    })\n        .when(isVoiceMessage, function () {\n        var _a;\n        return (React__default.createElement(VoiceMessageItemBody, { className: className, message: message, channelUrl: (_a = channel === null || channel === void 0 ? void 0 : channel.url) !== null && _a !== void 0 ? _a : '', isByMe: isByMe, isReactionEnabled: isReactionEnabledInChannel }));\n    })\n        .when(isThumbnailMessage, function () {\n        var _a;\n        return (React__default.createElement(ThumbnailMessageItemBody, __assign({ className: className, message: message, isByMe: isByMe, mouseHover: mouseHover, isReactionEnabled: isReactionEnabledInChannel, showFileViewer: showFileViewer, style: isMobile ? { width: '100%' } : {} }, (_a = customSubcomponentsProps['ThumbnailMessageItemBody']) !== null && _a !== void 0 ? _a : {})));\n    })\n        .otherwise(function () {\n        return renderUnknownMessageItemBody();\n    });\n};\n\nvar MessageHeader = function (props) {\n    var _a, _b;\n    var channel = props.channel, message = props.message;\n    return (React__default.createElement(Label, { className: \"sendbird-message-content__middle__sender-name\", type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, \n    /**\n     * To use the latest member profile information, message.sender might be outdated\n     */\n    ((_b = (_a = channel === null || channel === void 0 ? void 0 : channel.members) === null || _a === void 0 ? void 0 : _a.find(function (member) {\n        var _a;\n        // @ts-ignore\n        return (member === null || member === void 0 ? void 0 : member.userId) === ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId);\n    })) === null || _b === void 0 ? void 0 : _b.nickname) || getSenderName(message)\n    // TODO: Divide getting profileUrl logic to utils\n    ));\n};\n\nexport { MessageProfile as M, MessageBody as a, MessageHeader as b };\n//# sourceMappingURL=bundle-DEVtRtKL.js.map\n", "import React__default, { useContext, useMemo, useRef, useEffect } from 'react';\nimport ImageRenderer from './ImageRenderer.js';\nimport Icon, { IconTypes } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { y as getClassName, e as isEditedMessage } from '../chunks/bundle-Ug7rKzFJ.js';\nimport { L as LocalizationContext } from '../chunks/bundle-y-yf0Djs.js';\nimport { T as TextFragment } from '../chunks/bundle-bLHW4VuD.js';\nimport { t as tokenizeMessage } from '../chunks/bundle-BJl-Stow.js';\nimport { O as OG_MESSAGE_BODY_CLASSNAME } from '../chunks/bundle-CXh4vzCv.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DvgqpwmQ.js';\nimport { o as openURL, c as classnames } from '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../Message/context.js';\nimport './MentionLabel.js';\nimport '../chunks/bundle-BEUsrftF.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport './IconButton.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport './UserProfile.js';\nimport '../chunks/bundle-ByW5tGii.js';\nimport '../chunks/bundle-Bk7vYzLW.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DxUY6hv0.js';\nimport '../chunks/bundle-BkCv3z1C.js';\nimport '../chunks/bundle-MdZYxYNf.js';\nimport './Button.js';\nimport './LinkLabel.js';\n\nfunction OGMessageItemBody(_a) {\n    var _b, _c, _d, _e;\n    var className = _a.className, message = _a.message, _f = _a.isByMe, isByMe = _f === void 0 ? false : _f, _g = _a.mouseHover, mouseHover = _g === void 0 ? false : _g, _h = _a.isMentionEnabled, isMentionEnabled = _h === void 0 ? false : _h, _j = _a.isReactionEnabled, isReactionEnabled = _j === void 0 ? false : _j, _k = _a.isMarkdownEnabled, isMarkdownEnabled = _k === void 0 ? false : _k, _l = _a.onMessageHeightChange, onMessageHeightChange = _l === void 0 ? function () {\n        /* noop */\n    } : _l;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var isMessageMentioned = isMentionEnabled && ((_b = message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate) === null || _b === void 0 ? void 0 : _b.length) > 0 && (message === null || message === void 0 ? void 0 : message.mentionedUsers) && ((_c = message === null || message === void 0 ? void 0 : message.mentionedUsers) === null || _c === void 0 ? void 0 : _c.length) > 0;\n    var tokens = useMemo(function () {\n        var _a;\n        if (isMessageMentioned) {\n            return tokenizeMessage({\n                mentionedUsers: (_a = message === null || message === void 0 ? void 0 : message.mentionedUsers) !== null && _a !== void 0 ? _a : undefined,\n                messageText: message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate,\n                includeMarkdown: isMarkdownEnabled,\n            });\n        }\n        return tokenizeMessage({\n            messageText: message === null || message === void 0 ? void 0 : message.message,\n            includeMarkdown: isMarkdownEnabled,\n        });\n    }, [message === null || message === void 0 ? void 0 : message.updatedAt, message === null || message === void 0 ? void 0 : message.message]);\n    var openOpenGraphURL = function () { var _a; return openURL((_a = message === null || message === void 0 ? void 0 : message.ogMetaData) === null || _a === void 0 ? void 0 : _a.url); };\n    return (React__default.createElement(\"div\", { className: getClassName([\n            className !== null && className !== void 0 ? className : '',\n            'sendbird-og-message-item-body',\n            isByMe ? 'outgoing' : 'incoming',\n            mouseHover ? 'mouse-hover' : '',\n            isReactionEnabled && ((_d = message === null || message === void 0 ? void 0 : message.reactions) === null || _d === void 0 ? void 0 : _d.length) > 0 ? 'reactions' : '',\n        ]) },\n        React__default.createElement(Label, { type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 },\n            React__default.createElement(\"div\", { className: OG_MESSAGE_BODY_CLASSNAME },\n                React__default.createElement(TextFragment, { tokens: tokens }),\n                isEditedMessage(message) && (React__default.createElement(Label, { className: \"sendbird-og-message-item-body__text-bubble__message\", type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_2 : LabelColors.ONBACKGROUND_2 }, \" \".concat(stringSet.MESSAGE_EDITED, \" \"))))),\n        ((_e = message.ogMetaData) === null || _e === void 0 ? void 0 : _e.defaultImage) && (React__default.createElement(OGImageSection, { onClick: openOpenGraphURL, ogImage: message.ogMetaData.defaultImage, onMessageHeightChange: onMessageHeightChange })),\n        message.ogMetaData && (React__default.createElement(OGDescriptionSection, { onClick: openOpenGraphURL, ogMetaData: message.ogMetaData, onMessageHeightChange: onMessageHeightChange })),\n        React__default.createElement(\"div\", { className: \"sendbird-og-message-item-body__cover\" })));\n}\nvar OGImageSection = function (props) {\n    var onClick = props.onClick, ogImage = props.ogImage, onMessageHeightChange = props.onMessageHeightChange;\n    var imageRef = useRef(null);\n    var isMobile = useMediaQueryContext().isMobile;\n    return (React__default.createElement(\"div\", { ref: imageRef, className: classnames('sendbird-og-message-item-body__og-thumbnail', !ogImage.url && 'sendbird-og-message-item-body__og-thumbnail__empty'), onClick: function () { return onClick(); } },\n        React__default.createElement(ImageRenderer, { className: \"sendbird-og-message-item-body__og-thumbnail__image\", url: ogImage.url || '', alt: ogImage.alt || '', width: \"100%\", height: isMobile ? '136px' : '240px', onLoad: onMessageHeightChange, onError: function () {\n                var _a, _b;\n                try {\n                    (_b = (_a = imageRef === null || imageRef === void 0 ? void 0 : imageRef.current) === null || _a === void 0 ? void 0 : _a.classList) === null || _b === void 0 ? void 0 : _b.add('sendbird-og-message-item-body__og-thumbnail__empty');\n                }\n                catch (error) {\n                    // do nothing\n                }\n            }, defaultComponent: React__default.createElement(\"div\", { className: \"sendbird-og-message-item-body__og-thumbnail__place-holder\" },\n                React__default.createElement(Icon, { className: \"sendbird-og-message-item-body__og-thumbnail__place-holder__icon\", type: IconTypes.THUMBNAIL_NONE, width: \"56px\", height: \"56px\" })) })));\n};\nvar OGDescriptionSection = function (props) {\n    var onClick = props.onClick, ogMetaData = props.ogMetaData, onMessageHeightChange = props.onMessageHeightChange;\n    useEffect(function () {\n        onMessageHeightChange();\n    }, [ogMetaData.title, ogMetaData.description, ogMetaData.url]);\n    return (React__default.createElement(\"div\", { className: \"sendbird-og-message-item-body__description\", onClick: function () { return onClick(); } },\n        ogMetaData.title && (React__default.createElement(Label, { className: \"sendbird-og-message-item-body__description__title\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_1 }, ogMetaData.title)),\n        ogMetaData.description && (React__default.createElement(Label, { className: \"sendbird-og-message-item-body__description__description\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_1 }, ogMetaData.description)),\n        ogMetaData.url && (React__default.createElement(Label, { className: \"sendbird-og-message-item-body__description__url\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, ogMetaData.url))));\n};\n\nexport { OGMessageItemBody as default };\n//# sourceMappingURL=OGMessageItemBody.js.map\n", "import React__default from 'react';\nimport { K } from './bundle-BA9ZfQ-7.js';\nimport { T as TOKEN_TYPES, a as tokenizeMarkdown, U as USER_MENTION_PREFIX, b as getWhiteSpacePreservedText } from './bundle-BJl-Stow.js';\nimport { useMessageContext } from '../Message/context.js';\nimport MentionLabel from '../ui/MentionLabel.js';\nimport LinkLabel from '../ui/LinkLabel.js';\nimport { a as LabelTypography, b as LabelColors } from './bundle-MoKyCGQH.js';\n\n// this function is used to generate a unique key for token in message\n// it changes with updated time and index\n// messageUpdatedAt is the key part of this key generator\nfunction keyGenerator(createdAt, messageUpdatedAt, index) {\n    return \"sb-msg_\".concat(createdAt, \"_\").concat(messageUpdatedAt, \"_\").concat(index);\n}\n\nfunction asSafeURL(url) {\n    var safeURL = decodeURIComponent(url);\n    try {\n        var protocol_1 = new URL(safeURL).protocol;\n        if (['https:', 'http:'].some(function (it) { return it === protocol_1.toLowerCase(); })) {\n            return safeURL;\n        }\n        else {\n            return '#';\n        }\n    }\n    catch (error) {\n        if (!safeURL.startsWith('http://') && !safeURL.startsWith('https://')) {\n            safeURL = 'https://' + safeURL;\n        }\n    }\n    return safeURL;\n}\n\nfunction TextFragment(_a) {\n    var tokens = _a.tokens;\n    var messageStore = useMessageContext();\n    var message = messageStore === null || messageStore === void 0 ? void 0 : messageStore.message;\n    var isByMe = messageStore === null || messageStore === void 0 ? void 0 : messageStore.isByMe;\n    var updatedAt = message.updatedAt, createdAt = message.createdAt;\n    return (React__default.createElement(React__default.Fragment, null, tokens === null || tokens === void 0 ? void 0 : tokens.map(function (token, idx) {\n        var key = keyGenerator(createdAt, updatedAt, idx);\n        return K(token.type)\n            .with(TOKEN_TYPES.markdown, function () {\n            var markdownToken = token;\n            var groups = markdownToken.groups;\n            return React__default.createElement(\"span\", { className: \"sendbird-word\", key: key, \"data-testid\": \"sendbird-ui-word\" }, K(markdownToken.markdownType)\n                .with('bold', function () { return (React__default.createElement(\"span\", { style: { fontWeight: 'bold' } },\n                React__default.createElement(TextFragment, { tokens: tokenizeMarkdown({ messageText: groups[1] }) }))); })\n                .with('url', function () {\n                return (React__default.createElement(\"a\", { className: isByMe\n                        ? 'sendbird-label--color-oncontent-1'\n                        : 'sendbird-label--color-onbackground-1', href: asSafeURL(groups[2]) },\n                    React__default.createElement(TextFragment, { tokens: tokenizeMarkdown({ messageText: groups[1] }) })));\n            })\n                .otherwise(function () { return React__default.createElement(React__default.Fragment, null); }));\n        })\n            .with(TOKEN_TYPES.mention, function () { return (React__default.createElement(\"span\", { className: \"sendbird-word\", key: key, \"data-testid\": \"sendbird-ui-word\" },\n            React__default.createElement(MentionLabel, { mentionTemplate: USER_MENTION_PREFIX, \n                // @ts-ignore\n                mentionedUserId: token.userId, mentionedUserNickname: token.value, isByMe: isByMe }))); })\n            .with(TOKEN_TYPES.url, function () { return (React__default.createElement(\"span\", { className: \"sendbird-word\", key: key, \"data-testid\": \"sendbird-ui-word\" },\n            React__default.createElement(LinkLabel, { src: token.value, type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 }, token.value))); })\n            .otherwise(function () { return React__default.createElement(React__default.Fragment, { key: key }, getWhiteSpacePreservedText(token.value)); });\n    })));\n}\n\nexport { TextFragment as T };\n//# sourceMappingURL=bundle-bLHW4VuD.js.map\n", "import React__default, { useRef, useState, useCallback } from 'react';\nimport { C as ContextMenu, b as MenuItems } from '../chunks/bundle-BEUsrftF.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport UserProfile from './UserProfile.js';\nimport { c as classnames } from '../chunks/bundle-Bc1fdQjj.js';\nimport { u as useSendbird } from '../chunks/bundle-Bk7vYzLW.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport './IconButton.js';\nimport '../chunks/bundle-Ug7rKzFJ.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '../chunks/bundle-y-yf0Djs.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '../chunks/bundle-ByW5tGii.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DxUY6hv0.js';\nimport '../chunks/bundle-BkCv3z1C.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-MdZYxYNf.js';\nimport './Icon.js';\nimport './Button.js';\n\nfunction MentionLabel(props) {\n    var _a, _b, _c;\n    var mentionTemplate = props.mentionTemplate, mentionedUserId = props.mentionedUserId, mentionedUserNickname = props.mentionedUserNickname, isByMe = props.isByMe;\n    var mentionRef = useRef();\n    var state = useSendbird().state;\n    var userId = (_a = state === null || state === void 0 ? void 0 : state.config) === null || _a === void 0 ? void 0 : _a.userId;\n    var sdk = (_c = (_b = state === null || state === void 0 ? void 0 : state.stores) === null || _b === void 0 ? void 0 : _b.sdkStore) === null || _c === void 0 ? void 0 : _c.sdk;\n    var amIBeingMentioned = userId === mentionedUserId;\n    var _d = useState(), user = _d[0], setUser = _d[1];\n    var fetchUser = useCallback(function (toggleDropdown) {\n        if (user || !(sdk === null || sdk === void 0 ? void 0 : sdk.createApplicationUserListQuery)) {\n            toggleDropdown();\n            return;\n        }\n        var query = sdk === null || sdk === void 0 ? void 0 : sdk.createApplicationUserListQuery({\n            userIdsFilter: [mentionedUserId],\n        });\n        query.next().then(function (members) {\n            if ((members === null || members === void 0 ? void 0 : members.length) > 0) {\n                setUser(members[0]);\n            }\n            toggleDropdown();\n        });\n    }, [sdk, mentionedUserId]);\n    return (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(\"a\", { className: classnames('sendbird-word__mention', amIBeingMentioned && 'sendbird-word__mention--me'), onClick: function () { return fetchUser(toggleDropdown); }, ref: mentionRef, \"data-userid\": mentionedUserId, \"data-nickname\": mentionedUserNickname, \"data-sb-mention\": true },\n            React__default.createElement(Label, { type: LabelTypography.CAPTION_1, color: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 }, \"\".concat(mentionTemplate).concat(mentionedUserNickname)))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems\n        /**\n        * parentRef: For catching location(x, y) of MenuItems\n        * parentContainRef: For toggling more options(menus & reactions)\n        */\n        , { \n            /**\n            * parentRef: For catching location(x, y) of MenuItems\n            * parentContainRef: For toggling more options(menus & reactions)\n            */\n            parentRef: mentionRef, parentContainRef: mentionRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n            React__default.createElement(UserProfile, { user: user, onSuccess: closeDropdown, currentUserId: userId }))); } }));\n}\n\nexport { MentionLabel as default };\n//# sourceMappingURL=MentionLabel.js.map\n", "import { a as __spreadArray } from '../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { L as Label, d as changeColorToClassName, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { o as openURL } from '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-DXRcwk7R.js';\n\nvar http = /https?:\\/\\//;\nfunction LinkLabel(_a) {\n    var _b = _a.className, className = _b === void 0 ? '' : _b, src = _a.src, type = _a.type, color = _a.color, children = _a.children;\n    var url = http.test(src) ? src : \"http://\".concat(src);\n    return (React__default.createElement(\"a\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-link-label',\n            changeColorToClassName(color),\n        ], false).join(' '), href: url, target: \"_blank\", rel: \"noopener noreferrer\", \n        // for mobile\n        onTouchEnd: function (e) {\n            e.preventDefault();\n            e.nativeEvent.stopImmediatePropagation();\n            openURL(url);\n        } },\n        React__default.createElement(Label, { className: \"sendbird-link-label__label\", testID: \"sendbird-link-label__label\", type: type, color: color }, children)));\n}\nvar LinkLabelTypography = LabelTypography;\nvar LinkLabelColors = LabelColors;\n\nexport { LinkLabelColors, LinkLabelTypography, LinkLabel as default };\n//# sourceMappingURL=LinkLabel.js.map\n", "import React__default, { useContext, useMemo } from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { y as getClassName, e as isEditedMessage } from '../chunks/bundle-Ug7rKzFJ.js';\nimport { L as LocalizationContext } from '../chunks/bundle-y-yf0Djs.js';\nimport { t as tokenizeMessage } from '../chunks/bundle-BJl-Stow.js';\nimport { T as TextFragment } from '../chunks/bundle-bLHW4VuD.js';\nimport { T as TEXT_MESSAGE_BODY_CLASSNAME } from '../chunks/bundle-B602cp-8.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../Message/context.js';\nimport './MentionLabel.js';\nimport '../chunks/bundle-BEUsrftF.js';\nimport 'react-dom';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport './IconButton.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport './UserProfile.js';\nimport '../chunks/bundle-ByW5tGii.js';\nimport '../chunks/bundle-Bk7vYzLW.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DxUY6hv0.js';\nimport '../chunks/bundle-BkCv3z1C.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-MdZYxYNf.js';\nimport './Icon.js';\nimport './Button.js';\nimport './LinkLabel.js';\n\nfunction TextMessageItemBody(_a) {\n    var _b;\n    var _c = _a.className, className = _c === void 0 ? '' : _c, message = _a.message, _d = _a.isByMe, isByMe = _d === void 0 ? false : _d, _e = _a.mouseHover, mouseHover = _e === void 0 ? false : _e, _f = _a.isMentionEnabled, isMentionEnabled = _f === void 0 ? false : _f, _g = _a.isReactionEnabled, isReactionEnabled = _g === void 0 ? false : _g, _h = _a.isMarkdownEnabled, isMarkdownEnabled = _h === void 0 ? false : _h;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var isMessageMentioned = isMentionEnabled\n        && (message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate)\n        && message.mentionedMessageTemplate.length > 0\n        && (message === null || message === void 0 ? void 0 : message.mentionedUsers)\n        && message.mentionedUsers.length > 0;\n    var tokens = useMemo(function () {\n        var _a;\n        if (isMessageMentioned) {\n            return tokenizeMessage({\n                mentionedUsers: (_a = message === null || message === void 0 ? void 0 : message.mentionedUsers) !== null && _a !== void 0 ? _a : undefined,\n                messageText: message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate,\n                includeMarkdown: isMarkdownEnabled,\n            });\n        }\n        return tokenizeMessage({\n            messageText: message === null || message === void 0 ? void 0 : message.message,\n            includeMarkdown: isMarkdownEnabled,\n        });\n    }, [message === null || message === void 0 ? void 0 : message.updatedAt, message === null || message === void 0 ? void 0 : message.message]);\n    return (React__default.createElement(Label, { type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 },\n        React__default.createElement(\"div\", { className: getClassName([\n                className,\n                TEXT_MESSAGE_BODY_CLASSNAME,\n                isByMe ? 'outgoing' : 'incoming',\n                mouseHover ? 'mouse-hover' : '',\n                (isReactionEnabled && ((_b = message === null || message === void 0 ? void 0 : message.reactions) === null || _b === void 0 ? void 0 : _b.length) > 0) ? 'reactions' : '',\n            ]) },\n            React__default.createElement(TextFragment, { tokens: tokens }),\n            isEditedMessage(message) && (React__default.createElement(Label, { className: \"sendbird-text-message-item-body__message edited\", type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_2 : LabelColors.ONBACKGROUND_2 }, \" \".concat(stringSet.MESSAGE_EDITED, \" \"))))));\n}\n\nexport { TextMessageItemBody as default };\n//# sourceMappingURL=TextMessageItemBody.js.map\n", "import { b as __awaiter, c as __generator } from '../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport TextButton from './TextButton.js';\nimport { y as getClassName, p as getUIKitFileType, t as truncateString } from '../chunks/bundle-Ug7rKzFJ.js';\nimport { C as Colors } from '../chunks/bundle-DU7VpG0M.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DvgqpwmQ.js';\nimport { o as openURL } from '../chunks/bundle-Bc1fdQjj.js';\nimport { u as useSendbird } from '../chunks/bundle-Bk7vYzLW.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\n\nfunction FileMessageItemBody(_a) {\n    var _this = this;\n    var _b;\n    var _c = _a.className, className = _c === void 0 ? '' : _c, message = _a.message, _d = _a.isByMe, isByMe = _d === void 0 ? false : _d, _e = _a.mouseHover, mouseHover = _e === void 0 ? false : _e, _f = _a.isReactionEnabled, isReactionEnabled = _f === void 0 ? false : _f, truncateLimit = _a.truncateLimit, onBeforeDownloadFileMessage = _a.onBeforeDownloadFileMessage;\n    var logger = null;\n    try {\n        var globalLogger = useSendbird().state.config.logger;\n        logger = globalLogger;\n    }\n    catch (err) {\n        // TODO: Handle error\n    }\n    var isMobile = useMediaQueryContext().isMobile;\n    var truncateMaxNum = truncateLimit !== null && truncateLimit !== void 0 ? truncateLimit : (isMobile ? 20 : undefined);\n    var downloadFileWithUrl = function () { return openURL(message === null || message === void 0 ? void 0 : message.url); };\n    var handleOnClickTextButton = onBeforeDownloadFileMessage\n        ? function () { return __awaiter(_this, void 0, void 0, function () {\n            var allowDownload, err_1;\n            var _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _c.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, onBeforeDownloadFileMessage({ message: message })];\n                    case 1:\n                        allowDownload = _c.sent();\n                        if (allowDownload) {\n                            downloadFileWithUrl();\n                        }\n                        else {\n                            (_a = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'FileMessageItemBody: Not allowed to download.');\n                        }\n                        return [3 /*break*/, 3];\n                    case 2:\n                        err_1 = _c.sent();\n                        (_b = logger === null || logger === void 0 ? void 0 : logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'FileMessageItemBody: Error occurred while determining download continuation:', err_1);\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        }); }\n        : downloadFileWithUrl;\n    return (React__default.createElement(\"div\", { className: getClassName([\n            className,\n            'sendbird-file-message-item-body',\n            isByMe ? 'outgoing' : 'incoming',\n            mouseHover ? 'mouse-hover' : '',\n            (isReactionEnabled && ((_b = message === null || message === void 0 ? void 0 : message.reactions) === null || _b === void 0 ? void 0 : _b.length) > 0) ? 'reactions' : '',\n        ]) },\n        React__default.createElement(\"div\", { className: \"sendbird-file-message-item-body__file-icon\" },\n            React__default.createElement(Icon, { className: \"sendbird-file-message-item-body__file-icon__icon\", type: {\n                    IMAGE: IconTypes.PHOTO,\n                    VIDEO: IconTypes.PLAY,\n                    AUDIO: IconTypes.FILE_AUDIO,\n                    GIF: IconTypes.GIF,\n                    OTHERS: IconTypes.FILE_DOCUMENT,\n                }[getUIKitFileType(message === null || message === void 0 ? void 0 : message.type)], fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })),\n        React__default.createElement(TextButton, { className: \"sendbird-file-message-item-body__file-name\", onClick: handleOnClickTextButton, color: isByMe ? Colors.ONCONTENT_1 : Colors.ONBACKGROUND_1 },\n            React__default.createElement(Label, { className: \"sendbird-file-message-item-body__file-name__text\", testID: \"sendbird-file-message-item-body__file-name__text\", type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 }, truncateString((message === null || message === void 0 ? void 0 : message.name) || (message === null || message === void 0 ? void 0 : message.url), truncateMaxNum)))));\n}\n\nexport { FileMessageItemBody as default };\n//# sourceMappingURL=FileMessageItemBody.js.map\n", "import React__default, { useState, useMemo, useRef, useEffect } from 'react';\nimport { b as __awaiter, c as __generator, _ as __assign } from './bundle-BosquA9C.js';\nimport { SendingStatus } from '@sendbird/chat/message';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport ImageRenderer, { getBorderRadiusForMultipleImageRenderer } from '../ui/ImageRenderer.js';\nimport { y as getClassName, A as isGif } from './bundle-Ug7rKzFJ.js';\nimport FileViewer from '../ui/FileViewer.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\nimport { K } from './bundle-BA9ZfQ-7.js';\n\nfunction ImageGrid(_a) {\n    var _b;\n    var children = _a.children, className = _a.className, message = _a.message, isReactionEnabled = _a.isReactionEnabled;\n    return (React__default.createElement(\"div\", { className: 'sendbird-image-grid-wrap' },\n        React__default.createElement(\"div\", { className: getClassName([\n                className !== null && className !== void 0 ? className : '',\n                'sendbird-image-grid',\n                (isReactionEnabled && ((_b = message === null || message === void 0 ? void 0 : message.reactions) === null || _b === void 0 ? void 0 : _b.length) > 0) ? 'reactions' : '',\n            ]) }, children)));\n}\n\nvar GRID_WIDTH_CHAT_WEB = 400;\nvar GRID_SIDE_PADDING = 8;\nvar GRID_GAP = 4;\nvar TIMESTAMP_WIDTH_AND_ITS_SIDE_MARGIN = 54;\nvar PROFILE_IMAGE_WIDTH = 40;\nvar CHAT_MOBILE_SIDE_PADDING = 48;\nvar THREAD_PARENT_WIDTH = 320;\nvar THREAD_PARENT_SIDE_PADDING = 28;\nvar THREAD_PARENT_GRID_MARGIN_LEFT = 12;\nvar THREAD_CHILD_WIDTH = 200;\nvar THREAD_CHILD_SIDE_PADDING = 8;\nvar THREAD_CHILD_MOBILE_SIDE_PADDING = 32;\nvar THREAD_CHILD_MOBILE_TIMESTAMP_WIDTH_AND_ITS_SIDE_MARGIN = 60;\nvar MULTIPLE_FILES_IMAGE_SIDE_LENGTH = {\n    CHAT_WEB: \"calc(\".concat(GRID_WIDTH_CHAT_WEB / 2, \"px - \").concat((GRID_SIDE_PADDING + GRID_GAP) / 2, \"px)\"),\n    CHAT_MOBILE: \"calc(50vw - \".concat((CHAT_MOBILE_SIDE_PADDING + PROFILE_IMAGE_WIDTH + TIMESTAMP_WIDTH_AND_ITS_SIDE_MARGIN + GRID_SIDE_PADDING + GRID_GAP) / 2, \"px)\"),\n    THREAD_PARENT_WEB: \"calc(\".concat((THREAD_PARENT_WIDTH - (THREAD_PARENT_SIDE_PADDING + PROFILE_IMAGE_WIDTH + THREAD_PARENT_GRID_MARGIN_LEFT + GRID_GAP)) / 2, \"px)\"),\n    THREAD_PARENT_MOBILE: \"calc(50vw - \".concat((THREAD_PARENT_SIDE_PADDING + PROFILE_IMAGE_WIDTH + THREAD_PARENT_GRID_MARGIN_LEFT + GRID_GAP) / 2, \"px)\"),\n    THREAD_CHILD_WEB: \"calc(\".concat((THREAD_CHILD_WIDTH - THREAD_CHILD_SIDE_PADDING - GRID_GAP) / 2, \"px)\"),\n    THREAD_CHILD_MOBILE: \"calc(50vw - \".concat((THREAD_CHILD_MOBILE_SIDE_PADDING + PROFILE_IMAGE_WIDTH + THREAD_CHILD_MOBILE_TIMESTAMP_WIDTH_AND_ITS_SIDE_MARGIN + GRID_SIDE_PADDING + GRID_GAP) / 2, \"px)\"),\n};\nvar MULTIPLE_FILES_IMAGE_BORDER_RADIUS = {\n    CHAT_WEB: '6px',\n    CHAT_MOBILE: '6px',\n    THREAD_PARENT_WEB: '6px',\n    THREAD_PARENT_MOBILE: '6px',\n    THREAD_CHILD_WEB: '6px',\n    THREAD_CHILD_MOBILE: '6px',\n};\nvar MULTIPLE_FILES_IMAGE_THUMBNAIL_SIDE_LENGTH = '34px';\n\nvar ThreadMessageKind = {\n    PARENT: 'parent',\n    CHILD: 'child',\n};\nfunction MultipleFilesMessageItemBody(_a) {\n    var _this = this;\n    var className = _a.className, message = _a.message, _b = _a.isReactionEnabled, isReactionEnabled = _b === void 0 ? false : _b, threadMessageKindKey = _a.threadMessageKindKey, _c = _a.statefulFileInfoList, statefulFileInfoList = _c === void 0 ? [] : _c, _d = _a.onBeforeDownloadFileMessage, onBeforeDownloadFileMessage = _d === void 0 ? null : _d;\n    var logger = useSendbird().state.config.logger;\n    var _e = useState(-1), currentFileViewerIndex = _e[0], setCurrentFileViewerIndex = _e[1];\n    function onClose() {\n        setCurrentFileViewerIndex(-1);\n    }\n    function onClickLeft() {\n        setCurrentFileViewerIndex(currentFileViewerIndex === 0 ? statefulFileInfoList.length - 1 : currentFileViewerIndex - 1);\n    }\n    function onClickRight() {\n        setCurrentFileViewerIndex(currentFileViewerIndex === statefulFileInfoList.length - 1 ? 0 : currentFileViewerIndex + 1);\n    }\n    return (threadMessageKindKey ? (React__default.createElement(React__default.Fragment, null,\n        currentFileViewerIndex > -1 && (React__default.createElement(FileViewer, { message: message, statefulFileInfoList: statefulFileInfoList, currentIndex: currentFileViewerIndex, onClickLeft: onClickLeft, onClickRight: onClickRight, onClose: onClose, onDownloadClick: function (e) { return __awaiter(_this, void 0, void 0, function () {\n                var allowDownload, err_1;\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (!onBeforeDownloadFileMessage)\n                                return [2 /*return*/];\n                            _c.label = 1;\n                        case 1:\n                            _c.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, onBeforeDownloadFileMessage({ message: message, index: currentFileViewerIndex })];\n                        case 2:\n                            allowDownload = _c.sent();\n                            if (!allowDownload) {\n                                e.preventDefault();\n                                (_a = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'MultipleFilesMessageItemBody: Not allowed to download.');\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _c.sent();\n                            (_b = logger === null || logger === void 0 ? void 0 : logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'MultipleFilesMessageItemBody: Error occurred while determining download continuation:', err_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); } })),\n        React__default.createElement(ImageGrid, { className: className, message: message, isReactionEnabled: isReactionEnabled }, statefulFileInfoList.map(function (fileInfo, index) {\n            var _a, _b, _c, _d;\n            return (React__default.createElement(\"div\", { className: \"sendbird-multiple-files-image-renderer-wrapper\", onClick: message.sendingStatus === SendingStatus.SUCCEEDED ? function () { return setCurrentFileViewerIndex(index); } : undefined, key: \"sendbird-multiple-files-image-renderer-\".concat(index, \"-\").concat(fileInfo.url) },\n                React__default.createElement(ImageRenderer, { url: (_d = (_c = (_b = (_a = fileInfo.thumbnails) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.url) !== null && _c !== void 0 ? _c : fileInfo.url) !== null && _d !== void 0 ? _d : '', fixedSize: false, width: MULTIPLE_FILES_IMAGE_SIDE_LENGTH[threadMessageKindKey], maxSideLength: MULTIPLE_FILES_IMAGE_SIDE_LENGTH.CHAT_WEB, height: MULTIPLE_FILES_IMAGE_SIDE_LENGTH[threadMessageKindKey], borderRadius: getBorderRadiusForMultipleImageRenderer(MULTIPLE_FILES_IMAGE_BORDER_RADIUS[threadMessageKindKey], index, statefulFileInfoList.length), shadeOnHover: true, isUploaded: !!fileInfo.isUploaded, placeHolder: function (_a) {\n                        var style = _a.style;\n                        if (fileInfo.mimeType && isGif(fileInfo.mimeType))\n                            return React__default.createElement(ImagePlaceholder.GIF, { style: style });\n                        return React__default.createElement(ImagePlaceholder.Default, { style: style });\n                    }, defaultComponent: React__default.createElement(ImagePlaceholder.LoadError, null) })));\n        })))) : React__default.createElement(React__default.Fragment, null));\n}\nvar ImagePlaceholder = {\n    Default: function (_a) {\n        var style = _a.style;\n        return (React__default.createElement(\"div\", { className: \"sendbird-multiple-files-image-renderer__thumbnail__placeholder\", style: style },\n            React__default.createElement(Icon, { type: IconTypes.PHOTO, fillColor: IconColors.ON_BACKGROUND_2, width: MULTIPLE_FILES_IMAGE_THUMBNAIL_SIDE_LENGTH, height: MULTIPLE_FILES_IMAGE_THUMBNAIL_SIDE_LENGTH })));\n    },\n    GIF: function (_a) {\n        var style = _a.style;\n        return (React__default.createElement(\"div\", { className: \"sendbird-multiple-files-image-renderer__thumbnail__placeholder\", style: style },\n            React__default.createElement(\"div\", { className: \"sendbird-multiple-files-image-renderer__thumbnail__placeholder__icon\" },\n                React__default.createElement(Icon, { type: IconTypes.GIF, fillColor: IconColors.THUMBNAIL_ICON, width: MULTIPLE_FILES_IMAGE_THUMBNAIL_SIDE_LENGTH, height: MULTIPLE_FILES_IMAGE_THUMBNAIL_SIDE_LENGTH }))));\n    },\n    LoadError: function () { return (React__default.createElement(\"div\", { className: \"sendbird-multiple-files-image-renderer__thumbnail__placeholder\" },\n        React__default.createElement(Icon, { type: IconTypes.THUMBNAIL_NONE, fillColor: IconColors.ON_BACKGROUND_2, width: MULTIPLE_FILES_IMAGE_THUMBNAIL_SIDE_LENGTH, height: MULTIPLE_FILES_IMAGE_THUMBNAIL_SIDE_LENGTH }))); },\n};\n\nfunction useThreadMessageKindKeySelector(_a) {\n    var threadMessageKind = _a.threadMessageKind, isMobile = _a.isMobile;\n    var threadMessageKindKey = useMemo(function () {\n        return K(threadMessageKind)\n            .with(ThreadMessageKind.PARENT, function () { return (isMobile\n            ? 'THREAD_PARENT_MOBILE'\n            : 'THREAD_PARENT_WEB'); })\n            .with(ThreadMessageKind.CHILD, function () { return (isMobile\n            ? 'THREAD_CHILD_MOBILE'\n            : 'THREAD_CHILD_WEB'); })\n            .otherwise(function () { return (isMobile\n            ? 'CHAT_MOBILE'\n            : 'CHAT_WEB'); });\n    }, [isMobile, threadMessageKind]);\n    return threadMessageKindKey;\n}\n\n// SendingStatus.SCHEDULED is currently not covered in UIKit\n//  So we can ignore for now, but for future, it is better to explicitly use PENDING, FAILED, or CANCELED.\nvar useFileInfoListWithUploaded = function (message) {\n    var _a, _b;\n    var blobHandler = useRef(new Map());\n    var getObjectURL = function (index, blob) {\n        if (!blobHandler.current.has(index) && blob)\n            blobHandler.current.set(index, URL.createObjectURL(blob));\n        return blobHandler.current.get(index);\n    };\n    var revokeURLs = function () {\n        if (blobHandler.current.size > 0) {\n            blobHandler.current.forEach(function (url) { return URL.revokeObjectURL(url); });\n            blobHandler.current.clear();\n        }\n    };\n    useEffect(function () {\n        return function () { return revokeURLs(); };\n    }, []);\n    if (!message || !message.isMultipleFilesMessage || !message.isMultipleFilesMessage()) {\n        return [];\n    }\n    else if (message.sendingStatus === SendingStatus.SUCCEEDED) {\n        revokeURLs();\n        return message.fileInfoList.map(function (it) {\n            var _a, _b;\n            return (__assign(__assign({}, it), { url: it.url, isUploaded: true, mimeType: (_a = it.mimeType) !== null && _a !== void 0 ? _a : undefined, fileName: (_b = it.fileName) !== null && _b !== void 0 ? _b : undefined }));\n        });\n    }\n    else {\n        return (_b = (_a = message === null || message === void 0 ? void 0 : message.messageParams) === null || _a === void 0 ? void 0 : _a.fileInfoList.map(function (it, index) {\n            var _a, _b;\n            return (__assign(__assign({}, it), { url: (_b = (_a = getObjectURL(index)) !== null && _a !== void 0 ? _a : it.fileUrl) !== null && _b !== void 0 ? _b : (it.file instanceof Blob ? getObjectURL(index, it.file) : undefined), isUploaded: !it.file && typeof it.fileUrl === 'string' && it.fileUrl.length > 0 }));\n        })) !== null && _b !== void 0 ? _b : [];\n    }\n};\n\nexport { MultipleFilesMessageItemBody as M, ThreadMessageKind as T, useFileInfoListWithUploaded as a, useThreadMessageKindKeySelector as u };\n//# sourceMappingURL=bundle-CxdqLaUY.js.map\n", "import { _ as __assign } from '../chunks/bundle-BosquA9C.js';\nimport React__default, { useRef, useContext } from 'react';\nimport { createPortal } from 'react-dom';\nimport { L as LocalizationContext } from '../chunks/bundle-y-yf0Djs.js';\nimport '../hooks/useModal.js';\nimport { d as isMultipleFilesMessage, c as isFileMessage, h as isSupportedFileView, j as isVideo, k as isImage } from '../chunks/bundle-Ug7rKzFJ.js';\nimport { n as noop } from '../chunks/bundle-Bc1fdQjj.js';\nimport { A as Avatar } from '../chunks/bundle-BkCv3z1C.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { o as SLIDER_BUTTON_ICON_SIDE_LENGTH } from '../chunks/bundle-BDIF-bj_.js';\nimport { u as useKeyDown } from '../chunks/bundle-CsZOw9J5.js';\nimport { a as MODAL_ROOT, M as Modal } from '../chunks/bundle-ZMBEGemL.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-DvgqpwmQ.js';\nimport './IconButton.js';\nimport './Button.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport '../chunks/bundle-Bk7vYzLW.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-MdZYxYNf.js';\nimport '@sendbird/uikit-tools';\n\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types\nvar ViewerTypes = {\n    SINGLE: 'SINGLE',\n    MULTI: 'MULTI',\n};\n\nfunction mapFileViewerComponentProps(_a) {\n    var props = _a.props;\n    if (props.viewerType === ViewerTypes.MULTI) {\n        var _b = props, fileInfoList = _b.fileInfoList, currentIndex = _b.currentIndex;\n        return fileInfoList[currentIndex];\n    }\n    var fileInfo = props;\n    return {\n        name: fileInfo.name,\n        type: fileInfo.type,\n        url: fileInfo.url,\n    };\n}\n\nfunction DeleteButton(props) {\n    if (props.viewerType !== ViewerTypes.MULTI) {\n        var onDelete_1 = props.onDelete, isByMe = props.isByMe, disableDelete_1 = props.disableDelete, className = props.className;\n        return (isByMe)\n            ? (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions__delete \".concat(className) },\n                React__default.createElement(Icon, { className: disableDelete_1 ? 'disabled' : '', type: IconTypes.DELETE, fillColor: disableDelete_1 ? IconColors.GRAY : IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\", onClick: function (e) { if (!disableDelete_1) {\n                        onDelete_1 === null || onDelete_1 === void 0 ? void 0 : onDelete_1(e);\n                    } } })))\n            : React__default.createElement(React__default.Fragment, null);\n    }\n    return React__default.createElement(React__default.Fragment, null);\n}\n\n// this is a slider component that is used to navigate between images\nfunction Slider(props) {\n    if (props.viewerType === ViewerTypes.MULTI) {\n        var onClickLeft_1 = props.onClickLeft, onClickRight_1 = props.onClickRight;\n        return (React__default.createElement(\"div\", { className: \"sendbird-file-viewer-slider\" },\n            React__default.createElement(\"div\", { className: \"sendbird-file-viewer-arrow--left\" },\n                React__default.createElement(Icon, { type: IconTypes.SLIDE_LEFT, fillColor: IconColors.ON_BACKGROUND_1, height: SLIDER_BUTTON_ICON_SIDE_LENGTH, width: SLIDER_BUTTON_ICON_SIDE_LENGTH, onClick: function (e) {\n                        onClickLeft_1 === null || onClickLeft_1 === void 0 ? void 0 : onClickLeft_1();\n                        e.stopPropagation();\n                    } })),\n            React__default.createElement(\"div\", { className: \"sendbird-file-viewer-arrow--right\" },\n                React__default.createElement(Icon, { type: IconTypes.SLIDE_LEFT, fillColor: IconColors.ON_BACKGROUND_1, height: SLIDER_BUTTON_ICON_SIDE_LENGTH, width: SLIDER_BUTTON_ICON_SIDE_LENGTH, onClick: function (e) {\n                        e.stopPropagation();\n                        onClickRight_1 === null || onClickRight_1 === void 0 ? void 0 : onClickRight_1();\n                    } }))));\n    }\n    // return empty fragment if viewerType is not ViewerTypes.MULTI\n    return React__default.createElement(React__default.Fragment, null);\n}\n\nvar FileViewerComponent = function (props) {\n    var profileUrl = props.profileUrl, nickname = props.nickname, onClose = props.onClose, onDownloadClick = props.onDownloadClick;\n    var _a = props, onClickLeft = _a.onClickLeft, onClickRight = _a.onClickRight;\n    var ref = useRef(null);\n    var onKeyDown = useKeyDown(ref, {\n        Escape: function (e) { return onClose === null || onClose === void 0 ? void 0 : onClose(e); },\n        ArrowLeft: function () { return onClickLeft === null || onClickLeft === void 0 ? void 0 : onClickLeft(); },\n        ArrowRight: function () { return onClickRight === null || onClickRight === void 0 ? void 0 : onClickRight(); },\n    });\n    var _b = mapFileViewerComponentProps({ props: props }), name = _b.name, type = _b.type, url = _b.url;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(Modal, { onClose: onClose },\n        React__default.createElement(\"div\", { className: \"sendbird-fileviewer\", \"data-testid\": \"sendbird-fileviewer\", onKeyDown: onKeyDown, \n            // to focus\n            tabIndex: 1, ref: ref },\n            React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header\" },\n                React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__left\" },\n                    React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__left__avatar\" },\n                        React__default.createElement(Avatar, { height: \"32px\", width: \"32px\", src: profileUrl })),\n                    React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__left__text-container\" },\n                        React__default.createElement(Label, { className: \"sendbird-fileviewer__header__left__filename\", type: LabelTypography.H_2, color: LabelColors.ONBACKGROUND_1 }, name),\n                        React__default.createElement(Label, { className: \"sendbird-fileviewer__header__left__sender-name\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_2 }, nickname))),\n                React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right\" },\n                    isSupportedFileView(type) && (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions\" },\n                        React__default.createElement(\"a\", { className: \"sendbird-fileviewer__header__right__actions__download\", rel: \"noopener noreferrer\", href: url, target: \"_blank\", onClick: onDownloadClick },\n                            React__default.createElement(Icon, { type: IconTypes.DOWNLOAD, fillColor: IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\" })),\n                        React__default.createElement(DeleteButton, __assign({ className: 'sendbird-fileviewer__header__right__actions__delete' }, props)))),\n                    React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions__close\" },\n                        React__default.createElement(Icon, { type: IconTypes.CLOSE, fillColor: IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\", onClick: function (e) { return onClose === null || onClose === void 0 ? void 0 : onClose(e); } })))),\n            React__default.createElement(\"div\", { className: \"sendbird-fileviewer__content\" },\n                isVideo(type) && (React__default.createElement(\"video\", { controls: true, className: \"sendbird-fileviewer__content__video\" },\n                    React__default.createElement(\"source\", { src: url, type: type }))),\n                isImage(type) && (React__default.createElement(\"img\", { src: url, alt: name, className: props.viewerType === ViewerTypes.MULTI\n                        ? 'sendbird-fileviewer__content__img__multi'\n                        : 'sendbird-fileviewer__content__img' })),\n                !isSupportedFileView(type) && (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__content__unsupported\" },\n                    React__default.createElement(Label, { type: LabelTypography.H_1, color: LabelColors.ONBACKGROUND_1 }, (stringSet === null || stringSet === void 0 ? void 0 : stringSet.UI__FILE_VIEWER__UNSUPPORT) || 'Unsupported message'))),\n                React__default.createElement(Slider, __assign({}, props))))));\n};\nfunction FileViewer(_a) {\n    var _b, _c, _d;\n    var message = _a.message, _e = _a.statefulFileInfoList, statefulFileInfoList = _e === void 0 ? [] : _e, onClose = _a.onClose, _f = _a.isByMe, isByMe = _f === void 0 ? false : _f, onDelete = _a.onDelete, currentIndex = _a.currentIndex, onClickLeft = _a.onClickLeft, onClickRight = _a.onClickRight, onDownloadClick = _a.onDownloadClick;\n    if (isMultipleFilesMessage(message)) {\n        var castedMessage = message;\n        return (React__default.createElement(FileViewerComponent, { profileUrl: castedMessage.sender.profileUrl, nickname: castedMessage.sender.nickname, viewerType: ViewerTypes.MULTI, fileInfoList: statefulFileInfoList.filter(function (fileInfo) {\n                return fileInfo.url; // Caution: This assumes that defined url means file upload has completed.\n            }).map(function (fileInfo) {\n                return {\n                    name: fileInfo.fileName || '',\n                    type: fileInfo.mimeType || '',\n                    url: fileInfo.url || '',\n                };\n            }), currentIndex: currentIndex || 0, onClickLeft: onClickLeft || noop, onClickRight: onClickRight || noop, onClose: onClose, onDownloadClick: onDownloadClick }));\n    }\n    else if (isFileMessage(message)) {\n        var castedMessage = message;\n        return createPortal((React__default.createElement(FileViewerComponent, { profileUrl: (_b = castedMessage.sender) === null || _b === void 0 ? void 0 : _b.profileUrl, nickname: (_c = castedMessage.sender) === null || _c === void 0 ? void 0 : _c.nickname, name: castedMessage.name, type: castedMessage.type, url: castedMessage === null || castedMessage === void 0 ? void 0 : castedMessage.url, isByMe: isByMe, disableDelete: (((_d = castedMessage.threadInfo) === null || _d === void 0 ? void 0 : _d.replyCount) || 0) > 0, onClose: onClose, onDelete: onDelete || noop, onDownloadClick: onDownloadClick })), document.getElementById(MODAL_ROOT));\n    }\n    return React__default.createElement(React__default.Fragment, null);\n}\n\nexport { FileViewerComponent, FileViewer as default };\n//# sourceMappingURL=FileViewer.js.map\n", "import { useLayoutEffect } from 'react';\nimport { usePreservedCallback } from '@sendbird/uikit-tools';\n\nfunction useKeyDown(ref, keyDownCallbackMap) {\n    useLayoutEffect(function () {\n        var _a;\n        (_a = ref.current) === null || _a === void 0 ? void 0 : _a.focus();\n    }, [ref.current]);\n    var onKeyDown = usePreservedCallback(function (event) {\n        var callback = keyDownCallbackMap[event.key];\n        callback === null || callback === void 0 ? void 0 : callback(event);\n        event.stopPropagation();\n    });\n    return onKeyDown;\n}\n\nexport { useKeyDown as u };\n//# sourceMappingURL=bundle-CsZOw9J5.js.map\n", "import React__default, { useState, useEffect, useMemo } from 'react';\nimport { ProgressBar, ProgressBarColorTypes } from './ProgressBar.js';\nimport { useVoicePlayer } from '../VoicePlayer/useVoicePlayer.js';\nimport { PlaybackTime } from './PlaybackTime.js';\nimport Loader from './Loader.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { V as VOICE_PLAYER_STATUS } from '../chunks/bundle-B6tSyuRm.js';\nimport { c as classnames } from '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '../VoiceRecorder/context.js';\nimport '../chunks/bundle-y-yf0Djs.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../chunks/bundle-DvgqpwmQ.js';\nimport './IconButton.js';\nimport './Button.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport '../chunks/bundle-Bk7vYzLW.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport '../chunks/bundle-CWd47dzy.js';\n\nvar VoiceMessageItemBody = function (_a) {\n    var _b;\n    var className = _a.className, message = _a.message, channelUrl = _a.channelUrl, _c = _a.isByMe, isByMe = _c === void 0 ? false : _c, _d = _a.isReactionEnabled, isReactionEnabled = _d === void 0 ? false : _d;\n    var _e = useState(false), usingReaction = _e[0], setUsingReaction = _e[1];\n    var _f = useVoicePlayer({\n        channelUrl: channelUrl,\n        key: \"\".concat(message === null || message === void 0 ? void 0 : message.messageId),\n        audioFileUrl: message === null || message === void 0 ? void 0 : message.url,\n        audioFileMimeType: message === null || message === void 0 ? void 0 : message.type,\n    }), play = _f.play, \n    // do not pause on unmount, because on desktop layout\n    // the component can be paused when it is played from\n    // channel and same message is unmounted from the thread\n    pause = _f.pause, _g = _f.playbackTime, playbackTime = _g === void 0 ? 0 : _g, duration = _f.duration, _h = _f.playingStatus, playingStatus = _h === void 0 ? VOICE_PLAYER_STATUS.IDLE : _h;\n    useEffect(function () {\n        var _a;\n        if (isReactionEnabled && ((_a = message === null || message === void 0 ? void 0 : message.reactions) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n            setUsingReaction(true);\n        }\n        else {\n            setUsingReaction(false);\n        }\n    }, [isReactionEnabled, (_b = message === null || message === void 0 ? void 0 : message.reactions) === null || _b === void 0 ? void 0 : _b.length]);\n    var progressBarMaxSize = useMemo(function () {\n        var _a;\n        var DEFAULT_MAX_SIZE = 1;\n        if (message === null || message === void 0 ? void 0 : message.metaArrays) {\n            var duration_1 = (_a = message === null || message === void 0 ? void 0 : message.metaArrays.find(function (metaArray) { return metaArray.key === 'KEY_VOICE_MESSAGE_DURATION'; })) === null || _a === void 0 ? void 0 : _a.value[0];\n            return duration_1 ? parseInt(duration_1) : DEFAULT_MAX_SIZE;\n        }\n        return DEFAULT_MAX_SIZE;\n    }, [message === null || message === void 0 ? void 0 : message.metaArrays]);\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-voice-message-item-body', className, usingReaction && 'is-reactions-contained') },\n        React__default.createElement(ProgressBar, { className: \"sendbird-voice-message-item-body__progress-bar\", maxSize: duration || progressBarMaxSize, currentSize: playbackTime, colorType: isByMe ? ProgressBarColorTypes.PRIMARY : ProgressBarColorTypes.GRAY }),\n        React__default.createElement(\"div\", { className: \"sendbird-voice-message-item-body__status-button\" },\n            (playingStatus === VOICE_PLAYER_STATUS.IDLE || playingStatus === VOICE_PLAYER_STATUS.PAUSED) && (React__default.createElement(\"div\", { className: \"sendbird-voice-message-item-body__status-button__button\", onClick: play },\n                React__default.createElement(Icon, { width: \"18px\", height: \"18px\", type: IconTypes.PLAY, fillColor: IconColors.PRIMARY }))),\n            playingStatus === VOICE_PLAYER_STATUS.PREPARING && (React__default.createElement(Loader, { width: \"22.2px\", height: \"22.2px\" },\n                React__default.createElement(Icon, { width: \"22.2px\", height: \"22.2px\", type: IconTypes.SPINNER, fillColor: IconColors.PRIMARY_2 }))),\n            playingStatus === VOICE_PLAYER_STATUS.PLAYING && (React__default.createElement(\"div\", { className: \"sendbird-voice-message-item-body__status-button__button\", onClick: function () { pause(); } },\n                React__default.createElement(\"div\", { className: \"sendbird-voice-message-item-body__status-button__button__pause\" },\n                    React__default.createElement(\"div\", { className: \"sendbird-voice-message-item-body__status-button__button__pause__inner\" }),\n                    React__default.createElement(\"div\", { className: \"sendbird-voice-message-item-body__status-button__button__pause__inner\" }))))),\n        React__default.createElement(PlaybackTime, { className: \"sendbird-voice-message-item-body__playback-time\", time: progressBarMaxSize - playbackTime, labelType: LabelTypography.BODY_1, labelColor: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 })));\n};\n\nexport { VoiceMessageItemBody, VoiceMessageItemBody as default };\n//# sourceMappingURL=VoiceMessageItemBody.js.map\n", "import React__default, { useMemo } from 'react';\nimport { c as classnames } from '../chunks/bundle-Bc1fdQjj.js';\n\n/* eslint-disable no-redeclare */\nvar ProgressBarColorTypes = {\n    PRIMARY: 'progress-bar-color--primary',\n    GRAY: 'progress-bar-color--gray',\n};\nvar ProgressBar = function (_a) {\n    var _b = _a.className, className = _b === void 0 ? '' : _b, _c = _a.disabled, disabled = _c === void 0 ? false : _c, maxSize = _a.maxSize, _d = _a.currentSize, currentSize = _d === void 0 ? 0 : _d, _e = _a.colorType, colorType = _e === void 0 ? ProgressBarColorTypes.PRIMARY : _e;\n    var width = useMemo(function () {\n        return \"\".concat(currentSize / maxSize * 100, \"%\");\n    }, [currentSize, maxSize]);\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-progress-bar', className, colorType, disabled && 'progress-bar--disabled') },\n        React__default.createElement(\"div\", { className: \"sendbird-progress-bar__fill\", style: { width: width } })));\n};\n\nexport { ProgressBar, ProgressBarColorTypes, ProgressBar as default };\n//# sourceMappingURL=ProgressBar.js.map\n", "import { useEffect } from 'react';\nimport { u as useVoicePlayerContext, A as AudioUnitDefaultValue, g as generateGroupKey } from '../chunks/bundle-B6tSyuRm.js';\nimport { c as VOICE_PLAYER_AUDIO_ID, b as VOICE_MESSAGE_MIME_TYPE } from '../chunks/bundle-BDIF-bj_.js';\nimport { useVoiceRecorderContext } from '../VoiceRecorder/context.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-Bk7vYzLW.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport '../chunks/bundle-y-yf0Djs.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-DvgqpwmQ.js';\nimport '../ui/IconButton.js';\nimport '../ui/Button.js';\nimport '../chunks/bundle-MoKyCGQH.js';\nimport '../ui/Icon.js';\nimport '../chunks/bundle-BGRwc73U.js';\n\nvar useVoicePlayer = function (_a) {\n    var _b;\n    var _c = _a.key, key = _c === void 0 ? '' : _c, _d = _a.channelUrl, channelUrl = _d === void 0 ? '' : _d, audioFile = _a.audioFile, _e = _a.audioFileUrl, audioFileUrl = _e === void 0 ? '' : _e, _f = _a.audioFileMimeType, audioFileMimeType = _f === void 0 ? VOICE_MESSAGE_MIME_TYPE : _f;\n    var groupKey = generateGroupKey(channelUrl, key);\n    var _g = useVoicePlayerContext(), play = _g.play, pause = _g.pause, stop = _g.stop, voicePlayerStore = _g.voicePlayerStore;\n    var isRecordable = useVoiceRecorderContext().isRecordable;\n    var currentAudioUnit = ((_b = voicePlayerStore === null || voicePlayerStore === void 0 ? void 0 : voicePlayerStore.audioStorage) === null || _b === void 0 ? void 0 : _b[groupKey]) || AudioUnitDefaultValue();\n    var playVoicePlayer = function () {\n        if (!isRecordable) {\n            play === null || play === void 0 ? void 0 : play({\n                groupKey: groupKey,\n                audioFile: audioFile,\n                audioFileUrl: audioFileUrl,\n                audioFileMimeType: audioFileMimeType,\n            });\n        }\n    };\n    var pauseVoicePlayer = function () {\n        pause === null || pause === void 0 ? void 0 : pause(groupKey);\n    };\n    var stopVoicePlayer = function (text) {\n        if (text === void 0) { text = ''; }\n        stop === null || stop === void 0 ? void 0 : stop(text);\n    };\n    useEffect(function () {\n        return function () {\n            var _a;\n            if (audioFile || audioFileUrl) {\n                // Can't get the current AudioPlayer through the React hooks(useReducer or useState) in this scope\n                var voiceAudioPlayerElement = document.getElementById(VOICE_PLAYER_AUDIO_ID);\n                (_a = voiceAudioPlayerElement === null || voiceAudioPlayerElement === void 0 ? void 0 : voiceAudioPlayerElement.pause) === null || _a === void 0 ? void 0 : _a.call(voiceAudioPlayerElement);\n            }\n        };\n    }, []);\n    return ({\n        play: playVoicePlayer,\n        pause: pauseVoicePlayer,\n        stop: stopVoicePlayer,\n        /**\n         * The reason why we multiply this by *1000 is,\n         * The unit of playbackTime and duration should be millisecond\n         */\n        playbackTime: ((currentAudioUnit === null || currentAudioUnit === void 0 ? void 0 : currentAudioUnit.playbackTime) || 0) * 1000,\n        duration: ((currentAudioUnit === null || currentAudioUnit === void 0 ? void 0 : currentAudioUnit.duration) || 0) * 1000,\n        playingStatus: currentAudioUnit.playingStatus,\n    });\n};\n\nexport { useVoicePlayer };\n//# sourceMappingURL=useVoicePlayer.js.map\n", "import React__default, { createContext, useReducer, useContext } from 'react';\nimport { _ as __assign } from './bundle-BosquA9C.js';\nimport { l as VOICE_MESSAGE_FILE_NAME__XM4A, m as VOICE_MESSAGE_MIME_TYPE__XM4A, a as VOICE_MESSAGE_FILE_NAME, b as VOICE_MESSAGE_MIME_TYPE, n as VOICE_PLAYER_ROOT_ID, c as VOICE_PLAYER_AUDIO_ID } from './bundle-BDIF-bj_.js';\nimport { a as isSafari } from './bundle-CWd47dzy.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\n\nvar INITIALIZE_AUDIO_UNIT = 'INITIALIZE_AUDIO_UNIT';\nvar RESET_AUDIO_UNIT = 'RESET_AUDIO_UNIT';\nvar SET_CURRENT_PLAYER = 'SET_CURRENT_PLAYER';\nvar ON_VOICE_PLAYER_PLAY = 'ON_VOICE_PLAYER_PLAY';\nvar ON_VOICE_PLAYER_PAUSE = 'ON_VOICE_PLAYER_PAUSE';\nvar ON_CURRENT_TIME_UPDATE = 'ON_CURRENT_TIME_UPDATE';\n\nvar VOICE_PLAYER_STATUS = {\n    IDLE: 'IDLE',\n    PREPARING: 'PREPARING',\n    PLAYING: 'PLAYING',\n    PAUSED: 'PAUSED',\n    COMPLETED: 'COMPLETED',\n};\nvar AudioUnitDefaultValue = function () { return ({\n    audioFile: null,\n    playbackTime: 0,\n    duration: 1000,\n    playingStatus: VOICE_PLAYER_STATUS.IDLE,\n}); };\nvar voicePlayerInitialState = {\n    currentPlayer: null,\n    currentGroupKey: '',\n    audioStorage: {},\n};\n\nfunction voicePlayerReducer(state, action) {\n    var _a, _b, _c, _d, _e;\n    var _f, _g, _h, _j;\n    switch (action.type) {\n        case INITIALIZE_AUDIO_UNIT: {\n            var groupKey = action.payload.groupKey;\n            var audioUnit = (((_f = state.audioStorage) === null || _f === void 0 ? void 0 : _f[groupKey]) ? state.audioStorage[groupKey] : AudioUnitDefaultValue());\n            audioUnit.playingStatus = VOICE_PLAYER_STATUS.PREPARING;\n            return __assign(__assign({}, state), { audioStorage: __assign(__assign({}, state.audioStorage), (_a = {}, _a[groupKey] = audioUnit, _a)) });\n        }\n        case RESET_AUDIO_UNIT: {\n            var groupKey = action.payload.groupKey;\n            return __assign(__assign({}, state), { audioStorage: __assign(__assign({}, state.audioStorage), (_b = {}, _b[groupKey] = AudioUnitDefaultValue(), _b)) });\n        }\n        case SET_CURRENT_PLAYER: {\n            var _k = action.payload, audioPlayer = _k.audioPlayer, groupKey = _k.groupKey;\n            return __assign(__assign({}, state), { currentPlayer: audioPlayer, currentGroupKey: groupKey });\n        }\n        case ON_VOICE_PLAYER_PLAY: {\n            var _l = action.payload, groupKey = _l.groupKey, audioFile = _l.audioFile;\n            var audioUnit = (((_g = state.audioStorage) === null || _g === void 0 ? void 0 : _g[groupKey]) ? state.audioStorage[groupKey] : AudioUnitDefaultValue());\n            audioUnit.audioFile = audioFile;\n            audioUnit.playingStatus = VOICE_PLAYER_STATUS.PLAYING;\n            return __assign(__assign({}, state), { audioStorage: __assign(__assign({}, state.audioStorage), (_c = {}, _c[groupKey] = audioUnit, _c)) });\n        }\n        case ON_VOICE_PLAYER_PAUSE: {\n            var _m = action.payload, groupKey = _m.groupKey, duration = _m.duration, currentTime = _m.currentTime;\n            var audioUnit = (((_h = state.audioStorage) === null || _h === void 0 ? void 0 : _h[groupKey]) ? state.audioStorage[groupKey] : AudioUnitDefaultValue());\n            audioUnit.playingStatus = VOICE_PLAYER_STATUS.PAUSED;\n            if (duration === currentTime) {\n                audioUnit.playbackTime = 0;\n            }\n            return __assign(__assign({}, state), { audioStorage: __assign(__assign({}, state.audioStorage), (_d = {}, _d[groupKey] = audioUnit, _d)) });\n        }\n        case ON_CURRENT_TIME_UPDATE: {\n            var groupKey = action.payload.groupKey;\n            var _o = state.currentPlayer, currentTime = _o.currentTime, duration = _o.duration;\n            var audioUnit = (((_j = state.audioStorage) === null || _j === void 0 ? void 0 : _j[groupKey]) ? state.audioStorage[groupKey] : AudioUnitDefaultValue());\n            // sometimes the final time update is fired AFTER the pause event when audio is finished\n            if (audioUnit.playbackTime === audioUnit.duration && audioUnit.playingStatus === VOICE_PLAYER_STATUS.PAUSED) {\n                audioUnit.playbackTime = 0;\n            }\n            else if (currentTime > 0 && duration > 0) {\n                audioUnit.playbackTime = currentTime;\n                audioUnit.duration = duration;\n            }\n            return __assign(__assign({}, state), { audioStorage: __assign(__assign({}, state.audioStorage), (_e = {}, _e[groupKey] = audioUnit, _e)) });\n        }\n        default:\n            return state;\n    }\n}\n\nvar generateGroupKey = function (channelUrl, key) {\n    if (channelUrl === void 0) { channelUrl = ''; }\n    if (key === void 0) { key = ''; }\n    return (\"\".concat(channelUrl, \"-\").concat(key));\n};\n/**\n * Parses and returns the correct MIME type based on the browser.\n * If the browser is Safari and the file type is m4a, use 'audio/x-m4a' for the audio player.\n * Safari doesn't support 'audio/mp3' well.\n * Also, 'audio/m4a' should be converted to 'audio/x-m4a' to be correctly played in Safari.\n * @link: https://sendbird.atlassian.net/browse/CLNP-2997\n *\n * @param mimeType - The original MIME type.\n * @returns Converted file name and MIME type.\n */\nvar getParsedVoiceAudioFileInfo = function (mimeType) {\n    if (isSafari(navigator.userAgent) && mimeType.includes('m4a')) {\n        return {\n            name: VOICE_MESSAGE_FILE_NAME__XM4A,\n            mimeType: VOICE_MESSAGE_MIME_TYPE__XM4A,\n        };\n    }\n    return {\n        name: VOICE_MESSAGE_FILE_NAME,\n        mimeType: VOICE_MESSAGE_MIME_TYPE,\n    };\n};\n\nvar ALL = 'ALL';\nvar noop = function () { };\nvar VoicePlayerStoreDefaultValue = {\n    currentGroupKey: '',\n    currentPlayer: null,\n    audioStorage: {},\n};\nvar Context = createContext({\n    play: noop,\n    pause: noop,\n    stop: noop,\n    voicePlayerStore: VoicePlayerStoreDefaultValue,\n});\nvar VoicePlayerProvider = function (_a) {\n    var children = _a.children;\n    var _b = useReducer(voicePlayerReducer, voicePlayerInitialState), voicePlayerStore = _b[0], voicePlayerDispatcher = _b[1];\n    var currentGroupKey = voicePlayerStore.currentGroupKey, currentPlayer = voicePlayerStore.currentPlayer, audioStorage = voicePlayerStore.audioStorage;\n    var state = useSendbird().state;\n    var config = state.config;\n    var logger = config.logger;\n    var stop = function (text) {\n        if (text === void 0) { text = ''; }\n        if (currentGroupKey.includes(text)) {\n            logger.info('VoicePlayer: Pause playing(by text).');\n            pause(currentGroupKey);\n        }\n    };\n    var pause = function (groupKey) {\n        if (currentPlayer) {\n            if (groupKey === currentGroupKey) {\n                logger.info('VoicePlayer: Pause playing(by group key).');\n                currentPlayer.pause();\n            }\n            else if (groupKey === ALL) {\n                logger.info('VoicePlayer: Pause playing(all).');\n                currentPlayer.pause();\n            }\n        }\n        else {\n            logger.warning('VoicePlayer: No currentPlayer to pause.');\n        }\n    };\n    var play = function (_a) {\n        var groupKey = _a.groupKey, audioFile = _a.audioFile, _b = _a.audioFileUrl, audioFileUrl = _b === void 0 ? '' : _b, _c = _a.audioFileMimeType, audioFileMimeType = _c === void 0 ? VOICE_MESSAGE_MIME_TYPE : _c;\n        if (groupKey !== currentGroupKey) {\n            pause(currentGroupKey);\n        }\n        // Clear the previous AudioPlayer element\n        var voicePlayerRoot = document.getElementById(VOICE_PLAYER_ROOT_ID);\n        var voicePlayerAudioElement = document.getElementById(VOICE_PLAYER_AUDIO_ID);\n        if (voicePlayerRoot && voicePlayerAudioElement) {\n            voicePlayerRoot.removeChild(voicePlayerAudioElement);\n        }\n        logger.info('VoicePlayer: Start getting audio file.');\n        new Promise(function (resolve, reject) {\n            var _a;\n            voicePlayerDispatcher({\n                type: INITIALIZE_AUDIO_UNIT,\n                payload: { groupKey: groupKey },\n            });\n            // audio file passed as a parameter\n            if (audioFile) {\n                logger.info('VoicePlayer: Use the audioFile instance.');\n                resolve(audioFile);\n                return;\n            }\n            // audio file from the audioStorage\n            var cachedAudioFile = (_a = audioStorage === null || audioStorage === void 0 ? void 0 : audioStorage[groupKey]) === null || _a === void 0 ? void 0 : _a.audioFile;\n            if (cachedAudioFile) {\n                logger.info('VoicePlayer: Get from the audioStorage.');\n                resolve(cachedAudioFile);\n                return;\n            }\n            // fetch the audio file from URL\n            fetch(audioFileUrl)\n                .then(function (res) { return res.blob(); })\n                .then(function (blob) {\n                var audioFile = new File([blob], getParsedVoiceAudioFileInfo(audioFileMimeType).name, {\n                    lastModified: new Date().getTime(),\n                    type: getParsedVoiceAudioFileInfo(audioFileMimeType).mimeType,\n                });\n                resolve(audioFile);\n                logger.info('VoicePlayer: Get the audioFile from URL.');\n            })\n                .catch(reject);\n        })\n            .then(function (audioFile) {\n            var _a;\n            var voicePlayerRoot = document.getElementById(VOICE_PLAYER_ROOT_ID);\n            logger.info('VoicePlayer: Succeeded getting audio file.', { audioFile: audioFile });\n            var currentAudioUnit = audioStorage[groupKey] || AudioUnitDefaultValue();\n            var audioPlayer = new Audio((_a = URL === null || URL === void 0 ? void 0 : URL.createObjectURL) === null || _a === void 0 ? void 0 : _a.call(URL, audioFile));\n            audioPlayer.id = VOICE_PLAYER_AUDIO_ID;\n            audioPlayer.currentTime = currentAudioUnit.playbackTime;\n            audioPlayer.volume = 1;\n            audioPlayer.loop = false;\n            audioPlayer.onplaying = function () {\n                logger.info('VoicePlayer: OnPlaying event is called from audioPlayer', { groupKey: groupKey, audioPlayer: audioPlayer });\n                voicePlayerDispatcher({\n                    type: ON_VOICE_PLAYER_PLAY,\n                    payload: { groupKey: groupKey, audioFile: audioFile },\n                });\n            };\n            audioPlayer.onpause = function () {\n                logger.info('VoicePlayer: OnPause event is called from audioPlayer', { groupKey: groupKey, audioPlayer: audioPlayer });\n                voicePlayerDispatcher({\n                    type: ON_VOICE_PLAYER_PAUSE,\n                    payload: { groupKey: groupKey, duration: audioPlayer.duration, currentTime: audioPlayer.currentTime },\n                });\n            };\n            audioPlayer.ontimeupdate = function () {\n                voicePlayerDispatcher({\n                    type: ON_CURRENT_TIME_UPDATE,\n                    payload: { groupKey: groupKey },\n                });\n            };\n            audioPlayer.onerror = function (error) {\n                logger.error('VoicePlayer: Failed to load the audioFile on the audio player.', error);\n                voicePlayerDispatcher({\n                    type: RESET_AUDIO_UNIT,\n                    payload: { groupKey: groupKey },\n                });\n            };\n            audioPlayer.dataset.sbGroupId = groupKey;\n            // clean up the previous audio player\n            try {\n                voicePlayerRoot === null || voicePlayerRoot === void 0 ? void 0 : voicePlayerRoot.childNodes.forEach(function (node) {\n                    var _a, _b;\n                    var element = node;\n                    var thisGroupKey = (_a = element.dataset) === null || _a === void 0 ? void 0 : _a.sbGroupKey;\n                    if (thisGroupKey !== groupKey) {\n                        (_b = element === null || element === void 0 ? void 0 : element.pause) === null || _b === void 0 ? void 0 : _b.call(element);\n                        voicePlayerRoot.removeChild(element);\n                        logger.info('VoicePlayer: Removed other player.', { element: element });\n                    }\n                });\n            }\n            finally {\n                audioPlayer === null || audioPlayer === void 0 ? void 0 : audioPlayer.play();\n                voicePlayerRoot === null || voicePlayerRoot === void 0 ? void 0 : voicePlayerRoot.appendChild(audioPlayer);\n                voicePlayerDispatcher({\n                    type: SET_CURRENT_PLAYER,\n                    payload: { groupKey: groupKey, audioPlayer: audioPlayer },\n                });\n                logger.info('VoicePlayer: Succeeded playing audio player.', { groupKey: groupKey, audioPlayer: audioPlayer });\n            }\n        })\n            .catch(function (error) {\n            logger.warning('VoicePlayer: Failed loading audio file with URL.', error);\n            voicePlayerDispatcher({\n                type: RESET_AUDIO_UNIT,\n                payload: { groupKey: groupKey },\n            });\n        });\n    };\n    return (React__default.createElement(Context.Provider, { value: {\n            play: play,\n            pause: pause,\n            stop: stop,\n            voicePlayerStore: voicePlayerStore,\n        } },\n        React__default.createElement(\"div\", { id: VOICE_PLAYER_ROOT_ID, style: { display: 'none' } }),\n        children));\n};\nvar useVoicePlayerContext = function () { return useContext(Context); };\n\nexport { AudioUnitDefaultValue as A, VOICE_PLAYER_STATUS as V, VoicePlayerProvider as a, ALL as b, generateGroupKey as g, useVoicePlayerContext as u };\n//# sourceMappingURL=bundle-B6tSyuRm.js.map\n", "import React__default, { createContext, useState, useEffect, useCallback, useContext } from 'react';\nimport { u as useLocalization } from '../chunks/bundle-y-yf0Djs.js';\nimport { M as Modal } from '../chunks/bundle-ZMBEGemL.js';\nimport { B as BROWSER_SUPPORT_MIME_TYPE_LIST, V as VOICE_RECORDER_AUDIO_BIT_RATE, a as VOICE_MESSAGE_FILE_NAME, b as VOICE_MESSAGE_MIME_TYPE } from '../chunks/bundle-BDIF-bj_.js';\nimport { n as noop } from '../chunks/bundle-Bc1fdQjj.js';\nimport { u as useSendbird } from '../chunks/bundle-Bk7vYzLW.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport 'react-dom';\nimport '../chunks/bundle-DvgqpwmQ.js';\nimport '../ui/IconButton.js';\nimport '../ui/Button.js';\nimport '../chunks/bundle-MoKyCGQH.js';\nimport '../ui/Icon.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\n\nvar Context = createContext({\n    start: noop,\n    stop: noop,\n    isRecordable: false,\n});\nvar VoiceRecorderProvider = function (props) {\n    var _a;\n    var children = props.children;\n    var state = useSendbird().state;\n    var config = state.config;\n    var logger = config.logger, groupChannel = config.groupChannel;\n    var _b = useState(null), mediaRecorder = _b[0], setMediaRecorder = _b[1];\n    var _c = useState(false), isRecordable = _c[0], setIsRecordable = _c[1];\n    var _d = useState(false), permissionWarning = _d[0], setPermissionWarning = _d[1];\n    var stringSet = useLocalization().stringSet;\n    var isVoiceMessageEnabled = groupChannel.enableVoiceMessage;\n    var _e = useState(null), webAudioUtils = _e[0], setWebAudioUtils = _e[1];\n    var browserSupportMimeType = (_a = BROWSER_SUPPORT_MIME_TYPE_LIST.find(function (mimeType) { return MediaRecorder.isTypeSupported(mimeType); })) !== null && _a !== void 0 ? _a : '';\n    if (isVoiceMessageEnabled && !browserSupportMimeType) {\n        logger.error('VoiceRecorder: Browser does not support mimeType', { mimmeTypes: BROWSER_SUPPORT_MIME_TYPE_LIST });\n    }\n    useEffect(function () {\n        if (isVoiceMessageEnabled && !webAudioUtils) {\n            import('../chunks/bundle-BA6Ou_1M.js').then(function (module) { return setWebAudioUtils(module); });\n        }\n    }, [isVoiceMessageEnabled, webAudioUtils]);\n    var start = useCallback(function (eventHandler) {\n        var _a, _b;\n        if (isVoiceMessageEnabled && !webAudioUtils) {\n            logger.error('VoiceRecorder: Recording audio processor is being loaded.');\n            return;\n        }\n        var checkPermission = function () {\n            try {\n                // Type '\"microphone\"' is not assignable to type 'PermissionName'.ts(2322)\n                // this is typescript issue\n                // https://github.com/microsoft/TypeScript/issues/33923\n                // @ts-expect-error\n                navigator.permissions.query({ name: 'microphone' }).then(function (result) {\n                    if (result.state === 'denied') {\n                        logger.warning('VoiceRecorder: Permission denied.');\n                        setPermissionWarning(true);\n                    }\n                });\n            }\n            catch (error) {\n                logger.warning('VoiceRecorder: Failed to check permission.', error);\n            }\n        };\n        logger.info('VoiceRecorder: Start recording.');\n        if (mediaRecorder) {\n            stop();\n            logger.info('VoiceRecorder: Previous mediaRecorder is stopped.');\n        }\n        checkPermission();\n        (_b = (_a = navigator === null || navigator === void 0 ? void 0 : navigator.mediaDevices) === null || _a === void 0 ? void 0 : _a.getUserMedia) === null || _b === void 0 ? void 0 : _b.call(_a, { audio: true }).then(function (stream) {\n            var _a;\n            logger.info('VoiceRecorder: Succeeded getting media stream.', stream);\n            setIsRecordable(true);\n            var mediaRecorder = new MediaRecorder(stream, {\n                mimeType: browserSupportMimeType,\n                audioBitsPerSecond: VOICE_RECORDER_AUDIO_BIT_RATE,\n            });\n            // when recording stops\n            mediaRecorder.ondataavailable = function (e) {\n                logger.info('VoiceRecorder: Succeeded getting an available data.', e.data);\n                var audioFile = new File([e.data], VOICE_MESSAGE_FILE_NAME, {\n                    lastModified: new Date().getTime(),\n                    type: VOICE_MESSAGE_MIME_TYPE,\n                });\n                webAudioUtils === null || webAudioUtils === void 0 ? void 0 : webAudioUtils.downsampleToWav(audioFile, function (buffer) {\n                    var _a;\n                    var mp3Buffer = webAudioUtils === null || webAudioUtils === void 0 ? void 0 : webAudioUtils.encodeMp3(buffer);\n                    var mp3blob = new Blob(mp3Buffer, { type: VOICE_MESSAGE_MIME_TYPE });\n                    var convertedAudioFile = new File([mp3blob], VOICE_MESSAGE_FILE_NAME, {\n                        lastModified: new Date().getTime(),\n                        type: VOICE_MESSAGE_MIME_TYPE,\n                    });\n                    (_a = eventHandler === null || eventHandler === void 0 ? void 0 : eventHandler.onRecordingEnded) === null || _a === void 0 ? void 0 : _a.call(eventHandler, convertedAudioFile);\n                    logger.info('VoiceRecorder: Succeeded converting audio file.', convertedAudioFile);\n                });\n                var tracks = stream.getAudioTracks();\n                tracks.forEach(function (track) { return track.stop(); });\n                setIsRecordable(false);\n            };\n            mediaRecorder.onstart = (_a = eventHandler === null || eventHandler === void 0 ? void 0 : eventHandler.onRecordingStarted) !== null && _a !== void 0 ? _a : noop;\n            mediaRecorder === null || mediaRecorder === void 0 ? void 0 : mediaRecorder.start();\n            setMediaRecorder(mediaRecorder);\n        }).catch(function (err) {\n            logger.error('VoiceRecorder: Failed getting media stream.', err);\n            setMediaRecorder(null);\n        });\n    }, [mediaRecorder, webAudioUtils]);\n    var stop = useCallback(function () {\n        // Stop recording\n        mediaRecorder === null || mediaRecorder === void 0 ? void 0 : mediaRecorder.stop();\n        setMediaRecorder(null);\n        setIsRecordable(false);\n        logger.info('VoiceRecorder: Stop recording.');\n    }, [mediaRecorder]);\n    return (React__default.createElement(Context.Provider, { value: { start: start, stop: stop, isRecordable: isRecordable } },\n        children,\n        permissionWarning && (React__default.createElement(Modal, { hideFooter: true, onClose: function () { return setPermissionWarning(false); } },\n            React__default.createElement(React__default.Fragment, null, stringSet.VOICE_RECORDING_PERMISSION_DENIED)))));\n};\nvar useVoiceRecorderContext = function () { return useContext(Context); };\nvar index = {\n    VoiceRecorderProvider: VoiceRecorderProvider,\n    useVoiceRecorderContext: useVoiceRecorderContext,\n};\n\nexport { VoiceRecorderProvider, index as default, useVoiceRecorderContext };\n//# sourceMappingURL=context.js.map\n", "import React__default from 'react';\nimport { a as LabelTypography, b as LabelColors, L as Label } from '../chunks/bundle-MoKyCGQH.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-DXRcwk7R.js';\n\nvar PlaybackTime = function (_a) {\n    var className = _a.className, _b = _a.time, time = _b === void 0 ? 0 : _b, _c = _a.labelType, labelType = _c === void 0 ? LabelTypography.CAPTION_2 : _c, _d = _a.labelColor, labelColor = _d === void 0 ? LabelColors.ONCONTENT_1 : _d;\n    var naturalTime = time < 0 ? 0 : time;\n    var hour = Math.floor(naturalTime / 3600000);\n    var min = Math.floor(naturalTime % 3600000 / 60000);\n    var sec = Math.floor((naturalTime % 3600000 % 60000) / 1000);\n    return (React__default.createElement(\"div\", { className: \"sendbird-ui-play-time \".concat(className) },\n        React__default.createElement(Label, { type: labelType, color: labelColor }, \"\".concat(hour ? hour + ':' : '').concat(min < 10 ? '0' : '').concat(min ? min : '0', \":\").concat(sec < 10 ? '0' : '').concat(sec))));\n};\n\nexport { PlaybackTime, PlaybackTime as default };\n//# sourceMappingURL=PlaybackTime.js.map\n", "import { _ as __assign } from '../chunks/bundle-BosquA9C.js';\nimport React__default, { useState } from 'react';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport { y as getClassName, s as isVideoMessage, u as isGifMessage, r as isSentMessage } from '../chunks/bundle-Ug7rKzFJ.js';\nimport { n as noop } from '../chunks/bundle-Bc1fdQjj.js';\nimport { u as useLongPress } from '../chunks/bundle-BSieP1ow.js';\nimport { c as getMessageFirstFileThumbnailUrl, g as getMessageFirstFileUrl, a as getMessageFirstFileType } from '../chunks/bundle-COu2UBrG.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '../chunks/bundle-DvgqpwmQ.js';\n\nfunction ThumbnailMessageItemBody(_a) {\n    var _b, _c;\n    var _d = _a.className, className = _d === void 0 ? '' : _d, message = _a.message, _e = _a.isByMe, isByMe = _e === void 0 ? false : _e, _f = _a.mouseHover, mouseHover = _f === void 0 ? false : _f, _g = _a.isReactionEnabled, isReactionEnabled = _g === void 0 ? false : _g, _h = _a.showFileViewer, showFileViewer = _h === void 0 ? noop : _h, _j = _a.style, style = _j === void 0 ? {} : _j;\n    var thumbnailUrl = getMessageFirstFileThumbnailUrl(message);\n    var _k = useState(false), imageRendered = _k[0], setImageRendered = _k[1];\n    var onClickHandler = useLongPress({\n        onLongPress: noop,\n        onClick: function () {\n            if (isSentMessage(message)) {\n                showFileViewer === null || showFileViewer === void 0 ? void 0 : showFileViewer(true);\n            }\n        },\n    });\n    return (React__default.createElement(\"div\", __assign({ className: getClassName([\n            className,\n            'sendbird-thumbnail-message-item-body',\n            isByMe ? 'outgoing' : 'incoming',\n            mouseHover ? 'mouse-hover' : '',\n            (isReactionEnabled && ((_c = (_b = message.reactions) === null || _b === void 0 ? void 0 : _b.length) !== null && _c !== void 0 ? _c : 0) > 0) ? 'reactions' : '',\n        ]) }, onClickHandler),\n        React__default.createElement(ImageRenderer, { className: \"sendbird-thumbnail-message-item-body__thumbnail\", url: thumbnailUrl || getMessageFirstFileUrl(message), alt: getMessageFirstFileType(message), width: (style === null || style === void 0 ? void 0 : style.width) || '360px', height: (style === null || style === void 0 ? void 0 : style.height) || '270px', onLoad: function () { setImageRendered(true); }, placeHolder: function (_a) {\n                var style = _a.style;\n                return (React__default.createElement(\"div\", { className: \"sendbird-thumbnail-message-item-body__placeholder\", style: style }));\n            } }),\n        (isVideoMessage(message) && !thumbnailUrl) && !imageRendered && (React__default.createElement(\"video\", { className: \"sendbird-thumbnail-message-item-body__video\" },\n            React__default.createElement(\"source\", { src: getMessageFirstFileUrl(message), type: getMessageFirstFileType(message) }))),\n        React__default.createElement(\"div\", { className: \"sendbird-thumbnail-message-item-body__image-cover\" }),\n        (isVideoMessage(message) || isGifMessage(message)) && (React__default.createElement(\"div\", { className: \"sendbird-thumbnail-message-item-body__icon-wrapper\" },\n            React__default.createElement(\"div\", { className: \"sendbird-thumbnail-message-item-body__icon-wrapper__icon\" },\n                React__default.createElement(Icon, { type: isVideoMessage(message) ? IconTypes.PLAY : IconTypes.GIF, fillColor: IconColors.THUMBNAIL_ICON, width: \"34px\", height: \"34px\" }))))));\n}\n\nexport { ThumbnailMessageItemBody as default };\n//# sourceMappingURL=ThumbnailMessageItemBody.js.map\n", "import React__default, { useContext } from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { y as getClassName } from '../chunks/bundle-Ug7rKzFJ.js';\nimport { L as LocalizationContext } from '../chunks/bundle-y-yf0Djs.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '../chunks/bundle-BRWYGzyd.js';\n\nfunction UnknownMessageItemBody(_a) {\n    var _b;\n    var className = _a.className, message = _a.message, _c = _a.isByMe, isByMe = _c === void 0 ? false : _c, _d = _a.mouseHover, mouseHover = _d === void 0 ? false : _d, _e = _a.isReactionEnabled, isReactionEnabled = _e === void 0 ? false : _e;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(\"div\", { className: getClassName([\n            className !== null && className !== void 0 ? className : '',\n            'sendbird-unknown-message-item-body',\n            isByMe ? 'outgoing' : 'incoming',\n            mouseHover ? 'mouse-hover' : '',\n            (isReactionEnabled && ((_b = message === null || message === void 0 ? void 0 : message.reactions) === null || _b === void 0 ? void 0 : _b.length) > 0) ? 'reactions' : '',\n        ]) },\n        React__default.createElement(Label, { className: \"sendbird-unknown-message-item-body__header\", type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 }, stringSet.UNKNOWN__UNKNOWN_MESSAGE_TYPE),\n        React__default.createElement(Label, { className: \"sendbird-unknown-message-item-body__description\", type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_2 : LabelColors.ONBACKGROUND_2 }, stringSet.UNKNOWN__CANNOT_READ_MESSAGE)));\n}\n\nexport { UnknownMessageItemBody as default };\n//# sourceMappingURL=UnknownMessageItemBody.js.map\n", "import { e as __extends, _ as __assign } from '../chunks/bundle-BosquA9C.js';\nimport React__default, { Component, useState, useEffect } from 'react';\nimport { y as getClassName } from '../chunks/bundle-Ug7rKzFJ.js';\nimport { M as MessageProvider, a as MessageTemplate } from '../chunks/bundle-D9VCJ_xd.js';\nimport { FallbackTemplateMessageItemBody } from './FallbackTemplateMessageItemBody.tsx.js';\nimport { LoadingTemplateMessageItemBody } from './LoadingTemplateMessageItemBody.tsx.js';\nimport { M as MESSAGE_TEMPLATE_KEY } from '../chunks/bundle-BDIF-bj_.js';\nimport { u as useSendbird } from '../chunks/bundle-Bk7vYzLW.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-y-yf0Djs.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../chunks/bundle-MoKyCGQH.js';\nimport './Loader.js';\nimport './Icon.js';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\n\nvar MessageTemplateWrapper = function (_a) {\n    var message = _a.message, templateVersion = _a.templateVersion, templateItems = _a.templateItems;\n    return React__default.createElement(MessageProvider, { message: message },\n        React__default.createElement(MessageTemplate, { templateVersion: templateVersion, templateItems: templateItems }));\n};\n\nvar splitColorVariables = function (colorVariables) {\n    var light = {};\n    var dark = {};\n    for (var key in colorVariables) {\n        if (Object.prototype.hasOwnProperty.call(colorVariables, key)) {\n            var value = colorVariables[key];\n            if (typeof value === 'object' && value !== null) {\n                var _a = splitColorVariables(value), nestedLight = _a[0], nestedDark = _a[1];\n                light[key] = nestedLight;\n                dark[key] = nestedDark;\n            }\n            else if (typeof value === 'string') {\n                var _b = value.split(','), lightColor = _b[0], darkColor = _b[1];\n                light[key] = lightColor;\n                dark[key] = darkColor || lightColor; // when dark color is not provided, use light color\n            }\n            else {\n                light[key] = value;\n                dark[key] = value;\n            }\n        }\n    }\n    return [light, dark];\n};\nfunction selectColorVariablesByTheme(_a) {\n    var colorVariables = _a.colorVariables, theme = _a.theme;\n    var _b = splitColorVariables(colorVariables), light = _b[0], dark = _b[1];\n    return theme === 'light' ? light : dark;\n}\n\nvar MessageTemplateErrorBoundary = /** @class */ (function (_super) {\n    __extends(MessageTemplateErrorBoundary, _super);\n    function MessageTemplateErrorBoundary(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = { hasError: false };\n        return _this;\n    }\n    MessageTemplateErrorBoundary.getDerivedStateFromError = function () {\n        return { hasError: true };\n    };\n    MessageTemplateErrorBoundary.prototype.componentDidCatch = function (error, errorInfo) {\n        var _a;\n        (_a = this.props.logger) === null || _a === void 0 ? void 0 : _a.error('Error caught by ErrorBoundary: ', error, errorInfo);\n    };\n    MessageTemplateErrorBoundary.prototype.render = function () {\n        if (this.state.hasError) {\n            return this.props.fallbackMessage;\n        }\n        return this.props.children;\n    };\n    return MessageTemplateErrorBoundary;\n}(Component));\n\nvar flattenObjectHelper = function (currentObject, flattenObject, parentKeyPath) {\n    if (parentKeyPath === void 0) { parentKeyPath = ''; }\n    for (var _i = 0, _a = Object.entries(currentObject); _i < _a.length; _i++) {\n        var _b = _a[_i], key = _b[0], value = _b[1];\n        var currentKeyPath = parentKeyPath ? \"\".concat(parentKeyPath, \".\").concat(key) : key;\n        if (value && typeof value === 'object') {\n            flattenObjectHelper(value, flattenObject, currentKeyPath);\n        }\n        else {\n            flattenObject[currentKeyPath] = value;\n        }\n    }\n};\n/**\n * Returns flattened object.\n * ex.\n * given { key-1: { key-1.1: 'value-1.1' }, key-2: 'value-2' }\n * returns { key-1.key-1.1: 'value-1.1', key-2: 'value-2' }\n */\nfunction flattenObject(object) {\n    var result = {};\n    flattenObjectHelper(object, result);\n    return result;\n}\n\nvar TEMPLATE_FETCH_RETRY_BUFFER_TIME_IN_MILLIES = 500; // It takes about 450ms for isError update\nvar replaceVariablesInTemplateString = function (_a) {\n    var template = _a.template, _b = _a.templateData, templateData = _b === void 0 ? {} : _b, colorVariables = _a.colorVariables, theme = _a.theme;\n    var selectedThemeColorVariables = {};\n    if (colorVariables && theme) {\n        selectedThemeColorVariables = selectColorVariablesByTheme({\n            colorVariables: colorVariables,\n            theme: theme,\n        });\n    }\n    var source = __assign(__assign({}, templateData), selectedThemeColorVariables);\n    var flattenedSource = flattenObject(source);\n    var replaced = template;\n    Object.entries(flattenedSource).forEach(function (_a) {\n        var key = _a[0], val = _a[1];\n        var pattern = \"\\\\{\".concat(key, \"\\\\}\");\n        var regex = new RegExp(pattern, 'g');\n        replaced = replaced.replace(regex, val);\n    });\n    return replaced;\n};\nfunction TemplateMessageItemBody(_a) {\n    var _b;\n    var _c = _a.className, className = _c === void 0 ? '' : _c, message = _a.message, _d = _a.isByMe, isByMe = _d === void 0 ? false : _d, _e = _a.theme, theme = _e === void 0 ? 'light' : _e;\n    var templateData = (_b = message.extendedMessagePayload) === null || _b === void 0 ? void 0 : _b[MESSAGE_TEMPLATE_KEY];\n    var getFailedBody = function () {\n        return React__default.createElement(FallbackTemplateMessageItemBody, { className: className, message: message, isByMe: isByMe });\n    };\n    if (!(templateData === null || templateData === void 0 ? void 0 : templateData.key)) {\n        return getFailedBody();\n    }\n    var templateKey = templateData.key;\n    var state = useSendbird().state;\n    if (!state) {\n        return getFailedBody();\n    }\n    var logger = state.config.logger;\n    var _f = state.utils, getCachedTemplate = _f.getCachedTemplate, updateMessageTemplatesInfo = _f.updateMessageTemplatesInfo;\n    var waitingTemplateKeysMap = state.stores.appInfoStore.waitingTemplateKeysMap;\n    var waitingTemplateKeysMapString = Object.entries(waitingTemplateKeysMap)\n        .map(function (_a) {\n        var key = _a[0], value = _a[1];\n        return [key, value.requestedAt, value.erroredMessageIds.join(',')].join('-');\n    }).join('_');\n    var _g = useState(getFilledMessageTemplateItems()), renderData = _g[0], setRenderData = _g[1];\n    function findSubstrings(input, matchString) {\n        var indices = [];\n        var startIndex = 0;\n        while ((startIndex = input.indexOf(matchString, startIndex)) !== -1) {\n            indices.push({ start: startIndex, end: startIndex + matchString.length });\n            startIndex += matchString.length;\n        }\n        return indices;\n    }\n    function replaceAtIndices(input, indices, replacement) {\n        var result = '';\n        var lastIndex = 0;\n        indices.forEach(function (_a) {\n            var start = _a.start, end = _a.end;\n            result += input.slice(lastIndex, start) + replacement;\n            lastIndex = end;\n        });\n        // Add any remaining part of the string after the last match\n        result += input.slice(lastIndex);\n        return result;\n    }\n    function replaceReservationKeys(templateString, reservationKey, replacement) {\n        var indices = findSubstrings(templateString, reservationKey);\n        return replaceAtIndices(templateString, indices, replacement);\n    }\n    /**\n     * Returns filled rootTemplate. Given rootTemplate,\n     * 1. replace any reservation key with matching cached template,\n     * 2. fill variables and view_variables.\n     *\n     * Assume below facts:\n     * - carousel type template cannot have a carousel typed template in any\n     * depth of items.\n     * - However, box type template can have a carousel typed template in any\n     * depth of items.\n     *\n     * @param rootTemplate\n     */\n    function getFilledRootTemplate(rootTemplate) {\n        var rootTemplateString = replaceVariablesInTemplateString({\n            template: rootTemplate.uiTemplate,\n            templateData: templateData.variables,\n            colorVariables: rootTemplate.colorVariables,\n            theme: theme,\n        });\n        if (templateData.view_variables) {\n            var reservationKeyToItems_1 = {};\n            Object.entries(templateData.view_variables).forEach(function (_a) {\n                var reservationKey = _a[0], simpleTemplateDataList = _a[1];\n                var filledSimpleTemplates = [];\n                simpleTemplateDataList.forEach(function (simpleTemplateData) {\n                    var simpleTemplateKey = simpleTemplateData === null || simpleTemplateData === void 0 ? void 0 : simpleTemplateData.key;\n                    if (simpleTemplateKey) {\n                        var cachedTemplate = getCachedTemplate(simpleTemplateKey);\n                        if (!cachedTemplate) {\n                            logger.error('TemplateMessageItemBody | simple template is expected to be cached: ', simpleTemplateKey);\n                        }\n                        var items = replaceVariablesInTemplateString({\n                            template: cachedTemplate.uiTemplate,\n                            templateData: simpleTemplateData.variables,\n                            colorVariables: cachedTemplate.colorVariables,\n                            theme: theme,\n                        });\n                        filledSimpleTemplates.push({\n                            version: cachedTemplate.version,\n                            body: {\n                                items: JSON.parse(items),\n                            },\n                        });\n                        reservationKeyToItems_1[reservationKey] = JSON.stringify(filledSimpleTemplates);\n                    }\n                });\n            });\n            Object.entries(reservationKeyToItems_1).forEach(function (_a) {\n                var reservationKey = _a[0], filledSimpleTemplates = _a[1];\n                rootTemplateString = replaceReservationKeys(rootTemplateString, \"\\\"@{\".concat(reservationKey, \"}\\\"\"), filledSimpleTemplates);\n            });\n        }\n        return JSON.parse(rootTemplateString);\n    }\n    function getFilledMessageTemplateItems() {\n        var result = {\n            filledMessageTemplateItemsList: [],\n            isErrored: false,\n        };\n        var nonCachedTemplateKeys = [];\n        var cachedTemplate = getCachedTemplate(templateKey);\n        if (!cachedTemplate) {\n            nonCachedTemplateKeys.push(templateKey);\n        }\n        if (templateData === null || templateData === void 0 ? void 0 : templateData.view_variables) {\n            try {\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                Object.entries(templateData.view_variables).forEach(function (_a) {\n                    var _ = _a[0], simpleTemplateDataList = _a[1];\n                    simpleTemplateDataList.forEach(function (simpleTemplateData) {\n                        var simpleTemplateKey = simpleTemplateData === null || simpleTemplateData === void 0 ? void 0 : simpleTemplateData.key;\n                        if (simpleTemplateKey\n                            && !getCachedTemplate(simpleTemplateKey)\n                            && !nonCachedTemplateKeys.includes(simpleTemplateKey)) {\n                            nonCachedTemplateKeys.push(simpleTemplateKey);\n                        }\n                    });\n                });\n            }\n            catch (e) {\n                logger.error('TemplateMessageItemBody | received view_variables is malformed: ', templateData);\n                result.isErrored = true;\n                return result;\n            }\n        }\n        try {\n            if (nonCachedTemplateKeys.length > 0) {\n                tryFetchTemplateByKey(nonCachedTemplateKeys);\n            }\n            else if (cachedTemplate) {\n                var items = getFilledRootTemplate(cachedTemplate);\n                result.filledMessageTemplateItemsList.push({\n                    version: cachedTemplate.version,\n                    items: items,\n                });\n            }\n        }\n        catch (e) {\n            logger.error('TemplateMessageItemBody | fetching non-cached templates by given template keys failed: ', e);\n            result.isErrored = true;\n        }\n        return result;\n    }\n    useEffect(function () {\n        if (!renderData.isErrored && renderData.filledMessageTemplateItemsList.length === 0) {\n            var newRenderData = getFilledMessageTemplateItems();\n            setRenderData(newRenderData);\n        }\n    }, [templateData.key, waitingTemplateKeysMapString]);\n    /**\n     * Attempt GET template by key IFF one of below cases is met:\n     * 1. This is the first GET call for the template key.\n     * 2. Minimum buffer time has passed since the previous GET error.\n     */\n    function tryFetchTemplateByKey(templateKeys) {\n        if (templateKeys.length > 0) {\n            var waitingTemplateKeyDataList_1 = [];\n            templateKeys.forEach(function (templateKey) {\n                var waitingTemplateKeyData = waitingTemplateKeysMap[templateKey];\n                waitingTemplateKeyDataList_1.push([templateKey, waitingTemplateKeyData]);\n            });\n            var requestedAt_1 = Date.now();\n            var keysToUpdate_1 = [];\n            waitingTemplateKeyDataList_1.forEach(function (_a) {\n                var templateKey = _a[0], waitingTemplateKeyData = _a[1];\n                if (!waitingTemplateKeyData\n                    || (waitingTemplateKeyData.erroredMessageIds.indexOf(message.messageId) === -1\n                        && requestedAt_1 > waitingTemplateKeyData.requestedAt + TEMPLATE_FETCH_RETRY_BUFFER_TIME_IN_MILLIES)) {\n                    keysToUpdate_1.push(templateKey);\n                }\n                else if (waitingTemplateKeyData.erroredMessageIds.indexOf(message.messageId) > -1) {\n                    throw new Error(\"TemplateMessageItemBody | fetching template key \".concat(templateKey, \" for messageId: \").concat(message.messageId, \" has failed.\"));\n                }\n            });\n            if (keysToUpdate_1.length > 0) {\n                updateMessageTemplatesInfo(keysToUpdate_1, message.messageId, requestedAt_1);\n            }\n        }\n    }\n    if (renderData.isErrored) {\n        return getFailedBody();\n    }\n    if (renderData.filledMessageTemplateItemsList.length === 0) {\n        return React__default.createElement(LoadingTemplateMessageItemBody, { className: className, isByMe: isByMe });\n    }\n    return (React__default.createElement(\"div\", { className: getClassName([\n            className,\n            isByMe ? 'outgoing' : 'incoming',\n            'sendbird-template-message-item-body',\n        ]) },\n        React__default.createElement(MessageTemplateErrorBoundary, { fallbackMessage: React__default.createElement(FallbackTemplateMessageItemBody, { className: className, message: message, isByMe: isByMe }), logger: logger }, renderData.filledMessageTemplateItemsList.map(function (filledMessageTemplateItem, i) {\n            var _a;\n            return (React__default.createElement(MessageTemplateWrapper, { key: i, message: message, templateVersion: (_a = filledMessageTemplateItem.version) !== null && _a !== void 0 ? _a : 0, templateItems: filledMessageTemplateItem.items }));\n        }))));\n}\n\nexport { TemplateMessageItemBody, TemplateMessageItemBody as default, replaceVariablesInTemplateString };\n//# sourceMappingURL=TemplateMessageItemBody.js.map\n", "export var ComponentType;\n(function (ComponentType) {\n    ComponentType[\"Box\"] = \"box\";\n    ComponentType[\"Text\"] = \"text\";\n    ComponentType[\"Image\"] = \"image\";\n    ComponentType[\"TextButton\"] = \"textButton\";\n    ComponentType[\"ImageButton\"] = \"imageButton\";\n    ComponentType[\"Carousel\"] = \"carouselView\";\n})(ComponentType || (ComponentType = {}));\n", "import { ComponentType } from '../../types/components.js';\nconst outSingle = (key, obj) => {\n    if (typeof obj[key] !== 'string')\n        return {};\n    return { [key]: argbToRgba(obj[key]) };\n};\nfunction argbToRgba(string) {\n    if (!string.startsWith('#')) {\n        return string;\n    }\n    if (string.length === 9) {\n        return `#${string.slice(3)}${string[1]}${string[2]}`;\n    }\n    if (string.length === 5) {\n        return `#${string.slice(2)}${string[1]}`;\n    }\n    return string;\n}\nconst outViewStyle = (viewStyle) => {\n    if (!viewStyle)\n        return {};\n    return {\n        viewStyle: Object.assign(Object.assign(Object.assign({}, viewStyle), outSingle('backgroundColor', viewStyle)), outSingle('borderColor', viewStyle)),\n    };\n};\nconst outTextStyle = (textStyle) => {\n    if (!textStyle)\n        return {};\n    return {\n        textStyle: Object.assign(Object.assign({}, textStyle), outSingle('color', textStyle)),\n    };\n};\nconst outImageStyle = (imageStyle) => {\n    if (!imageStyle)\n        return {};\n    return {\n        imageStyle: Object.assign(Object.assign({}, imageStyle), outSingle('tintColor', imageStyle)),\n    };\n};\nexport const colorTransform = {\n    run(prop) {\n        if (prop.type === ComponentType.Text || prop.type === ComponentType.TextButton) {\n            return Object.assign(Object.assign(Object.assign({}, prop), outViewStyle(prop.viewStyle)), outTextStyle(prop.textStyle));\n        }\n        if (prop.type === ComponentType.ImageButton || prop.type === ComponentType.Image) {\n            return Object.assign(Object.assign(Object.assign({}, prop), outViewStyle(prop.viewStyle)), outImageStyle(prop.imageStyle));\n        }\n        return Object.assign(Object.assign({}, prop), outViewStyle(prop.viewStyle));\n    },\n};\n", "import { ComponentType, } from '../../types/components.js';\nconst isNumber = (val) => {\n    if (typeof val === 'string') {\n        return !Number.isNaN(Number(val));\n    }\n    return typeof val === 'number' && !Number.isNaN(val);\n};\nconst outSingle = (key, obj) => {\n    if (obj[key] === undefined || obj[key] === null)\n        return {};\n    return isNumber(obj[key]) ? { [key]: Number(obj[key]) } : {};\n};\nconst outSpacing = (key, spacing) => {\n    if (!spacing)\n        return {};\n    return {\n        [key]: {\n            left: isNumber(spacing.left) ? Number(spacing.left) : spacing.left,\n            right: isNumber(spacing.right) ? Number(spacing.right) : spacing.right,\n            top: isNumber(spacing.top) ? Number(spacing.top) : spacing.top,\n            bottom: isNumber(spacing.bottom) ? Number(spacing.bottom) : spacing.bottom,\n        },\n    };\n};\nconst outSize = (key, size) => {\n    if (!size)\n        return {};\n    return {\n        [key]: {\n            type: size.type,\n            value: isNumber(size.value) ? Number(size.value) : size.value,\n        },\n    };\n};\nconst outMetadata = (metaData) => {\n    if (!metaData)\n        return {};\n    return {\n        metaData: {\n            pixelWidth: isNumber(metaData.pixelWidth) ? Number(metaData.pixelWidth) : metaData.pixelWidth,\n            pixelHeight: isNumber(metaData.pixelHeight) ? Number(metaData.pixelHeight) : metaData.pixelHeight,\n        },\n    };\n};\nconst outViewStyle = (viewStyle) => {\n    if (!viewStyle)\n        return {};\n    return {\n        viewStyle: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, viewStyle), outSingle('borderWidth', viewStyle)), outSingle('radius', viewStyle)), outSpacing('margin', viewStyle.margin)), outSpacing('padding', viewStyle.padding)),\n    };\n};\nconst outTextStyle = (textStyle) => {\n    if (!textStyle)\n        return {};\n    return {\n        textStyle: Object.assign(Object.assign(Object.assign({}, textStyle), outSingle('size', textStyle)), outSingle('weight', textStyle)),\n    };\n};\nconst outCarouselStyle = (carouselstyle) => {\n    if (!carouselstyle)\n        return {};\n    return {\n        carouselStyle: Object.assign(Object.assign({}, carouselstyle), outSingle('spacing', carouselstyle)),\n    };\n};\nconst outViewProps = (view) => {\n    return Object.assign(Object.assign(Object.assign({}, outSize('width', view.width)), outSize('height', view.height)), outViewStyle(view.viewStyle));\n};\nconst outTextProps = (text) => {\n    return Object.assign(Object.assign(Object.assign({}, outViewProps(text)), outTextStyle(text.textStyle)), outSingle('maxTextLines', text));\n};\nconst outImageProps = (image) => {\n    return Object.assign(Object.assign({}, outViewProps(image)), outMetadata(image.metaData));\n};\nconst outCarouselProps = (carousel) => {\n    return Object.assign(Object.assign(Object.assign({}, outViewProps(carousel)), outCarouselStyle(carousel.carouselStyle)), { \n        // Convert only top-level items to find has fill width values.\n        items: carousel.items.map((item) => (Object.assign(Object.assign({}, item), { body: Object.assign(Object.assign({}, item.body), { items: item.body.items.map((it) => numberTransform.run(it)) }) }))) });\n};\nexport const numberTransform = {\n    run(prop) {\n        if (prop.type === ComponentType.Text || prop.type === ComponentType.TextButton) {\n            return Object.assign(Object.assign({}, prop), outTextProps(prop));\n        }\n        if (prop.type === ComponentType.ImageButton || prop.type === ComponentType.Image) {\n            return Object.assign(Object.assign({}, prop), outImageProps(prop));\n        }\n        if (prop.type === ComponentType.Carousel) {\n            return Object.assign(Object.assign({}, prop), outCarouselProps(prop));\n        }\n        return Object.assign(Object.assign({}, prop), outViewProps(prop));\n    },\n};\n", "// -------- Set property mapper\nimport { ComponentType, } from '../types/components';\nimport { colorTransform } from './transforms/colorTransform';\nimport { numberTransform } from './transforms/numberTransform';\nconst MAPPER = () => undefined;\nexport const createParser = (params) => {\n    var _a;\n    const defaultMapper = (params === null || params === void 0 ? void 0 : params.defaultMapper) || MAPPER;\n    const mapper = {\n        defaultMapper,\n        mapBoxProps: (params === null || params === void 0 ? void 0 : params.mapBoxProps) || defaultMapper,\n        mapTextProps: (params === null || params === void 0 ? void 0 : params.mapTextProps) || defaultMapper,\n        mapImageProps: (params === null || params === void 0 ? void 0 : params.mapImageProps) || defaultMapper,\n        mapTextButtonProps: (params === null || params === void 0 ? void 0 : params.mapTextButtonProps) || defaultMapper,\n        mapImageButtonProps: (params === null || params === void 0 ? void 0 : params.mapImageButtonProps) || defaultMapper,\n        mapCarouselProps: (params === null || params === void 0 ? void 0 : params.mapCarouselProps) || defaultMapper,\n    };\n    const transforms = [colorTransform, numberTransform, ...((_a = params === null || params === void 0 ? void 0 : params.transforms) !== null && _a !== void 0 ? _a : [])];\n    const transformDirty = new Set();\n    return {\n        setTransforms(newTransforms) {\n            transforms.length = 0;\n            transforms.push(...newTransforms);\n            transformDirty.clear();\n        },\n        addTransforms(newTransforms) {\n            transforms.push(...newTransforms);\n        },\n        parse(rawItem, options) {\n            // Note: it is for mutable transforms\n            // const uniqId =\n            //   typeof options.depth === 'number' && typeof options.elemIdx === 'number'\n            //     ? `id-${options.depth}-${options.elemIdx}`\n            //     : rawItem.id ?? rawItem.elementId ?? JSON.stringify(rawItem);\n            //\n            // let item = rawItem;\n            // if (!transformDirty.has(uniqId)) {\n            //   item = transforms.reduce((it, transform) => transform(it), rawItem);\n            //   transformDirty.add(uniqId);\n            // }\n            const item = transforms.reduce((it, transform) => transform.run(it), rawItem);\n            switch (item.type) {\n                case ComponentType.Box: {\n                    return { transformed: item, properties: mapper.mapBoxProps(item, options) };\n                }\n                case ComponentType.Text: {\n                    return { transformed: item, properties: mapper.mapTextProps(item, options) };\n                }\n                case ComponentType.Image: {\n                    return { transformed: item, properties: mapper.mapImageProps(item, options) };\n                }\n                case ComponentType.TextButton: {\n                    return { transformed: item, properties: mapper.mapTextButtonProps(item, options) };\n                }\n                case ComponentType.ImageButton: {\n                    return { transformed: item, properties: mapper.mapImageButtonProps(item, options) };\n                }\n                case ComponentType.Carousel: {\n                    return { transformed: item, properties: mapper.mapCarouselProps(item, options) };\n                }\n                default:\n                    return { transformed: item, properties: undefined };\n            }\n        },\n    };\n};\nexport const DEFAULT_PARSER_VALUES = {\n    light: { _: undefined },\n    dark: { _: undefined },\n};\n", "import React from 'react';\nconst FRAGMENT = ({ children }) => React.createElement(React.Fragment, null, children);\nexport function createRenderer(params) {\n    var _a, _b, _c, _d, _e, _f;\n    return {\n        box: ((_a = params === null || params === void 0 ? void 0 : params.views) === null || _a === void 0 ? void 0 : _a.box) || FRAGMENT,\n        text: ((_b = params === null || params === void 0 ? void 0 : params.views) === null || _b === void 0 ? void 0 : _b.text) || FRAGMENT,\n        image: ((_c = params === null || params === void 0 ? void 0 : params.views) === null || _c === void 0 ? void 0 : _c.image) || FRAGMENT,\n        imageButton: ((_d = params === null || params === void 0 ? void 0 : params.views) === null || _d === void 0 ? void 0 : _d.imageButton) || FRAGMENT,\n        textButton: ((_e = params === null || params === void 0 ? void 0 : params.views) === null || _e === void 0 ? void 0 : _e.textButton) || FRAGMENT,\n        carouselView: ((_f = params === null || params === void 0 ? void 0 : params.views) === null || _f === void 0 ? void 0 : _f.carouselView) || FRAGMENT,\n    };\n}\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { createContext, useCallback, useContext, useState } from 'react';\nconst SizeContext = createContext({\n    sizes: {},\n    updateSize: () => { },\n});\nconst SizeContextProvider = ({ children }) => {\n    const [sizes, setSizes] = useState({});\n    const updateSize = useCallback((_a) => {\n        var { id } = _a, rest = __rest(_a, [\"id\"]);\n        if (id) {\n            setSizes((prevSizes) => (Object.assign(Object.assign({}, prevSizes), { [id]: rest })));\n        }\n    }, []);\n    return React.createElement(SizeContext.Provider, { value: { sizes, updateSize } }, children);\n};\nconst useSizeContext = () => useContext(SizeContext);\nexport { SizeContextProvider, useSizeContext };\n", "export var Layout;\n(function (Layout) {\n    Layout[\"Row\"] = \"row\";\n    Layout[\"Column\"] = \"column\";\n})(Layout || (Layout = {}));\nexport var AlignValue;\n(function (AlignValue) {\n    AlignValue[\"Center\"] = \"center\";\n    AlignValue[\"Left\"] = \"left\";\n    AlignValue[\"Right\"] = \"right\";\n    AlignValue[\"Top\"] = \"top\";\n    AlignValue[\"Bottom\"] = \"bottom\";\n})(AlignValue || (AlignValue = {}));\n/**\n * @description\n * Caution: Numbers are passed as string types in the message template builder.\n * Use `==` comparison instead of `===` comparison when using a regular enum instead of a string enum.\n */\nexport var FlexSizeSpecValue;\n(function (FlexSizeSpecValue) {\n    FlexSizeSpecValue[FlexSizeSpecValue[\"FillParent\"] = 0] = \"FillParent\";\n    FlexSizeSpecValue[FlexSizeSpecValue[\"WrapContent\"] = 1] = \"WrapContent\";\n})(FlexSizeSpecValue || (FlexSizeSpecValue = {}));\nexport var FontWeight;\n(function (FontWeight) {\n    FontWeight[\"Normal\"] = \"normal\";\n    FontWeight[\"Bold\"] = \"bold\";\n})(FontWeight || (FontWeight = {}));\nexport var MediaContentMode;\n(function (MediaContentMode) {\n    MediaContentMode[\"AspectFit\"] = \"aspectFit\";\n    MediaContentMode[\"AspectFill\"] = \"aspectFill\";\n    MediaContentMode[\"ScalesToFill\"] = \"scalesToFill\";\n})(MediaContentMode || (MediaContentMode = {}));\n", "import { AlignValue } from '../types/styles';\nexport const SUPPORTED_TEMPLATE_VERSIONS = [\n    1,\n    2, // Composite templates: Carousel\n];\nexport const alignInFlex = (align) => {\n    switch (align) {\n        case AlignValue.Right:\n        case AlignValue.Bottom:\n            return 'flex-end';\n        case AlignValue.Center:\n            return 'center';\n        case AlignValue.Left:\n        case AlignValue.Top:\n        default:\n            return 'flex-start';\n    }\n};\nexport const isTemplateVersionSupported = (templateVersion) => {\n    if (!templateVersion)\n        return true;\n    return SUPPORTED_TEMPLATE_VERSIONS.includes(Number(templateVersion));\n};\n", "const memoize = (fn) => {\n    const cache = new Map();\n    const cached = function (val) {\n        return cache.has(val) ? cache.get(val) : cache.set(val, fn.call(this, val)) && cache.get(val);\n    };\n    cached.cache = cache;\n    return cached;\n};\n/**\n * Generate each item's id by each item's array depth\n */\nexport const setTemplateItemId = memoize((data) => {\n    const addIdRecursively = (item, id) => {\n        if ('items' in item && (item === null || item === void 0 ? void 0 : item.items) != null) {\n            item.items.forEach((subItem, subIdx) => {\n                const subId = `${id}-${subIdx}`;\n                subItem.id = subId;\n                addIdRecursively(subItem, subId);\n            });\n        }\n    };\n    data.forEach((item, idx) => {\n        const id = `${idx}`;\n        item.id = id;\n        addIdRecursively(item, id);\n    });\n    return data;\n});\n", "import { AlignValue, FlexSizeSpecValue, Layout } from '../types/styles';\nexport const defaultProperties = {\n    rootLayout: Layout.Column,\n    view: {\n        size: {\n            width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n            height: { type: 'flex', value: FlexSizeSpecValue.WrapContent },\n        },\n    },\n    box: {\n        layout: Layout.Row,\n        align: { vertical: AlignValue.Top, horizontal: AlignValue.Left },\n    },\n    textButton: {\n        maxTextLines: 1,\n    },\n    carousel: {\n        style: {\n            spacing: 10,\n            maxChildWidth: 240,\n        },\n    },\n};\n", "import React from 'react';\nimport { SizeContextProvider } from '../context/SizeProvider';\nimport { ComponentType } from '../types/components';\nimport { SUPPORTED_TEMPLATE_VERSIONS, isTemplateVersionSupported } from '../utils';\nimport { setTemplateItemId } from '../utils/templateItemId';\nimport { defaultProperties } from './defaultValues';\nimport { createParser } from './parser';\nimport { createRenderer } from './renderer';\nexport const createMessageTemplate = (opts) => {\n    const Container = opts.Container || React.Fragment;\n    const UnknownMessage = opts.UnknownMessage || (() => null);\n    const parser = opts.parser || createParser();\n    const renderer = opts.renderer || createRenderer();\n    const MessageTemplateBase = ({ templateItems, templateVersion, parentLayout = defaultProperties.box.layout, depth = 0, }) => {\n        if (!isTemplateVersionSupported(templateVersion)) {\n            throw new Error(`Cannot parse template item due to unsupported template version: ${templateVersion}, ${SUPPORTED_TEMPLATE_VERSIONS}`);\n        }\n        return (React.createElement(React.Fragment, null, templateItems.map((rawItem, index, siblings) => {\n            const result = parser.parse(rawItem, { parentLayout, depth, elemIdx: index, siblings });\n            const item = result.transformed;\n            const rendererProps = {\n                key: index,\n                siblings,\n                parentLayout,\n                parsedProperties: result.properties,\n            };\n            switch (item.type) {\n                case ComponentType.Carousel: {\n                    if (!Array.isArray(item.items) || item.items.length === 0) {\n                        throw new Error('Cannot parse template item as Carousel if carousel has no items.');\n                    }\n                    return (React.createElement(renderer.carouselView, Object.assign({}, item, rendererProps), item.items.map((template, index) => (React.createElement(MessageTemplateBase, { key: index, templateItems: template.body.items || [], depth: depth + 1, templateVersion: template.version })))));\n                }\n                case ComponentType.Box: {\n                    return (React.createElement(renderer.box, Object.assign({}, item, rendererProps),\n                        React.createElement(MessageTemplateBase, { templateItems: item.items || [], parentLayout: item.layout, depth: depth + 1, templateVersion: templateVersion })));\n                }\n                case ComponentType.Text: {\n                    return React.createElement(renderer.text, Object.assign({}, item, rendererProps));\n                }\n                case ComponentType.Image: {\n                    return React.createElement(renderer.image, Object.assign({}, item, rendererProps));\n                }\n                case ComponentType.TextButton: {\n                    return React.createElement(renderer.textButton, Object.assign({}, item, rendererProps));\n                }\n                case ComponentType.ImageButton: {\n                    return React.createElement(renderer.imageButton, Object.assign({}, item, rendererProps));\n                }\n                default: {\n                    // or throw new Error('Cannot parse template item')\n                    return React.createElement(UnknownMessage, { item: item });\n                }\n            }\n        })));\n    };\n    return {\n        MessageTemplate: ({ templateVersion, templateItems, parentLayout = defaultProperties.rootLayout, }) => {\n            const items = setTemplateItemId(templateItems);\n            return (React.createElement(SizeContextProvider, null,\n                React.createElement(Container, null,\n                    React.createElement(MessageTemplateBase, { isRoot: true, parentLayout: parentLayout, templateItems: items, templateVersion: templateVersion }))));\n        },\n        MessageTemplateBase,\n    };\n};\n", "export var ActionType;\n(function (ActionType) {\n    ActionType[\"Web\"] = \"web\";\n    ActionType[\"Custom\"] = \"custom\";\n    ActionType[\"UIKit\"] = \"uikit\";\n})(ActionType || (ActionType = {}));\n", "import { ComponentType } from '../types/components';\nimport { ActionType } from '../types/properties';\nimport { AlignValue, FlexSizeSpecValue, FontWeight, Layout, MediaContentMode } from '../types/styles';\nconst sample_1 = {\n    version: 1,\n    body: {\n        items: [\n            {\n                type: ComponentType.Image,\n                action: { type: ActionType.Web, data: 'https://docs.sendbird.com' },\n                height: { type: 'fixed', value: 236 },\n                viewStyle: {\n                    padding: {\n                        left: 4,\n                        right: 4,\n                        top: 4,\n                        bottom: 4,\n                    },\n                },\n                imageUrl: 'https://cdn.pixabay.com/photo/2022/10/12/10/45/bird-7516219_1280.jpg',\n                imageStyle: { contentMode: MediaContentMode.AspectFill },\n            },\n            {\n                type: ComponentType.Box,\n                layout: Layout.Column,\n                width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                height: { type: 'fixed', value: 200 },\n                items: [\n                    {\n                        type: ComponentType.Box,\n                        width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        height: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        viewStyle: { backgroundColor: '#fa6464' },\n                    },\n                    {\n                        type: ComponentType.Box,\n                        layout: Layout.Column,\n                        width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        height: { type: 'flex', value: FlexSizeSpecValue.WrapContent },\n                        viewStyle: { backgroundColor: '#ffaf5c' },\n                        items: [\n                            {\n                                type: ComponentType.Text,\n                                text: 'Message',\n                                align: { horizontal: AlignValue.Center, vertical: AlignValue.Center },\n                                width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                                height: { type: 'fixed', value: 50 },\n                            },\n                            {\n                                type: ComponentType.Image,\n                                action: { type: ActionType.Web, data: 'https://docs.sendbird.com' },\n                                width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                                height: { type: 'fixed', value: 50 },\n                                imageUrl: 'https://cdn.pixabay.com/photo/2022/10/12/10/45/bird-7516219_1280.jpg',\n                                imageStyle: { contentMode: MediaContentMode.AspectFill },\n                            },\n                        ],\n                    },\n                    {\n                        type: ComponentType.Box,\n                        width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        height: { type: 'fixed', value: 20 },\n                        viewStyle: { backgroundColor: '#ffe450' },\n                    },\n                    {\n                        type: ComponentType.Box,\n                        width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        height: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        viewStyle: { backgroundColor: '#329a1b' },\n                    },\n                ],\n            },\n            {\n                type: ComponentType.Box,\n                viewStyle: { padding: { top: 12, bottom: 12, left: 12, right: 12 } },\n                layout: Layout.Column,\n                items: [\n                    {\n                        type: ComponentType.Box,\n                        align: { horizontal: AlignValue.Left, vertical: AlignValue.Center },\n                        layout: Layout.Row,\n                        viewStyle: {\n                            borderWidth: 1,\n                            borderColor: '#72723f',\n                        },\n                        width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        height: { type: 'fixed', value: 150 },\n                        items: [\n                            {\n                                type: ComponentType.Text,\n                                width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                                height: { type: 'fixed', value: 50 },\n                                text: 'Sample1 text',\n                                maxTextLines: 1,\n                                align: { vertical: AlignValue.Center, horizontal: AlignValue.Left },\n                                viewStyle: {\n                                    backgroundColor: '#cc4400',\n                                },\n                                textStyle: {\n                                    size: 16,\n                                    color: '#f8f8f8',\n                                    weight: FontWeight.Bold,\n                                },\n                            },\n                            {\n                                type: ComponentType.ImageButton,\n                                action: { type: ActionType.UIKit, data: 'uikit://delete' },\n                                width: { type: 'fixed', value: 20 },\n                                height: { type: 'fixed', value: 20 },\n                                imageUrl: 'https://file-ap-1.sendbird.com/5b5379aa73fd460da22ffaf9a61d0d7f.png',\n                                imageStyle: { contentMode: MediaContentMode.AspectFit },\n                            },\n                        ],\n                    },\n                    {\n                        type: ComponentType.Text,\n                        viewStyle: { padding: { top: 6, bottom: 12, left: 0, right: 0 } },\n                        text: 'Esse eu esse duis ipsum et dolor eu ut sit amet consectetur cillum velit officia. Ex adipisicing elit quis ea sit. Occaecat in eu aliqua nulla magna id ut excepteur minim.',\n                        maxTextLines: 2,\n                        textStyle: { size: 14, color: '#e10000' },\n                        width: { type: 'fixed', value: 200 },\n                        height: { type: 'fixed', value: 50 },\n                    },\n                    {\n                        type: ComponentType.TextButton,\n                        action: { type: ActionType.Web, data: 'https://www.daum.net' },\n                        text: 'Button 3',\n                        textStyle: { size: 14, color: '#742ddd', weight: FontWeight.Bold },\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst sample_2 = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': ComponentType.Image,\n                'action': { 'type': ActionType.Web, 'data': 'https://www.naver.com/' },\n                'height': { 'type': 'fixed', 'value': 136 },\n                'imageUrl': 'https://cdn.pixabay.com/photo/2022/10/12/10/45/bird-7516219_1280.jpg',\n                'imageStyle': { 'contentMode': MediaContentMode.AspectFill },\n            },\n            {\n                'type': ComponentType.Box,\n                'viewStyle': { 'padding': { 'top': 12, 'bottom': 12, 'left': 12, 'right': 12 }, backgroundColor: '#cccccc' },\n                'layout': Layout.Column,\n                width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                'items': [\n                    {\n                        'type': ComponentType.Box,\n                        width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        'layout': Layout.Row,\n                        'items': [\n                            {\n                                'type': ComponentType.TextButton,\n                                'action': { 'type': ActionType.Web, 'data': 'https://www.daum.net' },\n                                width: { type: 'fixed', value: 150 },\n                                'viewStyle': { 'margin': { 'top': 0, 'bottom': 0, 'left': 0, 'right': 4 } },\n                                'text': 'Button 2',\n                                'textStyle': { 'size': 14, 'weight': FontWeight.Bold },\n                            },\n                            {\n                                'type': ComponentType.TextButton,\n                                'action': { 'type': ActionType.Web, 'data': 'https://www.daum.net' },\n                                width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                                'viewStyle': { 'margin': { 'top': 0, 'bottom': 0, 'left': 4, 'right': 0 } },\n                                'text': 'Button 3',\n                                'textStyle': { 'size': 14, 'weight': FontWeight.Bold },\n                            },\n                        ],\n                    },\n                    {\n                        'type': ComponentType.Box,\n                        width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        'layout': Layout.Row,\n                        'items': [\n                            {\n                                'type': ComponentType.Text,\n                                'text': 'Sample2 text',\n                                'width': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                                'maxTextLines': 1,\n                                'textStyle': { 'size': 16, 'weight': FontWeight.Bold },\n                            },\n                            {\n                                'type': ComponentType.ImageButton,\n                                'action': { 'type': ActionType.UIKit, 'data': 'uikit://delete' },\n                                'width': { 'type': 'fixed', 'value': 20 },\n                                'height': { 'type': 'fixed', 'value': 20 },\n                                'imageUrl': 'https://file-ap-1.sendbird.com/5b5379aa73fd460da22ffaf9a61d0d7f.png',\n                                'imageStyle': { 'contentMode': MediaContentMode.AspectFit },\n                            },\n                        ],\n                    },\n                    {\n                        'type': ComponentType.Text,\n                        'viewStyle': { 'padding': { 'top': 6, 'bottom': 12, 'left': 0, 'right': 0 } },\n                        'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                        'textStyle': { 'size': 14 },\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst sample_3 = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': ComponentType.Box,\n                'viewStyle': { 'backgroundColor': '#ffffff', 'borderWidth': 1, 'borderColor': '#eeeeee', 'radius': 16 },\n                'layout': Layout.Column,\n                'items': [\n                    {\n                        'type': ComponentType.Image,\n                        'height': { 'type': 'fixed', 'value': 200 },\n                        'imageUrl': 'https://img.freepik.com/free-vector/cartoon-happy-hours-background_52683-81243.jpg?w=2000&t=st=1666689198~exp=1666689798~hmac=23109d44ba03deee7aee069cbeebfcb48fa27f85e53c1cafc5d5d7345f1a2041',\n                        'imageStyle': { 'contentMode': MediaContentMode.AspectFill },\n                    },\n                    {\n                        'type': ComponentType.Box,\n                        'viewStyle': { 'padding': { 'top': 15, 'bottom': 15, 'left': 15, 'right': 15 } },\n                        'layout': Layout.Column,\n                        'items': [\n                            {\n                                'type': ComponentType.Text,\n                                'text': \"Don't miss these deals today\",\n                                'maxTextLines': 1,\n                                'textStyle': { 'size': 20, 'color': '#e10000', 'weight': FontWeight.Bold },\n                            },\n                            {\n                                'type': ComponentType.Text,\n                                'viewStyle': { 'margin': { 'top': 5, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                'text': 'Pay with Maya and get cashback!',\n                                'maxTextLines': 1,\n                                'textStyle': { 'size': 14, 'color': '#e10000' },\n                            },\n                            {\n                                'type': ComponentType.Box,\n                                'align': { 'horizontal': AlignValue.Left, 'vertical': AlignValue.Center },\n                                'viewStyle': { 'margin': { 'top': 10, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                'layout': Layout.Row,\n                                'items': [\n                                    {\n                                        'type': ComponentType.Image,\n                                        'width': { 'type': 'fixed', 'value': 50 },\n                                        'height': { 'type': 'fixed', 'value': 50 },\n                                        'viewStyle': {\n                                            'backgroundColor': '#ffffff',\n                                            'borderWidth': 1,\n                                            'borderColor': '#eeeeee',\n                                            'radius': 25,\n                                        },\n                                        'imageUrl': 'https://yt3.ggpht.com/ytc/AMLnZu8Kg89ymE7qt5bsS9vMqi9h2aHiN6m9ID-IgxR6-Q=s900-c-k-c0x00ffffff-no-rj',\n                                        'imageStyle': { 'contentMode': MediaContentMode.AspectFill },\n                                    },\n                                    {\n                                        'type': ComponentType.Box,\n                                        'align': { 'horizontal': AlignValue.Left, 'vertical': AlignValue.Center },\n                                        'viewStyle': { 'margin': { 'top': 0, 'bottom': 0, 'left': 15, 'right': 0 } },\n                                        'layout': Layout.Column,\n                                        'items': [\n                                            {\n                                                'type': ComponentType.Text,\n                                                'text': 'Meralco',\n                                                'maxTextLines': 1,\n                                                'textStyle': { 'size': 16, 'color': '#e10000', 'weight': FontWeight.Bold },\n                                            },\n                                            {\n                                                'type': ComponentType.Text,\n                                                'viewStyle': { 'margin': { 'top': 3, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                                'text': '30% cashback, P300 min spend',\n                                                'maxTextLines': 1,\n                                                'textStyle': { 'size': 12, 'color': '#610000', 'weight': FontWeight.Bold },\n                                            },\n                                        ],\n                                    },\n                                ],\n                            },\n                            {\n                                'type': ComponentType.Box,\n                                'align': { 'horizontal': AlignValue.Left, 'vertical': AlignValue.Center },\n                                'viewStyle': { 'margin': { 'top': 10, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                'layout': Layout.Row,\n                                'items': [\n                                    {\n                                        'type': ComponentType.Image,\n                                        'width': { 'type': 'fixed', 'value': 50 },\n                                        'height': { 'type': 'fixed', 'value': 50 },\n                                        'viewStyle': {\n                                            'backgroundColor': '#ffffff',\n                                            'borderWidth': 1,\n                                            'borderColor': '#eeeeee',\n                                            'radius': 25,\n                                        },\n                                        'imageUrl': 'https://1000logos.net/wp-content/uploads/2021/12/Globe-Telecom-logo.png',\n                                        'imageStyle': { 'contentMode': MediaContentMode.AspectFill, tintColor: '#a49a9a' },\n                                    },\n                                    {\n                                        'type': ComponentType.Box,\n                                        'align': { 'horizontal': AlignValue.Left, 'vertical': AlignValue.Center },\n                                        'viewStyle': { 'margin': { 'top': 0, 'bottom': 0, 'left': 15, 'right': 0 } },\n                                        'layout': Layout.Column,\n                                        'items': [\n                                            {\n                                                'type': ComponentType.Text,\n                                                'text': 'Globe',\n                                                'maxTextLines': 1,\n                                                'textStyle': { 'size': 16, 'color': '#e10000', 'weight': FontWeight.Bold },\n                                            },\n                                            {\n                                                'type': ComponentType.Text,\n                                                'viewStyle': { 'margin': { 'top': 3, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                                'text': '30% cashback, P300 min spend',\n                                                'maxTextLines': 1,\n                                                'textStyle': { 'size': 12, 'color': '#610000', 'weight': FontWeight.Bold },\n                                            },\n                                        ],\n                                    },\n                                ],\n                            },\n                            {\n                                'type': ComponentType.Box,\n                                'align': { 'horizontal': AlignValue.Left, 'vertical': AlignValue.Center },\n                                'viewStyle': { 'margin': { 'top': 10, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                'layout': Layout.Row,\n                                'items': [\n                                    {\n                                        'type': ComponentType.Image,\n                                        'width': { 'type': 'fixed', 'value': 50 },\n                                        'height': { 'type': 'fixed', 'value': 50 },\n                                        'viewStyle': {\n                                            'backgroundColor': '#ffffff',\n                                            'borderWidth': 1,\n                                            'borderColor': '#eeeeee',\n                                            'radius': 25,\n                                        },\n                                        'imageUrl': 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Cignal.svg/640px-Cignal.svg.png',\n                                        'imageStyle': { 'contentMode': MediaContentMode.AspectFill },\n                                    },\n                                    {\n                                        'type': ComponentType.Box,\n                                        'align': { 'horizontal': AlignValue.Left, 'vertical': AlignValue.Center },\n                                        'viewStyle': { 'margin': { 'top': 0, 'bottom': 0, 'left': 15, 'right': 0 } },\n                                        'layout': Layout.Column,\n                                        'items': [\n                                            {\n                                                'type': ComponentType.Text,\n                                                'text': 'Cignal',\n                                                'maxTextLines': 1,\n                                                'textStyle': { 'size': 16, 'color': '#e10000', 'weight': FontWeight.Bold },\n                                            },\n                                            {\n                                                'type': ComponentType.Text,\n                                                'viewStyle': { 'margin': { 'top': 3, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                                'text': '30% cashback, P300 min spend',\n                                                'maxTextLines': 1,\n                                                'textStyle': { 'size': 12, 'color': '#610000', 'weight': FontWeight.Bold },\n                                            },\n                                        ],\n                                    },\n                                ],\n                            },\n                            {\n                                'type': ComponentType.Box,\n                                'align': { 'horizontal': AlignValue.Left, 'vertical': AlignValue.Center },\n                                'viewStyle': { 'margin': { 'top': 10, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                'layout': Layout.Row,\n                                'items': [\n                                    {\n                                        'type': ComponentType.TextButton,\n                                        'action': { 'type': ActionType.Web, 'data': 'https://www.daum.net' },\n                                        'viewStyle': {\n                                            'backgroundColor': '#e0e0e0',\n                                            'radius': 16,\n                                            'margin': { 'top': 0, 'bottom': 0, 'left': 0, 'right': 4 },\n                                            'padding': { 'top': 12, 'bottom': 12, 'left': 12, 'right': 12 },\n                                        },\n                                        'text': 'Learn more',\n                                        'textStyle': { 'size': 15, 'color': '#e10000', 'weight': FontWeight.Bold },\n                                    },\n                                    {\n                                        'type': ComponentType.TextButton,\n                                        'action': { 'type': ActionType.Web, 'data': 'https://www.daum.net' },\n                                        'viewStyle': {\n                                            'backgroundColor': '#e10000',\n                                            'radius': 16,\n                                            'margin': { 'top': 0, 'bottom': 0, 'left': 4, 'right': 0 },\n                                            'padding': { 'top': 12, 'bottom': 12, 'left': 12, 'right': 12 },\n                                        },\n                                        'text': 'Pay now',\n                                        'textStyle': { 'size': 15, 'color': '#ffffff', 'weight': FontWeight.Bold },\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst sample_4 = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': ComponentType.Box,\n                'layout': Layout.Column,\n                'items': [\n                    {\n                        'type': ComponentType.Image,\n                        'imageUrl': 'https://static.sendbird.com/sample/profiles/profile_40_512px.png',\n                        'metaData': {\n                            'pixelWidth': 512,\n                            'pixelHeight': 512,\n                        },\n                        'imageStyle': {\n                            'tintColor': '#44ff1188',\n                        },\n                        viewStyle: {\n                            'padding': {\n                                'top': 12,\n                                'right': 12,\n                                'bottom': 12,\n                                'left': 12,\n                            },\n                        },\n                    },\n                    {\n                        'type': ComponentType.Box,\n                        'viewStyle': {\n                            'padding': {\n                                'top': 12,\n                                'right': 12,\n                                'bottom': 12,\n                                'left': 12,\n                            },\n                        },\n                        'layout': Layout.Column,\n                        'items': [\n                            {\n                                'type': ComponentType.Box,\n                                'layout': Layout.Row,\n                                'items': [\n                                    {\n                                        'type': ComponentType.Box,\n                                        'layout': Layout.Column,\n                                        'items': [\n                                            {\n                                                'type': ComponentType.Text,\n                                                'text': 'hi',\n                                                'maxTextLines': 3,\n                                                'viewStyle': {\n                                                    'padding': {\n                                                        'top': 0,\n                                                        'bottom': 6,\n                                                        'left': 0,\n                                                        'right': 0,\n                                                    },\n                                                },\n                                                'textStyle': {\n                                                    'size': 16,\n                                                    'weight': FontWeight.Bold,\n                                                },\n                                            },\n                                            {\n                                                'type': ComponentType.Text,\n                                                'text': 'bye',\n                                                'maxTextLines': 10,\n                                                'textStyle': {\n                                                    'size': 14,\n                                                },\n                                            },\n                                        ],\n                                    },\n                                    {\n                                        'type': ComponentType.ImageButton,\n                                        'action': {\n                                            'type': ActionType.UIKit,\n                                            'data': 'sendbirduikit://delete',\n                                        },\n                                        'width': {\n                                            'type': 'fixed',\n                                            'value': 20,\n                                        },\n                                        'height': {\n                                            'type': 'fixed',\n                                            'value': 20,\n                                        },\n                                        'metaData': {\n                                            'pixelWidth': 60,\n                                            'pixelHeight': 60,\n                                        },\n                                        'imageUrl': 'https://dxstmhyqfqr1o.cloudfront.net/sendbird-message-builder/icon-more.png',\n                                        'imageStyle': {\n                                            'tintColor': '#ff8d5a',\n                                        },\n                                    },\n                                ],\n                            },\n                            {\n                                'type': ComponentType.Box,\n                                'layout': Layout.Column,\n                                'items': [\n                                    {\n                                        'type': ComponentType.Box,\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': 16,\n                                                'bottom': 0,\n                                                'left': 0,\n                                                'right': 0,\n                                            },\n                                        },\n                                        'align': {\n                                            'horizontal': AlignValue.Left,\n                                            'vertical': AlignValue.Center,\n                                        },\n                                        'layout': Layout.Row,\n                                        'items': [\n                                            {\n                                                'type': ComponentType.Image,\n                                                'imageUrl': 'https://ca.slack-edge.com/T0ADCTNEL-ULE240VNV-83fd5776e78e-512',\n                                                'width': {\n                                                    'type': 'fixed',\n                                                    'value': 40,\n                                                },\n                                                'height': {\n                                                    'type': 'fixed',\n                                                    'value': 40,\n                                                },\n                                                'metaData': {\n                                                    'pixelWidth': 512,\n                                                    'pixelHeight': 512,\n                                                },\n                                                'viewStyle': {\n                                                    'backgroundColor': '#BDBDBD',\n                                                    'radius': 20,\n                                                },\n                                                'imageStyle': {\n                                                    'contentMode': MediaContentMode.AspectFill,\n                                                },\n                                            },\n                                            {\n                                                'type': ComponentType.Box,\n                                                'viewStyle': {\n                                                    'margin': {\n                                                        'top': 0,\n                                                        'bottom': 0,\n                                                        'left': 12,\n                                                        'right': 0,\n                                                    },\n                                                },\n                                                'layout': Layout.Column,\n                                                'items': [\n                                                    {\n                                                        'type': ComponentType.Text,\n                                                        'text': 'Chongbu',\n                                                        'maxTextLines': 1,\n                                                        'textStyle': {\n                                                            'size': 16,\n                                                            'weight': FontWeight.Bold,\n                                                        },\n                                                    },\n                                                    {\n                                                        'type': ComponentType.Text,\n                                                        'viewStyle': {\n                                                            'margin': {\n                                                                'top': 4,\n                                                                'bottom': 0,\n                                                                'left': 0,\n                                                                'right': 0,\n                                                            },\n                                                        },\n                                                        'text': ' ',\n                                                        'maxTextLines': 1,\n                                                        'textStyle': {\n                                                            'size': 14,\n                                                        },\n                                                    },\n                                                ],\n                                            },\n                                        ],\n                                    },\n                                    {\n                                        'type': ComponentType.Box,\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': 16,\n                                                'bottom': 0,\n                                                'left': 0,\n                                                'right': 0,\n                                            },\n                                        },\n                                        'align': {\n                                            'horizontal': AlignValue.Left,\n                                            'vertical': AlignValue.Center,\n                                        },\n                                        'layout': Layout.Row,\n                                        'items': [\n                                            {\n                                                'type': ComponentType.Image,\n                                                'imageUrl': 'https://ca.slack-edge.com/T0ADCTNEL-U02LA25KY8J-d41a3e8c7554-512',\n                                                'width': {\n                                                    'type': 'fixed',\n                                                    'value': 40,\n                                                },\n                                                'height': {\n                                                    'type': 'fixed',\n                                                    'value': 40,\n                                                },\n                                                'metaData': {\n                                                    'pixelWidth': 512,\n                                                    'pixelHeight': 512,\n                                                },\n                                                'viewStyle': {\n                                                    'backgroundColor': '#BDBDBD',\n                                                    'radius': 20,\n                                                },\n                                                'imageStyle': {\n                                                    'contentMode': MediaContentMode.AspectFill,\n                                                },\n                                            },\n                                            {\n                                                'type': ComponentType.Box,\n                                                'viewStyle': {\n                                                    'margin': {\n                                                        'top': 0,\n                                                        'bottom': 0,\n                                                        'left': 12,\n                                                        'right': 0,\n                                                    },\n                                                },\n                                                'layout': Layout.Column,\n                                                'items': [\n                                                    {\n                                                        'type': ComponentType.Text,\n                                                        'text': 'Amanda',\n                                                        'maxTextLines': 1,\n                                                        'textStyle': {\n                                                            'size': 16,\n                                                            'weight': FontWeight.Bold,\n                                                        },\n                                                    },\n                                                    {\n                                                        'type': ComponentType.Text,\n                                                        'viewStyle': {\n                                                            'margin': {\n                                                                'top': 4,\n                                                                'bottom': 0,\n                                                                'left': 0,\n                                                                'right': 0,\n                                                            },\n                                                        },\n                                                        'text': 'This is title message',\n                                                        'maxTextLines': 1,\n                                                        'textStyle': {\n                                                            'size': 14,\n                                                        },\n                                                    },\n                                                ],\n                                            },\n                                        ],\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst sample_5 = {\n    'version': '1',\n    'body': {\n        'items': [\n            {\n                'type': 'box',\n                'layout': 'column',\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'items': [\n                            {\n                                'type': 'image',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'fixed', 'value': '250' },\n                                'imageUrl': 'https://dxstmhyqfqr1o.cloudfront.net/notifications/notifications-default-image.png',\n                                'imageStyle': { 'contentMode': 'aspectFill' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'column',\n                                'viewStyle': {\n                                    'radius': '8',\n                                    'padding': {\n                                        'top': '12',\n                                        'bottom': '12',\n                                        'left': '12',\n                                        'right': '12',\n                                    },\n                                },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': '8',\n                                                'right': '0',\n                                                'bottom': '0',\n                                                'left': '0',\n                                            },\n                                        },\n                                        'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor',\n                                        'textStyle': {\n                                            'color': '#ff8888',\n                                            'size': '14',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'height': { 'type': 'fixed', 'value': '300' },\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                    },\n                                    {\n                                        'type': 'box',\n                                        'layout': 'column',\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': '12',\n                                                'right': '0',\n                                                'bottom': '0',\n                                                'left': '0',\n                                            },\n                                        },\n                                        'items': [\n                                            {\n                                                'type': 'box',\n                                                'layout': 'row',\n                                                'items': [\n                                                    {\n                                                        'type': 'imageButton',\n                                                        'viewStyle': { 'radius': '100' },\n                                                        'width': { 'type': 'fixed', 'value': 40 },\n                                                        'height': { 'type': 'fixed', 'value': 40 },\n                                                        'imageUrl': 'https://dxstmhyqfqr1o.cloudfront.net/notifications/default-notification-channel-cover.png',\n                                                        'imageStyle': { 'contentMode': 'aspectFill' },\n                                                        'metaData': {\n                                                            'pixelWidth': '240',\n                                                            'pixelHeight': '240',\n                                                        },\n                                                    },\n                                                    {\n                                                        'type': 'box',\n                                                        'layout': 'column',\n                                                        'viewStyle': {\n                                                            'margin': {\n                                                                'left': '12',\n                                                                'top': '0',\n                                                                'right': '0',\n                                                                'bottom': '0',\n                                                            },\n                                                        },\n                                                        'items': [\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List title',\n                                                                'textStyle': {\n                                                                    'color': '{SBCOLOR_nppqb}',\n                                                                    'size': '16',\n                                                                    'weight': 'bold',\n                                                                },\n                                                                'maxTextLines': '5',\n                                                            },\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List body',\n                                                                'textStyle': {\n                                                                    'color': '{SBCOLOR_ls5oj}',\n                                                                    'size': '14',\n                                                                    'weight': 'normal',\n                                                                },\n                                                                'maxTextLines': '5',\n                                                            },\n                                                        ],\n                                                    },\n                                                ],\n                                            },\n                                        ],\n                                    },\n                                    {\n                                        'type': 'box',\n                                        'layout': 'row',\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': '12',\n                                                'right': '0',\n                                                'bottom': '0',\n                                                'left': '0',\n                                            },\n                                        },\n                                        'items': [\n                                            {\n                                                'type': 'textButton',\n                                                'viewStyle': {\n                                                    'backgroundColor': '{SBCOLOR_vmp47}',\n                                                    'padding': {\n                                                        'top': '10',\n                                                        'bottom': '10',\n                                                        'left': '20',\n                                                        'right': '20',\n                                                    },\n                                                },\n                                                'text': 'Button 1',\n                                                'textStyle': {\n                                                    'color': '{SBCOLOR_0r9vw}',\n                                                    'size': '14',\n                                                    'weight': 'bold',\n                                                },\n                                                'maxTextLines': '5',\n                                            },\n                                            {\n                                                'type': 'textButton',\n                                                'viewStyle': {\n                                                    'backgroundColor': '{SBCOLOR_vmp47}',\n                                                    'padding': {\n                                                        'top': '10',\n                                                        'bottom': '10',\n                                                        'left': '20',\n                                                        'right': '20',\n                                                    },\n                                                    'margin': {\n                                                        'left': '8',\n                                                        'right': '0',\n                                                        'top': '0',\n                                                        'bottom': '0',\n                                                    },\n                                                },\n                                                'text': 'Button 2',\n                                                'textStyle': {\n                                                    'color': '{SBCOLOR_0r9vw}',\n                                                    'size': '14',\n                                                    'weight': 'bold',\n                                                },\n                                                'maxTextLines': '5',\n                                            },\n                                        ],\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst sample_6 = {\n    'version': '1',\n    'body': {\n        'items': [\n            {\n                'type': 'box',\n                'layout': 'column',\n                height: { type: 'fixed', value: 600 },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'viewStyle': { 'radius': '8', 'padding': { 'top': '12', 'bottom': '12', 'left': '12', 'right': '12' } },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'text': 'Title text',\n                                'textStyle': { 'color': '#E0000000', 'size': '16', 'weight': 'bold' },\n                                'maxTextLines': '5',\n                                'viewStyle': {},\n                                'action': { 'data': 'www.naver.com' },\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': { 'margin': { 'top': '8', 'right': '0', 'bottom': '0', 'left': '0' } },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': { 'color': '#E0000000', 'size': '14', 'weight': 'normal' },\n                                'maxTextLines': '5',\n                                'action': { 'data': 'https://www.naver.com' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'viewStyle': { 'margin': { 'top': '12', 'right': '0', 'bottom': '0', 'left': '0' } },\n                                'items': [\n                                    {\n                                        'type': 'textButton',\n                                        'viewStyle': {\n                                            'backgroundColor': '#E0E0E0',\n                                            'padding': { 'top': '10', 'bottom': '10', 'left': '20', 'right': '20' },\n                                        },\n                                        'text': 'Button 1',\n                                        'textStyle': { 'color': '#742DDD', 'size': '14', 'weight': 'bold' },\n                                        'maxTextLines': '5',\n                                        'action': { 'data': 'www.naver.com' },\n                                    },\n                                    {\n                                        'type': 'textButton',\n                                        'viewStyle': {\n                                            'backgroundColor': '#E0E0E0',\n                                            'padding': { 'top': '10', 'bottom': '10', 'left': '20', 'right': '20' },\n                                            'margin': { 'left': '8', 'right': '0', 'top': '0', 'bottom': '0' },\n                                        },\n                                        'text': 'Button 2',\n                                        'textStyle': { 'color': '#742DDD', 'size': '14', 'weight': 'bold' },\n                                        'maxTextLines': '5',\n                                        'action': { 'data': 'https://www.naver.com' },\n                                    },\n                                ],\n                            },\n                        ],\n                        'action': { 'data': 'https://www.naver.com' },\n                    },\n                    {\n                        'type': 'image',\n                        'viewStyle': {},\n                        'width': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                        'height': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                        'imageStyle': { 'contentMode': 'aspectFill' },\n                        'imageUrl': 'https://file-preprod.sendbird.com/d03c08bb3f9041a88c1207b6bbf15ab8.png',\n                        'metaData': { 'pixelWidth': '1062', 'pixelHeight': '1070' },\n                    },\n                    {\n                        'type': 'textButton',\n                        'viewStyle': {\n                            'backgroundColor': '#E0E0E0',\n                            'padding': { 'top': '10', 'bottom': '10', 'left': '20', 'right': '20' },\n                        },\n                        'width': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                        'height': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                        'text': 'Button',\n                        'textStyle': { 'color': '#742DDD', 'size': '16', 'weight': 'normal' },\n                        'maxTextLines': '5',\n                        'action': { 'data': 'www.naver.com' },\n                    },\n                    {\n                        'type': 'imageButton',\n                        'viewStyle': {},\n                        'width': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                        'height': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                        'imageUrl': 'https://file-preprod.sendbird.com/38fdf5c1056f42b89a44b38155cc4b49.jpg',\n                        'imageStyle': { 'contentMode': 'aspectFill' },\n                        'metaData': { 'pixelWidth': '1080', 'pixelHeight': '2640' },\n                        'action': { 'data': 'www.naver.com' },\n                    },\n                ],\n                'viewStyle': {},\n            },\n        ],\n    },\n};\nconst sample_for_inset_border = {\n    'version': '1',\n    'body': {\n        'items': [\n            {\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': '0',\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': '1',\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'borderWidth': '10',\n                            'borderColor': '#0e0101ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': '0',\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': '1',\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f9dadaff',\n                                    'borderColor': '#fb7373ff',\n                                    'borderWidth': '5',\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': '14',\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': '5',\n                                'width': {\n                                    'type': 'flex',\n                                    'value': '0',\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': '1',\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#bbd1f5ff',\n                                    'borderColor': '#0497f9ff',\n                                    'borderWidth': '10',\n                                    'padding': {\n                                        'top': '16',\n                                        'bottom': '16',\n                                        'left': '16',\n                                        'right': '16',\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': '14',\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': '5',\n                                'width': {\n                                    'type': 'flex',\n                                    'value': '0',\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': '1',\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'borderWidth': '10',\n                            'borderColor': '#298e04ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': '0',\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': '1',\n                        },\n                        'items': [\n                            {\n                                'type': 'textButton',\n                                'viewStyle': {\n                                    'backgroundColor': '#a6b7ebff',\n                                    'borderColor': '#0f0ff9ff',\n                                    'borderWidth': '5',\n                                    'radius': '6',\n                                },\n                                'text': 'Button',\n                                'textStyle': {\n                                    'size': '14',\n                                    'color': '#ffffffff',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '1',\n                                'width': {\n                                    'type': 'flex',\n                                    'value': '0',\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': '1',\n                                },\n                            },\n                            {\n                                'type': 'imageButton',\n                                'viewStyle': {\n                                    'backgroundColor': '#000000ff',\n                                    'borderColor': '#ff00b9ff',\n                                    'borderWidth': '5',\n                                },\n                                'imageUrl': 'https://ddtyj01cn62am.cloudfront.net/notifications/img-component-default-imgbutton.png',\n                                'imageStyle': {\n                                    'contentMode': 'aspectFill',\n                                    'tintColor': '#ffffffff',\n                                },\n                                'metaData': {\n                                    'pixelWidth': '72',\n                                    'pixelHeight': '72',\n                                },\n                                'width': {\n                                    'type': 'fixed',\n                                    'value': '36',\n                                },\n                                'height': {\n                                    'type': 'fixed',\n                                    'value': '36',\n                                },\n                            },\n                            {\n                                'type': 'image',\n                                'viewStyle': {\n                                    'backgroundColor': '#828282ff',\n                                    'borderColor': '#fe0000ff',\n                                    'borderWidth': '10',\n                                    'radius': '20',\n                                },\n                                'imageUrl': 'https://file-preprod.sendbird.com/99c1ceafd8304076a7123caeea9aeb9a.png',\n                                'imageStyle': {\n                                    'contentMode': 'aspectFill',\n                                },\n                                'width': {\n                                    'type': 'fixed',\n                                    'value': '50',\n                                },\n                                'height': {\n                                    'type': 'fixed',\n                                    'value': '50',\n                                },\n                                'metaData': {\n                                    'pixelHeight': '225',\n                                    'pixelWidth': '225',\n                                },\n                            },\n                        ],\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst sample_clipped_text__large_padding = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': 'text',\n                'height': {\n                    'type': 'fixed',\n                    'value': 120,\n                },\n                'width': {\n                    'type': 'fixed',\n                    'value': 150,\n                },\n                'maxTextLines': 2,\n                'viewStyle': {\n                    'padding': {\n                        'left': 50,\n                        'right': 50,\n                        'top': 50,\n                        'bottom': 50,\n                    },\n                    borderWidth: 1,\n                    borderColor: '#72723f',\n                },\n                'text': 'longtext long long longtext',\n            },\n        ],\n    },\n};\nconst sample_for_priority_by_size_spec = {\n    'version': '1',\n    'body': {\n        'items': [\n            {\n                'type': 'box',\n                'layout': 'column',\n                'width': { 'type': 'flex', 'value': '0' },\n                'height': { 'type': 'flex', 'value': '1' },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Fixed(short) / Wrap / Fill',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'text': 'FixedFixedFixedFixedFixedFixedFixedFixed',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'fixed', 'value': '30' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': 'WrapWrapWrapWrapWrapWrapWrapWrapWrapWrapWrapWrap',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '1' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#050505',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': 'FillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFill',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#0c0c0c',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                ],\n                                'viewStyle': { 'borderColor': '#0a0a0a' },\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Fixed / Wrap(short) / Wrap(long)',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '2',\n                                                'bottom': '2',\n                                                'left': '2',\n                                                'right': '2',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'FixedFixedFixedFixedFixedFixedFixedFixedFixedFixedFixedFixedFixedFixed',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'fixed', 'value': '100' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                    {\n                                        'type': 'box',\n                                        'layout': 'row',\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'items': [\n                                            {\n                                                'type': 'text',\n                                                'text': 'WrapWrapWrapWrapWrapWrapWrapWrapWrapWrapWrapWrapWrapWrapWrap',\n                                                'textStyle': {\n                                                    'size': '14',\n                                                    'color': '#000000',\n                                                    'weight': 'normal',\n                                                },\n                                                'maxTextLines': '5',\n                                                'width': { 'type': 'flex', 'value': '1' },\n                                                'height': { 'type': 'flex', 'value': '1' },\n                                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                            },\n                                            {\n                                                'type': 'text',\n                                                'text': 'FixedFixedFixedFixedFixedFixedFixedFixedFixedFixedFixedFixedFixed',\n                                                'textStyle': {\n                                                    'size': '14',\n                                                    'color': '#000000',\n                                                    'weight': 'normal',\n                                                },\n                                                'maxTextLines': '5',\n                                                'width': { 'type': 'fixed', 'value': '100' },\n                                                'height': { 'type': 'flex', 'value': '1' },\n                                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                            },\n                                        ],\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Wrap / Fixed / Fill / Fill',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'text': 'wrap',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '1' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                    {\n                                        'type': 'box',\n                                        'layout': 'row',\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'items': [\n                                            {\n                                                'type': 'text',\n                                                'text': 'FillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFill',\n                                                'textStyle': {\n                                                    'size': '14',\n                                                    'color': '#000000',\n                                                    'weight': 'normal',\n                                                },\n                                                'maxTextLines': '5',\n                                                'width': { 'type': 'flex', 'value': '0' },\n                                                'height': { 'type': 'flex', 'value': '1' },\n                                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                            },\n                                            {\n                                                'type': 'text',\n                                                'text': 'WrapWrapWrapWrapWrapWrapWrapWrapWrapWrap',\n                                                'textStyle': {\n                                                    'size': '14',\n                                                    'color': '#000000',\n                                                    'weight': 'normal',\n                                                },\n                                                'maxTextLines': '5',\n                                                'width': { 'type': 'flex', 'value': '1' },\n                                                'height': { 'type': 'flex', 'value': '1' },\n                                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                            },\n                                        ],\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Fill / Wrap(short) / Fixed',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'text': 'FillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFill',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': 'Wrap',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '1' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': 'Fixed',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'fixed', 'value': '100' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Fill Fill Fixed',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'text': 'FillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFill',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': 'FillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFill',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': 'Fixed Fixed Fixed Fixed Fixed Fixed Fixed ',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'fixed', 'value': '100' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Wrap(short) / Fill',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'appId-appId',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '1' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'text content text content text content text content text content text content ',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Fill / Wrap(short)',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'text content text content text content text content text content text content ',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'appId-appId',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '1' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Wrap(long) / Fill',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap ',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '1' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'viewStyle': {\n                            'margin': {\n                                'top': '0',\n                                'bottom': '100',\n                                'left': '0',\n                                'right': '0',\n                            },\n                        },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Fill / Wrap(long)',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap ',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '1' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_wrap_wrap = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#ffa0a0ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap Wrap ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '7ddcc4dc-465d-416f-adfa-fcb22262defe',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0ffacff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'ddc05097-0130-41b9-b32b-ea4d19fe1b17',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_wrap_wrap_wrap = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#ffa0a0ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '7ddcc4dc-465d-416f-adfa-fcb22262defe',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0ffacff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap2 Wrap2',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'ddc05097-0130-41b9-b32b-ea4d19fe1b17',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0a1ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap3 Wrap3 Wrap3 Wrap3 Wrap3 Wrap3 Wrap3 Wrap3 Wrap3 Wrap3 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '8d7ba180-f065-4037-beb1-dd3797729bf2',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#adffa0ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '7ddcc4dc-465d-416f-adfa-fcb22262defe',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_fill_wrap = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#b1f5a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'eccfb704-69bd-4c41-9730-befcab670e9d',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0c0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap_fill_wrap = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0c0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#b1f5a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'eccfb704-69bd-4c41-9730-befcab670e9d',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#daa0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap2',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '69a40de4-1aa1-4028-ba85-030517c9faf3',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap_fill_wrap_long = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0c0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#b1f5a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'eccfb704-69bd-4c41-9730-befcab670e9d',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#daa0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap2 Wrap2 Wrap2 Wrap2 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '69a40de4-1aa1-4028-ba85-030517c9faf3',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap_fill_wrap_longer = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0c0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#b1f5a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'eccfb704-69bd-4c41-9730-befcab670e9d',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#daa0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 Wrap2',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '69a40de4-1aa1-4028-ba85-030517c9faf3',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap_fill_wrap_super_long = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0c0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#b1f5a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'eccfb704-69bd-4c41-9730-befcab670e9d',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#daa0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '69a40de4-1aa1-4028-ba85-030517c9faf3',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap_remain_padding = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0c0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap_no_padding = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0c0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst vertical_fill_wrap_wrap_remain_padding = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'fixed',\n                            'value': 200,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#ff9191ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'ac074f97-a136-43c0-a7c2-9be937730c39',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#91ffa6ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'fcae6d34-7526-45b4-a4c7-1111814e62e1',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a891ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '00162fc8-22dc-46dc-872b-ba9590474f98',\n                            },\n                        ],\n                        'elementId': '0e42079b-b373-496f-862b-8799ad34c599',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst vertical_fill_wrap_wrap_no_padding = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'fixed',\n                            'value': 170,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#ff9191ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'ac074f97-a136-43c0-a7c2-9be937730c39',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#91ffa6ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'fcae6d34-7526-45b4-a4c7-1111814e62e1',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a891ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '00162fc8-22dc-46dc-872b-ba9590474f98',\n                            },\n                        ],\n                        'elementId': '0e42079b-b373-496f-862b-8799ad34c599',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap_wrap_long_content = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#ff9191ff',\n                                    'radius': 1,\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'ac074f97-a136-43c0-a7c2-9be937730c39',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#91ffa6ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'fcae6d34-7526-45b4-a4c7-1111814e62e1',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a891ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '00162fc8-22dc-46dc-872b-ba9590474f98',\n                            },\n                        ],\n                        'elementId': '0e42079b-b373-496f-862b-8799ad34c599',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst dashboard_preset_list = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'items': [\n                            {\n                                'type': 'image',\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'imageUrl': 'https://ddtyj01cn62am.cloudfront.net/notifications/img-template-preset-default-image.png',\n                                'imageStyle': {\n                                    'contentMode': 'aspectFill',\n                                },\n                                'metaData': {\n                                    'pixelWidth': 686,\n                                    'pixelHeight': 320,\n                                },\n                                'elementId': '0f3d6ba4-715a-44d2-b776-5bdd1aed8bc5',\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'column',\n                                'viewStyle': {\n                                    'radius': 8,\n                                    'padding': {\n                                        'top': 12,\n                                        'bottom': 12,\n                                        'left': 12,\n                                        'right': 12,\n                                    },\n                                },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'text': 'Title text',\n                                        'textStyle': {\n                                            'color': '#222121e0',\n                                            'size': 16,\n                                            'weight': 'bold',\n                                        },\n                                        'maxTextLines': 5,\n                                        'height': {\n                                            'type': 'flex',\n                                            'value': 1,\n                                        },\n                                        'width': {\n                                            'type': 'flex',\n                                            'value': 0,\n                                        },\n                                        'elementId': '010811be-7c65-4aa8-8f8e-62c8398562b0',\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': 8,\n                                                'right': 0,\n                                                'bottom': 0,\n                                                'left': 0,\n                                            },\n                                        },\n                                        'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor',\n                                        'textStyle': {\n                                            'color': '#222121e0',\n                                            'size': 14,\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': 5,\n                                        'height': {\n                                            'type': 'flex',\n                                            'value': 1,\n                                        },\n                                        'width': {\n                                            'type': 'flex',\n                                            'value': 0,\n                                        },\n                                        'elementId': '00aca18f-3cdf-404d-9e01-9a99f59fb8ae',\n                                    },\n                                    {\n                                        'type': 'box',\n                                        'layout': 'column',\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': 12,\n                                                'right': 0,\n                                                'bottom': 0,\n                                                'left': 0,\n                                            },\n                                            'padding': {\n                                                'top': 4,\n                                                'right': 0,\n                                                'bottom': 4,\n                                                'left': 0,\n                                            },\n                                        },\n                                        'items': [\n                                            {\n                                                'type': 'box',\n                                                'layout': 'row',\n                                                'items': [\n                                                    {\n                                                        'type': 'imageButton',\n                                                        'viewStyle': {\n                                                            'radius': 100,\n                                                            'backgroundColor': '#5a73baff',\n                                                        },\n                                                        'width': {\n                                                            'type': 'fixed',\n                                                            'value': 40,\n                                                        },\n                                                        'height': {\n                                                            'type': 'fixed',\n                                                            'value': 40,\n                                                        },\n                                                        'imageUrl': 'https://ddtyj01cn62am.cloudfront.net/notifications/default-notification-channel-cover.png',\n                                                        'imageStyle': {\n                                                            'contentMode': 'aspectFill',\n                                                            'tintColor': '#ffffffff',\n                                                        },\n                                                        'elementId': '35a315e9-1f61-4a72-b7c9-ce34a0543343',\n                                                    },\n                                                    {\n                                                        'type': 'box',\n                                                        'layout': 'column',\n                                                        'viewStyle': {\n                                                            'margin': {\n                                                                'left': 12,\n                                                                'top': 0,\n                                                                'right': 0,\n                                                                'bottom': 0,\n                                                            },\n                                                        },\n                                                        'items': [\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List title',\n                                                                'textStyle': {\n                                                                    'color': '#222121e0',\n                                                                    'size': 16,\n                                                                    'weight': 'bold',\n                                                                },\n                                                                'maxTextLines': 5,\n                                                                'height': {\n                                                                    'type': 'flex',\n                                                                    'value': 1,\n                                                                },\n                                                                'width': {\n                                                                    'type': 'flex',\n                                                                    'value': 0,\n                                                                },\n                                                                'elementId': 'ef3c83b2-9149-46c1-a22d-beb878cf937a',\n                                                            },\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List body',\n                                                                'textStyle': {\n                                                                    'color': '#222121e0',\n                                                                    'size': 14,\n                                                                    'weight': 'normal',\n                                                                },\n                                                                'maxTextLines': 5,\n                                                                'height': {\n                                                                    'type': 'flex',\n                                                                    'value': 1,\n                                                                },\n                                                                'width': {\n                                                                    'type': 'flex',\n                                                                    'value': 0,\n                                                                },\n                                                                'elementId': 'a92ae89d-0726-46b5-b575-2db578b3d954',\n                                                            },\n                                                        ],\n                                                        'height': {\n                                                            'type': 'flex',\n                                                            'value': 1,\n                                                        },\n                                                        'width': {\n                                                            'type': 'flex',\n                                                            'value': 0,\n                                                        },\n                                                        'elementId': 'ffb50576-f050-4a36-b64f-64864bb04734',\n                                                    },\n                                                ],\n                                                'height': {\n                                                    'type': 'flex',\n                                                    'value': 1,\n                                                },\n                                                'width': {\n                                                    'type': 'flex',\n                                                    'value': 0,\n                                                },\n                                                'elementId': 'a9d30083-5b00-4ec6-bf2b-0b03c03b1632',\n                                            },\n                                            {\n                                                'type': 'box',\n                                                'layout': 'row',\n                                                'viewStyle': {\n                                                    'margin': {\n                                                        'top': 16,\n                                                        'right': 0,\n                                                        'bottom': 0,\n                                                        'left': 0,\n                                                    },\n                                                },\n                                                'items': [\n                                                    {\n                                                        'type': 'imageButton',\n                                                        'viewStyle': {\n                                                            'radius': 100,\n                                                            'backgroundColor': '#5a73baff',\n                                                        },\n                                                        'width': {\n                                                            'type': 'fixed',\n                                                            'value': 40,\n                                                        },\n                                                        'height': {\n                                                            'type': 'fixed',\n                                                            'value': 40,\n                                                        },\n                                                        'imageUrl': 'https://ddtyj01cn62am.cloudfront.net/notifications/default-notification-channel-cover.png',\n                                                        'imageStyle': {\n                                                            'contentMode': 'aspectFill',\n                                                            'tintColor': '#ffffffff',\n                                                        },\n                                                        'elementId': '61fefa7c-0a03-4c92-9b26-2f7620982e46',\n                                                    },\n                                                    {\n                                                        'type': 'box',\n                                                        'layout': 'column',\n                                                        'viewStyle': {\n                                                            'margin': {\n                                                                'left': 12,\n                                                                'top': 0,\n                                                                'right': 0,\n                                                                'bottom': 0,\n                                                            },\n                                                        },\n                                                        'items': [\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List title',\n                                                                'textStyle': {\n                                                                    'color': '#222121e0',\n                                                                    'size': 16,\n                                                                    'weight': 'bold',\n                                                                },\n                                                                'maxTextLines': 5,\n                                                                'height': {\n                                                                    'type': 'flex',\n                                                                    'value': 1,\n                                                                },\n                                                                'width': {\n                                                                    'type': 'flex',\n                                                                    'value': 0,\n                                                                },\n                                                                'elementId': 'cb2dfa91-3076-406d-b0e9-3bfab75c91a1',\n                                                            },\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List body',\n                                                                'textStyle': {\n                                                                    'color': '#222121e0',\n                                                                    'size': 14,\n                                                                    'weight': 'normal',\n                                                                },\n                                                                'maxTextLines': 5,\n                                                                'height': {\n                                                                    'type': 'flex',\n                                                                    'value': 1,\n                                                                },\n                                                                'width': {\n                                                                    'type': 'flex',\n                                                                    'value': 0,\n                                                                },\n                                                                'elementId': '88bb07e0-8226-4e03-b2a1-d8796a8d558e',\n                                                            },\n                                                        ],\n                                                        'height': {\n                                                            'type': 'flex',\n                                                            'value': 1,\n                                                        },\n                                                        'width': {\n                                                            'type': 'flex',\n                                                            'value': 0,\n                                                        },\n                                                        'elementId': '169ca327-1784-4ae4-bb1c-52963268a1de',\n                                                    },\n                                                ],\n                                                'height': {\n                                                    'type': 'flex',\n                                                    'value': 1,\n                                                },\n                                                'width': {\n                                                    'type': 'flex',\n                                                    'value': 0,\n                                                },\n                                                'elementId': '732ae02b-adff-46d2-b011-f94a2d93b4ba',\n                                            },\n                                            {\n                                                'type': 'box',\n                                                'layout': 'row',\n                                                'viewStyle': {\n                                                    'margin': {\n                                                        'top': 16,\n                                                        'right': 0,\n                                                        'bottom': 0,\n                                                        'left': 0,\n                                                    },\n                                                },\n                                                'items': [\n                                                    {\n                                                        'type': 'imageButton',\n                                                        'viewStyle': {\n                                                            'radius': 100,\n                                                            'backgroundColor': '#5a73baff',\n                                                        },\n                                                        'width': {\n                                                            'type': 'fixed',\n                                                            'value': 40,\n                                                        },\n                                                        'height': {\n                                                            'type': 'fixed',\n                                                            'value': 40,\n                                                        },\n                                                        'imageUrl': 'https://ddtyj01cn62am.cloudfront.net/notifications/default-notification-channel-cover.png',\n                                                        'imageStyle': {\n                                                            'contentMode': 'aspectFill',\n                                                            'tintColor': '#ffffffff',\n                                                        },\n                                                        'elementId': '1761210e-beab-4d19-ad12-3c7776ce066d',\n                                                    },\n                                                    {\n                                                        'type': 'box',\n                                                        'layout': 'column',\n                                                        'viewStyle': {\n                                                            'margin': {\n                                                                'left': 12,\n                                                                'top': 0,\n                                                                'right': 0,\n                                                                'bottom': 0,\n                                                            },\n                                                        },\n                                                        'items': [\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List title',\n                                                                'textStyle': {\n                                                                    'color': '#222121e0',\n                                                                    'size': 16,\n                                                                    'weight': 'bold',\n                                                                },\n                                                                'maxTextLines': 5,\n                                                                'height': {\n                                                                    'type': 'flex',\n                                                                    'value': 1,\n                                                                },\n                                                                'width': {\n                                                                    'type': 'flex',\n                                                                    'value': 0,\n                                                                },\n                                                                'elementId': 'f3e69331-e4d1-44f9-bc1a-c0c8589d625e',\n                                                            },\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List body',\n                                                                'textStyle': {\n                                                                    'color': '#222121e0',\n                                                                    'size': 14,\n                                                                    'weight': 'normal',\n                                                                },\n                                                                'maxTextLines': 5,\n                                                                'height': {\n                                                                    'type': 'flex',\n                                                                    'value': 1,\n                                                                },\n                                                                'width': {\n                                                                    'type': 'flex',\n                                                                    'value': 0,\n                                                                },\n                                                                'elementId': '065a4733-477d-4a15-a7d0-4559025db3c3',\n                                                            },\n                                                        ],\n                                                        'height': {\n                                                            'type': 'flex',\n                                                            'value': 1,\n                                                        },\n                                                        'width': {\n                                                            'type': 'flex',\n                                                            'value': 0,\n                                                        },\n                                                        'elementId': '3e20f19a-58c6-40ec-8365-0e6ea12a6acb',\n                                                    },\n                                                ],\n                                                'height': {\n                                                    'type': 'flex',\n                                                    'value': 1,\n                                                },\n                                                'width': {\n                                                    'type': 'flex',\n                                                    'value': 0,\n                                                },\n                                                'elementId': '2e8938ca-5574-4a58-a17c-9bff156a7456',\n                                            },\n                                        ],\n                                        'height': {\n                                            'type': 'flex',\n                                            'value': 1,\n                                        },\n                                        'width': {\n                                            'type': 'flex',\n                                            'value': 0,\n                                        },\n                                        'elementId': '9c79282d-928c-418e-8111-78a4e19c1353',\n                                    },\n                                    {\n                                        'type': 'box',\n                                        'layout': 'row',\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': 12,\n                                                'right': 0,\n                                                'bottom': 0,\n                                                'left': 0,\n                                            },\n                                        },\n                                        'items': [\n                                            {\n                                                'type': 'textButton',\n                                                'viewStyle': {\n                                                    'backgroundColor': '#5a73baff',\n                                                    'padding': {\n                                                        'top': 10,\n                                                        'bottom': 10,\n                                                        'left': 20,\n                                                        'right': 20,\n                                                    },\n                                                    'radius': 6,\n                                                },\n                                                'text': 'Button 1',\n                                                'textStyle': {\n                                                    'color': '#ffffffff',\n                                                    'size': 14,\n                                                    'weight': 'bold',\n                                                },\n                                                'maxTextLines': 5,\n                                                'height': {\n                                                    'type': 'flex',\n                                                    'value': 1,\n                                                },\n                                                'width': {\n                                                    'type': 'flex',\n                                                    'value': 0,\n                                                },\n                                                'elementId': 'f3885375-bc4e-4117-8575-ec241a68091d',\n                                            },\n                                            {\n                                                'type': 'textButton',\n                                                'viewStyle': {\n                                                    'backgroundColor': '#5a73baff',\n                                                    'padding': {\n                                                        'top': 10,\n                                                        'bottom': 10,\n                                                        'left': 20,\n                                                        'right': 20,\n                                                    },\n                                                    'margin': {\n                                                        'left': 8,\n                                                        'right': 0,\n                                                        'top': 0,\n                                                        'bottom': 0,\n                                                    },\n                                                    'radius': 6,\n                                                },\n                                                'text': 'Button 2',\n                                                'textStyle': {\n                                                    'color': '#ffffffff',\n                                                    'size': 14,\n                                                    'weight': 'bold',\n                                                },\n                                                'maxTextLines': 5,\n                                                'height': {\n                                                    'type': 'flex',\n                                                    'value': 1,\n                                                },\n                                                'width': {\n                                                    'type': 'flex',\n                                                    'value': 0,\n                                                },\n                                                'elementId': '6f9acedd-e382-4f53-a350-bca2276e9b6b',\n                                            },\n                                        ],\n                                        'height': {\n                                            'type': 'flex',\n                                            'value': 1,\n                                        },\n                                        'width': {\n                                            'type': 'flex',\n                                            'value': 0,\n                                        },\n                                        'elementId': '37bae277-3300-4c2e-a308-c320d73c5725',\n                                    },\n                                ],\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'elementId': '62b096a3-0ee7-4467-a8be-9fa1109b257d',\n                            },\n                        ],\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'elementId': 'e2708cb7-b237-4ffb-86fe-3bb11b8400b8',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst socar_preset_booking_confirm = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': 'box',\n                'layout': 'column',\n                'viewStyle': {\n                    'padding': { 'top': 5, 'bottom': 5, 'left': 0, 'right': 10 },\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': { 'horizontal': 'center', 'vertical': 'center' },\n                        'items': [\n                            {\n                                'type': 'imageButton',\n                                'width': { 'type': 'fixed', 'value': 70 },\n                                'height': { 'type': 'flex', 'value': 1 },\n                                'align': { 'horizontal': 'center', 'vertical': 'center' },\n                                'imageUrl': 'https://search.pstatic.net/common?type=f&size=298x140&quality=95&direct=true&ttype=input&src=https%3A%2F%2Fimgauto-phinf.pstatic.net%2F20240116_168%2Fauto_17053701702442qv0L_PNG%2F20240116105600_9xS4XPiV.png',\n                                'metaData': { 'pixelWidth': '149', 'pixelHeight': '70' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'column',\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'text': '',\n                                        'width': { 'type': 'flex', 'value': 1 },\n                                        'align': { 'horizontal': 'right', 'vertical': 'center' },\n                                        'viewStyle': {\n                                            'backgroundColor': '#F0FAFF',\n                                            'radius': 4,\n                                            'padding': { 'top': 2, 'bottom': 1, 'left': 4, 'right': 4 },\n                                        },\n                                        'textStyle': { 'color': '#3BC7FF', 'weight': 'bold', 'size': 12 },\n                                        'maxTextLines': '1',\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': '[] 2024   ',\n                                        'textStyle': { 'weight': 'bold' },\n                                        'viewStyle': {\n                                            'margin': { 'top': 2 },\n                                        },\n                                        'maxTextLines': '1',\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': ': 03.24.() 15:00\\n: 03.27.() 11:00',\n                                        'textStyle': { 'weight': 'normal' },\n                                        'maxTextLines': '2',\n                                    },\n                                ],\n                            },\n                            {\n                                'type': 'textButton',\n                                'text': '',\n                                'width': { 'type': 'fixed', 'value': 60 },\n                                'height': { 'type': 'fixed', 'value': 30 },\n                                'viewStyle': {\n                                    'radius': 17,\n                                    'padding': { 'top': 0, 'bottom': 0, 'left': 0, 'right': 0 },\n                                },\n                                'textStyle': { 'weight': 'bold' },\n                                'maxTextLines': '1',\n                            },\n                        ],\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst carousel_case_1 = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': 'carouselView',\n                'viewStyle': {\n                    'padding': {\n                        'top': 12,\n                        'bottom': 12,\n                        'left': 12,\n                        'right': 12,\n                    },\n                },\n                'carouselStyle': {\n                    'spacing': 10,\n                },\n                'items': [\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'row',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '8',\n                                            'bottom': '8',\n                                            'left': '12',\n                                            'right': '12',\n                                        },\n                                        'radius': '12',\n                                        'backgroundColor': '#ffffffff',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'fixed',\n                                        'value': '470',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'text',\n                                            'text': '{content}',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '#ff374553',\n                                                'weight': 'normal',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'center',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '8',\n                                            'bottom': '8',\n                                            'left': '12',\n                                            'right': '12',\n                                        },\n                                        'radius': '12',\n                                        'backgroundColor': '#ffffffff',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'fixed',\n                                        'value': '470',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'text',\n                                            'text': '{content}',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '#ff374553',\n                                                'weight': 'normal',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '#fff2f4f6',\n                                                'radius': '8',\n                                                'margin': {\n                                                    'top': '12',\n                                                    'bottom': '4',\n                                                    'left': '12',\n                                                    'right': '12',\n                                                },\n                                                'padding': {\n                                                    'top': '0',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '{button_text_1}',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '#ff374553',\n                                                'weight': 'normal',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '36',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'center',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '8',\n                                            'bottom': '8',\n                                            'left': '12',\n                                            'right': '12',\n                                        },\n                                        'radius': '12',\n                                        'backgroundColor': '#ffffffff',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'fixed',\n                                        'value': '470',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'text',\n                                            'text': '{content}',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '#ff374553',\n                                                'weight': 'normal',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '#fff2f4f6',\n                                                'radius': '8',\n                                                'margin': {\n                                                    'top': '12',\n                                                    'bottom': '4',\n                                                    'left': '12',\n                                                    'right': '12',\n                                                },\n                                                'padding': {\n                                                    'top': '0',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '{button_text_1}',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '#ff374553',\n                                                'weight': 'normal',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '36',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst carousel_case_2_all_flex = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': 'carouselView',\n                'viewStyle': {\n                    'padding': {\n                        'top': 12,\n                        'bottom': 12,\n                        'left': 12,\n                        'right': 12,\n                    },\n                },\n                'carouselStyle': {\n                    'spacing': 10,\n                },\n                'items': [\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'backgroundColor': '{SBCOLOR_4pivj}',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'row',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'center',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '20',\n                                                            'bottom': '20',\n                                                            'left': '16',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'imageUrl': '{image_url.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{image_url.width}',\n                                                        'pixelHeight': '{image_url.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '16',\n                                                        },\n                                                        'backgroundColor': '{SBCOLOR_p7200}',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_j80gp}',\n                                                                'radius': '4',\n                                                                'padding': {\n                                                                    'top': '2',\n                                                                    'bottom': '2',\n                                                                    'left': '4',\n                                                                    'right': '4',\n                                                                },\n                                                            },\n                                                            'text': '',\n                                                            'textStyle': {\n                                                                'size': '10',\n                                                                'color': '{SBCOLOR_89v35}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '4',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{reservation_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_2ahre}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'text': '{departure_time}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_7fggh}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '4',\n                                                    'right': '12',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                    },\n                                                    'text': ' TOP1',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP2',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP3',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'backgroundColor': '{SBCOLOR_4pivj}',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'row',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'center',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '20',\n                                                            'bottom': '20',\n                                                            'left': '16',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'imageUrl': '{image_url.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{image_url.width}',\n                                                        'pixelHeight': '{image_url.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '16',\n                                                        },\n                                                        'backgroundColor': '{SBCOLOR_p7200}',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_j80gp}',\n                                                                'radius': '4',\n                                                                'padding': {\n                                                                    'top': '2',\n                                                                    'bottom': '2',\n                                                                    'left': '4',\n                                                                    'right': '4',\n                                                                },\n                                                            },\n                                                            'text': '',\n                                                            'textStyle': {\n                                                                'size': '10',\n                                                                'color': '{SBCOLOR_89v35}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '4',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{reservation_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_2ahre}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'text': '{departure_time}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_7fggh}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '4',\n                                                    'right': '12',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                    },\n                                                    'text': ' TOP1',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP2',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP3',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'backgroundColor': '{SBCOLOR_4pivj}',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'row',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'center',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '20',\n                                                            'bottom': '20',\n                                                            'left': '16',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'imageUrl': '{image_url.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{image_url.width}',\n                                                        'pixelHeight': '{image_url.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '16',\n                                                        },\n                                                        'backgroundColor': '{SBCOLOR_p7200}',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_j80gp}',\n                                                                'radius': '4',\n                                                                'padding': {\n                                                                    'top': '2',\n                                                                    'bottom': '2',\n                                                                    'left': '4',\n                                                                    'right': '4',\n                                                                },\n                                                            },\n                                                            'text': '',\n                                                            'textStyle': {\n                                                                'size': '10',\n                                                                'color': '{SBCOLOR_89v35}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '4',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{reservation_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_2ahre}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'text': '{departure_time}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_7fggh}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '4',\n                                                    'right': '12',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                    },\n                                                    'text': ' TOP1',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP2',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP3',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'backgroundColor': '{SBCOLOR_4pivj}',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'row',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'center',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '20',\n                                                            'bottom': '20',\n                                                            'left': '16',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'imageUrl': '{image_url.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{image_url.width}',\n                                                        'pixelHeight': '{image_url.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '16',\n                                                        },\n                                                        'backgroundColor': '{SBCOLOR_p7200}',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_j80gp}',\n                                                                'radius': '4',\n                                                                'padding': {\n                                                                    'top': '2',\n                                                                    'bottom': '2',\n                                                                    'left': '4',\n                                                                    'right': '4',\n                                                                },\n                                                            },\n                                                            'text': '',\n                                                            'textStyle': {\n                                                                'size': '10',\n                                                                'color': '{SBCOLOR_89v35}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '4',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{reservation_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_2ahre}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'text': '{departure_time}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_7fggh}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '4',\n                                                    'right': '12',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                    },\n                                                    'text': ' TOP1',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP2',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP3',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'center',\n                                        'vertical': 'center',\n                                    },\n                                    'viewStyle': {\n                                        'backgroundColor': 'transparent',\n                                        'padding': {\n                                            'top': '0',\n                                            'bottom': '0',\n                                            'left': '0',\n                                            'right': '0',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '50',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'imageButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_q5tul}',\n                                                'radius': '20',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '8',\n                                                    'right': '8',\n                                                },\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '8',\n                                                    'right': '8',\n                                                },\n                                            },\n                                            'imageUrl': 'https://file-us-1.sendbird.com/b9ba681a0bf742dabb2fc251e0b056a9.png',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                                'tintColor': '{SBCOLOR_ofmbt}',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '18',\n                                                'pixelHeight': '18',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '34',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '34',\n                                            },\n                                        },\n                                        {\n                                            'type': 'text',\n                                            'text': ' ',\n                                            'textStyle': {\n                                                'size': '10',\n                                                'color': '{SBCOLOR_sc3q4}',\n                                                'weight': 'normal',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'align': {\n                                                'horizontal': 'center',\n                                                'vertical': 'top',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst carousel_case_2_all_fixed = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': 'carouselView',\n                'viewStyle': {\n                    'padding': {\n                        'top': 12,\n                        'bottom': 12,\n                        'left': 12,\n                        'right': 12,\n                    },\n                },\n                'carouselStyle': {\n                    'spacing': 10,\n                },\n                'items': [\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'backgroundColor': '{SBCOLOR_4pivj}',\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '283',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'row',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'center',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '20',\n                                                            'bottom': '20',\n                                                            'left': '16',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'imageUrl': '{image_url.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{image_url.width}',\n                                                        'pixelHeight': '{image_url.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '16',\n                                                        },\n                                                        'backgroundColor': '{SBCOLOR_p7200}',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_j80gp}',\n                                                                'radius': '4',\n                                                                'padding': {\n                                                                    'top': '2',\n                                                                    'bottom': '2',\n                                                                    'left': '4',\n                                                                    'right': '4',\n                                                                },\n                                                            },\n                                                            'text': '',\n                                                            'textStyle': {\n                                                                'size': '10',\n                                                                'color': '{SBCOLOR_89v35}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '4',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{reservation_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_2ahre}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'text': '{departure_time}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_7fggh}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '4',\n                                                    'right': '12',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                    },\n                                                    'text': ' TOP1',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP2',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP3',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'backgroundColor': '{SBCOLOR_4pivj}',\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '283',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'row',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'center',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '20',\n                                                            'bottom': '20',\n                                                            'left': '16',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'imageUrl': '{image_url.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{image_url.width}',\n                                                        'pixelHeight': '{image_url.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '16',\n                                                        },\n                                                        'backgroundColor': '{SBCOLOR_p7200}',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_j80gp}',\n                                                                'radius': '4',\n                                                                'padding': {\n                                                                    'top': '2',\n                                                                    'bottom': '2',\n                                                                    'left': '4',\n                                                                    'right': '4',\n                                                                },\n                                                            },\n                                                            'text': '',\n                                                            'textStyle': {\n                                                                'size': '10',\n                                                                'color': '{SBCOLOR_89v35}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '4',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{reservation_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_2ahre}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'text': '{departure_time}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_7fggh}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '4',\n                                                    'right': '12',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                    },\n                                                    'text': ' TOP1',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP2',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP3',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'backgroundColor': '{SBCOLOR_4pivj}',\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '283',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'row',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'center',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '20',\n                                                            'bottom': '20',\n                                                            'left': '16',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'imageUrl': '{image_url.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{image_url.width}',\n                                                        'pixelHeight': '{image_url.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '16',\n                                                        },\n                                                        'backgroundColor': '{SBCOLOR_p7200}',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_j80gp}',\n                                                                'radius': '4',\n                                                                'padding': {\n                                                                    'top': '2',\n                                                                    'bottom': '2',\n                                                                    'left': '4',\n                                                                    'right': '4',\n                                                                },\n                                                            },\n                                                            'text': '',\n                                                            'textStyle': {\n                                                                'size': '10',\n                                                                'color': '{SBCOLOR_89v35}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '4',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{reservation_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_2ahre}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'text': '{departure_time}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_7fggh}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '4',\n                                                    'right': '12',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                    },\n                                                    'text': ' TOP1',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP2',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP3',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'backgroundColor': '{SBCOLOR_4pivj}',\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '283',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'row',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'center',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '20',\n                                                            'bottom': '20',\n                                                            'left': '16',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'imageUrl': '{image_url.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{image_url.width}',\n                                                        'pixelHeight': '{image_url.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '16',\n                                                        },\n                                                        'backgroundColor': '{SBCOLOR_p7200}',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_j80gp}',\n                                                                'radius': '4',\n                                                                'padding': {\n                                                                    'top': '2',\n                                                                    'bottom': '2',\n                                                                    'left': '4',\n                                                                    'right': '4',\n                                                                },\n                                                            },\n                                                            'text': '',\n                                                            'textStyle': {\n                                                                'size': '10',\n                                                                'color': '{SBCOLOR_89v35}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '4',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{reservation_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_2ahre}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'text': '{departure_time}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_7fggh}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '4',\n                                                    'right': '12',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                    },\n                                                    'text': ' TOP1',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP2',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP3',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'center',\n                                        'vertical': 'center',\n                                    },\n                                    'viewStyle': {\n                                        'backgroundColor': 'transparent',\n                                        'padding': {\n                                            'top': '0',\n                                            'bottom': '0',\n                                            'left': '0',\n                                            'right': '0',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '50',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'imageButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_q5tul}',\n                                                'radius': '20',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '8',\n                                                    'right': '8',\n                                                },\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '8',\n                                                    'right': '8',\n                                                },\n                                            },\n                                            'imageUrl': 'https://file-us-1.sendbird.com/b9ba681a0bf742dabb2fc251e0b056a9.png',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                                'tintColor': '{SBCOLOR_ofmbt}',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '18',\n                                                'pixelHeight': '18',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '34',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '34',\n                                            },\n                                        },\n                                        {\n                                            'type': 'text',\n                                            'text': ' ',\n                                            'textStyle': {\n                                                'size': '10',\n                                                'color': '{SBCOLOR_sc3q4}',\n                                                'weight': 'normal',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'align': {\n                                                'horizontal': 'center',\n                                                'vertical': 'top',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst carousel_case_2_both_flex_and_fixed = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': 'carouselView',\n                'viewStyle': {\n                    'padding': {\n                        'top': 12,\n                        'bottom': 12,\n                        'left': 12,\n                        'right': 12,\n                    },\n                },\n                'carouselStyle': {\n                    'spacing': 10,\n                },\n                'items': [\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'backgroundColor': '{SBCOLOR_4pivj}',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'row',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'center',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '20',\n                                                            'bottom': '20',\n                                                            'left': '16',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'imageUrl': '{image_url.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{image_url.width}',\n                                                        'pixelHeight': '{image_url.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '16',\n                                                        },\n                                                        'backgroundColor': '{SBCOLOR_p7200}',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_j80gp}',\n                                                                'radius': '4',\n                                                                'padding': {\n                                                                    'top': '2',\n                                                                    'bottom': '2',\n                                                                    'left': '4',\n                                                                    'right': '4',\n                                                                },\n                                                            },\n                                                            'text': '',\n                                                            'textStyle': {\n                                                                'size': '10',\n                                                                'color': '{SBCOLOR_89v35}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '4',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{reservation_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_2ahre}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'text': '{departure_time}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_7fggh}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '4',\n                                                    'right': '12',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                    },\n                                                    'text': ' TOP1',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP2',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP3',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'backgroundColor': '{SBCOLOR_4pivj}',\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '283',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'row',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'center',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '20',\n                                                            'bottom': '20',\n                                                            'left': '16',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'imageUrl': '{image_url.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{image_url.width}',\n                                                        'pixelHeight': '{image_url.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '16',\n                                                        },\n                                                        'backgroundColor': '{SBCOLOR_p7200}',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_j80gp}',\n                                                                'radius': '4',\n                                                                'padding': {\n                                                                    'top': '2',\n                                                                    'bottom': '2',\n                                                                    'left': '4',\n                                                                    'right': '4',\n                                                                },\n                                                            },\n                                                            'text': '',\n                                                            'textStyle': {\n                                                                'size': '10',\n                                                                'color': '{SBCOLOR_89v35}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '4',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{reservation_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_2ahre}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'text': '{departure_time}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_7fggh}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '4',\n                                                    'right': '12',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                    },\n                                                    'text': ' TOP1',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP2',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP3',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'backgroundColor': '{SBCOLOR_4pivj}',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'row',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'center',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '20',\n                                                            'bottom': '20',\n                                                            'left': '16',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'imageUrl': '{image_url.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{image_url.width}',\n                                                        'pixelHeight': '{image_url.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '16',\n                                                        },\n                                                        'backgroundColor': '{SBCOLOR_p7200}',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_j80gp}',\n                                                                'radius': '4',\n                                                                'padding': {\n                                                                    'top': '2',\n                                                                    'bottom': '2',\n                                                                    'left': '4',\n                                                                    'right': '4',\n                                                                },\n                                                            },\n                                                            'text': '',\n                                                            'textStyle': {\n                                                                'size': '10',\n                                                                'color': '{SBCOLOR_89v35}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '4',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{reservation_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_2ahre}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'text': '{departure_time}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_7fggh}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '4',\n                                                    'right': '12',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                    },\n                                                    'text': ' TOP1',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP2',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP3',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'backgroundColor': '{SBCOLOR_4pivj}',\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '340',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'row',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'center',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '20',\n                                                            'bottom': '20',\n                                                            'left': '16',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'imageUrl': '{image_url.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '40',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{image_url.width}',\n                                                        'pixelHeight': '{image_url.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '16',\n                                                        },\n                                                        'backgroundColor': '{SBCOLOR_p7200}',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_j80gp}',\n                                                                'radius': '4',\n                                                                'padding': {\n                                                                    'top': '2',\n                                                                    'bottom': '2',\n                                                                    'left': '4',\n                                                                    'right': '4',\n                                                                },\n                                                            },\n                                                            'text': '',\n                                                            'textStyle': {\n                                                                'size': '10',\n                                                                'color': '{SBCOLOR_89v35}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '4',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{reservation_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_2ahre}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'text',\n                                                            'text': '{departure_time}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_7fggh}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '4',\n                                                    'right': '12',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                    },\n                                                    'text': ' TOP1',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP2',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                        'radius': '8',\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '8',\n                                                            'left': '20',\n                                                            'right': '20',\n                                                        },\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': ' TOP3',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_pg796}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'center',\n                                        'vertical': 'center',\n                                    },\n                                    'viewStyle': {\n                                        'backgroundColor': 'transparent',\n                                        'padding': {\n                                            'top': '0',\n                                            'bottom': '0',\n                                            'left': '0',\n                                            'right': '0',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '50',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'imageButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_q5tul}',\n                                                'radius': '20',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '8',\n                                                    'right': '8',\n                                                },\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '8',\n                                                    'right': '8',\n                                                },\n                                            },\n                                            'imageUrl': 'https://file-us-1.sendbird.com/b9ba681a0bf742dabb2fc251e0b056a9.png',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                                'tintColor': '{SBCOLOR_ofmbt}',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '18',\n                                                'pixelHeight': '18',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '34',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '34',\n                                            },\n                                        },\n                                        {\n                                            'type': 'text',\n                                            'text': ' ',\n                                            'textStyle': {\n                                                'size': '10',\n                                                'color': '{SBCOLOR_sc3q4}',\n                                                'weight': 'normal',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'align': {\n                                                'horizontal': 'center',\n                                                'vertical': 'center',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst carousel_case_3 = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': 'carouselView',\n                'viewStyle': {\n                    'padding': {\n                        'top': 12,\n                        'bottom': 12,\n                        'left': 12,\n                        'right': 12,\n                    },\n                },\n                'carouselStyle': {\n                    'spacing': 10,\n                },\n                'items': [\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'center',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'radius': '12',\n                                                'borderWidth': '1',\n                                                'borderColor': '{SBCOLOR_sq5wz}',\n                                                'backgroundColor': '{SBCOLOR_byw2t}',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '254',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'imageUrl': '{guide-image.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '143',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{guide-image.width}',\n                                                        'pixelHeight': '{guide-image.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '12',\n                                                            'left': '12',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_zhxc4}',\n                                                                'padding': {\n                                                                    'top': '0',\n                                                                    'bottom': '8',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{guide_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_imwgs}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'textButton',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_56piy}',\n                                                                'radius': '8',\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '0',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{guide_button}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_fz5ow}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                    'viewStyle': {\n                                        'backgroundColor': '{SBCOLOR_jvnor}',\n                                    },\n                                    'align': {\n                                        'horizontal': 'center',\n                                        'vertical': 'top',\n                                    },\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'center',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'radius': '12',\n                                                'borderWidth': '1',\n                                                'borderColor': '{SBCOLOR_sq5wz}',\n                                                'backgroundColor': '{SBCOLOR_byw2t}',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '254',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'imageUrl': '{guide-image.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '143',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{guide-image.width}',\n                                                        'pixelHeight': '{guide-image.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '12',\n                                                            'left': '12',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_zhxc4}',\n                                                                'padding': {\n                                                                    'top': '0',\n                                                                    'bottom': '8',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{guide_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_imwgs}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'textButton',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_56piy}',\n                                                                'radius': '8',\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '0',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{guide_button}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_fz5ow}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                    'viewStyle': {\n                                        'backgroundColor': '{SBCOLOR_jvnor}',\n                                    },\n                                    'align': {\n                                        'horizontal': 'center',\n                                        'vertical': 'top',\n                                    },\n                                },\n                            ],\n                        },\n                    },\n                    {\n                        'version': 1,\n                        'body': {\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'center',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'radius': '12',\n                                                'borderWidth': '1',\n                                                'borderColor': '{SBCOLOR_sq5wz}',\n                                                'backgroundColor': '{SBCOLOR_byw2t}',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '254',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'image',\n                                                    'imageUrl': '{guide-image.url}',\n                                                    'imageStyle': {\n                                                        'contentMode': 'aspectFill',\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'fixed',\n                                                        'value': '143',\n                                                    },\n                                                    'metaData': {\n                                                        'pixelWidth': '{guide-image.width}',\n                                                        'pixelHeight': '{guide-image.height}',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'box',\n                                                    'layout': 'column',\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                    'viewStyle': {\n                                                        'padding': {\n                                                            'top': '8',\n                                                            'bottom': '12',\n                                                            'left': '12',\n                                                            'right': '12',\n                                                        },\n                                                    },\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'items': [\n                                                        {\n                                                            'type': 'text',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_zhxc4}',\n                                                                'padding': {\n                                                                    'top': '0',\n                                                                    'bottom': '8',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{guide_title}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_imwgs}',\n                                                                'weight': 'normal',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                            'align': {\n                                                                'horizontal': 'left',\n                                                                'vertical': 'top',\n                                                            },\n                                                        },\n                                                        {\n                                                            'type': 'textButton',\n                                                            'viewStyle': {\n                                                                'backgroundColor': '{SBCOLOR_56piy}',\n                                                                'radius': '8',\n                                                                'margin': {\n                                                                    'top': '4',\n                                                                    'bottom': '0',\n                                                                    'left': '0',\n                                                                    'right': '0',\n                                                                },\n                                                            },\n                                                            'text': '{guide_button}',\n                                                            'textStyle': {\n                                                                'size': '14',\n                                                                'color': '{SBCOLOR_fz5ow}',\n                                                                'weight': 'bold',\n                                                            },\n                                                            'maxTextLines': '1',\n                                                            'width': {\n                                                                'type': 'flex',\n                                                                'value': '0',\n                                                            },\n                                                            'height': {\n                                                                'type': 'flex',\n                                                                'value': '1',\n                                                            },\n                                                        },\n                                                    ],\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                    'viewStyle': {\n                                        'backgroundColor': '{SBCOLOR_jvnor}',\n                                    },\n                                    'align': {\n                                        'horizontal': 'center',\n                                        'vertical': 'top',\n                                    },\n                                },\n                            ],\n                        },\n                    },\n                ],\n            },\n        ],\n    },\n};\nexport const samples_for_size_spec = [\n    horizontal_wrap_wrap,\n    horizontal_wrap_wrap_wrap,\n    horizontal_fill_wrap,\n    horizontal_fill_fill_wrap,\n    horizontal_fill_wrap_fill_wrap,\n    horizontal_fill_wrap_fill_wrap_long,\n    horizontal_fill_wrap_fill_wrap_longer,\n    horizontal_fill_wrap_fill_wrap_super_long,\n    horizontal_fill_wrap_wrap_long_content,\n    horizontal_fill_wrap_remain_padding,\n    horizontal_fill_wrap_no_padding,\n    vertical_fill_wrap_wrap_remain_padding,\n    vertical_fill_wrap_wrap_no_padding,\n];\nconst column_box_horz_margin_and_fill_parent_children = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': FlexSizeSpecValue.FillParent,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': FlexSizeSpecValue.WrapContent,\n                },\n                'items': [\n                    {\n                        'type': 'text',\n                        'viewStyle': {\n                            'backgroundColor': '#a0c0ffff',\n                            'margin': {\n                                'top': 16,\n                                'bottom': 16,\n                                'left': 16,\n                                'right': 16,\n                            },\n                            'padding': {\n                                'top': 16,\n                                'bottom': 16,\n                                'left': 16,\n                                'right': 16,\n                            },\n                        },\n                        'text': 'Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap ',\n                        'textStyle': {\n                            'size': 14,\n                            'color': '#222121e0',\n                            'weight': 'normal',\n                        },\n                        'maxTextLines': 5,\n                        'width': {\n                            'type': 'flex',\n                            'value': FlexSizeSpecValue.FillParent,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                    },\n                    {\n                        'type': 'imageButton',\n                        'viewStyle': {\n                            margin: {\n                                left: 24,\n                                right: 12,\n                            },\n                        },\n                        'width': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                        'height': { 'type': 'fixed', 'value': 250 },\n                        'imageUrl': 'https://cdn.pixabay.com/photo/2022/10/12/10/45/bird-7516219_1280.jpg',\n                        'imageStyle': { 'contentMode': 'aspectFill' },\n                        'metaData': { 'pixelWidth': '1080', 'pixelHeight': '2640' },\n                        'action': { 'data': 'www.naver.com' },\n                    },\n                ],\n            },\n        ],\n    },\n};\nexport const samples_for_margin_issue = [column_box_horz_margin_and_fill_parent_children];\nexport const samples = [\n    sample_1,\n    sample_2,\n    sample_3,\n    sample_4,\n    sample_5,\n    sample_6,\n    sample_for_inset_border,\n    sample_clipped_text__large_padding,\n    sample_for_priority_by_size_spec,\n    dashboard_preset_list,\n    socar_preset_booking_confirm,\n    // Example reference: https://sendbird.atlassian.net/wiki/spaces/UK/pages/2265484095/UIKit+message+template+syntax+extension+proposal#Carousel-test-syntax\n    carousel_case_1,\n    carousel_case_2_all_flex,\n    carousel_case_2_all_fixed,\n    carousel_case_2_both_flex_and_fixed,\n    carousel_case_3,\n];\n", "import React, { useLayoutEffect, useMemo, useRef, useState } from 'react';\nconst SWIPE_THRESHOLD = 24;\nexport function useCarousel({ spacing, childrenLength, paddingInlineStart, paddingInlineEnd }) {\n    // TODO: RTL support\n    const paddingStart = paddingInlineStart;\n    const paddingEnd = paddingInlineEnd;\n    const carouselRef = useRef(null);\n    const childrenRefs = useRef(Array.from({ length: childrenLength }, () => React.createRef()));\n    const isDragging = useRef(false);\n    const isScrolling = useRef(false);\n    const animationFrame = useRef(null);\n    const drag = useRef({\n        sx: null,\n        sy: null,\n        offset: 0,\n        translateX: 0,\n        currentIndex: 0,\n    });\n    const [childWidths, setChildWidths] = useState(() => childrenRefs.current.map(() => 0));\n    const itemPositions = useMemo(() => {\n        let currentPosition = paddingStart;\n        return childWidths.map((width, i) => {\n            const start = currentPosition - (i > 0 ? spacing : 0);\n            const end = start - width;\n            currentPosition = end;\n            return { start, end };\n        });\n    }, [childWidths, spacing, paddingStart]);\n    const totalContentWidth = useMemo(() => {\n        const totalItemWidth = childWidths.reduce((acc, width) => acc + width, 0);\n        const totalSpacing = spacing * (childrenLength - 1);\n        return totalItemWidth + totalSpacing;\n    }, [childWidths, spacing, childrenLength]);\n    useLayoutEffect(() => {\n        setChildWidths(childrenRefs.current.map((ref) => { var _a, _b; return (_b = (_a = ref.current) === null || _a === void 0 ? void 0 : _a.clientWidth) !== null && _b !== void 0 ? _b : 0; }));\n    }, [childrenLength]);\n    useLayoutEffect(() => {\n        if (itemPositions.length > 0) {\n            drag.current.translateX = itemPositions[0].start;\n            animate();\n        }\n    }, [itemPositions]);\n    const dragStart = () => {\n        if (!carouselRef.current)\n            return;\n        isDragging.current = true;\n        carouselRef.current.style.cursor = 'grabbing';\n        carouselRef.current.style.transition = 'none';\n        animationFrame.current = requestAnimationFrame(animate);\n    };\n    const dragStop = () => {\n        if (!carouselRef.current)\n            return;\n        isDragging.current = false;\n        carouselRef.current.style.cursor = 'grab';\n        carouselRef.current.style.transition = 'transform 0.5s ease';\n        if (animationFrame.current) {\n            cancelAnimationFrame(animationFrame.current);\n            animationFrame.current = null;\n        }\n    };\n    const dragRelease = () => {\n        const { offset, currentIndex } = drag.current;\n        const thresholdExceeded = Math.abs(offset) >= SWIPE_THRESHOLD;\n        const swipeToNext = offset < 0 && currentIndex < childrenLength - 1;\n        const swipeToPrev = offset > 0 && currentIndex > 0;\n        let newIndex = currentIndex;\n        if (thresholdExceeded && swipeToNext) {\n            newIndex = currentIndex + 1;\n        }\n        else if (thresholdExceeded && swipeToPrev) {\n            newIndex = currentIndex - 1;\n        }\n        function clampTranslateX(translateX) {\n            var _a, _b;\n            const containerWidth = (_b = (_a = carouselRef.current) === null || _a === void 0 ? void 0 : _a.clientWidth) !== null && _b !== void 0 ? _b : 0;\n            const start = paddingStart;\n            const end = Math.min(0, containerWidth - totalContentWidth) - paddingEnd;\n            return Math.min(start, Math.max(end, translateX));\n        }\n        drag.current.currentIndex = newIndex;\n        drag.current.translateX = clampTranslateX(itemPositions[newIndex].start);\n        drag.current.offset = 0;\n    };\n    const scrollStart = () => {\n        isScrolling.current = true;\n    };\n    const scrollStop = () => {\n        isScrolling.current = false;\n    };\n    const animate = () => {\n        if (carouselRef.current) {\n            carouselRef.current.style.transform = `translateX(${drag.current.translateX + drag.current.offset}px)`;\n        }\n        if (animationFrame.current) {\n            animationFrame.current = requestAnimationFrame(animate);\n        }\n    };\n    const blockScroll = () => {\n        if (carouselRef.current) {\n            carouselRef.current.style.touchAction = 'pan-x';\n        }\n    };\n    const unblockScroll = () => {\n        if (carouselRef.current) {\n            carouselRef.current.style.touchAction = 'pan-y';\n        }\n    };\n    const onMouseDown = (event) => {\n        dragStart();\n        scrollStop();\n        drag.current.sx = event.clientX;\n        drag.current.sy = event.clientY;\n        drag.current.offset = 0;\n        animationFrame.current = requestAnimationFrame(animate);\n    };\n    const onMouseMove = (event) => {\n        if (!isDragging.current || drag.current.sx === null)\n            return;\n        drag.current.offset = event.clientX - drag.current.sx;\n    };\n    const onMouseUp = () => {\n        if (!isDragging.current)\n            return;\n        scrollStop();\n        dragRelease();\n        dragStop();\n    };\n    const onMouseLeave = () => {\n        if (!isDragging.current)\n            return;\n        scrollStop();\n        dragRelease();\n        dragStop();\n    };\n    const onTouchStart = (event) => {\n        scrollStop();\n        dragStop();\n        const touch = event.touches[0];\n        drag.current.sx = touch.clientX;\n        drag.current.sy = touch.clientY;\n        drag.current.offset = 0;\n        animationFrame.current = requestAnimationFrame(animate);\n    };\n    const onTouchMove = (event) => {\n        if (drag.current.sx === null || drag.current.sy === null || isScrolling.current)\n            return;\n        const { clientX, clientY } = event.touches[0];\n        const { sx, sy } = drag.current;\n        if (isDragging.current) {\n            drag.current.offset = clientX - sx;\n            return;\n        }\n        const isVerticalScroll = Math.abs(clientY - sy) > Math.abs(clientX - sx);\n        if (isVerticalScroll) {\n            scrollStart();\n        }\n        else {\n            drag.current.offset = clientX - sx;\n            blockScroll();\n            dragStart();\n        }\n    };\n    const onTouchEnd = () => {\n        unblockScroll();\n        scrollStop();\n        dragRelease();\n        dragStop();\n    };\n    return {\n        carouselRef,\n        childrenRefs,\n        handlers: {\n            onMouseDown,\n            onMouseMove,\n            onMouseUp,\n            onMouseLeave,\n            onTouchStart,\n            onTouchMove,\n            onTouchEnd,\n        },\n    };\n}\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { FlexSizeSpecValue, defaultProperties } from '@sendbird/uikit-message-template';\nimport { useCarousel } from './useCarousel';\nexport const Carousel = ({ children, style, spacing = defaultProperties.carousel.style.spacing, maxChildWidth = defaultProperties.carousel.style.maxChildWidth, }) => {\n    const _a = style !== null && style !== void 0 ? style : {}, { paddingInlineStart = 0, paddingInlineEnd = 0 } = _a, restStyle = __rest(_a, [\"paddingInlineStart\", \"paddingInlineEnd\"]);\n    const { carouselRef, childrenRefs, handlers } = useCarousel({\n        spacing,\n        childrenLength: children.length,\n        paddingInlineStart: Number(paddingInlineStart),\n        paddingInlineEnd: Number(paddingInlineEnd),\n    });\n    return (React.createElement(\"div\", Object.assign({}, handlers, { ref: carouselRef, className: 'sb-message-template__carousel', style: Object.assign(Object.assign({}, restStyle), { gap: spacing, width: '100%', overflow: 'visible' }) }), children.map((item, index) => (React.createElement(CarouselChild, { ref: childrenRefs.current[index], key: index, maxChildWidth: maxChildWidth }, item)))));\n};\nconst CarouselChild = React.forwardRef(function CarouselChild({ maxChildWidth, children }, ref) {\n    const maxWidth = shouldSetMaxChildWidth(children.props, maxChildWidth) ? maxChildWidth : 'fit-content';\n    return (React.createElement(\"div\", { ref: ref, style: { maxWidth, width: '100%', flexShrink: 0, overflow: 'hidden', userSelect: 'none' } }, children));\n});\n// Note: Set the maxChildWidth because it's impossible to determine the maximum width of items in the Carousel Child template when they have FillParent\nfunction shouldSetMaxChildWidth(props, maxChildWidth) {\n    return !!props.templateItems.find((it) => {\n        var _a, _b, _c, _d;\n        const hasFillWidth = ((_a = it.width) === null || _a === void 0 ? void 0 : _a.type) === 'flex' && ((_b = it.width) === null || _b === void 0 ? void 0 : _b.value) === FlexSizeSpecValue.FillParent;\n        const overMaxChildWidth = ((_c = it.width) === null || _c === void 0 ? void 0 : _c.type) === 'fixed' && ((_d = it.width) === null || _d === void 0 ? void 0 : _d.value) >= maxChildWidth;\n        return hasFillWidth || overMaxChildWidth;\n    });\n}\nexport default Carousel;\n", "import { ComponentType, FlexSizeSpecValue } from '@sendbird/uikit-message-template';\nexport function isWrappedText(view) {\n    var _a;\n    return view.type === ComponentType.Text && ((_a = view.width) === null || _a === void 0 ? void 0 : _a.value) == FlexSizeSpecValue.WrapContent;\n}\n// Compares the size spec to the option and returns whether they are equal or not.\nexport const isSizeCompatibleWithOption = ({ size, option, }) => {\n    if (option === 'wrap') {\n        return size.type === 'flex' && size.value == FlexSizeSpecValue.WrapContent;\n    }\n    if (option === 'fill') {\n        return size.type === 'flex' && size.value == FlexSizeSpecValue.FillParent;\n    }\n    return size.type === 'fixed';\n};\nexport const isGif = (url) => {\n    var _a;\n    if (typeof url !== 'string')\n        return false;\n    const extension = (_a = url.split('.').pop()) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n    return extension === 'gif';\n};\nexport const isNumber = (val) => {\n    if (typeof val === 'string') {\n        return !Number.isNaN(Number(val));\n    }\n    return typeof val === 'number' && !Number.isNaN(val);\n};\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nexport const CanvasReactMessageTemplateImage = (props) => {\n    const { imageSize, canvasRef, canvasProps } = useCanvasMessageTemplateImage(props);\n    return (React.createElement(\"canvas\", Object.assign({}, canvasProps, { ref: canvasRef, width: imageSize === null || imageSize === void 0 ? void 0 : imageSize.width, height: imageSize === null || imageSize === void 0 ? void 0 : imageSize.height, onError: props.onError })));\n};\nconst useCanvasMessageTemplateImage = (_a) => {\n    var { metaData, tintColor } = _a, props = __rest(_a, [\"metaData\", \"tintColor\"]);\n    const canvasRef = useRef(null);\n    const [fallbackImageSize, setFallbackImageSize] = useState();\n    const imageSize = useMemo(() => {\n        if ((metaData === null || metaData === void 0 ? void 0 : metaData.pixelHeight) && (metaData === null || metaData === void 0 ? void 0 : metaData.pixelWidth)) {\n            return { width: metaData.pixelWidth, height: metaData.pixelHeight };\n        }\n        return fallbackImageSize;\n    }, [fallbackImageSize, metaData === null || metaData === void 0 ? void 0 : metaData.pixelHeight, metaData === null || metaData === void 0 ? void 0 : metaData.pixelWidth]);\n    useEffect(() => {\n        if (imageSize == null) {\n            console.log('Canvas_ReactMessageTemplateImage: no metaData, render fit to container');\n            if (canvasRef.current) {\n                canvasRef.current.style.width = '100%';\n                canvasRef.current.style.height = '100%';\n                const containerSize = canvasRef.current.getBoundingClientRect();\n                setFallbackImageSize(containerSize);\n            }\n        }\n    }, [imageSize]);\n    useEffect(() => {\n        if (props.src) {\n            const img = new Image();\n            const onImageLoad = () => {\n                if (canvasRef.current && tintColor && imageSize) {\n                    const ctx = canvasRef.current.getContext('2d');\n                    if (ctx) {\n                        const { width: imageWidth, height: imageHeight } = imageSize;\n                        // reset context before draw, consider `.save()` and `.restore()` api\n                        ctx.clearRect(0, 0, imageWidth, imageHeight);\n                        ctx.beginPath();\n                        ctx.globalCompositeOperation = 'source-over';\n                        ctx.fillStyle = '#000';\n                        // draw\n                        ctx.drawImage(img, 0, 0, imageWidth, imageHeight);\n                        ctx.globalCompositeOperation = 'source-atop';\n                        ctx.fillStyle = tintColor;\n                        ctx.fillRect(0, 0, imageWidth, imageHeight);\n                    }\n                }\n            };\n            const onImageError = (event) => {\n                var _a;\n                // @ts-ignore\n                (_a = props.onError) === null || _a === void 0 ? void 0 : _a.call(props, event);\n            };\n            img.addEventListener('load', onImageLoad);\n            img.addEventListener('error', onImageError);\n            img.src = props.src;\n            return () => {\n                img.removeEventListener('load', onImageLoad);\n                img.removeEventListener('error', onImageError);\n            };\n        }\n        return;\n    }, [props.src, imageSize, tintColor]);\n    return {\n        canvasRef,\n        canvasProps: props,\n        imageSize,\n    };\n};\n", "import React from 'react';\nexport const ImgReactMessageTemplateImage = (props) => {\n    return React.createElement(\"img\", Object.assign({}, props, { onError: props.onError, referrerPolicy: \"no-referrer\" }));\n};\n", "import React from 'react';\nexport const PlaceholderReactMessageTemplateImage = (props) => {\n    return React.createElement(\"div\", { style: Object.assign(Object.assign({}, props.style), { backgroundColor: 'transparent' }) });\n};\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { isGif } from '../../util';\nimport { CanvasReactMessageTemplateImage } from './index.canvas';\nimport { ImgReactMessageTemplateImage } from './index.img';\nimport { PlaceholderReactMessageTemplateImage } from './index.placeholder';\nconst ReactMessageTemplateImage = (_a) => {\n    var { tintColor, metaData } = _a, props = __rest(_a, [\"tintColor\", \"metaData\"]);\n    const { hasError, onError } = useImageLoadError(props.src);\n    if (props.onError)\n        console.warn('`onError` is intercepted and not executed in the ReactMessageTemplateImage.');\n    if (hasError) {\n        return React.createElement(PlaceholderReactMessageTemplateImage, Object.assign({}, props));\n    }\n    else if (tintColor && !isGif(props.src)) {\n        return React.createElement(CanvasReactMessageTemplateImage, Object.assign({}, props, { onError: onError, tintColor: tintColor, metaData: metaData }));\n    }\n    else {\n        return React.createElement(ImgReactMessageTemplateImage, Object.assign({}, props, { onError: onError }));\n    }\n};\nconst useImageLoadError = (source) => {\n    const [hasError, setHasError] = useState(false);\n    useEffect(() => setHasError(false), [source]);\n    return {\n        hasError,\n        onError: useCallback(() => setHasError(true), []),\n    };\n};\nexport default ReactMessageTemplateImage;\n", "import { ComponentType, FlexSizeSpecValue, Layout, MediaContentMode, alignInFlex, defaultProperties, } from '@sendbird/uikit-message-template';\nimport { isWrappedText } from '../util';\nexport function getDefaultStyles(overrides) {\n    return Object.assign({ display: 'flex', overflow: 'hidden', boxSizing: 'border-box' }, overrides);\n}\nexport function setViewProps(styles, props, options) {\n    setViewSize(styles, props, options);\n    setViewStyle(styles, props);\n}\nfunction setBorderStyle(styles, borderWidth, borderColor, radius) {\n    if (borderWidth) {\n        styles['--border-width'] = `${borderWidth}px`;\n        styles['--border-color'] = borderColor || 'transparent';\n    }\n    if (radius) {\n        styles['borderRadius'] = radius;\n        styles['--border-radius'] = `${radius}px`;\n    }\n}\nexport function setViewStyle(styles, props) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const { viewStyle } = props;\n    styles['marginBlockStart'] = (_a = viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.margin) === null || _a === void 0 ? void 0 : _a.top;\n    styles['marginBlockEnd'] = (_b = viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.margin) === null || _b === void 0 ? void 0 : _b.bottom;\n    styles['marginInlineStart'] = (_c = viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.margin) === null || _c === void 0 ? void 0 : _c.left;\n    styles['marginInlineEnd'] = (_d = viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.margin) === null || _d === void 0 ? void 0 : _d.right;\n    const marginHorizontal = ((_f = (_e = viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.margin) === null || _e === void 0 ? void 0 : _e.left) !== null && _f !== void 0 ? _f : 0) + ((_h = (_g = viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.margin) === null || _g === void 0 ? void 0 : _g.right) !== null && _h !== void 0 ? _h : 0);\n    if (marginHorizontal > 0 && styles.width === '100%')\n        styles.width = `calc(100% - ${marginHorizontal}px)`;\n    if (viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.backgroundColor)\n        styles['backgroundColor'] = viewStyle.backgroundColor;\n    // use JSON.stringify to escape special characters in image URL\n    if (viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.backgroundImageUrl) {\n        styles['backgroundImage'] = `url(${JSON.stringify(viewStyle.backgroundImageUrl)})`;\n        styles['backgroundSize'] = '100% 100%';\n        styles['backgroundPosition'] = 'center';\n    }\n    setBorderStyle(styles, viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.borderWidth, viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.borderColor, viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.radius);\n}\nfunction getViewSizeStyle(width, height, parentLayout) {\n    const style = {};\n    if (width.type === 'flex' && width.value == FlexSizeSpecValue.FillParent) {\n        style['width'] = '100%';\n        if (parentLayout === Layout.Row) {\n            style['flex'] = 1;\n        }\n    }\n    else if (width.type === 'fixed' && width.value >= 0) {\n        style['width'] = width.value;\n    }\n    if (height.type === 'flex' && height.value == FlexSizeSpecValue.FillParent) {\n        style['height'] = '100%';\n        if (parentLayout === Layout.Column) {\n            style['flex'] = 1;\n        }\n    }\n    else if (height.type === 'fixed' && height.value >= 0) {\n        style['height'] = height.value;\n    }\n    return style;\n}\nexport function setViewSize(styles, props, options) {\n    var _a, _b;\n    const { width: defaultWidth, height: defaultHeight } = defaultProperties.view.size;\n    const { parentLayout } = options;\n    const sizeStyle = getViewSizeStyle((_a = props.width) !== null && _a !== void 0 ? _a : defaultWidth, (_b = props.height) !== null && _b !== void 0 ? _b : defaultHeight, parentLayout);\n    Object.assign(styles, sizeStyle);\n}\nexport function setAlign(styles, layout = defaultProperties.box.layout, align = defaultProperties.box.align) {\n    if (layout === Layout.Row) {\n        styles['flexDirection'] = 'row';\n        styles['alignItems'] = alignInFlex(align.vertical);\n        styles['justifyContent'] = alignInFlex(align.horizontal);\n    }\n    if (layout === Layout.Column) {\n        styles['flexDirection'] = 'column';\n        styles['alignItems'] = alignInFlex(align.horizontal);\n        styles['justifyContent'] = alignInFlex(align.vertical);\n    }\n}\nexport function setTextAlign(styles, align = defaultProperties.box.align.horizontal) {\n    styles.textAlign = align;\n}\nexport function setImageStyle(styles, imageStyle) {\n    const { contentMode = MediaContentMode.AspectFit } = imageStyle || {};\n    if (contentMode) {\n        switch (contentMode) {\n            case MediaContentMode.AspectFill:\n                styles['objectFit'] = 'cover';\n                break;\n            case MediaContentMode.AspectFit:\n                styles['objectFit'] = 'contain';\n                break;\n            case MediaContentMode.ScalesToFill:\n                styles['objectFit'] = 'fill';\n                break;\n        }\n    }\n}\n// uses image meta-data to render images that doesn't break the UI\n// https://sendbird.atlassian.net/wiki/spaces/UK/pages/2008220608/Message+template+-+Image+policy\nexport function setImageAspectRatio(styles, props) {\n    var _a, _b, _c, _d;\n    const imageMetaData = props === null || props === void 0 ? void 0 : props.metaData;\n    if (!(imageMetaData === null || imageMetaData === void 0 ? void 0 : imageMetaData.pixelHeight) || !(imageMetaData === null || imageMetaData === void 0 ? void 0 : imageMetaData.pixelWidth)) {\n        return;\n    }\n    if (((_a = props === null || props === void 0 ? void 0 : props.width) === null || _a === void 0 ? void 0 : _a.type) === 'fixed' || ((_b = props === null || props === void 0 ? void 0 : props.height) === null || _b === void 0 ? void 0 : _b.type) === 'fixed') {\n        return;\n    }\n    styles['aspectRatio'] = `${(_c = props === null || props === void 0 ? void 0 : props.metaData) === null || _c === void 0 ? void 0 : _c.pixelWidth} / ${(_d = props === null || props === void 0 ? void 0 : props.metaData) === null || _d === void 0 ? void 0 : _d.pixelHeight}`;\n}\nexport function webkitLineClampStyles(numberOfLines) {\n    return {\n        WebkitLineClamp: numberOfLines,\n        WebkitBoxOrient: 'vertical',\n        display: '-webkit-box',\n        overflow: 'hidden',\n        overflowWrap: 'anywhere',\n        flex: 1,\n    };\n}\nexport function setTextStyle(styles, props, options) {\n    const { textStyle, width } = props;\n    // TODO: Change default as design\n    const { size, color, weight } = textStyle || {};\n    if (size)\n        styles['fontSize'] = size;\n    if (color)\n        styles['color'] = color;\n    if (weight)\n        styles['fontWeight'] = weight;\n    if ((width === null || width === void 0 ? void 0 : width.type) === 'flex' && (width === null || width === void 0 ? void 0 : width.value) == FlexSizeSpecValue.WrapContent) {\n        styles['width'] = 'fit-content';\n        styles['maxWidth'] = '100%';\n    }\n    if (props.type === ComponentType.Text) {\n        const { siblings, elemIdx } = options;\n        // To push out any subsequent components from the container,\n        // if a prior one is long enough to occupy an entire line\n        // @link https://sendbird.atlassian.net/browse/NOTI-709\n        if (siblings != null && siblings.length >= 2 && siblings.every(isWrappedText)) {\n            styles.flexShrink = siblings.length - 1 === elemIdx ? 1 : 0;\n        }\n    }\n}\n", "// create a context provider for MessageComponent\n//  - this is a wrapper for MessageComponent\nimport React from 'react';\nconst MessageContext = React.createContext(null);\nconst MessageProvider = (props) => {\n    const { message, handleWebAction, handleCustomAction, handlePredefinedAction, children } = props;\n    const value = React.useMemo(() => ({\n        message,\n        handleWebAction,\n        handleCustomAction,\n        handlePredefinedAction,\n    }), [message === null || message === void 0 ? void 0 : message.updatedAt]);\n    return React.createElement(MessageContext.Provider, { value: value }, children);\n};\nconst useMessageContext = () => {\n    const context = React.useContext(MessageContext);\n    if (!context) {\n        throw new Error('useMessageContext must be used within a MessageProvider');\n    }\n    return context;\n};\nexport { MessageProvider, useMessageContext };\n", "import { useCallback, useEffect, useRef } from 'react';\n/**\n * Preserves a reference to the given callback function as an argument while the component is mounted.\n * Wraps the given callback in React's Ref to preserve the reference.\n * @param callback want to be preserved\n */\nexport function usePreservedCallback(callback) {\n    const callbackRef = useRef(callback);\n    useEffect(() => {\n        callbackRef.current = callback;\n    }, [callback]);\n    return useCallback((...args) => {\n        return callbackRef.current(...args);\n    }, [callbackRef]);\n}\n", "import { useCallback, useRef } from 'react';\nimport { usePreservedCallback } from './usePreservedCallback';\n/**\n * This hook can be used when you want to safely effect the value stored in useRef\n * Got this idea from https://github.com/facebook/react/issues/15176\n * @param callback\n * @param deps\n * @returns effect callback\n */\nexport function useRefEffect(callback, deps) {\n    const preservedCallback = usePreservedCallback(callback);\n    const disposeRef = useRef(noop);\n    const effect = useCallback((element) => {\n        disposeRef.current();\n        disposeRef.current = noop;\n        if (element != null) {\n            const cleanup = callback(element);\n            if (typeof cleanup === 'function') {\n                disposeRef.current = cleanup;\n            }\n        }\n    }, [preservedCallback, ...deps]);\n    return effect;\n}\nfunction noop() { }\n", "import { usePreservedCallback } from './usePreservedCallback';\nimport { useRefEffect } from './useRefEffect';\n/**\n * Subscribes to ResizeObserver on the component exposing the Ref,\n * to detect changes in the size of DOM elements.\n * The ResizeObserver API is required.\n * If you are targeting browsers that do not support that API, probably need to add appropriate polyfill too.\n * @param onResize\n * @returns ref\n */\nexport function useResizeObserver(onResize) {\n    const resizeCallback = usePreservedCallback(onResize);\n    const ref = useRefEffect((elem) => {\n        const observer = new ResizeObserver((entries) => {\n            if (entries[0] != null) {\n                resizeCallback(entries[0]);\n            }\n        });\n        observer.observe(elem);\n        return () => {\n            observer.unobserve(elem);\n        };\n    }, [resizeCallback]);\n    return ref;\n}\n", "import { useState } from 'react';\nimport { useResizeObserver } from './useResizeObserver';\n/**\n * @returns an element's width / height observed by IntersectionObserver,\n * and ref to detect its resize event\n */\nexport function useElementSize() {\n    const [width, setWidth] = useState(-1);\n    const [height, setHeight] = useState(-1);\n    const [contentWidth, setContentWidth] = useState(-1);\n    const [contentHeight, setContentHeight] = useState(-1);\n    const [paddingWidth, setPaddingWidth] = useState(-1);\n    const [paddingHeight, setPaddingHeight] = useState(-1);\n    const ref = useResizeObserver((entry) => {\n        // contentRect: content size only\n        const { width: contentWidth, height: contentHeight } = entry.contentRect;\n        // target: content + padding + border size\n        const target = entry.target;\n        const { width, height } = target.getBoundingClientRect();\n        setWidth(width);\n        setHeight(height);\n        setContentWidth(contentWidth);\n        setContentHeight(contentHeight);\n        setPaddingWidth(width - contentWidth);\n        setPaddingHeight(height - contentHeight);\n    });\n    return { ref, width, height, contentWidth, contentHeight, paddingWidth, paddingHeight };\n}\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useEffect, useMemo } from 'react';\nimport { Layout, defaultProperties, useSizeContext } from '@sendbird/uikit-message-template';\nimport { isSizeCompatibleWithOption } from '../util';\nimport { useElementSize } from './useElementSize';\nfunction isViewCompatibleWithSizeOption({ width = defaultProperties.view.size.width, height = defaultProperties.view.size.height, parentLayout = defaultProperties.box.layout, option, }) {\n    if (parentLayout === Layout.Row) {\n        return isSizeCompatibleWithOption({\n            size: width,\n            option,\n        });\n    }\n    return isSizeCompatibleWithOption({\n        size: height,\n        option,\n    });\n}\nexport function useRecalculateWidth(params) {\n    const { style, props } = params;\n    const _a = useElementSize(), { ref: elemRef } = _a, size = __rest(_a, [\"ref\"]);\n    const { updateSize, sizes } = useSizeContext();\n    const { id, siblings, parentLayout } = props;\n    const { width, height, paddingWidth, paddingHeight, contentWidth, contentHeight } = size;\n    useEffect(() => {\n        updateSize({\n            id: props.id,\n            width,\n            height,\n            paddingWidth,\n            paddingHeight,\n            contentWidth,\n            contentHeight,\n        });\n    }, [props.id, width, height, paddingWidth, paddingHeight, contentWidth, contentHeight, updateSize]);\n    const currentStyle = useMemo(() => {\n        const sumViewSize = (acc = 0, view) => {\n            var _a, _b, _c, _d;\n            if (parentLayout === Layout.Row) {\n                return acc + ((_b = (_a = sizes[view.id]) === null || _a === void 0 ? void 0 : _a.contentWidth) !== null && _b !== void 0 ? _b : 0);\n            }\n            return acc + ((_d = (_c = sizes[view.id]) === null || _c === void 0 ? void 0 : _c.contentHeight) !== null && _d !== void 0 ? _d : 0);\n        };\n        const hasFillOption = isViewCompatibleWithSizeOption({\n            width: props.width,\n            height: props.height,\n            parentLayout,\n            option: 'fill',\n        });\n        if (hasFillOption) {\n            const wrapSiblingsSize = siblings\n                .filter(({ width, height }) => !isViewCompatibleWithSizeOption({\n                width: width,\n                height: height,\n                parentLayout,\n                option: 'fill',\n            }))\n                .reduce(sumViewSize, 0);\n            const fillSiblingCount = siblings.filter(({ width, height }) => isViewCompatibleWithSizeOption({\n                width: width,\n                height: height,\n                parentLayout,\n                option: 'fill',\n            })).length;\n            const maxSizeOption = (() => {\n                if (parentLayout === Layout.Row) {\n                    return {\n                        maxWidth: `calc((100% - ${wrapSiblingsSize}px) / ${fillSiblingCount})`,\n                    };\n                }\n                return {\n                    maxHeight: `calc((100% - ${wrapSiblingsSize}px) / ${fillSiblingCount})`,\n                };\n            })();\n            return Object.assign(Object.assign(Object.assign({}, style), maxSizeOption), (width == 0 && { height: 0 }));\n        }\n        else {\n            const currentElemIdx = siblings.findIndex((sibling) => sibling.id === id);\n            const forwardSiblingsSize = siblings\n                .slice(0, currentElemIdx)\n                .filter(({ width, height }) => isViewCompatibleWithSizeOption({\n                width: width,\n                height: height,\n                parentLayout,\n                option: 'wrap',\n            }))\n                .reduce(sumViewSize, 0);\n            return Object.assign(Object.assign(Object.assign({}, style), (width === 0 && { height: 0 })), (parentLayout === Layout.Row\n                ? {\n                    maxWidth: `calc(100% - ${forwardSiblingsSize}px)`,\n                }\n                : {\n                    maxHeight: `calc(100% - ${forwardSiblingsSize}px)`,\n                }));\n        }\n    }, [props.width, props.height, parentLayout, sizes, siblings, style, width, id]);\n    return { recalculatedStyle: currentStyle, elemRef };\n}\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { ComponentType } from '@sendbird/uikit-message-template';\nimport { useMessageContext } from '../context/MessageContextProvider';\nimport { useRecalculateWidth } from '../hook/useRecalculationSize';\nconst hasValidUrlProtocol = (url = '') => ['http://', 'https://', 'ftp://'].some((protocol) => url.startsWith(protocol));\n/**\n * @param url - url to be checked\n * @returns url with http:// protocol if it doesn't have any protocol\n * @example\n * returnUrl('www.sendbird.com') // returns 'http://www.sendbird.com'\n * returnUrl('https://www.sendbird.com') // returns 'https://www.sendbird.com'\n * returnUrl('ftp://www.sendbird.com') // returns 'ftp://www.sendbird.com'\n * returnUrl('sendbird.com') // returns 'https://sendbird.com'\n **/\nconst returnUrl = (url = '') => {\n    if (hasValidUrlProtocol(url)) {\n        return url;\n    }\n    return `https://${url}`;\n};\n// todo: semantic html here is not perfect, need to revisit. Same for Button\nexport const ActionHandler = ({ children, props, className, style }) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n    const { recalculatedStyle, elemRef } = useRecalculateWidth({ style, props });\n    const { message, handleWebAction, handleCustomAction, handlePredefinedAction } = useMessageContext();\n    const borderClass = ((_a = props.viewStyle) === null || _a === void 0 ? void 0 : _a.borderWidth) ? 'sb-message-template__border' : '';\n    const paddingStyles = {\n        paddingBlockStart: (_c = (_b = props.viewStyle) === null || _b === void 0 ? void 0 : _b.padding) === null || _c === void 0 ? void 0 : _c.top,\n        paddingBlockEnd: (_e = (_d = props.viewStyle) === null || _d === void 0 ? void 0 : _d.padding) === null || _e === void 0 ? void 0 : _e.bottom,\n        paddingInlineStart: (_g = (_f = props.viewStyle) === null || _f === void 0 ? void 0 : _f.padding) === null || _g === void 0 ? void 0 : _g.left,\n        paddingInlineEnd: (_j = (_h = props.viewStyle) === null || _h === void 0 ? void 0 : _h.padding) === null || _j === void 0 ? void 0 : _j.right,\n    };\n    const onClick = (e) => {\n        var _a, _b, _c, _d, _e, _f, _g;\n        if (((_a = props.action) === null || _a === void 0 ? void 0 : _a.type) === 'web') {\n            if (handleWebAction) {\n                handleWebAction(e, props.action, message);\n            }\n            else {\n                (_c = window === null || window === void 0 ? void 0 : window.open(returnUrl((_b = props === null || props === void 0 ? void 0 : props.action) === null || _b === void 0 ? void 0 : _b.data), '_blank', 'noopener noreferrer')) === null || _c === void 0 ? void 0 : _c.focus();\n            }\n        }\n        else if (((_d = props.action) === null || _d === void 0 ? void 0 : _d.type) === 'custom') {\n            if (handleCustomAction) {\n                handleCustomAction(e, props.action, message);\n            }\n            else {\n                (_f = window === null || window === void 0 ? void 0 : window.open(returnUrl((_e = props === null || props === void 0 ? void 0 : props.action) === null || _e === void 0 ? void 0 : _e.data), '_blank', 'noopener noreferrer')) === null || _f === void 0 ? void 0 : _f.focus();\n            }\n        }\n        else if (((_g = props.action) === null || _g === void 0 ? void 0 : _g.type) === 'uikit') {\n            handlePredefinedAction === null || handlePredefinedAction === void 0 ? void 0 : handlePredefinedAction(e, props.action, message);\n        }\n    };\n    if (props.type === ComponentType.TextButton) {\n        return (React.createElement(\"button\", { className: clx(className, borderClass), \"data-sb-template-id\": props.elementId, style: Object.assign(Object.assign({}, style), paddingStyles), onClick: onClick }, children));\n    }\n    const { display, flexDirection, justifyContent, alignItems, objectFit } = recalculatedStyle, wrapperStyles = __rest(recalculatedStyle, [\"display\", \"flexDirection\", \"justifyContent\", \"alignItems\", \"objectFit\"]);\n    return (React.createElement(\"div\", { ref: elemRef, className: clx(className, borderClass, props.action && 'sb-message-template__action'), \"data-sb-template-id\": props.elementId, style: wrapperStyles, onClick: onClick },\n        React.createElement(\"div\", { style: Object.assign({ display,\n                flexDirection,\n                justifyContent,\n                alignItems,\n                objectFit, width: '100%', height: '100%' }, paddingStyles) }, children)));\n};\nfunction clx(...names) {\n    return names.filter((it) => !!it).join(' ');\n}\n", "import React from 'react';\nimport { FlexSizeSpecValue, Layout, createMessageTemplate, createParser, createRenderer, defaultProperties, } from '@sendbird/uikit-message-template';\nimport { Carousel } from '../components/Carousel';\nimport ReactMessageTemplateImage from '../components/ReactMessageTemplateImage';\nimport '../index.css';\nimport { getDefaultStyles, setAlign, setImageAspectRatio, setImageStyle, setTextAlign, setTextStyle, setViewProps, webkitLineClampStyles, } from '../styles';\nimport { ActionHandler } from './ActionHandler';\n/**\n * Text that is fixed or fill parent should be wrapped in a div with max-width: 100% and max-height: 100%\n * This is to prevent text from overflowing the padding of the container\n */\nfunction isFixedOrFill(view) {\n    var _a, _b, _c, _d;\n    const heightType = (_a = view === null || view === void 0 ? void 0 : view.height) === null || _a === void 0 ? void 0 : _a.type;\n    const widthType = (_b = view === null || view === void 0 ? void 0 : view.width) === null || _b === void 0 ? void 0 : _b.type;\n    const isFixedDiamension = heightType === 'fixed' || widthType === 'fixed';\n    const isFill = (heightType === 'flex' && ((_c = view === null || view === void 0 ? void 0 : view.height) === null || _c === void 0 ? void 0 : _c.value) === FlexSizeSpecValue.FillParent) ||\n        (widthType === 'flex' && ((_d = view === null || view === void 0 ? void 0 : view.width) === null || _d === void 0 ? void 0 : _d.value) === FlexSizeSpecValue.FillParent);\n    return isFixedDiamension || isFill;\n}\nfunction convertNewlinesToBr(text) {\n    return text.split('\\n').map((line, index) => (React.createElement(React.Fragment, { key: index },\n        line,\n        React.createElement(\"br\", null))));\n}\nfunction renderText(view) {\n    const { text, maxTextLines } = view;\n    const isToBeWrapped = isFixedOrFill(view);\n    const hasMaxLines = typeof maxTextLines === 'number' && maxTextLines > 0;\n    const convertedText = convertNewlinesToBr(text);\n    if (hasMaxLines || isToBeWrapped) {\n        const wrapperStyling = Object.assign(Object.assign({}, ((hasMaxLines || isToBeWrapped) && { maxWidth: '100%' })), (isToBeWrapped && { maxHeight: '100%', overflow: 'hidden' }));\n        return (React.createElement(\"div\", { style: wrapperStyling }, hasMaxLines ? React.createElement(\"div\", { style: webkitLineClampStyles(maxTextLines) }, convertedText) : convertedText));\n    }\n    return hasMaxLines ? React.createElement(\"div\", { style: webkitLineClampStyles(maxTextLines) }, convertedText) : convertedText;\n}\nexport const renderer = createRenderer({\n    views: {\n        box(props) {\n            return (React.createElement(ActionHandler, { className: \"sb-message-template__box\", elementId: props.elementId, style: props.parsedProperties, props: props }, props.children));\n        },\n        text(props) {\n            return (React.createElement(ActionHandler, { className: \"sb-message-template__text\", elementId: props.elementId, style: props.parsedProperties, props: props }, renderText(props)));\n        },\n        image(props) {\n            var _a;\n            // todo: add image backup\n            return (React.createElement(ActionHandler, { className: \"sb-message-template__image-container\", elementId: props.elementId, style: props.parsedProperties, props: props },\n                React.createElement(ReactMessageTemplateImage, { className: \"sb-message-template__image\", alt: \"image\", src: props.imageUrl, style: { width: '100%', height: '100%', aspectRatio: 'inherit', objectFit: 'inherit' }, tintColor: (_a = props.imageStyle) === null || _a === void 0 ? void 0 : _a.tintColor, metaData: props.metaData })));\n        },\n        textButton(props) {\n            return (React.createElement(ActionHandler, { className: \"sb-message-template__text-button\", elementId: props.elementId, style: props.parsedProperties, props: props }, renderText(Object.assign({ maxTextLines: defaultProperties.textButton.maxTextLines }, props))));\n        },\n        imageButton(props) {\n            var _a;\n            return (React.createElement(ActionHandler, { className: \"sb-message-template__image-container sb-message-template__image-button\", elementId: props.elementId, style: props.parsedProperties, props: props },\n                React.createElement(ReactMessageTemplateImage, { className: \"sb-message-template__image\", alt: \"image-button\", src: props.imageUrl, style: { width: '100%', height: '100%', aspectRatio: 'inherit', objectFit: 'inherit' }, tintColor: (_a = props.imageStyle) === null || _a === void 0 ? void 0 : _a.tintColor, metaData: props.metaData })));\n        },\n        carouselView(props) {\n            var _a, _b;\n            return (React.createElement(Carousel, { maxChildWidth: (_a = props.carouselStyle) === null || _a === void 0 ? void 0 : _a.maxChildWidth, spacing: (_b = props.carouselStyle) === null || _b === void 0 ? void 0 : _b.spacing, style: props.parsedProperties }, props.children));\n        },\n    },\n});\nexport const parser = createParser({\n    mapBoxProps(props, options) {\n        const styles = getDefaultStyles();\n        setViewProps(styles, props, options);\n        setAlign(styles, props.layout, props.align);\n        return styles;\n    },\n    mapTextProps(props, options) {\n        var _a;\n        const styles = getDefaultStyles({ whiteSpace: 'pre-line', wordBreak: 'break-word' });\n        // Better not set flex 1 to text\n        setViewProps(styles, props, options);\n        setTextStyle(styles, props, options);\n        setAlign(styles, Layout.Row, props.align);\n        setTextAlign(styles, (_a = props.align) === null || _a === void 0 ? void 0 : _a.horizontal);\n        return styles;\n    },\n    mapImageProps(props, options) {\n        const styles = getDefaultStyles();\n        setViewProps(styles, props, options);\n        setImageStyle(styles, props.imageStyle);\n        setImageAspectRatio(styles, props);\n        return styles;\n    },\n    mapTextButtonProps(props, options) {\n        const styles = getDefaultStyles({ whiteSpace: 'pre-line', alignItems: 'center', justifyContent: 'center' });\n        setViewProps(styles, props, options);\n        setTextStyle(styles, props, options);\n        return styles;\n    },\n    mapImageButtonProps(props, options) {\n        const styles = getDefaultStyles();\n        setViewProps(styles, props, options);\n        setImageStyle(styles, props.imageStyle);\n        setImageAspectRatio(styles, props);\n        return styles;\n    },\n    mapCarouselProps(props, options) {\n        var _a, _b, _c, _d, _e, _f, _g, _h;\n        const styles = getDefaultStyles();\n        setViewProps(styles, props, options);\n        styles['paddingBlockStart'] = (_b = (_a = props.viewStyle) === null || _a === void 0 ? void 0 : _a.padding) === null || _b === void 0 ? void 0 : _b.top;\n        styles['paddingBlockEnd'] = (_d = (_c = props.viewStyle) === null || _c === void 0 ? void 0 : _c.padding) === null || _d === void 0 ? void 0 : _d.bottom;\n        styles['paddingInlineStart'] = (_f = (_e = props.viewStyle) === null || _e === void 0 ? void 0 : _e.padding) === null || _f === void 0 ? void 0 : _f.left;\n        styles['paddingInlineEnd'] = (_h = (_g = props.viewStyle) === null || _g === void 0 ? void 0 : _g.padding) === null || _h === void 0 ? void 0 : _h.right;\n        return styles;\n    },\n});\nexport const { MessageTemplate } = createMessageTemplate({\n    renderer,\n    parser,\n    Container: ({ children, className }) => {\n        return (React.createElement(\"div\", { className: `sb-message-template__parent ${className}`, style: {\n                display: 'flex',\n                flexDirection: 'column',\n                maxWidth: 400,\n                marginBlockEnd: 24,\n            } }, children));\n    },\n});\n", "import React__default, { useContext } from 'react';\nimport { L as LocalizationContext } from '../chunks/bundle-y-yf0Djs.js';\nimport { y as getClassName } from '../chunks/bundle-Ug7rKzFJ.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BDIF-bj_.js';\n\nfunction FallbackTemplateMessageItemBody(_a) {\n    var className = _a.className, message = _a.message, isByMe = _a.isByMe;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var text = message['message'];\n    return (React__default.createElement(\"div\", { className: getClassName([\n            className !== null && className !== void 0 ? className : '',\n            isByMe ? 'outgoing' : 'incoming',\n            'sendbird-template-message-item-body__fallback_message',\n        ]) }, text\n        ? React__default.createElement(React__default.Fragment, null,\n            React__default.createElement(Label, { type: LabelTypography.BODY_1, color: LabelColors.ONCONTENT_INVERSE_1 }, text))\n        : React__default.createElement(React__default.Fragment, null,\n            React__default.createElement(Label, { className: 'sendbird-template-message-item-body__fallback_message__header', type: LabelTypography.BODY_1, color: LabelColors.ONCONTENT_INVERSE_1 }, stringSet.UNKNOWN__TEMPLATE_ERROR),\n            React__default.createElement(Label, { className: 'sendbird-template-message-item-body__fallback_message__description', type: LabelTypography.BODY_1, color: LabelColors.ONCONTENT_INVERSE_3 }, stringSet.UNKNOWN__CANNOT_READ_TEMPLATE))));\n}\n\nexport { FallbackTemplateMessageItemBody, FallbackTemplateMessageItemBody as default };\n//# sourceMappingURL=FallbackTemplateMessageItemBody.tsx.js.map\n", "import React__default from 'react';\nimport Loader from './Loader.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { c as classnames } from '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-BosquA9C.js';\n\nvar TEMPLATE_LOADING_SPINNER_SIZE = '40px';\nfunction LoadingTemplateMessageItemBody(_a) {\n    var className = _a.className, isByMe = _a.isByMe;\n    return (React__default.createElement(\"div\", { className: classnames(className, isByMe ? 'outgoing' : 'incoming', 'sendbird-template-loading-message-item-body') },\n        React__default.createElement(Loader, { className: \"sendbird-message-status__icon\", testID: \"sendbird-message-status-icon\", width: TEMPLATE_LOADING_SPINNER_SIZE, height: TEMPLATE_LOADING_SPINNER_SIZE },\n            React__default.createElement(Icon, { type: IconTypes.SPINNER, fillColor: IconColors.CONTENT_INVERSE_3, width: TEMPLATE_LOADING_SPINNER_SIZE, height: TEMPLATE_LOADING_SPINNER_SIZE }))));\n}\n\nexport { LoadingTemplateMessageItemBody, LoadingTemplateMessageItemBody as default };\n//# sourceMappingURL=LoadingTemplateMessageItemBody.tsx.js.map\n", "import React__default, { useContext, useRef } from 'react';\nimport { L as LocalizationContext } from '../chunks/bundle-y-yf0Djs.js';\nimport { M as Modal } from '../chunks/bundle-ZMBEGemL.js';\nimport Button, { ButtonTypes } from './Button.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { u as useKeyDown } from '../chunks/bundle-CsZOw9J5.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport 'react-dom';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-DvgqpwmQ.js';\nimport './IconButton.js';\nimport './Icon.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport '../chunks/bundle-Bk7vYzLW.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport '@sendbird/uikit-tools';\n\nfunction MessageFeedbackFailedModal(props) {\n    var text = props.text, onCancel = props.onCancel;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var modalRef = useRef(null);\n    var onKeyDown = useKeyDown(modalRef, {\n        Enter: function () { return onCancel === null || onCancel === void 0 ? void 0 : onCancel(); },\n        Escape: function () { return onCancel === null || onCancel === void 0 ? void 0 : onCancel(); },\n    });\n    return (React__default.createElement(\"div\", { onKeyDown: onKeyDown },\n        React__default.createElement(Modal, { contentClassName: 'sendbird-message-feedback-modal-content__mobile', type: ButtonTypes.PRIMARY, onSubmit: onCancel, onClose: onCancel, submitText: stringSet.BUTTON__OK, renderHeader: function () { return (React__default.createElement(\"div\", { className: 'sendbird-modal__header' },\n                React__default.createElement(Label, { type: LabelTypography.H_1, color: LabelColors.ONBACKGROUND_1, className: 'sendbird-message-feedback-modal-header' }, text))); }, customFooter: React__default.createElement(\"div\", { className: 'sendbird-message-feedback-modal-footer__root_failed' },\n                React__default.createElement(Button, { onClick: onCancel },\n                    React__default.createElement(Label, { type: LabelTypography.BUTTON_3, color: LabelColors.ONCONTENT_1 }, stringSet.BUTTON__OK))) })));\n}\n\nexport { MessageFeedbackFailedModal as default };\n//# sourceMappingURL=MessageFeedbackFailedModal.js.map\n", "import React__default from 'react';\n\nvar FeedbackIconButton = React__default.forwardRef(function (props, ref) {\n    var children = props.children, isSelected = props.isSelected, _a = props.onClick, onClick = _a === void 0 ? function () { } : _a, _b = props.disabled, disabled = _b === void 0 ? false : _b;\n    return (React__default.createElement(\"button\", { className: [\n            'sendbird-iconbutton__feedback',\n            isSelected ? 'sendbird-iconbutton__feedback__pressed' : '',\n            disabled ? 'sendbird-iconbutton__feedback__disabled' : '',\n        ].join(' '), ref: ref, type: 'button', onClick: function (e) {\n            onClick === null || onClick === void 0 ? void 0 : onClick(e);\n        }, disabled: disabled },\n        React__default.createElement(\"span\", { className: [\n                'sendbird-iconbutton__feedback__inner',\n                isSelected ? 'sendbird-iconbutton__feedback__inner__pressed' : '',\n                disabled ? 'sendbird-iconbutton__feedback__inner__disabled' : '',\n            ].join(' ') }, children)));\n});\n\nexport { FeedbackIconButton as default };\n//# sourceMappingURL=FeedbackIconButton.js.map\n", "import React__default from 'react';\nimport BottomSheet from './BottomSheet.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { u as useLocalization } from '../chunks/bundle-y-yf0Djs.js';\nimport 'react-dom';\nimport '../hooks/useModal.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-ZMBEGemL.js';\nimport '../chunks/bundle-DvgqpwmQ.js';\nimport './IconButton.js';\nimport './Button.js';\nimport './Icon.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport '../chunks/bundle-Bk7vYzLW.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\n\nfunction MobileFeedbackMenu(props) {\n    var hideMenu = props.hideMenu, onEditFeedback = props.onEditFeedback, onRemoveFeedback = props.onRemoveFeedback;\n    var stringSet = useLocalization().stringSet;\n    return (React__default.createElement(BottomSheet, { onBackdropClick: hideMenu },\n        React__default.createElement(\"div\", { className: 'sendbird-message__bottomsheet--feedback-options-menu' },\n            React__default.createElement(\"div\", { className: 'sendbird-message__bottomsheet--feedback-option', onClick: function () {\n                    hideMenu();\n                    onEditFeedback();\n                } },\n                React__default.createElement(Label, { type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.EDIT_COMMENT)),\n            React__default.createElement(\"div\", { className: 'sendbird-message__bottomsheet--feedback-option', onClick: function () {\n                    hideMenu();\n                    onRemoveFeedback();\n                } },\n                React__default.createElement(Label, { type: LabelTypography.BODY_1, color: LabelColors.ERROR }, stringSet.REMOVE_FEEDBACK)))));\n}\n\nexport { MobileFeedbackMenu as default };\n//# sourceMappingURL=MobileFeedbackMenu.js.map\n", "import React__default, { useContext, useRef } from 'react';\nimport { L as LocalizationContext } from '../chunks/bundle-y-yf0Djs.js';\nimport { M as Modal } from '../chunks/bundle-ZMBEGemL.js';\nimport Button, { ButtonTypes } from './Button.js';\nimport Input from './Input.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DvgqpwmQ.js';\nimport { u as useKeyDown } from '../chunks/bundle-CsZOw9J5.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport 'react-dom';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport './IconButton.js';\nimport './Icon.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport '../chunks/bundle-Bk7vYzLW.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport '@sendbird/uikit-tools';\n\nfunction MessageFeedbackModal(props) {\n    var _a, _b;\n    var selectedFeedback = props.selectedFeedback, message = props.message, onClose = props.onClose, onSubmit = props.onSubmit, onUpdate = props.onUpdate, onRemove = props.onRemove;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var isMobile = useMediaQueryContext().isMobile;\n    var isEdit = (message === null || message === void 0 ? void 0 : message.myFeedback) && selectedFeedback === message.myFeedback.rating;\n    var hasComment = (_a = message === null || message === void 0 ? void 0 : message.myFeedback) === null || _a === void 0 ? void 0 : _a.comment;\n    var onSubmitWrapper = function () {\n        var _a, _b, _c;\n        if (!selectedFeedback)\n            return;\n        var comment = (_b = (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : '';\n        if (isEdit) {\n            if (comment !== ((_c = message.myFeedback) === null || _c === void 0 ? void 0 : _c.comment)) {\n                onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(selectedFeedback, comment);\n            }\n            else {\n                onClose === null || onClose === void 0 ? void 0 : onClose();\n            }\n        }\n        else if (!message.myFeedback) {\n            onSubmit === null || onSubmit === void 0 ? void 0 : onSubmit(selectedFeedback, comment);\n        }\n    };\n    var modalRef = useRef();\n    var inputRef = useRef();\n    var onKeyDown = useKeyDown(modalRef, {\n        Enter: function () { return onSubmitWrapper(); },\n        Escape: function () { return onClose === null || onClose === void 0 ? void 0 : onClose(); },\n    });\n    return (React__default.createElement(\"div\", { onKeyDown: onKeyDown },\n        React__default.createElement(Modal, { contentClassName: 'sendbird-message-feedback-modal-content__mobile', type: ButtonTypes.PRIMARY, onCancel: onClose, onSubmit: function () {\n                onSubmitWrapper();\n            }, submitText: stringSet.BUTTON__SUBMIT, renderHeader: function () { return (React__default.createElement(\"div\", { className: 'sendbird-modal__header' },\n                React__default.createElement(Label, { type: LabelTypography.H_1, color: LabelColors.ONBACKGROUND_1, className: 'sendbird-message-feedback-modal-header' }, stringSet.FEEDBACK_MODAL_TITLE))); }, customFooter: React__default.createElement(\"div\", { className: 'sendbird-message-feedback-modal-footer__root' },\n                !isMobile && (message === null || message === void 0 ? void 0 : message.myFeedback) && selectedFeedback === message.myFeedback.rating\n                    ? React__default.createElement(Button, { type: ButtonTypes.WARNING, onClick: onRemove, labelType: LabelTypography.BUTTON_3 }, stringSet.BUTTON__REMOVE_FEEDBACK)\n                    : React__default.createElement(\"div\", null),\n                React__default.createElement(\"div\", { className: 'sendbird-message-feedback-modal-footer__right-content' },\n                    React__default.createElement(Button, { type: ButtonTypes.SECONDARY, onClick: onClose },\n                        React__default.createElement(Label, { type: LabelTypography.BUTTON_3, color: LabelColors.ONBACKGROUND_1 }, stringSet.BUTTON__CANCEL)),\n                    React__default.createElement(Button, { onClick: function () { return onSubmitWrapper(); } },\n                        React__default.createElement(Label, { type: LabelTypography.BUTTON_3, color: LabelColors.ONCONTENT_1 }, hasComment ? stringSet.BUTTON__SAVE : stringSet.BUTTON__SUBMIT)))) },\n            React__default.createElement(\"div\", { className: 'sendbird-message-feedback-modal-body__root' },\n                React__default.createElement(Input, { name: 'sendbird-message-feedback-modal-body__root', ref: inputRef, value: isEdit ? (_b = message.myFeedback) === null || _b === void 0 ? void 0 : _b.comment : undefined, placeHolder: stringSet.FEEDBACK_CONTENT_PLACEHOLDER, autoFocus: true })))));\n}\n\nexport { MessageFeedbackModal as default };\n//# sourceMappingURL=MessageFeedbackModal.js.map\n", "import { useState, useEffect } from 'react';\n\n/* global MutationCallback */\n/* global MutationObserverInit */\n// To prevent Undefined lint errors: https://github.com/standard/standard/issues/1159#issuecomment-403003627\nfunction useElementObserver(selector, targetElement) {\n    var _a = useState(false), isElementMounted = _a[0], setIsElementMounted = _a[1];\n    useEffect(function () {\n        var targetElements = Array.isArray(targetElement) ? targetElement : [targetElement];\n        var updateElementState = function () {\n            var _a;\n            var elements = targetElements === null || targetElements === void 0 ? void 0 : targetElements.map(function (target) { return target === null || target === void 0 ? void 0 : target.querySelector(selector); });\n            setIsElementMounted((_a = elements === null || elements === void 0 ? void 0 : elements.some(function (element) { return !!element; })) !== null && _a !== void 0 ? _a : false);\n        };\n        updateElementState();\n        var observerCallback = function (mutations) {\n            mutations.forEach(function (mutation) {\n                if (mutation.addedNodes.length || mutation.removedNodes.length) {\n                    Array.from(mutation.addedNodes).forEach(function (node) {\n                        if (node.nodeType === Node.ELEMENT_NODE && node.matches(selector)) {\n                            setIsElementMounted(true);\n                        }\n                    });\n                    Array.from(mutation.removedNodes).forEach(function (node) {\n                        if (node.nodeType === Node.ELEMENT_NODE && node.matches(selector)) {\n                            setIsElementMounted(false);\n                        }\n                    });\n                }\n            });\n        };\n        var observer = new MutationObserver(observerCallback);\n        var observerOptions = {\n            childList: true, // Observe addition and removal of child nodes\n            subtree: true, // Observe the entire subtree\n        };\n        targetElements === null || targetElements === void 0 ? void 0 : targetElements.forEach(function (target) {\n            if (target)\n                observer.observe(target, observerOptions);\n        });\n        return function () {\n            observer.disconnect();\n        };\n    }, [selector, targetElement]);\n    return isElementMounted;\n}\n\nexport { useElementObserver as u };\n//# sourceMappingURL=bundle-C-Qr6Xbj.js.map\n", "import React__default, { useState } from 'react';\n\nvar ReplyItem = function (_a) {\n    var value = _a.value, onClickReply = _a.onClickReply, _b = _a.type, type = _b === void 0 ? 'vertical' : _b;\n    return (React__default.createElement(\"div\", { className: \"sendbird-suggested-replies__option \".concat(type), id: value, onClick: function (e) { return onClickReply(e, value); } }, value));\n};\nvar SuggestedReplies = function (_a) {\n    var replyOptions = _a.replyOptions, onSendMessage = _a.onSendMessage, _b = _a.type, type = _b === void 0 ? 'vertical' : _b;\n    var _c = useState(false), replied = _c[0], setReplied = _c[1];\n    var onClickReply = function (event, option) {\n        event.preventDefault();\n        onSendMessage({ message: option });\n        setReplied(true);\n    };\n    if (replied) {\n        return null;\n    }\n    var children = replyOptions.map(function (option, index) {\n        return (React__default.createElement(ReplyItem, { key: index, value: option, onClickReply: onClickReply, type: type }));\n    });\n    return React__default.createElement(\"div\", { className: \"sendbird-suggested-replies \".concat(type) }, children);\n};\n\nexport { ReplyItem, SuggestedReplies as default };\n//# sourceMappingURL=SuggestedReplies.js.map\n", "import React__default, { useRef, useContext, useEffect, useMemo, useState } from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from './bundle-MoKyCGQH.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport { A as Avatar } from './bundle-BkCv3z1C.js';\nimport { L as LocalizationContext, u as useLocalization } from './bundle-y-yf0Djs.js';\nimport { u as uuidv4 } from './bundle-BGRwc73U.js';\nimport { c as classnames } from './bundle-Bc1fdQjj.js';\nimport { a as USER_MENTION_TEMP_CHAR, M as MAX_USER_MENTION_COUNT, b as MAX_USER_SUGGESTION_COUNT } from './bundle-mxwNwHvq.js';\nimport { M as MessageInputKeys } from './bundle-B-wIh5Qv.js';\nimport { b as __awaiter, c as __generator } from './bundle-BosquA9C.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\n\nfunction SuggestedUserMentionItem(props) {\n    var member = props.member, _a = props.isFocused, isFocused = _a === void 0 ? false : _a, parentScrollRef = props.parentScrollRef, onClick = props.onClick, onMouseOver = props.onMouseOver, onMouseMove = props.onMouseMove, renderUserMentionItem = props.renderUserMentionItem;\n    var scrollRef = useRef(null);\n    var stringSet = useContext(LocalizationContext).stringSet;\n    useEffect(function () {\n        if (isFocused && (parentScrollRef === null || parentScrollRef === void 0 ? void 0 : parentScrollRef.current) != null && (scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current) != null\n            && (parentScrollRef.current.scrollTop >= scrollRef.current.offsetTop\n                || parentScrollRef.current.scrollTop + parentScrollRef.current.clientHeight <= scrollRef.current.offsetTop)) {\n            scrollRef.current.scrollIntoView({ block: 'nearest', inline: 'nearest' });\n        }\n    }, [isFocused]);\n    var customMentionItem = useMemo(function () {\n        if (renderUserMentionItem) {\n            return (React__default.createElement(\"div\", { className: \"sendbird-mention-suggest-list__user-item\", onClick: function (event) { return onClick === null || onClick === void 0 ? void 0 : onClick({ event: event, member: member, itemRef: scrollRef }); }, onMouseOver: function (event) { return onMouseOver === null || onMouseOver === void 0 ? void 0 : onMouseOver({ event: event, member: member, itemRef: scrollRef }); }, onMouseMove: function (event) { return onMouseMove === null || onMouseMove === void 0 ? void 0 : onMouseMove({ event: event, member: member, itemRef: scrollRef }); }, key: (member === null || member === void 0 ? void 0 : member.userId) || uuidv4(), ref: scrollRef }, renderUserMentionItem({ user: member })));\n        }\n    }, [renderUserMentionItem]);\n    if (customMentionItem) {\n        return customMentionItem;\n    }\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-mention-suggest-list__user-item', isFocused && 'focused'), onClick: function (event) { return onClick === null || onClick === void 0 ? void 0 : onClick({ event: event, member: member, itemRef: scrollRef }); }, onMouseOver: function (event) { return onMouseOver === null || onMouseOver === void 0 ? void 0 : onMouseOver({ event: event, member: member, itemRef: scrollRef }); }, onMouseMove: function (event) { return onMouseMove === null || onMouseMove === void 0 ? void 0 : onMouseMove({ event: event, member: member, itemRef: scrollRef }); }, key: (member === null || member === void 0 ? void 0 : member.userId) || uuidv4(), ref: scrollRef },\n        React__default.createElement(Avatar, { className: \"sendbird-mention-suggest-list__user-item__avatar\", src: member === null || member === void 0 ? void 0 : member.profileUrl, alt: \"user-profile\", width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { className: \"sendbird-mention-suggest-list__user-item__nickname\", testID: \"sendbird-mention-suggest-list__user-item__nickname\", type: LabelTypography.SUBTITLE_2, color: (member === null || member === void 0 ? void 0 : member.nickname) ? LabelColors.ONBACKGROUND_1 : LabelColors.ONBACKGROUND_3 }, (member === null || member === void 0 ? void 0 : member.nickname) || (stringSet === null || stringSet === void 0 ? void 0 : stringSet.MENTION_NAME__NO_NAME)),\n        React__default.createElement(Label, { className: \"sendbird-mention-suggest-list__user-item__user-id\", testID: \"sendbird-mention-suggest-list__user-item__user-id\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_2 }, member === null || member === void 0 ? void 0 : member.userId)));\n}\n\nfunction fetchMembersFromChannel(currentUserId, channel, maxSuggestionCount, searchString) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, channel.members\n                    .sort(function (a, b) { var _a; return (_a = a.nickname) === null || _a === void 0 ? void 0 : _a.localeCompare(b.nickname); })\n                    .filter(function (member) {\n                    var _a;\n                    return ((_a = member.nickname) === null || _a === void 0 ? void 0 : _a.toLowerCase().startsWith(searchString.toLowerCase()))\n                        && member.userId !== currentUserId\n                        && member.isActive;\n                }).slice(0, maxSuggestionCount)];\n        });\n    });\n}\nfunction fetchMembersFromQuery(currentUserId, channel, maxSuggestionCount, searchString) {\n    return __awaiter(this, void 0, void 0, function () {\n        var query;\n        return __generator(this, function (_a) {\n            query = channel.createMemberListQuery({\n                limit: maxSuggestionCount + 1, // because current user could be included\n                nicknameStartsWithFilter: searchString,\n            });\n            return [2 /*return*/, query.next()\n                    .then(function (memberList) {\n                    return memberList\n                        .filter(function (member) { return currentUserId !== (member === null || member === void 0 ? void 0 : member.userId); })\n                        .slice(0, maxSuggestionCount);\n                })];\n        });\n    });\n}\n\nvar DEBOUNCING_TIME = 300;\nvar SuggestedMentionListView = function (props) {\n    var _a, _b, _c;\n    var className = props.className, currentChannel = props.currentChannel, _d = props.targetNickname, targetNickname = _d === void 0 ? '' : _d, \n    // memberListQuery,\n    onUserItemClick = props.onUserItemClick, onFocusItemChange = props.onFocusItemChange, onFetchUsers = props.onFetchUsers, renderUserMentionItem = props.renderUserMentionItem, inputEvent = props.inputEvent, _e = props.ableAddMention, ableAddMention = _e === void 0 ? true : _e, _f = props.maxMentionCount, maxMentionCount = _f === void 0 ? MAX_USER_MENTION_COUNT : _f, _g = props.maxSuggestionCount, maxSuggestionCount = _g === void 0 ? MAX_USER_SUGGESTION_COUNT : _g;\n    var state = useSendbird().state;\n    var config = state.config, stores = state.stores;\n    var logger = config.logger;\n    var currentUserId = ((_c = (_b = (_a = stores === null || stores === void 0 ? void 0 : stores.sdkStore) === null || _a === void 0 ? void 0 : _a.sdk) === null || _b === void 0 ? void 0 : _b.currentUser) === null || _c === void 0 ? void 0 : _c.userId) || '';\n    var scrollRef = useRef(null);\n    var stringSet = useLocalization().stringSet;\n    var _h = useState(null), timer = _h[0], setTimer = _h[1];\n    var _j = useState(''), searchString = _j[0], setSearchString = _j[1];\n    var _k = useState(''), lastSearchString = _k[0], setLastSearchString = _k[1];\n    var _l = useState(null), currentFocusedMember = _l[0], setCurrentFocusedMember = _l[1];\n    var _m = useState([]), currentMemberList = _m[0], setCurrentMemberList = _m[1];\n    useEffect(function () {\n        clearTimeout(timer !== null && timer !== void 0 ? timer : undefined);\n        setTimer(setTimeout(function () {\n            setSearchString(targetNickname);\n        }, DEBOUNCING_TIME));\n    }, [targetNickname]);\n    useEffect(function () {\n        if ((inputEvent === null || inputEvent === void 0 ? void 0 : inputEvent.key) === MessageInputKeys.Enter) {\n            if (currentFocusedMember && currentMemberList.length > 0) {\n                onUserItemClick === null || onUserItemClick === void 0 ? void 0 : onUserItemClick(currentFocusedMember);\n            }\n        }\n        if ((inputEvent === null || inputEvent === void 0 ? void 0 : inputEvent.key) === MessageInputKeys.ArrowUp) {\n            var currentUserIndex = currentMemberList.findIndex(function (member) { return (member === null || member === void 0 ? void 0 : member.userId) === (currentFocusedMember === null || currentFocusedMember === void 0 ? void 0 : currentFocusedMember.userId); });\n            if (0 < currentUserIndex) {\n                setCurrentFocusedMember(currentMemberList[currentUserIndex - 1]);\n                onFocusItemChange === null || onFocusItemChange === void 0 ? void 0 : onFocusItemChange(currentMemberList[currentUserIndex - 1]);\n            }\n        }\n        if ((inputEvent === null || inputEvent === void 0 ? void 0 : inputEvent.key) === MessageInputKeys.ArrowDown) {\n            var currentUserIndex = currentMemberList.findIndex(function (member) { return (member === null || member === void 0 ? void 0 : member.userId) === (currentFocusedMember === null || currentFocusedMember === void 0 ? void 0 : currentFocusedMember.userId); });\n            if (currentUserIndex < currentMemberList.length - 1) {\n                setCurrentFocusedMember(currentMemberList[currentUserIndex + 1]);\n                onFocusItemChange === null || onFocusItemChange === void 0 ? void 0 : onFocusItemChange(currentMemberList[currentUserIndex + 1]);\n            }\n        }\n    }, [inputEvent]);\n    useEffect(function () {\n        if (lastSearchString && searchString.indexOf(lastSearchString) === 0 && currentMemberList.length === 0) {\n            // Don't need to request query again\n            return;\n        }\n        if (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.isSuper) {\n            if (!(currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.createMemberListQuery)) {\n                logger.warning('SuggestedMentionList: Creating member list query failed');\n                return;\n            }\n        }\n        var fetcher = (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.isSuper) ? fetchMembersFromQuery : fetchMembersFromChannel;\n        fetcher(currentUserId, currentChannel, maxSuggestionCount, searchString.slice(USER_MENTION_TEMP_CHAR.length))\n            .then(function (suggestingMembers) {\n            if (suggestingMembers.length < 1) {\n                logger.info('SuggestedMentionList: Fetched member list is empty');\n            }\n            else {\n                logger.info('SuggestedMentionList: Fetching member list succeeded', { memberList: suggestingMembers });\n                setCurrentFocusedMember(suggestingMembers[0]);\n            }\n            setLastSearchString(searchString);\n            onFetchUsers === null || onFetchUsers === void 0 ? void 0 : onFetchUsers(suggestingMembers);\n            setCurrentMemberList(suggestingMembers);\n        })\n            .catch(function (error) {\n            if (error) {\n                logger.error('SuggestedMentionList: Fetching member list failed', error);\n            }\n        });\n    }, [\n        currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url,\n        // We have to be specific like this or React would not recognize the changes in instances.\n        currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members.map(function (member) { return member.nickname; }).join(),\n        currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members.map(function (member) { return member.isActive; }).join(),\n        searchString,\n        maxSuggestionCount,\n        currentUserId,\n        currentMemberList.length,\n        lastSearchString,\n    ]);\n    if (!ableAddMention && currentMemberList.length === 0) {\n        return null;\n    }\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-mention-suggest-list', className), \"data-testid\": \"sendbird-mention-suggest-list\", key: \"sendbird-mention-suggest-list\", ref: scrollRef },\n        ableAddMention\n            && (currentMemberList === null || currentMemberList === void 0 ? void 0 : currentMemberList.map(function (member) { return (React__default.createElement(SuggestedUserMentionItem, { key: (member === null || member === void 0 ? void 0 : member.userId) || uuidv4(), member: member, isFocused: (member === null || member === void 0 ? void 0 : member.userId) === (currentFocusedMember === null || currentFocusedMember === void 0 ? void 0 : currentFocusedMember.userId), parentScrollRef: scrollRef, onClick: function (_a) {\n                    var member = _a.member;\n                    onUserItemClick === null || onUserItemClick === void 0 ? void 0 : onUserItemClick(member);\n                }, onMouseOver: function (_a) {\n                    var member = _a.member;\n                    setCurrentFocusedMember(member);\n                }, renderUserMentionItem: renderUserMentionItem })); })),\n        !ableAddMention && (React__default.createElement(\"div\", { className: \"sendbird-mention-suggest-list__notice-item\" },\n            React__default.createElement(Icon, { className: \"sendbird-mention-suggest-list__notice-item__icon\", type: IconTypes.INFO, fillColor: IconColors.ON_BACKGROUND_2, width: \"20px\", height: \"20px\" }),\n            React__default.createElement(Label, { className: \"sendbird-mention-suggest-list__notice-item__text\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_2 }, stringSet.MENTION_COUNT__OVER_LIMIT.replace('%d', String(maxMentionCount)))))));\n};\n\nexport { SuggestedMentionListView as S };\n//# sourceMappingURL=bundle-CaZn7sCJ.js.map\n", "import { _ as __assign } from '../../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { F as FileViewerView } from '../../chunks/bundle-BoobDQ7G.js';\nimport { useChannelContext } from '../context.js';\nimport 'react-dom';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-CVdCKMn9.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../chunks/bundle-DMK903AV.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../../chunks/bundle-DhzCuHhn.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-BlD_kPlV.js';\n\n/**\n * @deprecated This component is deprecated and will be removed in the next major update.\n * Please use the `GroupChannel` component from '@sendbird/uikit-react/GroupChannel' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar FileViewer = function (props) {\n    var deleteMessage = useChannelContext().deleteMessage;\n    return React__default.createElement(FileViewerView, __assign({}, props, { deleteMessage: deleteMessage }));\n};\n\nexport { FileViewer, FileViewer as default };\n//# sourceMappingURL=FileViewer.js.map\n", "import React__default from 'react';\nimport { createPortal } from 'react-dom';\nimport { A as Avatar } from './bundle-BkCv3z1C.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors, c as LabelStringSet } from './bundle-MoKyCGQH.js';\nimport { h as isSupportedFileView, j as isVideo, k as isImage } from './bundle-Ug7rKzFJ.js';\nimport '../hooks/useModal.js';\nimport { a as MODAL_ROOT, M as Modal } from './bundle-ZMBEGemL.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\n\nvar FileViewerView = function (_a) {\n    var message = _a.message, onCancel = _a.onCancel, deleteMessage = _a.deleteMessage, onDownloadClick = _a.onDownloadClick;\n    var sender = message.sender, type = message.type, url = message.url, _b = message.name, name = _b === void 0 ? '' : _b, threadInfo = message.threadInfo;\n    var profileUrl = sender.profileUrl, nickname = sender.nickname, userId = sender.userId;\n    var state = useSendbird().state;\n    var config = state.config;\n    return createPortal(React__default.createElement(FileViewerComponent, { profileUrl: profileUrl, nickname: nickname, type: type, url: url, name: name, onCancel: onCancel, onDelete: function () { return deleteMessage(message).then(function () { return onCancel(); }); }, isByMe: config.userId === userId, disableDelete: (threadInfo === null || threadInfo === void 0 ? void 0 : threadInfo.replyCount) ? threadInfo.replyCount > 0 : false, onDownloadClick: onDownloadClick }), document.getElementById(MODAL_ROOT));\n};\nvar FileViewerComponent = function (_a) {\n    var \n    // sender\n    profileUrl = _a.profileUrl, nickname = _a.nickname, \n    // file\n    name = _a.name, type = _a.type, url = _a.url, \n    // others\n    isByMe = _a.isByMe, onCancel = _a.onCancel, onDelete = _a.onDelete, disableDelete = _a.disableDelete, onDownloadClick = _a.onDownloadClick;\n    return (React__default.createElement(Modal, { onClose: onCancel },\n        React__default.createElement(\"div\", { className: \"sendbird-fileviewer\", \"data-testid\": \"sendbird-fileviewer\" },\n            React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header\" },\n                React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__left\" },\n                    React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__left__avatar\" },\n                        React__default.createElement(Avatar, { height: \"32px\", width: \"32px\", src: profileUrl })),\n                    React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__left__text-container\" },\n                        React__default.createElement(Label, { className: \"sendbird-fileviewer__header__left__filename\", type: LabelTypography.H_2, color: LabelColors.ONBACKGROUND_1 }, name),\n                        React__default.createElement(Label, { className: \"sendbird-fileviewer__header__left__sender-name\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_2 }, nickname))),\n                React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right\" },\n                    isSupportedFileView(type) && (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions\" },\n                        React__default.createElement(\"a\", { className: \"sendbird-fileviewer__header__right__actions__download\", rel: \"noopener noreferrer\", href: url, target: \"_blank\", onClick: onDownloadClick },\n                            React__default.createElement(Icon, { type: IconTypes.DOWNLOAD, fillColor: IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\" })),\n                        onDelete && isByMe && (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions__delete\" },\n                            React__default.createElement(Icon, { className: disableDelete ? 'disabled' : '', type: IconTypes.DELETE, fillColor: disableDelete ? IconColors.GRAY : IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\", onClick: function () {\n                                    if (!disableDelete) {\n                                        onDelete();\n                                    }\n                                } }))))),\n                    React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions__close\" },\n                        React__default.createElement(Icon, { type: IconTypes.CLOSE, fillColor: IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\", onClick: onCancel })))),\n            React__default.createElement(\"div\", { className: \"sendbird-fileviewer__content\" },\n                isVideo(type) && (React__default.createElement(\"video\", { controls: true, className: \"sendbird-fileviewer__content__video\" },\n                    React__default.createElement(\"source\", { src: url, type: type }))),\n                isImage(type) && React__default.createElement(\"img\", { src: url, alt: name, className: \"sendbird-fileviewer__content__img\" }),\n                !isSupportedFileView(type) && (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__content__unsupported\" },\n                    React__default.createElement(Label, { type: LabelTypography.H_1, color: LabelColors.ONBACKGROUND_1 }, LabelStringSet.UI__FILE_VIEWER__UNSUPPORT)))))));\n};\n\nexport { FileViewerView as F };\n//# sourceMappingURL=bundle-BoobDQ7G.js.map\n", "import { _ as __assign } from '../../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { R as RemoveMessageModalView } from '../../chunks/bundle-DiNcrytb.js';\nimport { useChannelContext } from '../context.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DMQ4ARs5.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-CVdCKMn9.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../chunks/bundle-DMK903AV.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../../chunks/bundle-DhzCuHhn.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-BlD_kPlV.js';\n\n/**\n * @deprecated This component is deprecated and will be removed in the next major update.\n * Please use the `GroupChannel` component from '@sendbird/uikit-react/GroupChannel' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar RemoveMessageModal = function (props) {\n    var deleteMessage = useChannelContext().deleteMessage;\n    return React__default.createElement(RemoveMessageModalView, __assign({}, props, { deleteMessage: deleteMessage }));\n};\n\nexport { RemoveMessageModal as default };\n//# sourceMappingURL=RemoveMessageModal.js.map\n", "import React__default, { useContext } from 'react';\nimport { M as Modal } from './bundle-ZMBEGemL.js';\nimport './bundle-BosquA9C.js';\nimport './bundle-MoKyCGQH.js';\nimport { ButtonTypes } from '../ui/Button.js';\nimport { L as LocalizationContext } from './bundle-y-yf0Djs.js';\nimport { g as getModalDeleteMessageTitle } from './bundle-DMQ4ARs5.js';\n\nvar RemoveMessageModalView = function (props) {\n    var _a;\n    var _b = props.onSubmit, onSubmit = _b === void 0 ? function () {\n        /* noop */\n    } : _b, onCancel = props.onCancel, message = props.message, deleteMessage = props.deleteMessage;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(Modal, { type: ButtonTypes.DANGER, disabled: ((_a = message === null || message === void 0 ? void 0 : message.threadInfo) === null || _a === void 0 ? void 0 : _a.replyCount) ? message.threadInfo.replyCount > 0 : undefined, onCancel: onCancel, onSubmit: function () {\n            if (message.isUserMessage() || message.isFileMessage() || message.isMultipleFilesMessage()) {\n                deleteMessage(message).then(function () {\n                    // For other status such as PENDING, SCHEDULED, and CANCELED,\n                    // invalid parameters error is thrown so nothing happens.\n                    onSubmit();\n                    onCancel();\n                });\n            }\n        }, submitText: stringSet.MESSAGE_MENU__DELETE, titleText: getModalDeleteMessageTitle(stringSet, message) }));\n};\n\nexport { RemoveMessageModalView as R };\n//# sourceMappingURL=bundle-DiNcrytb.js.map\n", "import { d as isMultipleFilesMessage } from './bundle-Ug7rKzFJ.js';\nimport { K } from './bundle-BA9ZfQ-7.js';\n\nfunction getModalDeleteMessageTitle(stringSet, message) {\n    return K(message)\n        .when(isMultipleFilesMessage, function () {\n        var filesCount = message.fileInfoList.length;\n        return \"Do you want to delete all \".concat(filesCount, \" photos?\");\n    })\n        .otherwise(function () {\n        return stringSet.MODAL__DELETE_MESSAGE__TITLE;\n    });\n}\n\nexport { getModalDeleteMessageTitle as g };\n//# sourceMappingURL=bundle-DMQ4ARs5.js.map\n", "import React__default, { useContext, useMemo } from 'react';\nimport { L as LocalizationContext } from '../../chunks/bundle-y-yf0Djs.js';\nimport { L as Label, b as LabelColors, a as LabelTypography } from '../../chunks/bundle-MoKyCGQH.js';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon.js';\nimport { f as format } from '../../chunks/bundle-CDOQ--pz.js';\nimport { c as classnames } from '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-BovMsFd4.js';\n\nvar UnreadCount = function (_a) {\n    var _b = _a.className, className = _b === void 0 ? '' : _b, _c = _a.count, count = _c === void 0 ? 0 : _c, _d = _a.time, time = _d === void 0 ? '' : _d, onClick = _a.onClick, lastReadAt = _a.lastReadAt;\n    var _e = useContext(LocalizationContext), stringSet = _e.stringSet, dateLocale = _e.dateLocale;\n    var unreadSince = useMemo(function () {\n        var _a, _b;\n        // TODO: Remove this on v4\n        if (stringSet.CHANNEL__MESSAGE_LIST__NOTIFICATION__ON !== 'on') {\n            var timeArray = ((_b = (_a = time === null || time === void 0 ? void 0 : time.toString) === null || _a === void 0 ? void 0 : _a.call(time)) === null || _b === void 0 ? void 0 : _b.split(' ')) || [];\n            timeArray === null || timeArray === void 0 ? void 0 : timeArray.splice(-2, 0, stringSet.CHANNEL__MESSAGE_LIST__NOTIFICATION__ON);\n            return timeArray.join(' ');\n        }\n        else if (lastReadAt) {\n            return format(lastReadAt, stringSet.DATE_FORMAT__MESSAGE_LIST__NOTIFICATION__UNREAD_SINCE, { locale: dateLocale });\n        }\n    }, [time, lastReadAt]);\n    return (React__default.createElement(\"div\", { className: classnames(count < 1 ? 'sendbird-notification--hide' : 'sendbird-notification', className), \"data-testid\": \"sendbird-notification\", onClick: onClick },\n        React__default.createElement(Label, { className: \"sendbird-notification__text\", testID: \"sendbird-notification__text\", color: LabelColors.ONCONTENT_1, type: LabelTypography.CAPTION_2 }, \"\".concat(count, \" \"),\n            stringSet.CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE, \" \".concat(unreadSince)),\n        React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.CHEVRON_DOWN, fillColor: IconColors.CONTENT })));\n};\n\nexport { UnreadCount, UnreadCount as default };\n//# sourceMappingURL=UnreadCount.js.map\n", "import React__default, { useContext } from 'react';\nimport { L as LocalizationContext } from '../../chunks/bundle-y-yf0Djs.js';\nimport { L as Label, a as LabelTypography } from '../../chunks/bundle-MoKyCGQH.js';\nimport { c as classnames } from '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\n\nvar FrozenNotification = function (_a) {\n    var _b = _a.className, className = _b === void 0 ? '' : _b;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-notification', 'sendbird-notification--frozen', className), \"data-testid\": \"sendbird-notification\" },\n        React__default.createElement(Label, { className: \"sendbird-notification__text\", testID: \"sendbird-notification__text\", type: LabelTypography.CAPTION_2 }, stringSet.CHANNEL_FROZEN)));\n};\n\nexport { FrozenNotification, FrozenNotification as default };\n//# sourceMappingURL=FrozenNotification.js.map\n", "import { S as SCROLL_BUFFER } from './bundle-BDIF-bj_.js';\nimport { u as useThrottleCallback } from './bundle-COBh1gnD.js';\nimport { a as isAboutSame } from './bundle-CVdCKMn9.js';\nimport { usePreservedCallback } from '@sendbird/uikit-tools';\n\nvar DELAY = 100;\nfunction calcScrollBottom(scrollHeight, scrollTop) {\n    return scrollHeight - scrollTop;\n}\nfunction useHandleOnScrollCallback(_a) {\n    var hasMore = _a.hasMore, hasNext = _a.hasNext, onScroll = _a.onScroll, scrollRef = _a.scrollRef, setShowScrollDownButton = _a.setShowScrollDownButton;\n    var scrollCb = usePreservedCallback(function () {\n        var element = scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current;\n        if (element == null)\n            return;\n        var scrollTop = element.scrollTop, scrollHeight = element.scrollHeight, clientHeight = element.clientHeight;\n        // https://sendbird.atlassian.net/browse/SBISSUE-11759\n        // the edge case where channel is inside a page that already has scroll\n        // scrollintoView will move the whole page, which we dont want\n        var scrollBottom = calcScrollBottom(scrollHeight, scrollTop);\n        // even if there is more to fetch or not,\n        // we still have to show the scroll to bottom button\n        if (typeof setShowScrollDownButton === 'function') {\n            setShowScrollDownButton(scrollHeight > scrollTop + clientHeight + 1);\n        }\n        // Load previous messages\n        // 1. check if hasMore(hasPrevious) and reached to top\n        // 2. load previous messages (onScroll)\n        // 3. maintain scroll position (sets the scroll position to the bottom of the new messages)\n        if (hasMore && isAboutSame(scrollTop, 0, SCROLL_BUFFER)) {\n            onScroll(function () {\n                var messagesAreAddedToView = element.scrollHeight > scrollHeight;\n                if (messagesAreAddedToView)\n                    element.scrollTop = element.scrollHeight - scrollBottom;\n            });\n        }\n        // Load next messages\n        // 1. check if hasNext and reached to bottom\n        // 2. load next messages (onScroll)\n        // 3. maintain scroll position (sets the scroll position to the top of the new messages)\n        if (hasNext && isAboutSame(clientHeight + scrollTop, scrollHeight, SCROLL_BUFFER)) {\n            onScroll(function () {\n                var messagesAreAddedToView = element.scrollHeight > scrollHeight;\n                if (messagesAreAddedToView)\n                    element.scrollTop = scrollTop;\n            });\n        }\n    });\n    return useThrottleCallback(scrollCb, DELAY, { trailing: true });\n}\n\nexport { useHandleOnScrollCallback as u };\n//# sourceMappingURL=bundle-BkJOIji-.js.map\n", "import React__default, { useLayoutEffect } from 'react';\nimport { A as Avatar, a as AvatarDefault } from '../chunks/bundle-BkCv3z1C.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-MdZYxYNf.js';\nimport './Icon.js';\n\nvar TypingDots = function () {\n    return (React__default.createElement(\"div\", { className: 'typing-dots-container' },\n        React__default.createElement(\"span\", null),\n        React__default.createElement(\"span\", null),\n        React__default.createElement(\"span\", null)));\n};\n\nvar AVATAR_BORDER_SIZE = 2;\nvar AVATAR_DIAMETER_WITHOUT_BORDER = 28;\nvar AVATAR_DIAMETER = AVATAR_DIAMETER_WITHOUT_BORDER + (AVATAR_BORDER_SIZE * 2);\nvar LEFT_GAP = 24;\nvar MAX_PROFILES_COUNT = 3;\nvar LEFT_FOR_BORDER = AVATAR_BORDER_SIZE;\nvar AvatarStack = function (props) {\n    var sources = props.sources, max = props.max;\n    return (React__default.createElement(React__default.Fragment, null,\n        \" \",\n        sources.slice(0, max).map(function (src, index) { return (React__default.createElement(Avatar, { className: 'sendbird-message-content__left__avatar multiple', src: src || '', key: \"avatar_stack_item_\".concat(src), \n            // TODO: Divide getting profileUrl logic to utils\n            width: \"\".concat(AVATAR_DIAMETER_WITHOUT_BORDER, \"px\"), height: \"\".concat(AVATAR_DIAMETER_WITHOUT_BORDER, \"px\"), zIndex: index, left: \"\".concat(index * LEFT_GAP - LEFT_FOR_BORDER, \"px\") })); }),\n        \" \"));\n};\nvar TypingIndicatorBubbleAvatar = function (props) {\n    var typingMembers = props.typingMembers;\n    var membersCount = typingMembers.length;\n    var displayCount = Math.min(membersCount, 4);\n    var hiddenCount = membersCount - MAX_PROFILES_COUNT;\n    var superImposedWidth = ((displayCount - 1) * (AVATAR_DIAMETER - LEFT_GAP));\n    var rightPaddingSize = 12;\n    return (React__default.createElement(\"div\", { className: 'sendbird-message-content__left incoming', style: {\n            minWidth: (displayCount * AVATAR_DIAMETER) - superImposedWidth + rightPaddingSize,\n        } },\n        React__default.createElement(AvatarStack, { sources: typingMembers.map(function (member) { return member.profileUrl; }), max: MAX_PROFILES_COUNT }),\n        hiddenCount > 0\n            ? React__default.createElement(Avatar, { className: 'sendbird-message-content__left__avatar multiple', \n                // TODO: Divide getting profileUrl logic to utils\n                width: \"\".concat(AVATAR_DIAMETER_WITHOUT_BORDER, \"px\"), height: \"\".concat(AVATAR_DIAMETER_WITHOUT_BORDER, \"px\"), zIndex: MAX_PROFILES_COUNT, left: \"\".concat(MAX_PROFILES_COUNT * LEFT_GAP, \"px\"), customDefaultComponent: function (_a) {\n                    var width = _a.width, height = _a.height;\n                    return (React__default.createElement(AvatarDefault, { width: width, height: height, text: \"+\".concat(hiddenCount) }));\n                } })\n            : null));\n};\nvar TypingIndicatorBubble = function (props) {\n    var typingMembers = props.typingMembers, handleScroll = props.handleScroll;\n    useLayoutEffect(function () {\n        // Keep the scrollBottom value after fetching new message list\n        handleScroll === null || handleScroll === void 0 ? void 0 : handleScroll(true);\n    }, []);\n    if (typingMembers.length === 0)\n        return null;\n    return React__default.createElement(\"div\", { className: 'sendbird-message-content incoming', style: { marginBottom: '2px' } },\n        React__default.createElement(TypingIndicatorBubbleAvatar, { typingMembers: typingMembers }),\n        React__default.createElement(\"div\", { className: 'sendbird-message-content__middle' },\n            React__default.createElement(TypingDots, null)));\n};\n\nexport { TypingIndicatorBubble as default };\n//# sourceMappingURL=TypingIndicatorBubble.js.map\n", "import { f as format } from '../../chunks/bundle-CDOQ--pz.js';\nimport { b as isReadMessage } from '../../chunks/bundle-Ug7rKzFJ.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\n\n/**\n * exported, should be backward compatible\n * @returns [chainTop: `boolean`, chainBottom: `boolean`]\n */\nvar compareMessagesForGrouping = function (prevMessage, currMessage, nextMessage, stringSet, currentChannel, replyType) {\n    if (!currentChannel || currentChannel.channelType !== 'group') {\n        return [\n            isSameGroup(prevMessage, currMessage, stringSet),\n            isSameGroup(currMessage, nextMessage, stringSet),\n        ];\n    }\n    if (replyType === 'THREAD' && (currMessage === null || currMessage === void 0 ? void 0 : currMessage.threadInfo)) {\n        return [false, false];\n    }\n    var sendingStatus = (currMessage === null || currMessage === void 0 ? void 0 : currMessage.sendingStatus) || '';\n    var isAcceptable = sendingStatus !== 'pending' && sendingStatus !== 'failed';\n    return [\n        isSameGroup(prevMessage, currMessage, stringSet, currentChannel) && isAcceptable,\n        isSameGroup(currMessage, nextMessage, stringSet, currentChannel) && isAcceptable,\n    ];\n};\nvar getMessageCreatedAt = function (message, stringSet) {\n    return format(message.createdAt, stringSet.DATE_FORMAT__MESSAGE_CREATED_AT);\n};\nvar isSameGroup = function (message, comparingMessage, stringSet, currentChannel) {\n    var _a, _b;\n    if (!(message\n        && comparingMessage\n        && message.messageType\n        && message.messageType !== 'admin'\n        && comparingMessage.messageType\n        && (comparingMessage === null || comparingMessage === void 0 ? void 0 : comparingMessage.messageType) !== 'admin'\n        && 'sender' in message\n        && 'sender' in comparingMessage\n        && message.createdAt\n        && comparingMessage.createdAt\n        && message.sender.userId\n        && comparingMessage.sender.userId)) {\n        return false;\n    }\n    return ((message === null || message === void 0 ? void 0 : message.sendingStatus) === (comparingMessage === null || comparingMessage === void 0 ? void 0 : comparingMessage.sendingStatus)\n        && ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId) === ((_b = comparingMessage === null || comparingMessage === void 0 ? void 0 : comparingMessage.sender) === null || _b === void 0 ? void 0 : _b.userId)\n        && getMessageCreatedAt(message, stringSet) === getMessageCreatedAt(comparingMessage, stringSet)) && (currentChannel ? isReadMessage(currentChannel, message) === isReadMessage(currentChannel, comparingMessage) : true);\n};\nvar messages = {\n    compareMessagesForGrouping: compareMessagesForGrouping,\n    getMessageCreatedAt: getMessageCreatedAt,\n    isSameGroup: isSameGroup,\n};\n\nexport { compareMessagesForGrouping, messages as default, getMessageCreatedAt, isSameGroup };\n//# sourceMappingURL=compareMessagesForGrouping.js.map\n", "import { i as isSameDay } from '../../chunks/bundle-BBGwVlcE.js';\nimport { compareMessagesForGrouping } from './compareMessagesForGrouping.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\n\n/**\n * exported, should be backward compatible\n */\nvar getMessagePartsInfo = function (_a) {\n    var allMessages = _a.allMessages, stringSet = _a.stringSet, _b = _a.isMessageGroupingEnabled, isMessageGroupingEnabled = _b === void 0 ? true : _b, _c = _a.currentIndex, currentIndex = _c === void 0 ? 0 : _c, currentMessage = _a.currentMessage, _d = _a.currentChannel, currentChannel = _d === void 0 ? null : _d, _e = _a.replyType, replyType = _e === void 0 ? '' : _e;\n    var previousMessage = allMessages[currentIndex - 1];\n    var nextMessage = allMessages[currentIndex + 1];\n    var _f = isMessageGroupingEnabled\n        ? compareMessagesForGrouping(previousMessage, currentMessage, nextMessage, stringSet, currentChannel, replyType)\n        : [false, false], chainTop = _f[0], chainBottom = _f[1];\n    var previousMessageCreatedAt = previousMessage === null || previousMessage === void 0 ? void 0 : previousMessage.createdAt;\n    var currentCreatedAt = currentMessage.createdAt;\n    // NOTE: for pending/failed messages\n    var isLocalMessage = 'sendingStatus' in currentMessage && (currentMessage.sendingStatus !== 'succeeded');\n    // https://stackoverflow.com/a/41855608\n    var hasSeparator = isLocalMessage ? false : !(previousMessageCreatedAt && (isSameDay(currentCreatedAt, previousMessageCreatedAt)));\n    return {\n        chainTop: chainTop,\n        chainBottom: chainBottom,\n        hasSeparator: hasSeparator,\n    };\n};\n\nexport { getMessagePartsInfo };\n//# sourceMappingURL=getMessagePartsInfo.js.map\n", "import { _ as __assign } from '../../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { M as MessageInputWrapperView } from '../../chunks/bundle-D59i-wy0.js';\nimport { useChannelContext } from '../context.js';\nimport '../../chunks/bundle-DgO_xXWo.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../GroupChannel/components/SuggestedMentionList.js';\nimport '../../chunks/bundle-CaZn7sCJ.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-B-wIh5Qv.js';\nimport '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/QuoteMessageInput.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-COu2UBrG.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-B6tSyuRm.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../VoiceRecorder/useVoiceRecorder.js';\nimport '../../chunks/bundle-vF_8gzZb.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ProgressBar.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-4VvXLz4o.js';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-CVdCKMn9.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../chunks/bundle-DMK903AV.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../../chunks/bundle-DhzCuHhn.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-BlD_kPlV.js';\n\n/**\n * @deprecated This component is deprecated and will be removed in the next major update.\n * Please use the `GroupChannel` component from '@sendbird/uikit-react/GroupChannel' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar MessageInputWrapper = function (props) {\n    var context = useChannelContext();\n    var quoteMessage = context.quoteMessage, currentGroupChannel = context.currentGroupChannel, sendMessage = context.sendMessage, sendFileMessage = context.sendFileMessage, sendVoiceMessage = context.sendVoiceMessage, sendMultipleFilesMessage = context.sendMultipleFilesMessage;\n    return (React__default.createElement(MessageInputWrapperView, __assign({}, props, context, { currentChannel: currentGroupChannel, messages: context.allMessages, sendUserMessage: function (params) {\n            return sendMessage({\n                message: params.message,\n                mentionTemplate: params.mentionedMessageTemplate,\n                mentionedUsers: params.mentionedUsers,\n                quoteMessage: quoteMessage !== null && quoteMessage !== void 0 ? quoteMessage : undefined,\n            });\n        }, sendFileMessage: function (params) {\n            return sendFileMessage(params.file, quoteMessage !== null && quoteMessage !== void 0 ? quoteMessage : undefined);\n        }, sendVoiceMessage: function (_a, duration) {\n            var file = _a.file;\n            return sendVoiceMessage(file, duration, quoteMessage !== null && quoteMessage !== void 0 ? quoteMessage : undefined);\n        }, sendMultipleFilesMessage: function (_a) {\n            var fileInfoList = _a.fileInfoList;\n            return sendMultipleFilesMessage(fileInfoList.map(function (fileInfo) { return fileInfo.file; }), quoteMessage !== null && quoteMessage !== void 0 ? quoteMessage : undefined);\n        } })));\n};\n\nexport { MessageInputWrapper, MessageInputWrapper as default };\n//# sourceMappingURL=MessageInput.js.map\n", "import { b as __awaiter, c as __generator, a as __spreadArray } from './bundle-BosquA9C.js';\nimport React__default, { useRef, useState, useEffect, useCallback } from 'react';\nimport { i as isDisabledBecauseFrozen, a as isDisabledBecauseMuted, c as isDisabledBecauseSuggestedReplies, d as isDisabledBecauseMessageForm } from './bundle-DgO_xXWo.js';\nimport { u as useLocalization } from './bundle-y-yf0Djs.js';\nimport { SuggestedMentionList } from '../GroupChannel/components/SuggestedMentionList.js';\nimport { useDirtyGetMentions } from '../Message/hooks/useDirtyGetMentions.js';\nimport QuoteMessageInput from '../ui/QuoteMessageInput.js';\nimport { useVoicePlayer } from '../VoicePlayer/useVoicePlayer.js';\nimport { useVoiceRecorder, VoiceRecorderStatus } from '../VoiceRecorder/useVoiceRecorder.js';\nimport { V as VoiceMessageInputStatus, a as VoiceMessageInput } from './bundle-vF_8gzZb.js';\nimport { M as Modal, c as ModalFooter } from './bundle-ZMBEGemL.js';\nimport Button, { ButtonTypes, ButtonSizes } from '../ui/Button.js';\nimport { V as VOICE_PLAYER_STATUS } from './bundle-B6tSyuRm.js';\nimport { u as uuidv4 } from './bundle-BGRwc73U.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\nimport MessageInput from '../ui/MessageInput.js';\nimport { u as useMediaQueryContext } from './bundle-DvgqpwmQ.js';\nimport { M as MessageInputKeys } from './bundle-B-wIh5Qv.js';\nimport { k as isImage } from './bundle-Ug7rKzFJ.js';\nimport { useGlobalModalContext } from '../hooks/useModal.js';\nimport './bundle-MoKyCGQH.js';\nimport { c as compressImages } from './bundle-4VvXLz4o.js';\n\nvar VoiceMessageInputWrapper = function (_a) {\n    var channel = _a.channel, onCancelClick = _a.onCancelClick, onSubmitClick = _a.onSubmitClick;\n    var uuid = useRef(uuidv4()).current;\n    var _b = useState(null), audioFile = _b[0], setAudioFile = _b[1];\n    var _c = useState(VoiceMessageInputStatus.READY_TO_RECORD), voiceInputState = _c[0], setVoiceInputState = _c[1];\n    var _d = useState(false), isSubmitted = _d[0], setSubmit = _d[1];\n    var _e = useState(false), isDisabled = _e[0], setDisabled = _e[1];\n    var _f = useState(false), showModal = _f[0], setShowModal = _f[1];\n    var stringSet = useLocalization().stringSet;\n    var state = useSendbird().state;\n    var config = state.config;\n    var _g = useVoiceRecorder({\n        onRecordingStarted: function () {\n            setVoiceInputState(VoiceMessageInputStatus.RECORDING);\n        },\n        onRecordingEnded: function (audioFile) {\n            setAudioFile(audioFile);\n        },\n    }), start = _g.start, stop = _g.stop, cancel = _g.cancel, recordingTime = _g.recordingTime, recordingStatus = _g.recordingStatus, recordingLimit = _g.recordingLimit;\n    var voicePlayer = useVoicePlayer({\n        channelUrl: channel === null || channel === void 0 ? void 0 : channel.url,\n        key: uuid,\n        audioFile: audioFile !== null && audioFile !== void 0 ? audioFile : undefined,\n    });\n    var play = voicePlayer.play, pause = voicePlayer.pause, playbackTime = voicePlayer.playbackTime, playingStatus = voicePlayer.playingStatus;\n    var stopVoicePlayer = voicePlayer.stop;\n    // disabled state: muted & frozen\n    useEffect(function () {\n        if (isDisabledBecauseFrozen(channel) || isDisabledBecauseMuted(channel)) {\n            setDisabled(true);\n        }\n        else {\n            setDisabled(false);\n        }\n    }, [channel === null || channel === void 0 ? void 0 : channel.myRole, channel === null || channel === void 0 ? void 0 : channel.isFrozen, channel === null || channel === void 0 ? void 0 : channel.myMutedState]);\n    // call onSubmitClick when submit button is clicked and recorded audio file is created\n    useEffect(function () {\n        if (isSubmitted && audioFile) {\n            onSubmitClick === null || onSubmitClick === void 0 ? void 0 : onSubmitClick(audioFile, recordingTime);\n            setSubmit(false);\n            setAudioFile(null);\n        }\n    }, [isSubmitted, audioFile, recordingTime]);\n    // operate which control button should be displayed\n    useEffect(function () {\n        if (audioFile) {\n            if (recordingTime < config.voiceRecord.minRecordingTime) {\n                setVoiceInputState(VoiceMessageInputStatus.READY_TO_RECORD);\n                setAudioFile(null);\n            }\n            else if (playingStatus === VOICE_PLAYER_STATUS.PLAYING) {\n                setVoiceInputState(VoiceMessageInputStatus.PLAYING);\n            }\n            else {\n                setVoiceInputState(VoiceMessageInputStatus.READY_TO_PLAY);\n            }\n        }\n    }, [audioFile, recordingTime, playingStatus]);\n    return (React__default.createElement(\"div\", { className: \"sendbird-voice-message-input-wrapper\" },\n        React__default.createElement(VoiceMessageInput, { currentValue: recordingStatus === VoiceRecorderStatus.COMPLETED ? playbackTime : recordingTime, maximumValue: recordingStatus === VoiceRecorderStatus.COMPLETED ? recordingTime : recordingLimit, currentType: voiceInputState, onCancelClick: function () {\n                onCancelClick === null || onCancelClick === void 0 ? void 0 : onCancelClick();\n                cancel();\n                stopVoicePlayer();\n            }, onSubmitClick: function () {\n                if (isDisabled) {\n                    setShowModal(true);\n                    setVoiceInputState(VoiceMessageInputStatus.READY_TO_RECORD);\n                }\n                else {\n                    stop();\n                    pause();\n                    setSubmit(true);\n                }\n            }, onControlClick: function (type) {\n                switch (type) {\n                    case VoiceMessageInputStatus.READY_TO_RECORD: {\n                        stopVoicePlayer();\n                        start();\n                        break;\n                    }\n                    case VoiceMessageInputStatus.RECORDING: {\n                        if (recordingTime >= config.voiceRecord.minRecordingTime && !isDisabled) {\n                            stop();\n                        }\n                        else if (isDisabled) {\n                            cancel();\n                            setShowModal(true);\n                            setVoiceInputState(VoiceMessageInputStatus.READY_TO_RECORD);\n                        }\n                        else {\n                            cancel();\n                            setVoiceInputState(VoiceMessageInputStatus.READY_TO_RECORD);\n                        }\n                        break;\n                    }\n                    case VoiceMessageInputStatus.READY_TO_PLAY: {\n                        play();\n                        break;\n                    }\n                    case VoiceMessageInputStatus.PLAYING: {\n                        pause();\n                        break;\n                    }\n                }\n            } }),\n        showModal && (React__default.createElement(Modal, { className: \"sendbird-voice-message-input-wrapper-alert\", titleText: isDisabledBecauseMuted(channel)\n                ? stringSet.MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_MUTED\n                : stringSet.MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_FROZEN, hideFooter: true, isCloseOnClickOutside: true, onClose: function () {\n                setShowModal(false);\n                onCancelClick === null || onCancelClick === void 0 ? void 0 : onCancelClick();\n            } },\n            React__default.createElement(\"div\", { className: \"sendbird-voice-message-input-wrapper-alert__body\" },\n                React__default.createElement(Button, { className: \"sendbird-voice-message-input-wrapper-alert__body__ok-button\", type: ButtonTypes.PRIMARY, size: ButtonSizes.BIG, onClick: function () {\n                        setShowModal(false);\n                        onCancelClick === null || onCancelClick === void 0 ? void 0 : onCancelClick();\n                    } }, stringSet.BUTTON__OK))))));\n};\n\nvar useHandleUploadFiles = function (_a, _b) {\n    var sendFileMessage = _a.sendFileMessage, sendMultipleFilesMessage = _a.sendMultipleFilesMessage, quoteMessage = _a.quoteMessage;\n    var logger = _b.logger;\n    var stringSet = useLocalization().stringSet;\n    var state = useSendbird().state;\n    var config = state.config;\n    var imageCompression = config.imageCompression;\n    var uikitUploadSizeLimit = config === null || config === void 0 ? void 0 : config.uikitUploadSizeLimit;\n    var uikitMultipleFilesMessageLimit = config === null || config === void 0 ? void 0 : config.uikitMultipleFilesMessageLimit;\n    var openModal = useGlobalModalContext().openModal;\n    return useCallback(function (files) { return __awaiter(void 0, void 0, void 0, function () {\n        var ONE_MiB, compressedFiles, sendingFiles, file, imageFiles_1, otherFiles_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (files.length === 0) {\n                        logger.warning('Channel|useHandleUploadFiles: given file list is empty.', { files: files });\n                        return [2 /*return*/];\n                    }\n                    if (files.length > uikitMultipleFilesMessageLimit) {\n                        logger.info(\"Channel|useHandleUploadFiles: Cannot upload files more than \".concat(uikitMultipleFilesMessageLimit));\n                        openModal({\n                            modalProps: {\n                                titleText: stringSet.FILE_UPLOAD_NOTIFICATION__COUNT_LIMIT.replace('%d', \"\".concat(uikitUploadSizeLimit)),\n                                hideFooter: true,\n                            },\n                            childElement: function (_a) {\n                                var closeModal = _a.closeModal;\n                                return (React__default.createElement(ModalFooter, { type: ButtonTypes.PRIMARY, submitText: stringSet.BUTTON__OK, hideCancelButton: true, onCancel: closeModal, onSubmit: closeModal }));\n                            },\n                        });\n                        return [2 /*return*/];\n                    }\n                    // Validate file sizes\n                    if (files.some(function (file) { return file.size > uikitUploadSizeLimit; })) {\n                        // The default value of uikitUploadSizeLimit is 26MB\n                        logger.info(\"Channel|useHandleUploadFiles: Cannot upload file size exceeding \".concat(uikitUploadSizeLimit));\n                        ONE_MiB = 1024 * 1024;\n                        openModal({\n                            modalProps: {\n                                titleText: stringSet.FILE_UPLOAD_NOTIFICATION__SIZE_LIMIT.replace('%d', \"\".concat(Math.floor(uikitUploadSizeLimit / ONE_MiB))),\n                                hideFooter: true,\n                            },\n                            childElement: function (_a) {\n                                var closeModal = _a.closeModal;\n                                return (React__default.createElement(ModalFooter, { type: ButtonTypes.PRIMARY, submitText: stringSet.BUTTON__OK, hideCancelButton: true, onCancel: closeModal, onSubmit: closeModal }));\n                            },\n                        });\n                        return [2 /*return*/];\n                    }\n                    return [4 /*yield*/, compressImages({\n                            files: files,\n                            imageCompression: imageCompression,\n                            logger: logger,\n                        })];\n                case 1:\n                    compressedFiles = (_a.sent()).compressedFiles;\n                    sendingFiles = compressedFiles;\n                    // Send File Message\n                    if (sendingFiles.length === 1) {\n                        logger.info('Channel|useHandleUploadFiles: sending one file.');\n                        file = sendingFiles[0];\n                        return [2 /*return*/, sendFileMessage({ file: file, parentMessageId: quoteMessage === null || quoteMessage === void 0 ? void 0 : quoteMessage.messageId })];\n                    }\n                    else if (sendingFiles.length > 1) {\n                        logger.info('Channel|useHandleUploadFiles: sending multiple files.');\n                        imageFiles_1 = [];\n                        otherFiles_1 = [];\n                        sendingFiles.forEach(function (file) {\n                            if (isImage(file.type)) {\n                                imageFiles_1.push(file);\n                            }\n                            else {\n                                otherFiles_1.push(file);\n                            }\n                        });\n                        return [2 /*return*/, otherFiles_1.reduce(function (previousPromise, item) {\n                                return previousPromise.then(function () {\n                                    return sendFileMessage({ file: item, parentMessageId: quoteMessage === null || quoteMessage === void 0 ? void 0 : quoteMessage.messageId });\n                                });\n                            }, (function () {\n                                if (imageFiles_1.length === 0) {\n                                    return Promise.resolve();\n                                }\n                                else if (imageFiles_1.length === 1) {\n                                    return sendFileMessage({ file: imageFiles_1[0] });\n                                }\n                                else {\n                                    return sendMultipleFilesMessage({\n                                        fileInfoList: imageFiles_1.map(function (file) { return ({\n                                            file: file,\n                                            fileName: file.name,\n                                            fileSize: file.size,\n                                            mimeType: file.type,\n                                        }); }),\n                                        parentMessageId: quoteMessage === null || quoteMessage === void 0 ? void 0 : quoteMessage.messageId,\n                                    });\n                                }\n                            })())];\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [sendFileMessage, sendMultipleFilesMessage, quoteMessage]);\n};\n\nvar MessageInputWrapperView = React__default.forwardRef(function (props, ref) {\n    var _a;\n    // Props\n    var currentChannel = props.currentChannel, messages = props.messages, loading = props.loading, quoteMessage = props.quoteMessage, setQuoteMessage = props.setQuoteMessage, messageInputRef = props.messageInputRef, sendUserMessage = props.sendUserMessage, sendFileMessage = props.sendFileMessage, sendVoiceMessage = props.sendVoiceMessage, sendMultipleFilesMessage = props.sendMultipleFilesMessage, \n    // render\n    renderUserMentionItem = props.renderUserMentionItem, renderFileUploadIcon = props.renderFileUploadIcon, renderVoiceMessageIcon = props.renderVoiceMessageIcon, renderSendMessageIcon = props.renderSendMessageIcon, acceptableMimeTypes = props.acceptableMimeTypes, disabled = props.disabled;\n    var stringSet = useLocalization().stringSet;\n    var isMobile = useMediaQueryContext().isMobile;\n    var state = useSendbird().state;\n    var stores = state.stores, config = state.config;\n    var isOnline = config.isOnline, userMention = config.userMention, logger = config.logger, groupChannel = config.groupChannel;\n    var sdk = stores.sdkStore.sdk;\n    var maxMentionCount = userMention.maxMentionCount, maxSuggestionCount = userMention.maxSuggestionCount;\n    var isBroadcast = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.isBroadcast;\n    var isOperator = (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.myRole) === 'operator';\n    var isMultipleFilesMessageEnabled = (_a = props.isMultipleFilesMessageEnabled) !== null && _a !== void 0 ? _a : config.isMultipleFilesMessageEnabled;\n    var isMentionEnabled = groupChannel.enableMention;\n    var isVoiceMessageEnabled = groupChannel.enableVoiceMessage;\n    // States\n    var _b = useState(''), mentionNickname = _b[0], setMentionNickname = _b[1];\n    var _c = useState([]), mentionedUsers = _c[0], setMentionedUsers = _c[1];\n    var _d = useState([]), mentionedUserIds = _d[0], setMentionedUserIds = _d[1];\n    var _e = useState(null), selectedUser = _e[0], setSelectedUser = _e[1];\n    var _f = useState([]), mentionSuggestedUsers = _f[0], setMentionSuggestedUsers = _f[1];\n    var _g = useState(null), messageInputEvent = _g[0], setMessageInputEvent = _g[1];\n    var _h = useState(false), showVoiceMessageInput = _h[0], setShowVoiceMessageInput = _h[1];\n    // Conditions\n    var isMessageInputDisabled = loading\n        || (!currentChannel || !sdk)\n        || (!sdk.isCacheEnabled && !isOnline)\n        || isDisabledBecauseFrozen(currentChannel)\n        || isDisabledBecauseMuted(currentChannel)\n        || isDisabledBecauseSuggestedReplies(currentChannel, config.groupChannel.enableSuggestedReplies)\n        || isDisabledBecauseMessageForm(messages, config.groupChannel.enableFormTypeMessage)\n        || disabled;\n    var showSuggestedMentionList = !isMessageInputDisabled\n        && isMentionEnabled\n        && mentionNickname.length > 0\n        && !isBroadcast;\n    var mentionNodes = useDirtyGetMentions({ ref: (ref || messageInputRef) }, { logger: logger });\n    var ableMention = (mentionNodes === null || mentionNodes === void 0 ? void 0 : mentionNodes.length) < maxMentionCount;\n    // Operate states\n    useEffect(function () {\n        setMentionNickname('');\n        setMentionedUsers([]);\n        setMentionedUserIds([]);\n        setSelectedUser(null);\n        setMentionSuggestedUsers([]);\n        setMessageInputEvent(null);\n        setShowVoiceMessageInput(false);\n    }, [currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url]);\n    useEffect(function () {\n        setMentionedUsers(mentionedUsers.filter(function (_a) {\n            var userId = _a.userId;\n            var i = mentionedUserIds.indexOf(userId);\n            if (i < 0) {\n                return false;\n            }\n            else {\n                mentionedUserIds.splice(i, 1);\n                return true;\n            }\n        }));\n    }, [mentionedUserIds]);\n    // Callbacks\n    var handleUploadFiles = useHandleUploadFiles({\n        sendFileMessage: sendFileMessage,\n        sendMultipleFilesMessage: sendMultipleFilesMessage,\n        quoteMessage: quoteMessage !== null && quoteMessage !== void 0 ? quoteMessage : undefined,\n    }, { logger: logger });\n    if (isBroadcast && !isOperator) {\n        /* Only `Operator` can send messages in the Broadcast channel */\n        return null;\n    }\n    // other conditions\n    return (React__default.createElement(\"div\", { className: showVoiceMessageInput ? 'sendbird-message-input-wrapper--voice-message' : 'sendbird-message-input-wrapper' },\n        showSuggestedMentionList && (React__default.createElement(SuggestedMentionList, { currentChannel: currentChannel, targetNickname: mentionNickname, inputEvent: messageInputEvent !== null && messageInputEvent !== void 0 ? messageInputEvent : undefined, renderUserMentionItem: renderUserMentionItem, onUserItemClick: function (user) {\n                if (user) {\n                    setMentionedUsers(__spreadArray(__spreadArray([], mentionedUsers, true), [user], false));\n                }\n                setMentionNickname('');\n                setSelectedUser(user);\n                setMessageInputEvent(null);\n            }, onFocusItemChange: function () {\n                setMessageInputEvent(null);\n            }, onFetchUsers: function (users) {\n                setMentionSuggestedUsers(users);\n            }, ableAddMention: ableMention, maxMentionCount: maxMentionCount, maxSuggestionCount: maxSuggestionCount })),\n        quoteMessage && (React__default.createElement(\"div\", { className: \"sendbird-message-input-wrapper__quote-message-input\" },\n            React__default.createElement(QuoteMessageInput, { replyingMessage: quoteMessage, onClose: function () { return setQuoteMessage(null); } }))),\n        showVoiceMessageInput ? (React__default.createElement(VoiceMessageInputWrapper, { channel: currentChannel !== null && currentChannel !== void 0 ? currentChannel : undefined, onSubmitClick: function (recordedFile, duration) {\n                sendVoiceMessage({ file: recordedFile, parentMessageId: quoteMessage === null || quoteMessage === void 0 ? void 0 : quoteMessage.messageId }, duration);\n                setQuoteMessage(null);\n                setShowVoiceMessageInput(false);\n            }, onCancelClick: function () {\n                setShowVoiceMessageInput(false);\n            } })) : (React__default.createElement(MessageInput, { className: \"sendbird-message-input-wrapper__message-input\", channel: currentChannel, channelUrl: currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url, isMobile: isMobile, acceptableMimeTypes: acceptableMimeTypes, mentionSelectedUser: selectedUser, isMentionEnabled: isMentionEnabled, isVoiceMessageEnabled: isVoiceMessageEnabled, isSelectingMultipleFilesEnabled: isMultipleFilesMessageEnabled, onVoiceMessageIconClick: function () {\n                setShowVoiceMessageInput(true);\n            }, setMentionedUsers: setMentionedUsers, placeholder: (quoteMessage && stringSet.MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER)\n                || (isDisabledBecauseFrozen(currentChannel) && stringSet.MESSAGE_INPUT__PLACE_HOLDER__FROZEN)\n                || (isDisabledBecauseMuted(currentChannel)\n                    && (isMobile\n                        ? stringSet.MESSAGE_INPUT__PLACE_HOLDER__MUTED_SHORT\n                        : stringSet.MESSAGE_INPUT__PLACE_HOLDER__MUTED))\n                || (isDisabledBecauseSuggestedReplies(currentChannel, config.groupChannel.enableSuggestedReplies)\n                    && stringSet.MESSAGE_INPUT__PLACE_HOLDER__SUGGESTED_REPLIES)\n                || (isDisabledBecauseMessageForm(messages, config.groupChannel.enableFormTypeMessage)\n                    && stringSet.MESSAGE_INPUT__PLACE_HOLDER__MESSAGE_FORM)\n                || (disabled && stringSet.MESSAGE_INPUT__PLACE_HOLDER__DISABLED)\n                || undefined, ref: (ref || messageInputRef), disabled: isMessageInputDisabled, renderFileUploadIcon: renderFileUploadIcon, renderSendMessageIcon: renderSendMessageIcon, renderVoiceMessageIcon: renderVoiceMessageIcon, onStartTyping: function () {\n                currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.startTyping();\n            }, onSendMessage: function (_a) {\n                var _b;\n                var message = _a.message, mentionTemplate = _a.mentionTemplate;\n                sendUserMessage({\n                    message: message,\n                    mentionedUsers: mentionedUsers,\n                    mentionedMessageTemplate: mentionTemplate,\n                    parentMessageId: quoteMessage === null || quoteMessage === void 0 ? void 0 : quoteMessage.messageId,\n                });\n                setMentionNickname('');\n                setMentionedUsers([]);\n                setQuoteMessage(null);\n                (_b = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.endTyping) === null || _b === void 0 ? void 0 : _b.call(currentChannel);\n            }, onFileUpload: function (fileList) {\n                handleUploadFiles(fileList);\n                setQuoteMessage(null);\n            }, onUserMentioned: function (user) {\n                if ((selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.userId) === (user === null || user === void 0 ? void 0 : user.userId)) {\n                    setSelectedUser(null);\n                    setMentionNickname('');\n                }\n            }, onMentionStringChange: function (mentionText) {\n                setMentionNickname(mentionText);\n            }, onMentionedUserIdsUpdated: function (userIds) {\n                setMentionedUserIds(userIds);\n            }, onKeyDown: function (e) {\n                if (showSuggestedMentionList\n                    && (mentionSuggestedUsers === null || mentionSuggestedUsers === void 0 ? void 0 : mentionSuggestedUsers.length) > 0\n                    && ((e.key === MessageInputKeys.Enter && ableMention)\n                        || e.key === MessageInputKeys.ArrowUp\n                        || e.key === MessageInputKeys.ArrowDown)) {\n                    setMessageInputEvent(e);\n                    return true;\n                }\n                return false;\n            } }))));\n});\n\nexport { MessageInputWrapperView as M, VoiceMessageInputWrapper as V };\n//# sourceMappingURL=bundle-D59i-wy0.js.map\n", "import { _ as __assign } from '../../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { S as SuggestedMentionListView } from '../../chunks/bundle-CaZn7sCJ.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-B-wIh5Qv.js';\nimport '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\n\nvar SuggestedMentionList = function (props) {\n    return (React__default.createElement(SuggestedMentionListView, __assign({}, props)));\n};\n\nexport { SuggestedMentionList, SuggestedMentionList as default };\n//# sourceMappingURL=SuggestedMentionList.js.map\n", "import React__default, { useContext } from 'react';\nimport { c as isFileMessage, d as isMultipleFilesMessage, i as isVoiceMessage, J as isImageMessage, s as isVideoMessage, K as isImageFileInfo, q as isThumbnailMessage, L as isAudioMessage, y as getClassName, u as isGifMessage, m as isUserMessage, n as getUIKitMessageType, U as UIKitMessageTypes } from '../chunks/bundle-Ug7rKzFJ.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { L as LocalizationContext } from '../chunks/bundle-y-yf0Djs.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport { c as getMessageFirstFileThumbnailUrl, g as getMessageFirstFileUrl, a as getMessageFirstFileType, b as getMessageFirstFileName } from '../chunks/bundle-COu2UBrG.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\n\nvar componentClassname = 'sendbird-quote_message_input__avatar';\nfunction QuoteMessageThumbnail(_a) {\n    var _b;\n    var message = _a.message;\n    if (!isFileMessage(message) && !isMultipleFilesMessage(message) || isVoiceMessage(message)) {\n        return React__default.createElement(React__default.Fragment, null);\n    }\n    var thumbnailUrl = getMessageFirstFileThumbnailUrl(message);\n    if (!thumbnailUrl) {\n        if (isImageMessage(message) || isVideoMessage(message)) {\n            thumbnailUrl = getMessageFirstFileUrl(message);\n        }\n        else if (isMultipleFilesMessage(message) && isImageFileInfo((_b = message.fileInfoList) === null || _b === void 0 ? void 0 : _b[0])) {\n            thumbnailUrl = message.fileInfoList[0].url;\n        }\n    }\n    if (isVideoMessage(message) && thumbnailUrl) {\n        return (React__default.createElement(\"div\", { className: componentClassname },\n            React__default.createElement(\"video\", { style: {\n                    width: '44px',\n                    height: '44px',\n                }, src: thumbnailUrl })));\n    }\n    else if ((isThumbnailMessage(message) || isMultipleFilesMessage(message)) && thumbnailUrl) {\n        return (React__default.createElement(ImageRenderer, { className: componentClassname, url: thumbnailUrl, alt: getMessageFirstFileType(message), width: \"44px\", height: \"44px\", fixedSize: true }));\n    }\n    else if (isAudioMessage(message)) {\n        return (React__default.createElement(\"div\", { className: componentClassname },\n            React__default.createElement(Icon, { type: IconTypes.FILE_AUDIO, fillColor: IconColors.ON_BACKGROUND_2, width: \"24px\", height: \"24px\" })));\n    }\n    else {\n        return (React__default.createElement(\"div\", { className: componentClassname },\n            React__default.createElement(Icon, { type: IconTypes.FILE_DOCUMENT, fillColor: IconColors.ON_BACKGROUND_2, width: \"24px\", height: \"24px\" })));\n    }\n}\n\nfunction QuoteMessageInput(_a) {\n    var className = _a.className, replyingMessage = _a.replyingMessage, onClose = _a.onClose;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var fileMessage = replyingMessage;\n    var sender = replyingMessage === null || replyingMessage === void 0 ? void 0 : replyingMessage.sender;\n    var displayFileIcon = (isFileMessage(replyingMessage) || isMultipleFilesMessage(replyingMessage))\n        && !isVoiceMessage(replyingMessage);\n    return (React__default.createElement(\"div\", { className: getClassName(['sendbird-quote_message_input', className !== null && className !== void 0 ? className : '']) },\n        displayFileIcon && (React__default.createElement(QuoteMessageThumbnail, { message: fileMessage })),\n        React__default.createElement(\"div\", { className: \"sendbird-quote_message_input__body\", style: {\n                width: \"calc(100% - \".concat(displayFileIcon ? '164px' : '120px', \")\"),\n                left: displayFileIcon ? '92px' : '40px',\n            } },\n            React__default.createElement(Label, { className: \"sendbird-quote_message_input__body__sender-name\", type: LabelTypography.CAPTION_1, color: LabelColors.ONBACKGROUND_1 }, \"\".concat(stringSet.QUOTE_MESSAGE_INPUT__REPLY_TO, \" \").concat((sender && sender.nickname) ? sender.nickname : stringSet.NO_NAME)),\n            React__default.createElement(Label, { className: \"sendbird-quote_message_input__body__message-content\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_3 },\n                isImageMessage(fileMessage) && !isGifMessage(fileMessage) && stringSet.QUOTE_MESSAGE_INPUT__FILE_TYPE_IMAGE,\n                isVideoMessage(fileMessage) && stringSet.QUOTE_MESSAGE_INPUT__FILE_TYPE__VIDEO,\n                isGifMessage(fileMessage) && stringSet.QUOTE_MESSAGE_INPUT__FILE_TYPE_GIF,\n                isUserMessage(replyingMessage) && replyingMessage.message,\n                getUIKitMessageType(replyingMessage) === UIKitMessageTypes.FILE && getMessageFirstFileName(fileMessage),\n                isMultipleFilesMessage(replyingMessage)\n                    && \"\".concat(fileMessage.fileInfoList.length, \" Photos\"),\n                isVoiceMessage(replyingMessage) && stringSet.VOICE_MESSAGE)),\n        React__default.createElement(Icon, { className: \"sendbird-quote_message_input__close-button\", type: IconTypes.CLOSE, fillColor: IconColors.ON_BACKGROUND_2, width: \"24px\", height: \"24px\", onClick: function () { return onClose === null || onClose === void 0 ? void 0 : onClose(replyingMessage); } })));\n}\n\nexport { QuoteMessageInput as default };\n//# sourceMappingURL=QuoteMessageInput.js.map\n", "import { useState, useEffect, useCallback, useRef } from 'react';\nimport { useVoiceRecorderContext } from './context.js';\nimport { n as noop } from '../chunks/bundle-Bc1fdQjj.js';\nimport { u as useSendbird } from '../chunks/bundle-Bk7vYzLW.js';\nimport '../chunks/bundle-y-yf0Djs.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../chunks/bundle-DvgqpwmQ.js';\nimport '../ui/IconButton.js';\nimport '../ui/Button.js';\nimport '../chunks/bundle-MoKyCGQH.js';\nimport '../ui/Icon.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\n\n// export interface UseVoiceRecorderProps extends VoiceRecorderEventHandler {\n//   /**\n//    * onRecordingStarted\n//    * onRecordingEnded\n//    */\n// }\n/* eslint-disable no-redeclare */\nvar VoiceRecorderStatus = {\n    PREPARING: 'PREPARING',\n    READY_TO_RECORD: 'READY_TO_RECORD',\n    RECORDING: 'RECORDING',\n    COMPLETED: 'COMPLETED',\n};\nvar useVoiceRecorder = function (_a) {\n    var _b = _a.onRecordingStarted, onRecordingStarted = _b === void 0 ? noop : _b, _c = _a.onRecordingEnded, onRecordingEnded = _c === void 0 ? noop : _c;\n    var state = useSendbird().state;\n    var config = state.config;\n    var voiceRecord = config.voiceRecord;\n    var maxRecordingTime = voiceRecord === null || voiceRecord === void 0 ? void 0 : voiceRecord.maxRecordingTime;\n    var voiceRecorder = useVoiceRecorderContext();\n    var isRecordable = voiceRecorder.isRecordable;\n    var _d = useState(null), recordedFile = _d[0], setRecordedFile = _d[1];\n    var _e = useState(VoiceRecorderStatus.PREPARING), recordingStatus = _e[0], setRecordingStatus = _e[1];\n    useEffect(function () {\n        if (isRecordable && recordingStatus === VoiceRecorderStatus.PREPARING) {\n            setRecordingStatus(VoiceRecorderStatus.READY_TO_RECORD);\n        }\n    }, [isRecordable]);\n    var start = useCallback(function () {\n        voiceRecorder === null || voiceRecorder === void 0 ? void 0 : voiceRecorder.start({\n            onRecordingStarted: function () {\n                setRecordingStatus(VoiceRecorderStatus.RECORDING);\n                onRecordingStarted();\n                startTimer();\n            },\n            onRecordingEnded: function (audioFile) {\n                setRecordingStatus(VoiceRecorderStatus.COMPLETED);\n                onRecordingEnded(audioFile);\n                setRecordedFile(audioFile);\n                stopTimer();\n            },\n        });\n    }, [onRecordingStarted, onRecordingEnded]);\n    var stop = useCallback(function () {\n        voiceRecorder === null || voiceRecorder === void 0 ? void 0 : voiceRecorder.stop();\n        stopTimer();\n    }, [voiceRecorder]);\n    var cancel = useCallback(function () {\n        stop();\n        setRecordedFile(null);\n    }, [voiceRecorder]);\n    // Timer\n    var _f = useState(0), recordingTime = _f[0], setRecordingTime = _f[1];\n    var timer = useRef(null);\n    function startTimer() {\n        stopTimer();\n        setRecordingTime(0);\n        timer.current = setInterval(function () {\n            setRecordingTime(function (prevTime) {\n                var newTime = prevTime + 100;\n                if (newTime > maxRecordingTime) {\n                    stopTimer();\n                }\n                return newTime;\n            });\n        }, 100);\n    }\n    function stopTimer() {\n        if (timer.current) {\n            clearInterval(timer.current);\n            timer.current = null;\n        }\n    }\n    useEffect(function () {\n        if (recordingTime > maxRecordingTime) {\n            stop();\n        }\n    }, [recordingTime, maxRecordingTime, stop]);\n    return ({\n        start: start,\n        stop: stop,\n        cancel: cancel,\n        recordingStatus: recordingStatus,\n        recordingTime: recordingTime,\n        recordedFile: recordedFile,\n        recordingLimit: maxRecordingTime,\n    });\n};\n\nexport { VoiceRecorderStatus, useVoiceRecorder };\n//# sourceMappingURL=useVoiceRecorder.js.map\n", "import React__default, { useState, useMemo } from 'react';\nimport { PlaybackTime } from '../ui/PlaybackTime.js';\nimport { ProgressBar } from '../ui/ProgressBar.js';\nimport TextButton from '../ui/TextButton.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport { b as LabelColors, L as Label, a as LabelTypography } from './bundle-MoKyCGQH.js';\nimport { u as useLocalization } from './bundle-y-yf0Djs.js';\nimport { g as VOICE_RECORDER_DEFAULT_MIN, h as VOICE_RECORDER_CLICK_BUFFER_TIME } from './bundle-BDIF-bj_.js';\nimport { c as classnames } from './bundle-Bc1fdQjj.js';\n\n/* eslint-disable no-redeclare */\nvar VoiceMessageInputStatus = {\n    READY_TO_RECORD: 'READY_TO_RECORD',\n    RECORDING: 'RECORDING',\n    READY_TO_PLAY: 'READY_TO_PLAY',\n    PLAYING: 'PLAYING',\n};\n\nvar ControlerIcon = function (_a) {\n    var inputState = _a.inputState;\n    switch (inputState) {\n        case VoiceMessageInputStatus.READY_TO_RECORD: {\n            return (React__default.createElement(\"div\", { className: \"sendbird-controler-icon record-icon\" }));\n        }\n        case VoiceMessageInputStatus.RECORDING: {\n            return (React__default.createElement(\"div\", { className: \"sendbird-controler-icon stop-icon\" }));\n        }\n        case VoiceMessageInputStatus.READY_TO_PLAY: {\n            return (React__default.createElement(Icon, { className: \"sendbird-controler-icon play-icon\", width: \"20px\", height: \"20px\", type: IconTypes.PLAY, fillColor: IconColors.ON_BACKGROUND_1 }));\n        }\n        case VoiceMessageInputStatus.PLAYING: {\n            return (React__default.createElement(\"div\", { className: \"sendbird-controler-icon pause-icon\" },\n                React__default.createElement(\"div\", { className: \"sendbird-controler-icon pause-icon-inner\" }),\n                React__default.createElement(\"div\", { className: \"sendbird-controler-icon pause-icon-inner\" })));\n        }\n        default:\n            return React__default.createElement(React__default.Fragment, null);\n    }\n};\n\nvar VoiceMessageInput = function (_a) {\n    var _b = _a.minRecordTime, minRecordTime = _b === void 0 ? VOICE_RECORDER_DEFAULT_MIN : _b, maximumValue = _a.maximumValue, _c = _a.currentValue, currentValue = _c === void 0 ? 0 : _c, currentType = _a.currentType, onCancelClick = _a.onCancelClick, onControlClick = _a.onControlClick, onSubmitClick = _a.onSubmitClick, renderCancelButton = _a.renderCancelButton, renderControlButton = _a.renderControlButton, renderSubmitButton = _a.renderSubmitButton;\n    var _d = useState(0), lastClickTime = _d[0], setLastClickTime = _d[1];\n    var isReadyToRecord = useMemo(function () { return currentType === VoiceMessageInputStatus.READY_TO_RECORD; }, [currentType]);\n    var isRecording = useMemo(function () { return currentType === VoiceMessageInputStatus.RECORDING; }, [currentType]);\n    var isSendButtonDisabled = useMemo(function () {\n        if (currentType === VoiceMessageInputStatus.READY_TO_RECORD\n            || currentType === VoiceMessageInputStatus.RECORDING) {\n            return minRecordTime > currentValue;\n        }\n        return false;\n    }, [currentType, minRecordTime, currentValue]);\n    var isPlayMode = useMemo(function () {\n        return (currentType === VoiceMessageInputStatus.READY_TO_PLAY\n            || currentType === VoiceMessageInputStatus.PLAYING);\n    }, [currentType]);\n    var stringSet = useLocalization().stringSet;\n    var handleOnCancelClick = function () {\n        var currentTime = Date.now();\n        if (currentTime - lastClickTime > VOICE_RECORDER_CLICK_BUFFER_TIME) {\n            onCancelClick === null || onCancelClick === void 0 ? void 0 : onCancelClick();\n            setLastClickTime(currentTime);\n        }\n    };\n    var handleOnControlClick = function () {\n        var currentTime = Date.now();\n        if (currentTime - lastClickTime > VOICE_RECORDER_CLICK_BUFFER_TIME) {\n            onControlClick === null || onControlClick === void 0 ? void 0 : onControlClick(currentType);\n            setLastClickTime(currentTime);\n        }\n    };\n    var handleOnSubmitClick = function () {\n        var currentTime = Date.now();\n        if (currentTime - lastClickTime > VOICE_RECORDER_CLICK_BUFFER_TIME) {\n            if (!isSendButtonDisabled) {\n                onSubmitClick === null || onSubmitClick === void 0 ? void 0 : onSubmitClick();\n            }\n            setLastClickTime(currentTime);\n        }\n    };\n    return (React__default.createElement(\"div\", { className: \"sendbird-voice-message-input\" },\n        React__default.createElement(\"div\", { className: \"sendbird-voice-message-input__indicator\" },\n            React__default.createElement(\"div\", { className: \"sendbird-voice-message-input__indicator__progress-bar\" },\n                React__default.createElement(ProgressBar, { className: \"sendbird-voice-message-input__indicator__progress-bar__bar\", disabled: isReadyToRecord, maxSize: maximumValue, currentSize: currentValue })),\n            (isRecording) ? (React__default.createElement(\"div\", { className: \"sendbird-voice-message-input__indicator__on-rec\" })) : null,\n            React__default.createElement(PlaybackTime, { className: \"sendbird-voice-message-input__indicator__playback-time\", time: isPlayMode ? maximumValue - currentValue : currentValue, labelColor: isReadyToRecord ? LabelColors.ONBACKGROUND_4 : LabelColors.ONCONTENT_1 })),\n        React__default.createElement(\"div\", { className: \"sendbird-voice-message-input__controler\" },\n            (renderCancelButton === null || renderCancelButton === void 0 ? void 0 : renderCancelButton()) || (React__default.createElement(TextButton, { className: \"sendbird-voice-message-input__controler__cancel\", onClick: handleOnCancelClick, disableUnderline: true },\n                React__default.createElement(Label, { type: LabelTypography.BUTTON_1, color: LabelColors.PRIMARY }, stringSet.BUTTON__CANCEL))),\n            (renderControlButton === null || renderControlButton === void 0 ? void 0 : renderControlButton(currentType)) || (React__default.createElement(\"div\", { className: \"sendbird-voice-message-input__controler__main\", onClick: handleOnControlClick },\n                React__default.createElement(ControlerIcon, { inputState: currentType }))),\n            (renderSubmitButton === null || renderSubmitButton === void 0 ? void 0 : renderSubmitButton()) || (React__default.createElement(\"div\", { className: classnames('sendbird-voice-message-input__controler__submit', isSendButtonDisabled && 'voice-message--disabled'), onClick: handleOnSubmitClick },\n                React__default.createElement(Icon, { width: \"19px\", height: \"19px\", type: IconTypes.SEND, fillColor: isSendButtonDisabled ? IconColors.ON_BACKGROUND_4 : IconColors.CONTENT }))))));\n};\n\nexport { VoiceMessageInputStatus as V, VoiceMessageInput as a };\n//# sourceMappingURL=bundle-vF_8gzZb.js.map\n", "import { b as __awaiter, c as __generator } from './bundle-BosquA9C.js';\nimport { p as pxToNumber } from './bundle-MdZYxYNf.js';\n\nvar compressImage = function (_a) {\n    var imageFile = _a.imageFile, compressionRate = _a.compressionRate, resizingWidth = _a.resizingWidth, resizingHeight = _a.resizingHeight, outputFormat = _a.outputFormat;\n    var image = document.createElement('img');\n    return new Promise(function (resolve, reject) {\n        image.src = URL.createObjectURL(imageFile);\n        image.onerror = reject;\n        image.onload = function () {\n            URL.revokeObjectURL(image.src);\n            var canvas = document.createElement('canvas');\n            var originWidth = image.width;\n            var originHeight = image.height;\n            var targetResizingWidth = (!resizingWidth || resizingWidth > originWidth) ? originWidth : resizingWidth;\n            var targetResizingHeight = (!resizingHeight || resizingHeight > originHeight) ? originHeight : resizingHeight;\n            var widthRatio = originWidth / targetResizingWidth;\n            var heightRatio = originHeight / targetResizingHeight;\n            /**\n             * Set the target resizing values again with the calculated ratios\n             * to use the impactful value, so the original images' ratio won't be broken.\n             */\n            if (widthRatio > heightRatio) {\n                targetResizingHeight = originHeight / (resizingWidth ? widthRatio : 1);\n            }\n            else if (heightRatio > widthRatio) {\n                targetResizingWidth = originWidth / (resizingHeight ? heightRatio : 1);\n            }\n            canvas.width = targetResizingWidth;\n            canvas.height = targetResizingHeight;\n            var ctx = canvas.getContext('2d');\n            if (!ctx) {\n                reject(new Error('Failed to get canvas 2d context'));\n                return;\n            }\n            ctx.drawImage(image, 0, 0, targetResizingWidth, targetResizingHeight);\n            // Change the file.name & file.type for converting file type\n            var targetFileType = outputFormat === 'preserve' ? imageFile.type : \"image/\".concat(outputFormat);\n            var targetSubtype = targetFileType.split('/').pop();\n            var dotIndex = imageFile.name.lastIndexOf('.');\n            // targetName = `fileName.targetSubtype`\n            var targetName = \"\".concat(dotIndex === -1 ? imageFile.name : imageFile.name.substring(0, dotIndex), \".\").concat(targetSubtype);\n            ctx.canvas.toBlob(function (blob) {\n                if (blob) {\n                    var file = new File([blob], targetName, { type: targetFileType });\n                    resolve(file);\n                }\n                else {\n                    reject(new Error('Failed to compress image'));\n                }\n            }, targetFileType, compressionRate);\n        };\n    });\n};\nvar compressImages = function (_a) { return __awaiter(void 0, [_a], void 0, function (_b) {\n    var compressionRate, _c, outputFormat, resizingWidth, resizingHeight, result;\n    var files = _b.files, logger = _b.logger, imageCompression = _b.imageCompression;\n    return __generator(this, function (_d) {\n        switch (_d.label) {\n            case 0:\n                compressionRate = imageCompression.compressionRate, _c = imageCompression.outputFormat, outputFormat = _c === void 0 ? 'preserve' : _c;\n                resizingWidth = imageCompression.resizingWidth ? pxToNumber(imageCompression.resizingWidth) : undefined;\n                resizingHeight = imageCompression.resizingHeight ? pxToNumber(imageCompression.resizingHeight) : undefined;\n                result = {\n                    failedIndexes: [],\n                    compressedFiles: [],\n                };\n                if (!(Array.isArray(files) && files.length > 0)) {\n                    logger === null || logger === void 0 ? void 0 : logger.warning('utils - compressImages: There are no files.', files);\n                    return [2 /*return*/, result];\n                }\n                if (!compressionRate || compressionRate < 0 || 1 < compressionRate) {\n                    logger === null || logger === void 0 ? void 0 : logger.warning('utils - compressImages: The compressionRate is not acceptable.', compressionRate);\n                    return [2 /*return*/, result];\n                }\n                return [4 /*yield*/, Promise.all(files\n                        .map(function (file, index) { return __awaiter(void 0, void 0, void 0, function () {\n                        var compressedImage, err_1;\n                        return __generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0:\n                                    if (!(file.type === 'image/jpg' || file.type === 'image/png' || file.type === 'image/jpeg')) {\n                                        logger === null || logger === void 0 ? void 0 : logger.warning('utils - compressImages: The fileType is not compressible.', { file: file, index: index });\n                                        result.failedIndexes.push(index);\n                                        result.compressedFiles.push(file);\n                                        return [2 /*return*/];\n                                    }\n                                    _a.label = 1;\n                                case 1:\n                                    _a.trys.push([1, 3, , 4]);\n                                    return [4 /*yield*/, compressImage({\n                                            imageFile: file,\n                                            compressionRate: compressionRate,\n                                            resizingWidth: resizingWidth,\n                                            resizingHeight: resizingHeight,\n                                            outputFormat: outputFormat,\n                                        })];\n                                case 2:\n                                    compressedImage = _a.sent();\n                                    result.compressedFiles.push(compressedImage);\n                                    return [3 /*break*/, 4];\n                                case 3:\n                                    err_1 = _a.sent();\n                                    result.compressedFiles.push(file);\n                                    result.failedIndexes.push(index);\n                                    logger === null || logger === void 0 ? void 0 : logger.warning('utils - compressImages: Failed to compress image file', { file: file, err: err_1 });\n                                    return [3 /*break*/, 4];\n                                case 4: return [2 /*return*/];\n                            }\n                        });\n                    }); }))];\n            case 1:\n                _d.sent();\n                logger === null || logger === void 0 ? void 0 : logger.info('utils - compressImages: Finished compressing images', result);\n                return [2 /*return*/, result];\n        }\n    });\n}); };\n\nexport { compressImages as c };\n//# sourceMappingURL=bundle-4VvXLz4o.js.map\n"],
  "mappings": "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",
  "names": ["import_react", "import_react", "ThreadReplySelectType", "_a", "MILLISECONDS_IN_WEEK", "defaultOptions", "formatters", "S", "y", "lightFormatters", "Q", "M", "d", "a", "h", "H", "K", "m", "s", "dateLongFormatter", "timeLongFormatter", "dateTimeLongFormatter", "format", "locale", "defaultLocale", "_a", "_b", "import_react", "_a", "import_react", "getNicknamesMapFromMembers", "_a", "isThreadMessage", "isAboutSame", "a", "b", "compareIds", "scrollIntoLast", "_b", "m", "action", "_a", "_b", "e", "message", "params", "s", "React__default", "import_react", "import_react", "import_react", "_a", "React__default", "_b", "TypingIndicatorType", "import_react", "React__default", "_a", "_b", "React__default", "import_react", "import_react", "_a", "_a", "React__default", "_a", "React__default", "import_react", "import_react", "import_react", "_a", "_b", "isDisabledBecauseFrozen", "isDisabledBecauseMuted", "import_react", "_a", "_b", "import_react", "_a", "_b", "React__default", "changeColorToClassName", "import_react", "import_react", "freeze", "x", "seal", "apply", "construct", "getGlobal", "_createTrustedTypesPolicy", "html", "_createHooksMap", "window", "document", "Node", "MUSTACHE_EXPR", "ERB_EXPR", "TMPLIT_EXPR", "DATA_ATTR", "ARIA_ATTR", "IS_SCRIPT_OR_DATA", "ATTR_WHITESPACE", "CUSTOM_ELEMENT", "isRegexOrFunction", "_parseConfig", "_checkValidNamespace", "_forceRemove", "_removeAttribute", "_initDocument", "_createNodeIterator", "_isClobbered", "_isNode", "hooks", "_sanitizeElements", "i", "_isValidAttribute", "_isBasicCustomElement", "_sanitizeAttributes", "_sanitizeShadowDOM", "_a", "_b", "text", "html", "e", "u", "_a", "_b", "tokens", "token", "value", "text", "ChannelType", "_a", "noop", "React__default", "_b", "_c", "_d", "index", "i", "e", "import_react", "import_react", "getChannelTitle", "_a", "_b", "locale", "_a", "_b", "React__default", "import_react", "_a", "_b", "React__default", "e", "import_react", "import_react", "import_react", "e", "_a", "_b", "React__default", "_a", "_a", "_b", "React__default", "import_react", "import_react", "React__default", "_a", "_b", "import_react", "import_react_dom", "import_react", "import_react_dom", "_a", "_b", "q", "React__default", "_a", "_b", "React__default", "e", "import_react", "_a", "_b", "React__default", "import_react", "_a", "_b", "React__default", "import_react", "React__default", "_a", "import_react_dom", "_a", "_b", "React__default", "e", "_c", "import_react", "_a", "_b", "React__default", "import_react", "_a", "_b", "_a", "_b", "React__default", "import_react", "import_react_dom", "_a", "_b", "React__default", "e", "showMenuItemCopy", "showMenuItemEdit", "showMenuItemResend", "showMenuItemDelete", "showMenuItemReply", "showMenuItemThread", "CopyMenuItem", "EditMenuItem", "ResendMenuItem", "ReplyMenuItem", "ThreadMenuItem", "DeleteMenuItem", "_c", "import_react", "_a", "_b", "React__default", "e", "import_react", "import_react", "import_react", "import_react", "import_react_dom", "_a", "_b", "React__default", "import_react", "_a", "_b", "React__default", "e", "_a", "React__default", "import_react_dom", "_a", "_b", "React__default", "import_react", "import_react_dom", "_a", "_b", "React__default", "import_react", "_a", "_b", "_c", "React__default", "import_react", "import_react", "import_react_dom", "import_react", "_a", "_a", "_b", "React__default", "e", "_a", "_b", "React__default", "e", "_c", "_d", "import_react", "import_react", "_a", "_b", "React__default", "import_react", "import_react", "_a", "_b", "noop", "text", "audioFile", "voicePlayerRoot", "React__default", "import_react", "import_react_dom", "Context", "_a", "_b", "mediaRecorder", "e", "React__default", "import_react_dom", "_a", "_b", "text", "import_react", "_a", "_b", "React__default", "import_react_dom", "_a", "_b", "React__default", "import_react", "_a", "_b", "React__default", "style", "import_react", "_a", "_b", "React__default", "import_react", "ComponentType", "outSingle", "outViewStyle", "outTextStyle", "text", "_a", "React", "_b", "__rest", "s", "e", "t", "i", "Layout", "AlignValue", "FlexSizeSpecValue", "FontWeight", "MediaContentMode", "parser", "renderer", "index", "ActionType", "CarouselChild", "isGif", "MessageContext", "MessageProvider", "useMessageContext", "usePreservedCallback", "noop", "entries", "contentWidth", "contentHeight", "width", "height", "_c", "_d", "_e", "_f", "_g", "import_react", "_a", "text", "React__default", "import_react", "_a", "React__default", "_a", "React__default", "MessageProvider", "_b", "MessageTemplateErrorBoundary", "flattenObject", "e", "templateKey", "i", "import_react", "import_react_dom", "text", "React__default", "_a", "_b", "React__default", "isValid", "i", "text", "_c", "defaultOptions", "message", "import_react", "React__default", "_a", "_b", "e", "import_react", "import_react_dom", "React__default", "import_react", "import_react_dom", "_a", "_b", "React__default", "import_react", "_a", "import_react_dom", "SbFeedbackStatus", "_a", "_b", "React__default", "props", "hasFeedback", "_c", "message", "e", "import_react", "_a", "_b", "React__default", "e", "import_react", "_a", "React__default", "a", "b", "_b", "member", "_a", "_b", "props", "React__default", "isDisabledBecauseFrozen", "isDisabledBecauseMuted", "userId", "i", "message", "e", "import_react", "import_react", "import_react_dom", "_a", "_b", "React__default", "FileViewerComponent", "import_react_dom", "FileViewer", "React__default", "import_react", "import_react", "_a", "_b", "React__default", "import_react_dom", "React__default", "import_react_dom", "_a", "_b", "React__default", "props", "FileViewer", "import_react", "_a", "_b", "React__default", "import_react", "_a", "_b", "React__default", "_a", "import_react", "React__default", "_a", "_a", "_b", "_a", "_b", "import_react_dom", "DELAY", "_a", "_b", "e", "React__default", "m", "_c", "import_react", "import_react", "import_react", "React__default", "import_react", "_a", "_b", "React__default", "import_react", "import_react_dom", "_a", "_b", "import_react", "_a", "React__default", "_b", "_a", "_b", "_a", "_b", "audioFile", "isDisabledBecauseFrozen", "isDisabledBecauseMuted", "React__default", "file", "i", "e", "import_react_dom", "React__default", "_a", "import_react_dom", "_a", "_b", "React__default", "import_react_dom", "React__default"]
}
