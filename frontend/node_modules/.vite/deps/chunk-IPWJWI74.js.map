{
  "version": 3,
  "sources": ["../../@sendbird/uikit-react/chunks/bundle-DipRMv-6.js", "../../@sendbird/uikit-react/chunks/bundle-DtQBJOWR.js", "../../@sendbird/uikit-react/chunks/bundle-Dx43PGfx.js", "../../@sendbird/uikit-react/chunks/bundle-DPw-2E0C.js", "../../@sendbird/uikit-react/GroupChannel/components/GroupChannelHeader.js", "../../@sendbird/uikit-react/GroupChannel/components/FileViewer.js", "../../@sendbird/uikit-react/GroupChannel/components/RemoveMessageModal.js", "../../@sendbird/uikit-react/GroupChannel/components/Message.js", "../../@sendbird/uikit-react/GroupChannel/components/MessageList.js", "../../@sendbird/uikit-react/GroupChannel/components/MessageInputWrapper.js", "../../@sendbird/uikit-react/GroupChannel/components/GroupChannelUI.js", "../../@sendbird/uikit-react/GroupChannel.js", "../../@sendbird/uikit-react/chunks/bundle-BOgayIsk.js", "../../@sendbird/uikit-react/chunks/bundle-P--QfsZn.js", "../../@sendbird/uikit-react/GroupChannelList/components/GroupChannelListHeader.js", "../../@sendbird/uikit-react/EditUserProfile/context.js", "../../@sendbird/uikit-react/EditUserProfile/components/EditUserProfileUI.js", "../../@sendbird/uikit-react/EditUserProfile.js", "../../@sendbird/uikit-react/GroupChannelList/components/GroupChannelPreviewAction.js", "../../@sendbird/uikit-react/ui/MentionUserLabel.js", "../../@sendbird/uikit-react/chunks/bundle-B7JoK-Jx.js", "../../@sendbird/uikit-react/GroupChannelList/components/GroupChannelListItem.js", "../../@sendbird/uikit-react/chunks/bundle-BZ9AHb6D.js", "../../css-vars-ponyfill/node_modules/get-css-data/dist/get-css-data.esm.js", "../../css-vars-ponyfill/node_modules/balanced-match/index.js", "../../css-vars-ponyfill/src/parse-css.js", "../../css-vars-ponyfill/src/parse-vars.js", "../../css-vars-ponyfill/src/stringify-css.js", "../../css-vars-ponyfill/src/walk-css.js", "../../css-vars-ponyfill/src/transform-css.js", "../../css-vars-ponyfill/src/index.js", "../../@sendbird/uikit-react/chunks/bundle-Bb5bU2pm.js", "../../@sendbird/uikit-react/Thread/context/types.js", "../../@sendbird/uikit-react/chunks/bundle-DlwwNCtN.js", "../../date-fns/esm/_lib/toInteger/index.js", "../../date-fns/esm/_lib/requiredArgs/index.js", "../../date-fns/esm/toDate/index.js", "../../date-fns/esm/_lib/defaultOptions/index.js", "../../date-fns/esm/startOfDay/index.js", "../../date-fns/esm/constants/index.js", "../../date-fns/esm/isSameDay/index.js", "../../date-fns/esm/_lib/startOfUTCISOWeek/index.js", "../../date-fns/esm/_lib/getUTCISOWeekYear/index.js", "../../date-fns/esm/_lib/startOfUTCISOWeekYear/index.js", "../../date-fns/esm/_lib/getUTCISOWeek/index.js", "../../date-fns/esm/_lib/startOfUTCWeek/index.js", "../../date-fns/esm/_lib/getUTCWeekYear/index.js", "../../date-fns/esm/_lib/startOfUTCWeekYear/index.js", "../../date-fns/esm/_lib/getUTCWeek/index.js", "../../date-fns/esm/locale/_lib/buildFormatLongFn/index.js", "../../date-fns/esm/locale/en-US/_lib/formatLong/index.js", "../../date-fns/esm/locale/_lib/buildLocalizeFn/index.js", "../../date-fns/esm/locale/en-US/_lib/localize/index.js", "../../date-fns/esm/locale/_lib/buildMatchFn/index.js", "../../date-fns/esm/locale/_lib/buildMatchPatternFn/index.js", "../../date-fns/esm/locale/en-US/_lib/match/index.js", "../../date-fns/esm/formatDistanceStrict/index.js", "../../date-fns/esm/getOverlappingDaysInIntervals/index.js", "../../@babel/runtime/helpers/esm/inherits.js", "../../@babel/runtime/helpers/esm/getPrototypeOf.js", "../../@babel/runtime/helpers/esm/isNativeReflectConstruct.js", "../../@babel/runtime/helpers/esm/possibleConstructorReturn.js", "../../@babel/runtime/helpers/esm/createSuper.js", "../../@babel/runtime/helpers/esm/classCallCheck.js", "../../@babel/runtime/helpers/esm/createClass.js", "../../@babel/runtime/helpers/esm/defineProperty.js", "../../date-fns/esm/parse/_lib/Setter.js", "../../date-fns/esm/parse/_lib/Parser.js", "../../date-fns/esm/parse/_lib/parsers/EraParser.js", "../../date-fns/esm/parse/_lib/constants.js", "../../date-fns/esm/parse/_lib/utils.js", "../../date-fns/esm/parse/_lib/parsers/YearParser.js", "../../date-fns/esm/parse/_lib/parsers/LocalWeekYearParser.js", "../../date-fns/esm/parse/_lib/parsers/ISOWeekYearParser.js", "../../date-fns/esm/parse/_lib/parsers/ExtendedYearParser.js", "../../date-fns/esm/parse/_lib/parsers/QuarterParser.js", "../../date-fns/esm/parse/_lib/parsers/StandAloneQuarterParser.js", "../../date-fns/esm/parse/_lib/parsers/MonthParser.js", "../../date-fns/esm/parse/_lib/parsers/StandAloneMonthParser.js", "../../date-fns/esm/_lib/setUTCWeek/index.js", "../../date-fns/esm/parse/_lib/parsers/LocalWeekParser.js", "../../date-fns/esm/_lib/setUTCISOWeek/index.js", "../../date-fns/esm/parse/_lib/parsers/ISOWeekParser.js", "../../date-fns/esm/parse/_lib/parsers/DateParser.js", "../../date-fns/esm/parse/_lib/parsers/DayOfYearParser.js", "../../date-fns/esm/_lib/setUTCDay/index.js", "../../date-fns/esm/parse/_lib/parsers/DayParser.js", "../../date-fns/esm/parse/_lib/parsers/LocalDayParser.js", "../../date-fns/esm/parse/_lib/parsers/StandAloneLocalDayParser.js", "../../date-fns/esm/_lib/setUTCISODay/index.js", "../../date-fns/esm/parse/_lib/parsers/ISODayParser.js", "../../date-fns/esm/parse/_lib/parsers/AMPMParser.js", "../../date-fns/esm/parse/_lib/parsers/AMPMMidnightParser.js", "../../date-fns/esm/parse/_lib/parsers/DayPeriodParser.js", "../../date-fns/esm/parse/_lib/parsers/Hour1to12Parser.js", "../../date-fns/esm/parse/_lib/parsers/Hour0to23Parser.js", "../../date-fns/esm/parse/_lib/parsers/Hour0To11Parser.js", "../../date-fns/esm/parse/_lib/parsers/Hour1To24Parser.js", "../../date-fns/esm/parse/_lib/parsers/MinuteParser.js", "../../date-fns/esm/parse/_lib/parsers/SecondParser.js", "../../date-fns/esm/parse/_lib/parsers/FractionOfSecondParser.js", "../../date-fns/esm/parse/_lib/parsers/ISOTimezoneWithZParser.js", "../../date-fns/esm/parse/_lib/parsers/ISOTimezoneParser.js", "../../date-fns/esm/parse/_lib/parsers/TimestampSecondsParser.js", "../../date-fns/esm/parse/_lib/parsers/TimestampMillisecondsParser.js", "../../date-fns/esm/parse/_lib/parsers/index.js", "../../@sendbird/uikit-react/chunks/bundle-C8jOzYoR.js", "../../@sendbird/uikit-react/chunks/bundle-CWmJRvV1.js", "../../@sendbird/uikit-react/Channel/hooks/useHandleUploadFiles.js", "../../@sendbird/uikit-react/Thread/components/ThreadMessageInput.js", "../../@sendbird/uikit-react/ChannelList/components/ChannelPreview.js", "../../@sendbird/uikit-react/ui/MessageSearchItem.js", "../../@sendbird/uikit-react/ui/MessageSearchFileItem.js", "../../@sendbird/uikit-react/MessageSearch/components/MessageSearchUI.js", "../../@sendbird/uikit-react/MessageSearch.js", "../../@sendbird/uikit-react/chunks/bundle-ByyQIaJp.js", "../../@sendbird/uikit-react/Thread/components/ParentMessageInfoItem.js", "../../@sendbird/uikit-react/Thread/components/ParentMessageInfo.js", "../../@sendbird/uikit-react/Thread/components/ThreadHeader.js", "../../@sendbird/uikit-react/Thread/components/ThreadListItem.js", "../../@sendbird/uikit-react/Thread/components/ThreadList.js", "../../@sendbird/uikit-react/Thread/components/ThreadUI.js", "../../@sendbird/uikit-react/Thread.js", "../../@sendbird/uikit-react/chunks/bundle-BhCmYlZ1.js", "../../@sendbird/uikit-react/OpenChannel/components/OpenChannelInput.js", "../../@sendbird/uikit-react/chunks/bundle-Bt36atB_.js", "../../@sendbird/uikit-react/chunks/bundle-BI-KSAb4.js", "../../@sendbird/uikit-react/ui/OpenchannelUserMessage.js", "../../@sendbird/uikit-react/ui/OpenChannelAdminMessage.js", "../../@sendbird/uikit-react/ui/OpenchannelOGMessage.js", "../../@sendbird/uikit-react/ui/OpenchannelThumbnailMessage.js", "../../@sendbird/uikit-react/ui/OpenchannelFileMessage.js", "../../@sendbird/uikit-react/OpenChannel/components/OpenChannelMessage.js", "../../@sendbird/uikit-react/OpenChannel/components/OpenChannelMessageList.js", "../../@sendbird/uikit-react/OpenChannelSettings/context.js", "../../@sendbird/uikit-react/ui/AccordionGroup.js", "../../@sendbird/uikit-react/useSendbirdStateContext.js", "../../@sendbird/uikit-react/chunks/bundle-CzTsBLUn.js"],
  "sourcesContent": ["import { _ as __assign, a as __spreadArray, b as __awaiter, c as __generator } from './bundle-BosquA9C.js';\nimport React__default, { useEffect, useCallback, useReducer, useState, useMemo, useContext } from 'react';\nimport { GroupChannelHandler, GroupChannelListOrder } from '@sendbird/chat/groupChannel';\nimport { p as pubSubTopics } from './bundle-DxUY6hv0.js';\nimport { u as uuidv4 } from './bundle-BGRwc73U.js';\nimport { n as noop } from './bundle-Bc1fdQjj.js';\nimport { D as DELIVERY_RECEIPT$1 } from './bundle-BDIF-bj_.js';\nimport { U as UserProfileProvider } from './bundle-ByW5tGii.js';\nimport { K, S } from './bundle-BA9ZfQ-7.js';\nimport { $ as filterChannelListParams, a0 as getChannelsWithUpsertedChannel, a1 as isChannelJustCreated } from './bundle-Ug7rKzFJ.js';\nimport { u as useReconnectOnIdle } from './bundle-DhzCuHhn.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\n\nvar RESET_CHANNEL_LIST = 'RESET_CHANNEL_LIST';\nvar CREATE_CHANNEL = 'CREATE_CHANNEL';\nvar LEAVE_CHANNEL_SUCCESS = 'LEAVE_CHANNEL_SUCCESS';\nvar SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\nvar FETCH_CHANNELS_START = 'FETCH_CHANNELS_START';\nvar FETCH_CHANNELS_SUCCESS = 'FETCH_CHANNELS_SUCCESS';\nvar FETCH_CHANNELS_FAILURE = 'FETCH_CHANNELS_FAILURE';\nvar INIT_CHANNELS_START = 'INIT_CHANNELS_START';\nvar INIT_CHANNELS_SUCCESS = 'INIT_CHANNELS_SUCCESS';\nvar REFRESH_CHANNELS_SUCCESS = 'REFRESH_CHANNELS_SUCCESS';\nvar INIT_CHANNELS_FAILURE = 'INIT_CHANNELS_FAILURE';\nvar ON_USER_JOINED = 'ON_USER_JOINED';\nvar ON_CHANNEL_DELETED = 'ON_CHANNEL_DELETED';\nvar ON_LAST_MESSAGE_UPDATED = 'ON_LAST_MESSAGE_UPDATED';\nvar ON_USER_LEFT = 'ON_USER_LEFT';\nvar ON_CHANNEL_CHANGED = 'ON_CHANNEL_CHANGED';\nvar ON_CHANNEL_ARCHIVED = 'ON_CHANNEL_ARCHIVED';\nvar ON_CHANNEL_FROZEN = 'ON_CHANNEL_FROZEN';\nvar ON_CHANNEL_UNFROZEN = 'ON_CHANNEL_UNFROZEN';\nvar ON_READ_RECEIPT_UPDATED = 'ON_READ_RECEIPT_UPDATED';\nvar ON_DELIVERY_RECEIPT_UPDATED = 'ON_DELIVERY_RECEIPT_UPDATED';\nvar CHANNEL_LIST_PARAMS_UPDATED = 'CHANNEL_LIST_PARAMS_UPDATED';\n\nvar DELIVERY_RECEIPT = 'delivery_receipt';\nvar createEventHandler = function (_a) {\n    var sdk = _a.sdk, sdkChannelHandlerId = _a.sdkChannelHandlerId, channelListDispatcher = _a.channelListDispatcher, logger = _a.logger;\n    var ChannelHandler = new GroupChannelHandler({\n        onChannelChanged: function (channel) {\n            if (channel.isGroupChannel()) {\n                logger.info('ChannelList: onChannelChanged', channel);\n                channelListDispatcher({\n                    type: ON_CHANNEL_CHANGED,\n                    payload: channel,\n                });\n            }\n        },\n        onChannelDeleted: function (channelUrl) {\n            logger.info('ChannelList: onChannelDeleted', channelUrl);\n            channelListDispatcher({\n                type: ON_CHANNEL_DELETED,\n                payload: channelUrl,\n            });\n        },\n        onUserJoined: function (channel) {\n            logger.info('ChannelList: onUserJoined', channel);\n            channelListDispatcher({\n                type: ON_USER_JOINED,\n                payload: channel,\n            });\n        },\n        onUserBanned: function (channel, user) {\n            var _a;\n            if (channel.isGroupChannel()) {\n                logger.info('Channel: onUserBanned', channel);\n                var isMe = user.userId === ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _a === void 0 ? void 0 : _a.userId);\n                channelListDispatcher({\n                    type: ON_USER_LEFT,\n                    payload: { channel: channel, isMe: isMe },\n                });\n            }\n        },\n        onUserLeft: function (channel, user) {\n            var _a;\n            logger.info('ChannelList: onUserLeft', channel);\n            var isMe = user.userId === ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _a === void 0 ? void 0 : _a.userId);\n            channelListDispatcher({\n                type: ON_USER_LEFT,\n                payload: { channel: channel, isMe: isMe },\n            });\n        },\n        onUnreadMemberStatusUpdated: function (channel) {\n            logger.info('ChannelList: onUnreadMemberStatusUpdated', channel);\n            channelListDispatcher({\n                type: ON_READ_RECEIPT_UPDATED,\n                payload: channel,\n            });\n        },\n        onUndeliveredMemberStatusUpdated: function (channel) {\n            logger.info('ChannelList: onUndeliveredMemberStatusUpdated', channel);\n            if (channel.lastMessage) {\n                channelListDispatcher({\n                    type: ON_DELIVERY_RECEIPT_UPDATED,\n                    payload: channel,\n                });\n            }\n        },\n        onMessageUpdated: function (channel, message) {\n            var _a;\n            if (channel.isGroupChannel() && ((_a = channel.lastMessage) === null || _a === void 0 ? void 0 : _a.isEqual(message))) {\n                logger.info('ChannelList: onMessageUpdated', channel);\n                channelListDispatcher({\n                    type: ON_LAST_MESSAGE_UPDATED,\n                    payload: channel,\n                });\n            }\n        },\n        onChannelHidden: function (channel) {\n            logger.info('ChannelList: onChannelHidden', channel);\n            channelListDispatcher({\n                type: ON_CHANNEL_ARCHIVED,\n                payload: channel,\n            });\n        },\n        onChannelFrozen: function (channel) {\n            if (channel.isGroupChannel()) {\n                logger.info('ChannelList: onChannelFrozen', channel);\n                channelListDispatcher({\n                    type: ON_CHANNEL_FROZEN,\n                    payload: channel,\n                });\n            }\n        },\n        onChannelUnfrozen: function (channel) {\n            if (channel.isGroupChannel()) {\n                logger.info('ChannelList: onChannelUnfrozen', channel);\n                channelListDispatcher({\n                    type: ON_CHANNEL_UNFROZEN,\n                    payload: channel,\n                });\n            }\n        },\n    });\n    logger.info('ChannelList: Added channelHandler');\n    sdk.groupChannel.addGroupChannelHandler(sdkChannelHandlerId, ChannelHandler);\n};\nvar createChannelListQuery = function (_a) {\n    var sdk = _a.sdk, _b = _a.userFilledChannelListQuery, userFilledChannelListQuery = _b === void 0 ? {} : _b;\n    var params = {\n        includeEmpty: false,\n        limit: 20, // The value of pagination limit could be set up to 100.\n        order: GroupChannelListOrder.LATEST_LAST_MESSAGE,\n    };\n    if (userFilledChannelListQuery) {\n        Object.keys(userFilledChannelListQuery).forEach(function (key) {\n            // @ts-ignore\n            params[key] = userFilledChannelListQuery[key];\n        });\n    }\n    return sdk.groupChannel.createMyGroupChannelListQuery(params);\n};\nfunction setupChannelList(_a) {\n    var _b, _c, _d, _e;\n    var sdk = _a.sdk, sdkChannelHandlerId = _a.sdkChannelHandlerId, channelListDispatcher = _a.channelListDispatcher, setChannelSource = _a.setChannelSource, onChannelSelect = _a.onChannelSelect, userFilledChannelListQuery = _a.userFilledChannelListQuery, logger = _a.logger, sortChannelList = _a.sortChannelList, disableAutoSelect = _a.disableAutoSelect, markAsDeliveredScheduler = _a.markAsDeliveredScheduler, disableMarkAsDelivered = _a.disableMarkAsDelivered;\n    if (sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) {\n        createEventHandler({\n            sdk: sdk,\n            channelListDispatcher: channelListDispatcher,\n            sdkChannelHandlerId: sdkChannelHandlerId,\n            logger: logger,\n        });\n    }\n    else {\n        logger.warning('ChannelList - createEventHandler: sdk or sdk.ChannelHandler does not exist', sdk);\n    }\n    logger.info('ChannelList - creating query', { userFilledChannelListQuery: userFilledChannelListQuery });\n    var channelListQuery = createChannelListQuery({ sdk: sdk, userFilledChannelListQuery: userFilledChannelListQuery });\n    logger.info('ChannelList - created query', channelListQuery);\n    setChannelSource(channelListQuery);\n    channelListDispatcher({\n        type: INIT_CHANNELS_START,\n        payload: {\n            currentUserId: (_c = (_b = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _b === void 0 ? void 0 : _b.userId) !== null && _c !== void 0 ? _c : '',\n        },\n    });\n    if (userFilledChannelListQuery) {\n        logger.info('ChannelList - setting up channelListQuery', channelListQuery);\n        channelListDispatcher({\n            type: CHANNEL_LIST_PARAMS_UPDATED,\n            payload: {\n                channelListQuery: channelListQuery,\n                currentUserId: (_e = (_d = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _d === void 0 ? void 0 : _d.userId) !== null && _e !== void 0 ? _e : '',\n            },\n        });\n    }\n    logger.info('ChannelList - fetching channels');\n    if (channelListQuery.hasNext) {\n        channelListQuery\n            .next()\n            .then(function (channelList) {\n            var _a, _b;\n            logger.info('ChannelList - fetched channels', channelList);\n            // select first channel\n            logger.info('ChannelList - highlight channel', channelList[0]);\n            var sortedChannelList = channelList;\n            if (sortChannelList && typeof sortChannelList === 'function') {\n                sortedChannelList = sortChannelList(channelList);\n                logger.info('ChannelList - channel list sorted', sortedChannelList);\n            }\n            if (!disableAutoSelect) {\n                onChannelSelect === null || onChannelSelect === void 0 ? void 0 : onChannelSelect(sortedChannelList[0]);\n            }\n            channelListDispatcher({\n                type: INIT_CHANNELS_SUCCESS,\n                payload: {\n                    channelList: sortedChannelList,\n                    disableAutoSelect: disableAutoSelect,\n                },\n            });\n            var canSetMarkAsDelivered = (_b = (_a = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) === null || _a === void 0 ? void 0 : _a.premiumFeatureList) === null || _b === void 0 ? void 0 : _b.find(function (feature) { return feature === DELIVERY_RECEIPT; });\n            if (canSetMarkAsDelivered && !disableMarkAsDelivered) {\n                sortedChannelList.forEach(function (channel) {\n                    markAsDeliveredScheduler.push(channel);\n                });\n            }\n        })\n            .catch(function (err) {\n            if (err) {\n                logger.error('ChannelList - couldnt fetch channels', err);\n                channelListDispatcher({\n                    type: INIT_CHANNELS_FAILURE,\n                });\n            }\n        });\n    }\n    else {\n        logger.info('ChannelList - there are no more channels');\n    }\n}\nvar pubSubHandleRemover = function (subscriber) {\n    subscriber.forEach(function (s) {\n        try {\n            s.remove();\n        }\n        catch (_a) {\n            //\n        }\n    });\n};\nvar pubSubHandler = function (pubSub, channelListDispatcher) {\n    var subscriber = new Map();\n    if (!pubSub)\n        return subscriber;\n    subscriber.set(pubSubTopics.CREATE_CHANNEL, pubSub.subscribe(pubSubTopics.CREATE_CHANNEL, function (_a) {\n        var channel = _a.channel;\n        channelListDispatcher({\n            type: CREATE_CHANNEL,\n            payload: channel,\n        });\n    }));\n    subscriber.set(pubSubTopics.UPDATE_USER_MESSAGE, pubSub.subscribe(pubSubTopics.UPDATE_USER_MESSAGE, function (_a) {\n        var _b;\n        var channel = _a.channel, message = _a.message;\n        if (channel.isGroupChannel() && ((_b = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _b === void 0 ? void 0 : _b.messageId) === message.messageId) {\n            channel.lastMessage = message;\n            channelListDispatcher({\n                type: ON_LAST_MESSAGE_UPDATED,\n                payload: channel,\n            });\n        }\n    }));\n    subscriber.set(pubSubTopics.LEAVE_CHANNEL, pubSub.subscribe(pubSubTopics.LEAVE_CHANNEL, function (msg) {\n        var channel = msg.channel;\n        channelListDispatcher({\n            type: LEAVE_CHANNEL_SUCCESS,\n            payload: channel === null || channel === void 0 ? void 0 : channel.url,\n        });\n    }));\n    return subscriber;\n};\n\n/**\n * NOTICE: Use this function IF the current channel is removed from allChannels.\n * This function will give you the next currentChannel value.\n */\nvar getNextChannel = function (_a) {\n    var channel = _a.channel, currentChannel = _a.currentChannel, allChannels = _a.allChannels, disableAutoSelect = _a.disableAutoSelect;\n    var nextChannel = null;\n    if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === channel.url) {\n        if (!disableAutoSelect && allChannels.length > 0) {\n            var firstChannel = allChannels[0], _b = allChannels[1], secondChannel = _b === void 0 ? null : _b;\n            nextChannel = firstChannel.url === channel.url ? secondChannel : firstChannel;\n        }\n    }\n    else {\n        nextChannel = currentChannel;\n    }\n    return nextChannel;\n};\n\nvar initialState = {\n    // we might not need this initialized state -> should remove\n    initialized: false,\n    loading: true,\n    allChannels: [],\n    currentChannel: null,\n    channelListQuery: null,\n    currentUserId: '',\n    disableAutoSelect: false,\n};\n\nfunction channelListReducer(state, action) {\n    return (K(action)\n        .with({ type: INIT_CHANNELS_START }, function (_a) {\n        var payload = _a.payload;\n        return (__assign(__assign({}, state), { loading: true, currentUserId: payload.currentUserId }));\n    })\n        .with({ type: RESET_CHANNEL_LIST }, function () {\n        return initialState;\n    })\n        .with({ type: INIT_CHANNELS_SUCCESS }, function (action) {\n        var _a = action.payload, channelList = _a.channelList, disableAutoSelect = _a.disableAutoSelect;\n        return __assign(__assign({}, state), { initialized: true, loading: false, allChannels: channelList, disableAutoSelect: disableAutoSelect, currentChannel: !disableAutoSelect && channelList && channelList.length && channelList.length > 0 ? channelList[0] : state.currentChannel });\n    })\n        .with({ type: REFRESH_CHANNELS_SUCCESS }, function (action) {\n        var _a = action.payload, channelList = _a.channelList, currentChannel = _a.currentChannel;\n        return __assign(__assign({}, state), { loading: false, allChannels: channelList, currentChannel: currentChannel });\n    })\n        .with({ type: FETCH_CHANNELS_SUCCESS }, function (action) {\n        var currentChannels = state.allChannels.map(function (c) { return c.url; });\n        var filteredChannels = action.payload.filter(function (_a) {\n            var url = _a.url;\n            return !currentChannels.find(function (c) { return c === url; });\n        });\n        return __assign(__assign({}, state), { allChannels: __spreadArray(__spreadArray([], state.allChannels, true), filteredChannels, true) });\n    })\n        .with({ type: CREATE_CHANNEL }, function (action) {\n        var _a;\n        var channel = action.payload;\n        var allChannels = state.allChannels, currentUserId = state.currentUserId, channelListQuery = state.channelListQuery;\n        if (channelListQuery) {\n            if (filterChannelListParams(channelListQuery, channel, currentUserId)) {\n                // Good to add to the ChannelList\n                return __assign(__assign({}, state), { currentChannel: channel, allChannels: getChannelsWithUpsertedChannel(allChannels, channel, (_a = state.channelListQuery) === null || _a === void 0 ? void 0 : _a.order) });\n            }\n            // Do not add to the ChannelList\n            return __assign(__assign({}, state), { currentChannel: channel });\n        }\n        // No channelListQuery\n        // Add to the top of the ChannelList\n        return __assign(__assign({}, state), { currentChannel: channel, allChannels: __spreadArray([channel], allChannels.filter(function (ch) { return ch.url !== (channel === null || channel === void 0 ? void 0 : channel.url); }), true) });\n    })\n        // A hidden channel will be unhidden when getting new message\n        .with({ type: ON_CHANNEL_ARCHIVED }, function (action) {\n        var _a;\n        var channel = action.payload;\n        var allChannels = state.allChannels, currentUserId = state.currentUserId, currentChannel = state.currentChannel, channelListQuery = state.channelListQuery, disableAutoSelect = state.disableAutoSelect;\n        if (channelListQuery) {\n            if (filterChannelListParams(channelListQuery, channel, currentUserId)) {\n                // Good to [add to/keep in] the ChannelList\n                return __assign(__assign({}, state), { allChannels: getChannelsWithUpsertedChannel(allChannels, channel, (_a = state.channelListQuery) === null || _a === void 0 ? void 0 : _a.order) });\n            }\n            // * Remove the channel from the ChannelList: because the channel is filtered\n        }\n        // No channelListQuery\n        // * Remove the channel from the ChannelList: because the channel is hidden\n        // Replace the currentChannel if it's filtered or hidden\n        var nextChannel = getNextChannel({\n            channel: channel,\n            currentChannel: currentChannel,\n            allChannels: allChannels,\n            disableAutoSelect: disableAutoSelect,\n        });\n        return __assign(__assign({}, state), { currentChannel: nextChannel, allChannels: allChannels.filter(function (_a) {\n                var url = _a.url;\n                return url !== (channel === null || channel === void 0 ? void 0 : channel.url);\n            }) });\n    })\n        .with({ type: S.union(LEAVE_CHANNEL_SUCCESS, ON_CHANNEL_DELETED) }, function (action) {\n        var _a;\n        var channelUrl = action.payload;\n        var allChannels = state.allChannels.filter(function (_a) {\n            var url = _a.url;\n            return url !== channelUrl;\n        });\n        return __assign(__assign({}, state), { currentChannel: channelUrl === ((_a = state.currentChannel) === null || _a === void 0 ? void 0 : _a.url) ? allChannels[0] : state.currentChannel, allChannels: allChannels });\n    })\n        .with({ type: ON_USER_LEFT }, function (action) {\n        var _a;\n        var _b = action.payload, channel = _b.channel, isMe = _b.isMe;\n        var allChannels = state.allChannels, currentUserId = state.currentUserId, currentChannel = state.currentChannel, channelListQuery = state.channelListQuery, disableAutoSelect = state.disableAutoSelect;\n        var nextChannels = __spreadArray([], allChannels, true);\n        var nextChannel = channel;\n        /**\n         * 1. If I left channel:\n         *   - Remove the channel from channel list\n         *   - Replace currentChannel with the next ordered channel\n         * 2. If other member left channel:\n         *   2-1. If query is given:\n         *     2-1-1. If channel no longer matches the query\n         *       - Same as step 1\n         *     2-1-2. If channel matches the query:\n         *       - Upsert channel list with the channel\n         *       - Replace currentChannel IFF url is same\n         *   2-2. If query is not given,\n         *     - Same as step 2-1-2\n         */\n        /* `1` and `2-1-1` */\n        if (isMe || (channelListQuery && !filterChannelListParams(channelListQuery, channel, currentUserId))) {\n            var channelAt = allChannels.findIndex(function (ch) { return ch.url === channel.url; });\n            if (channelAt > -1) {\n                nextChannels.splice(channelAt, 1);\n                nextChannel = getNextChannel({\n                    channel: channel,\n                    currentChannel: currentChannel,\n                    allChannels: allChannels,\n                    disableAutoSelect: disableAutoSelect,\n                });\n            }\n        }\n        else {\n            /* `2-1-2` and `2-2` */\n            nextChannels = getChannelsWithUpsertedChannel(allChannels, channel, (_a = state.channelListQuery) === null || _a === void 0 ? void 0 : _a.order);\n            if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === channel.url) {\n                nextChannel = channel;\n            }\n        }\n        return __assign(__assign({}, state), { currentChannel: nextChannel, allChannels: nextChannels });\n    })\n        .with({\n        type: S.union(ON_USER_JOINED, ON_CHANNEL_CHANGED, ON_READ_RECEIPT_UPDATED, ON_DELIVERY_RECEIPT_UPDATED),\n    }, function (action) {\n        var _a, _b, _c;\n        var channel = action.payload;\n        var _d = state.allChannels, allChannels = _d === void 0 ? [] : _d, currentUserId = state.currentUserId, currentChannel = state.currentChannel, channelListQuery = state.channelListQuery, disableAutoSelect = state.disableAutoSelect;\n        var unreadMessageCount = channel.unreadMessageCount;\n        if (channelListQuery) {\n            if (filterChannelListParams(channelListQuery, channel, currentUserId)) {\n                // Good to [add to/keep in] the ChannelList\n                return __assign(__assign({}, state), { allChannels: getChannelsWithUpsertedChannel(allChannels, channel, (_a = state.channelListQuery) === null || _a === void 0 ? void 0 : _a.order) });\n            }\n            // If the channel is just created and the current user is the only member,\n            // don't add to the ChannelList but keep the currentChannel\n            if (isChannelJustCreated(channel)) {\n                return state;\n            }\n            // Filter the channel from the ChannelList\n            // Replace the currentChannel if it's filtered channel\n            var nextChannel = getNextChannel({\n                channel: channel,\n                currentChannel: currentChannel,\n                allChannels: allChannels,\n                disableAutoSelect: disableAutoSelect,\n            });\n            return __assign(__assign({}, state), { currentChannel: nextChannel, allChannels: allChannels.filter(function (_a) {\n                    var url = _a.url;\n                    return url !== (channel === null || channel === void 0 ? void 0 : channel.url);\n                }) });\n        }\n        if (\n        // When marking as read the channel\n        unreadMessageCount === 0\n            // @ts-ignore - When sending a message by the current peer\n            && ((_c = (_b = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _b === void 0 ? void 0 : _b.sender) === null || _c === void 0 ? void 0 : _c.userId) !== currentUserId) {\n            // Don't move to the top\n            return __assign(__assign({}, state), { allChannels: allChannels.map(function (ch) { return (ch.url === (channel === null || channel === void 0 ? void 0 : channel.url) ? channel : ch); }) });\n        }\n        // Move to the top\n        return __assign(__assign({}, state), { allChannels: __spreadArray([channel], allChannels.filter(function (_a) {\n                var url = _a.url;\n                return url !== channel.url;\n            }), true) });\n    })\n        .with({ type: SET_CURRENT_CHANNEL }, function (action) {\n        return __assign(__assign({}, state), { currentChannel: action.payload });\n    })\n        .with({ type: ON_LAST_MESSAGE_UPDATED }, function (action) {\n        return __assign(__assign({}, state), { allChannels: state.allChannels.map(function (channel) { return (channel === null || channel === void 0 ? void 0 : channel.url) === action.payload.url ? action.payload : channel; }) });\n    })\n        .with({ type: ON_CHANNEL_FROZEN }, function (action) {\n        var _a;\n        var channel = action.payload;\n        var allChannels = state.allChannels, currentUserId = state.currentUserId, currentChannel = state.currentChannel, channelListQuery = state.channelListQuery, disableAutoSelect = state.disableAutoSelect;\n        if (channelListQuery) {\n            if (filterChannelListParams(channelListQuery, channel, currentUserId)) {\n                // Good to [add to/keep in] the ChannelList\n                return __assign(__assign({}, state), { allChannels: getChannelsWithUpsertedChannel(allChannels, channel, (_a = state.channelListQuery) === null || _a === void 0 ? void 0 : _a.order) });\n            }\n            // Filter the channel from the ChannelList\n            // Replace the currentChannel if it's filtered channel\n            var nextChannel = getNextChannel({\n                channel: channel,\n                currentChannel: currentChannel,\n                allChannels: allChannels,\n                disableAutoSelect: disableAutoSelect,\n            });\n            return __assign(__assign({}, state), { currentChannel: nextChannel, allChannels: allChannels.filter(function (_a) {\n                    var url = _a.url;\n                    return url !== (channel === null || channel === void 0 ? void 0 : channel.url);\n                }) });\n        }\n        return __assign(__assign({}, state), { allChannels: allChannels.map(function (ch) {\n                if (ch.url === (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                    // eslint-disable-next-line no-param-reassign\n                    ch.isFrozen = true;\n                    return ch;\n                }\n                return ch;\n            }) });\n    })\n        .with({ type: ON_CHANNEL_UNFROZEN }, function (action) {\n        var _a;\n        var channel = action.payload;\n        var allChannels = state.allChannels, currentUserId = state.currentUserId, currentChannel = state.currentChannel, channelListQuery = state.channelListQuery, disableAutoSelect = state.disableAutoSelect;\n        if (channelListQuery) {\n            if (filterChannelListParams(channelListQuery, channel, currentUserId)) {\n                // Good to [add to/keep in] the ChannelList\n                return __assign(__assign({}, state), { allChannels: getChannelsWithUpsertedChannel(allChannels, channel, (_a = state.channelListQuery) === null || _a === void 0 ? void 0 : _a.order) });\n            }\n            // Filter the channel from the ChannelList\n            // Replace the currentChannel if it's filtered channel\n            var nextChannel = getNextChannel({\n                channel: channel,\n                currentChannel: currentChannel,\n                allChannels: allChannels,\n                disableAutoSelect: disableAutoSelect,\n            });\n            return __assign(__assign({}, state), { currentChannel: nextChannel, allChannels: allChannels.filter(function (_a) {\n                    var url = _a.url;\n                    return url !== (channel === null || channel === void 0 ? void 0 : channel.url);\n                }) });\n        }\n        // No channelListQuery\n        return __assign(__assign({}, state), { allChannels: allChannels.map(function (ch) {\n                if (ch.url === (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                    // eslint-disable-next-line no-param-reassign\n                    ch.isFrozen = false;\n                    return ch;\n                }\n                return ch;\n            }) });\n    })\n        .with({ type: CHANNEL_LIST_PARAMS_UPDATED }, function (action) { return (__assign(__assign({}, state), { channelListQuery: action.payload.channelListQuery, currentUserId: action.payload.currentUserId })); })\n        .otherwise(function () { return state; }));\n}\n\nfunction useActiveChannelUrl(_a, _b) {\n    var activeChannelUrl = _a.activeChannelUrl, channels = _a.channels, sdk = _a.sdk;\n    var logger = _b.logger, channelListDispatcher = _b.channelListDispatcher;\n    return useEffect(function () {\n        var _a;\n        if (activeChannelUrl) {\n            logger.info('ChannelListProvider: looking for active channel', { activeChannelUrl: activeChannelUrl });\n            var activeChannel = channels === null || channels === void 0 ? void 0 : channels.find(function (channel) { return channel.url === activeChannelUrl; });\n            if (activeChannel) {\n                channelListDispatcher({\n                    type: SET_CURRENT_CHANNEL,\n                    payload: activeChannel,\n                });\n            }\n            else {\n                logger.info('ChannelListProvider: searching backend for active channel', { activeChannelUrl: activeChannelUrl });\n                (_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.getChannel(activeChannelUrl).then(function (channel) {\n                    channelListDispatcher({\n                        type: FETCH_CHANNELS_SUCCESS,\n                        payload: [channel],\n                    });\n                    channelListDispatcher({\n                        type: SET_CURRENT_CHANNEL,\n                        payload: channel,\n                    });\n                }).catch(function () {\n                    logger.warning('ChannelListProvider: Active channel not found');\n                });\n            }\n        }\n    }, [activeChannelUrl]);\n}\n\nvar useFetchChannelList = function (_a, _b) {\n    var channelSource = _a.channelSource, disableMarkAsDelivered = _a.disableMarkAsDelivered;\n    var channelListDispatcher = _b.channelListDispatcher, logger = _b.logger, markAsDeliveredScheduler = _b.markAsDeliveredScheduler;\n    return useCallback(function () { return __awaiter(void 0, void 0, void 0, function () {\n        var channelList, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(channelSource === null || channelSource === void 0 ? void 0 : channelSource.hasNext)) {\n                        logger.info('ChannelList: not able to fetch');\n                        return [2 /*return*/];\n                    }\n                    logger.info('ChannelList: starting fetch');\n                    channelListDispatcher({\n                        type: FETCH_CHANNELS_START,\n                        payload: null,\n                    });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, channelSource.next()];\n                case 2:\n                    channelList = _a.sent();\n                    logger.info('ChannelList: succeeded fetch', { channelList: channelList });\n                    channelListDispatcher({\n                        type: FETCH_CHANNELS_SUCCESS,\n                        payload: channelList,\n                    });\n                    if (!disableMarkAsDelivered) {\n                        logger.info('ChannelList: mark as delivered to fetched channels');\n                        // eslint-disable-next-line no-unused-expressions\n                        channelList === null || channelList === void 0 ? void 0 : channelList.forEach(function (channel) {\n                            if ((channel === null || channel === void 0 ? void 0 : channel.unreadMessageCount) > 0) {\n                                markAsDeliveredScheduler.push(channel);\n                            }\n                        });\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_1 = _a.sent();\n                    logger.error('ChannelList: failed fetch', { error: error_1 });\n                    channelListDispatcher({\n                        type: FETCH_CHANNELS_FAILURE,\n                        payload: error_1,\n                    });\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, [\n        channelSource,\n        disableMarkAsDelivered,\n    ]);\n};\n\nfunction useHandleReconnectForChannelList(_a) {\n    var isOnline = _a.isOnline, reconnectOnIdle = _a.reconnectOnIdle, logger = _a.logger, sdk = _a.sdk, currentGroupChannel = _a.currentGroupChannel, channelListDispatcher = _a.channelListDispatcher, setChannelSource = _a.setChannelSource, userFilledChannelListQuery = _a.userFilledChannelListQuery, sortChannelList = _a.sortChannelList, disableAutoSelect = _a.disableAutoSelect, markAsDeliveredScheduler = _a.markAsDeliveredScheduler, disableMarkAsDelivered = _a.disableMarkAsDelivered;\n    var shouldReconnect = useReconnectOnIdle(isOnline, currentGroupChannel, reconnectOnIdle).shouldReconnect;\n    useEffect(function () {\n        return function () {\n            var _a, _b, _c, _d;\n            // state changed from offline to online AND tab is visible\n            if (shouldReconnect) {\n                logger.info('ChannelList refresh - creating query', { userFilledChannelListQuery: userFilledChannelListQuery });\n                var channelListQuery = createChannelListQuery({ sdk: sdk, userFilledChannelListQuery: userFilledChannelListQuery });\n                logger.info('ChannelList refresh - created query', channelListQuery);\n                setChannelSource(channelListQuery);\n                channelListDispatcher({\n                    type: INIT_CHANNELS_START,\n                    payload: {\n                        currentUserId: (_b = (_a = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _a === void 0 ? void 0 : _a.userId) !== null && _b !== void 0 ? _b : '',\n                    },\n                });\n                if (userFilledChannelListQuery) {\n                    logger.info('ChannelList refresh - setting up channelListQuery', channelListQuery);\n                    channelListDispatcher({\n                        type: CHANNEL_LIST_PARAMS_UPDATED,\n                        payload: {\n                            channelListQuery: channelListQuery,\n                            currentUserId: (_d = (_c = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _c === void 0 ? void 0 : _c.userId) !== null && _d !== void 0 ? _d : '',\n                        },\n                    });\n                }\n                logger.info('ChannelList refresh - fetching channels');\n                if (channelListQuery.hasNext) {\n                    channelListQuery\n                        .next()\n                        .then(function (channelList) {\n                        var _a, _b;\n                        logger.info('ChannelList refresh - fetched channels', channelList);\n                        var sortedChannelList = channelList;\n                        if (sortChannelList && typeof sortChannelList === 'function') {\n                            sortedChannelList = sortChannelList(channelList);\n                            logger.info('ChannelList refresh - channel list sorted', sortedChannelList);\n                        }\n                        // select first channel\n                        var newCurrentChannel = !disableAutoSelect ? sortedChannelList[0] : null;\n                        if (currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url) {\n                            var foundChannel = sortedChannelList.find(function (channel) { return (channel.url === currentGroupChannel.url); });\n                            if (foundChannel) {\n                                newCurrentChannel = foundChannel;\n                            }\n                        }\n                        logger.info('ChannelList refresh - highlight channel', newCurrentChannel);\n                        channelListDispatcher({\n                            type: REFRESH_CHANNELS_SUCCESS,\n                            payload: {\n                                channelList: sortedChannelList,\n                                currentChannel: newCurrentChannel,\n                            },\n                        });\n                        var canSetMarkAsDelivered = (_b = (_a = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) === null || _a === void 0 ? void 0 : _a.premiumFeatureList) === null || _b === void 0 ? void 0 : _b.find(function (feature) { return feature === DELIVERY_RECEIPT$1; });\n                        if (canSetMarkAsDelivered && !disableMarkAsDelivered) {\n                            sortedChannelList.forEach(function (channel) {\n                                markAsDeliveredScheduler.push(channel);\n                            });\n                        }\n                    })\n                        .catch(function (err) {\n                        if (err) {\n                            logger.error('ChannelList refresh - could not fetch channels', err);\n                            channelListDispatcher({\n                                type: INIT_CHANNELS_FAILURE,\n                            });\n                        }\n                    });\n                }\n                else {\n                    logger.info('ChannelList refresh - there are no more channels');\n                }\n            }\n        };\n    }, [shouldReconnect]);\n}\n\nvar ChannelListContext = React__default.createContext(null);\n/**\n * @deprecated This provider is deprecated and will be removed in the next major update.\n * Please use the `GroupChannelListProvider` from '@sendbird/uikit-react/GroupChannelList' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar ChannelListProvider = function (props) {\n    var _a, _b;\n    // destruct props\n    var children = props.children, className = props.className, disableUserProfile = props.disableUserProfile, allowProfileEdit = props.allowProfileEdit, queries = props.queries, onProfileEditSuccess = props.onProfileEditSuccess, onThemeChange = props.onThemeChange, onBeforeCreateChannel = props.onBeforeCreateChannel, sortChannelList = props.sortChannelList, overrideInviteUser = props.overrideInviteUser, activeChannelUrl = props.activeChannelUrl, _c = props.isTypingIndicatorEnabled, isTypingIndicatorEnabled = _c === void 0 ? null : _c, _d = props.isMessageReceiptStatusEnabled, isMessageReceiptStatusEnabled = _d === void 0 ? null : _d, reconnectOnIdle = props.reconnectOnIdle;\n    // disable autoselect, if activeChannelUrl is provided\n    // useActiveChannelUrl should be executed when activeChannelUrl is present\n    var disableAutoSelect = (props === null || props === void 0 ? void 0 : props.disableAutoSelect) || !!activeChannelUrl;\n    var onChannelSelect = (props === null || props === void 0 ? void 0 : props.onChannelSelect) || noop;\n    // fetch store from <SendbirdProvider />\n    var state = useSendbird().state;\n    var config = state.config, stores = state.stores;\n    var sdkStore = stores.sdkStore;\n    var pubSub = config.pubSub, logger = config.logger;\n    var markAsDeliveredScheduler = config.markAsDeliveredScheduler, _e = config.disableMarkAsDelivered, disableMarkAsDelivered = _e === void 0 ? false : _e, isOnline = config.isOnline;\n    var sdk = sdkStore === null || sdkStore === void 0 ? void 0 : sdkStore.sdk;\n    var _f = ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) !== null && _a !== void 0 ? _a : {}).premiumFeatureList, premiumFeatureList = _f === void 0 ? [] : _f;\n    // derive some variables\n    // enable if it is true at least once(both are false by default)\n    var enableEditProfile = allowProfileEdit || config.allowProfileEdit;\n    var userFilledChannelListQuery = queries === null || queries === void 0 ? void 0 : queries.channelListQuery;\n    var userFilledApplicationUserListQuery = queries === null || queries === void 0 ? void 0 : queries.applicationUserListQuery;\n    var sdkIntialized = sdkStore === null || sdkStore === void 0 ? void 0 : sdkStore.initialized;\n    var _g = useReducer(channelListReducer, initialState), channelListStore = _g[0], channelListDispatcher = _g[1];\n    var currentChannel = channelListStore.currentChannel;\n    var _h = useState(null), channelSource = _h[0], setChannelSource = _h[1];\n    var _j = useState([]), typingChannels = _j[0], setTypingChannels = _j[1];\n    useEffect(function () {\n        var subscriber = pubSubHandler(pubSub, channelListDispatcher);\n        return function () {\n            pubSubHandleRemover(subscriber);\n        };\n    }, [sdkIntialized]);\n    useEffect(function () {\n        var _a;\n        var sdkChannelHandlerId = uuidv4();\n        if (sdkIntialized) {\n            logger.info('ChannelList: Setup channelHandlers');\n            setupChannelList({\n                sdk: sdk,\n                sdkChannelHandlerId: sdkChannelHandlerId,\n                channelListDispatcher: channelListDispatcher,\n                setChannelSource: setChannelSource,\n                onChannelSelect: onChannelSelect,\n                userFilledChannelListQuery: __assign({}, userFilledChannelListQuery),\n                logger: logger,\n                sortChannelList: sortChannelList,\n                disableAutoSelect: disableAutoSelect,\n                markAsDeliveredScheduler: markAsDeliveredScheduler,\n                disableMarkAsDelivered: disableMarkAsDelivered,\n            });\n        }\n        else {\n            logger.info('ChannelList: Removing channelHandlers');\n            // remove previous channelHandlers\n            if ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.removeGroupChannelHandler) {\n                sdk.groupChannel.removeGroupChannelHandler(sdkChannelHandlerId);\n            }\n            // remove channelSource\n            setChannelSource(null);\n            // cleanup\n            channelListDispatcher({\n                type: RESET_CHANNEL_LIST,\n                payload: null,\n            });\n        }\n        return function () {\n            var _a, _b;\n            logger.info('ChannelList: Removing channelHandlers');\n            if ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.removeGroupChannelHandler) {\n                (_b = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _b === void 0 ? void 0 : _b.removeGroupChannelHandler(sdkChannelHandlerId);\n            }\n        };\n    }, [\n        sdkIntialized,\n        sortChannelList,\n        Object.entries(userFilledChannelListQuery !== null && userFilledChannelListQuery !== void 0 ? userFilledChannelListQuery : {}).map(function (_a) {\n            var key = _a[0], value = _a[1];\n            return key + value;\n        }).join(),\n    ]);\n    useEffect(function () {\n        var _a, _b;\n        var typingHandlerId = '';\n        if ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.addGroupChannelHandler) {\n            typingHandlerId = uuidv4();\n            var handler = new GroupChannelHandler({\n                onTypingStatusUpdated: function (channel) {\n                    var _a;\n                    var typingMemberCount = (_a = channel === null || channel === void 0 ? void 0 : channel.getTypingUsers()) === null || _a === void 0 ? void 0 : _a.length;\n                    var channelList = typingChannels.filter(function (ch) { return ch.url !== channel.url; });\n                    if (typingMemberCount > 0) {\n                        setTypingChannels(__spreadArray(__spreadArray([], channelList, true), [channel], false));\n                    }\n                    else {\n                        setTypingChannels(channelList);\n                    }\n                },\n                onUnreadMemberStatusUpdated: function (channel) {\n                    channelListDispatcher({\n                        type: ON_LAST_MESSAGE_UPDATED,\n                        payload: channel,\n                    });\n                },\n                onUndeliveredMemberStatusUpdated: function (channel) {\n                    channelListDispatcher({\n                        type: ON_LAST_MESSAGE_UPDATED,\n                        payload: channel,\n                    });\n                },\n                onMessageUpdated: function (channel) {\n                    if (channel.isGroupChannel()) {\n                        channelListDispatcher({\n                            type: ON_LAST_MESSAGE_UPDATED,\n                            payload: channel,\n                        });\n                        sdk.groupChannel.getChannelWithoutCache(channel.url).then(function (ch) {\n                            channelListDispatcher({\n                                type: ON_LAST_MESSAGE_UPDATED,\n                                payload: ch,\n                            });\n                        });\n                    }\n                },\n                onMentionReceived: function (channel) {\n                    if (channel.isGroupChannel()) {\n                        channelListDispatcher({\n                            type: ON_LAST_MESSAGE_UPDATED,\n                            payload: channel,\n                        });\n                        sdk.groupChannel.getChannelWithoutCache(channel.url).then(function (ch) {\n                            channelListDispatcher({\n                                type: ON_LAST_MESSAGE_UPDATED,\n                                payload: ch,\n                            });\n                        });\n                    }\n                },\n            });\n            (_b = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _b === void 0 ? void 0 : _b.addGroupChannelHandler(typingHandlerId, handler);\n        }\n        return function () {\n            var _a;\n            if (((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.removeGroupChannelHandler) && typingHandlerId !== '') {\n                sdk.groupChannel.removeGroupChannelHandler(typingHandlerId);\n            }\n        };\n    }, [(_b = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _b === void 0 ? void 0 : _b.userId]);\n    var queries_ = useMemo(function () {\n        return {\n            applicationUserListQuery: userFilledApplicationUserListQuery,\n            channelListQuery: userFilledChannelListQuery,\n        };\n    }, [userFilledApplicationUserListQuery, userFilledChannelListQuery]);\n    var allChannels = channelListStore.allChannels;\n    var sortedChannels = sortChannelList && typeof sortChannelList === 'function' ? sortChannelList(allChannels) : allChannels;\n    if (sortedChannels.length !== allChannels.length) {\n        var warning = \"ChannelList: You have removed/added extra channels on sortChannelList\\n      this could cause unexpected problems\";\n        // eslint-disable-next-line no-console\n        console.warn(warning, { before: allChannels, after: sortedChannels });\n        logger.warning(warning, { before: allChannels, after: sortedChannels });\n    }\n    // Set current channel (by on_channel_selected event)\n    useEffect(function () {\n        if (!sdk || !sdk.groupChannel) {\n            return;\n        }\n        // When leaving a channel, tell consumers that the prior channel is no longer selected\n        if (!(currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url)) {\n            onChannelSelect(null);\n            return;\n        }\n        sdk.groupChannel.getChannel(currentChannel.url).then(function (groupChannel) {\n            if (groupChannel) {\n                onChannelSelect(groupChannel);\n            }\n            else {\n                onChannelSelect(null);\n            }\n        });\n    }, [currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url]);\n    // Set active channel (by url)\n    useActiveChannelUrl({\n        activeChannelUrl: activeChannelUrl,\n        channels: sortedChannels,\n        sdk: sdk,\n    }, {\n        logger: logger,\n        channelListDispatcher: channelListDispatcher,\n    });\n    useHandleReconnectForChannelList({\n        isOnline: isOnline,\n        reconnectOnIdle: reconnectOnIdle,\n        logger: logger,\n        sdk: sdk,\n        currentGroupChannel: currentChannel,\n        channelListDispatcher: channelListDispatcher,\n        setChannelSource: setChannelSource,\n        userFilledChannelListQuery: userFilledChannelListQuery,\n        sortChannelList: sortChannelList,\n        disableAutoSelect: disableAutoSelect,\n        markAsDeliveredScheduler: markAsDeliveredScheduler,\n        disableMarkAsDelivered: disableMarkAsDelivered,\n    });\n    var fetchChannelList = useFetchChannelList({\n        channelSource: channelSource,\n        disableMarkAsDelivered: disableMarkAsDelivered || !premiumFeatureList.some(function (feature) { return feature === DELIVERY_RECEIPT$1; }),\n    }, {\n        channelListDispatcher: channelListDispatcher,\n        logger: logger,\n        markAsDeliveredScheduler: markAsDeliveredScheduler,\n    });\n    return (React__default.createElement(ChannelListContext.Provider, { value: __assign(__assign({ className: className, disableUserProfile: disableUserProfile, queries: queries_, onProfileEditSuccess: onProfileEditSuccess, onThemeChange: onThemeChange, onBeforeCreateChannel: onBeforeCreateChannel, overrideInviteUser: overrideInviteUser, onChannelSelect: onChannelSelect, sortChannelList: sortChannelList, allowProfileEdit: enableEditProfile, channelListDispatcher: channelListDispatcher, channelSource: channelSource }, channelListStore), { allChannels: sortedChannels, typingChannels: typingChannels, isTypingIndicatorEnabled: isTypingIndicatorEnabled !== null && isTypingIndicatorEnabled !== void 0 ? isTypingIndicatorEnabled : config.groupChannelList.enableTypingIndicator, isMessageReceiptStatusEnabled: isMessageReceiptStatusEnabled !== null && isMessageReceiptStatusEnabled !== void 0 ? isMessageReceiptStatusEnabled : config.groupChannelList.enableMessageReceiptStatus, fetchChannelList: fetchChannelList }) },\n        React__default.createElement(UserProfileProvider, __assign({}, props),\n            React__default.createElement(\"div\", { className: \"sendbird-channel-list \".concat(className) }, children))));\n};\nfunction useChannelListContext() {\n    var context = useContext(ChannelListContext);\n    if (!context)\n        throw new Error('ChannelListContext not found. Use within the ChannelList module.');\n    return context;\n}\n\nexport { ChannelListProvider as C, LEAVE_CHANNEL_SUCCESS as L, SET_CURRENT_CHANNEL as S, useChannelListContext as u };\n//# sourceMappingURL=bundle-DipRMv-6.js.map\n", "// we use pubsub to sync events between multiple components(example - ChannelList, Channel)\n// for example, if customer sends a message from their custom component\n// without pubsub,we would not be able to listen to it\n// in our ChannelList or Conversation\nvar pubSubFactory = function (opts) {\n    var topics = {};\n    return {\n        __getTopics: function () { return topics; },\n        subscribe: function (topic, listener) {\n            var _a;\n            (_a = topics[topic]) !== null && _a !== void 0 ? _a : (topics[topic] = new Set());\n            topics[topic].add(listener);\n            return {\n                remove: function () {\n                    topics[topic].delete(listener);\n                },\n            };\n        },\n        publish: function (topic, info) {\n            if (topics[topic]) {\n                topics[topic].forEach(function (fn) {\n                    if (opts === null || opts === void 0 ? void 0 : opts.publishSynchronous) {\n                        fn(info !== undefined ? info : {});\n                    }\n                    else {\n                        setTimeout(function () { return fn(info !== undefined ? info : {}); }, 0);\n                    }\n                });\n            }\n        },\n    };\n};\n\nexport { pubSubFactory as p };\n//# sourceMappingURL=bundle-DtQBJOWR.js.map\n", "import { useEffect, useRef } from 'react';\nimport { i as isEqual } from './bundle-CK7w7gep.js';\n\nfunction useDeepCompareMemoize(value) {\n    var ref = useRef(value);\n    if (!isEqual(value, ref.current)) {\n        ref.current = value;\n    }\n    return ref.current;\n}\n/**\n * Custom hook that works like useEffect but performs a deep comparison of dependencies\n * instead of reference equality.\n *\n * Best used when:\n * - Working with complex objects without guaranteed immutability\n * - Handling data from external sources where reference equality isn't maintained\n * - Dealing with deeply nested objects where individual memoization is impractical\n *\n * Avoid using when:\n * - Detecting changes within array items is crucial\n * - Performance is critical (deep comparison is expensive)\n * - Working primarily with primitive values or simple objects\n *\n * @example\n * useDeepCompareEffect(() => {\n *   // Effect logic\n * }, [complexObject, anotherObject]);\n *\n * @param callback Effect callback that can return a cleanup function\n * @param dependencies Array of dependencies to be deeply compared\n */\nfunction useDeepCompareEffect(callback, dependencies) {\n    useEffect(callback, dependencies.map(useDeepCompareMemoize));\n}\n\nexport { useDeepCompareEffect as u };\n//# sourceMappingURL=bundle-Dx43PGfx.js.map\n", "import { _ as __assign, b as __awaiter, c as __generator } from './bundle-BosquA9C.js';\nimport React__default, { useCallback, useContext, useMemo, useRef, useState, useLayoutEffect, createContext, useEffect } from 'react';\nimport { MessageMetaArray, ReplyType } from '@sendbird/chat/message';\nimport { MessageFilter } from '@sendbird/chat/groupChannel';\nimport { useIIFE, useGroupChannelMessages, useAsyncEffect, useAsyncLayoutEffect } from '@sendbird/uikit-tools';\nimport { U as UserProfileProvider } from './bundle-ByW5tGii.js';\nimport { p as pubSubFactory } from './bundle-DtQBJOWR.js';\nimport { s as shimExports, u as useStore, c as createStore } from './bundle-CK7w7gep.js';\nimport { e as getMessageTopOffset, b as isContextMenuClosed } from './bundle-DgO_xXWo.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\nimport { g as getIsReactionEnabled } from './bundle-B61f7NvF.js';\nimport { g as getCaseResolvedReplyType, a as getCaseResolvedThreadReplySelectType } from './bundle-CCDeoxT_.js';\nimport { P as PUBSUB_TOPICS, b as PublishingModuleType, p as pubSubTopics } from './bundle-DxUY6hv0.js';\nimport { T as ThreadReplySelectType } from './bundle-mxwNwHvq.js';\nimport { u as useDeepCompareEffect } from './bundle-Dx43PGfx.js';\nimport { a as delay, d as deleteNullish } from './bundle-Bc1fdQjj.js';\nimport { K } from './bundle-BA9ZfQ-7.js';\nimport { a as VOICE_MESSAGE_FILE_NAME, b as VOICE_MESSAGE_MIME_TYPE, i as META_ARRAY_VOICE_DURATION_KEY, j as META_ARRAY_MESSAGE_TYPE_KEY, k as META_ARRAY_MESSAGE_TYPE_VALUE__VOICE } from './bundle-BDIF-bj_.js';\n\nvar pass = function (value) { return value; };\n/**\n * @description This hook controls common processes related to message sending, updating.\n * */\nfunction useMessageActions(params) {\n    var _this = this;\n    var _a = params.onBeforeSendUserMessage, onBeforeSendUserMessage = _a === void 0 ? pass : _a, _b = params.onBeforeSendFileMessage, onBeforeSendFileMessage = _b === void 0 ? pass : _b, _c = params.onBeforeUpdateUserMessage, onBeforeUpdateUserMessage = _c === void 0 ? pass : _c, _d = params.onBeforeSendVoiceMessage, onBeforeSendVoiceMessage = _d === void 0 ? pass : _d, _e = params.onBeforeSendMultipleFilesMessage, onBeforeSendMultipleFilesMessage = _e === void 0 ? pass : _e, sendFileMessage = params.sendFileMessage, sendMultipleFilesMessage = params.sendMultipleFilesMessage, sendUserMessage = params.sendUserMessage, updateUserMessage = params.updateUserMessage, updateFileMessage = params.updateFileMessage, resendMessage = params.resendMessage, deleteMessage = params.deleteMessage, resetNewMessages = params.resetNewMessages, scrollToBottom = params.scrollToBottom, quoteMessage = params.quoteMessage, replyType = params.replyType, currentChannel = params.currentChannel;\n    var _f = useSendbird().state, eventHandlers = _f.eventHandlers, pubSub = _f.config.pubSub;\n    var buildInternalMessageParams = useCallback(function (basicParams) {\n        var messageParams = __assign({}, basicParams);\n        if (params.quoteMessage && replyType !== 'NONE') {\n            messageParams.isReplyToChannel = true;\n            messageParams.parentMessageId = quoteMessage === null || quoteMessage === void 0 ? void 0 : quoteMessage.messageId;\n        }\n        return messageParams;\n    }, [replyType, quoteMessage]);\n    // This is a hack for the hotfix of following issue\n    // https://sendbird.atlassian.net/browse/SBISSUE-17029\n    var asyncScrollToBottom = useCallback(function () {\n        setTimeout(scrollToBottom, 0);\n    }, []);\n    var processParams = useCallback(function (handler, params, type) { return __awaiter(_this, void 0, void 0, function () {\n        var result, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, handler(params)];\n                case 1:\n                    result = _a.sent();\n                    return [2 /*return*/, (result === undefined ? params : result)];\n                case 2:\n                    error_1 = _a.sent();\n                    if (typeof (eventHandlers === null || eventHandlers === void 0 ? void 0 : eventHandlers.message) === 'object') {\n                        K(type)\n                            .with('file', 'voice', function () {\n                            var _a, _b, _c, _d;\n                            if (params.file) {\n                                (_b = (_a = eventHandlers.message).onFileUploadFailed) === null || _b === void 0 ? void 0 : _b.call(_a, error_1);\n                            }\n                            (_d = (_c = eventHandlers.message).onSendMessageFailed) === null || _d === void 0 ? void 0 : _d.call(_c, params, error_1);\n                        })\n                            .with('multipleFiles', function () {\n                            var _a, _b, _c, _d;\n                            if (params.fileInfoList) {\n                                (_b = (_a = eventHandlers.message).onFileUploadFailed) === null || _b === void 0 ? void 0 : _b.call(_a, error_1);\n                            }\n                            (_d = (_c = eventHandlers.message).onSendMessageFailed) === null || _d === void 0 ? void 0 : _d.call(_c, params, error_1);\n                        })\n                            .with('user', function () {\n                            var _a, _b;\n                            (_b = (_a = eventHandlers.message).onSendMessageFailed) === null || _b === void 0 ? void 0 : _b.call(_a, params, error_1);\n                        })\n                            .with('update', function () {\n                            var _a, _b;\n                            (_b = (_a = eventHandlers.message).onUpdateMessageFailed) === null || _b === void 0 ? void 0 : _b.call(_a, params, error_1);\n                        })\n                            .exhaustive();\n                    }\n                    throw error_1;\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); }, [eventHandlers]);\n    return {\n        sendUserMessage: useCallback(function (params) { return __awaiter(_this, void 0, void 0, function () {\n            var internalParams, processedParams;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        internalParams = buildInternalMessageParams(params);\n                        return [4 /*yield*/, processParams(onBeforeSendUserMessage, internalParams, 'user')];\n                    case 1:\n                        processedParams = _a.sent();\n                        return [2 /*return*/, sendUserMessage(processedParams, asyncScrollToBottom)];\n                }\n            });\n        }); }, [buildInternalMessageParams, sendUserMessage, scrollToBottom, processParams]),\n        sendFileMessage: useCallback(function (params) { return __awaiter(_this, void 0, void 0, function () {\n            var internalParams, processedParams;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        internalParams = buildInternalMessageParams(params);\n                        return [4 /*yield*/, processParams(onBeforeSendFileMessage, internalParams, 'file')];\n                    case 1:\n                        processedParams = _a.sent();\n                        return [2 /*return*/, sendFileMessage(processedParams, asyncScrollToBottom)];\n                }\n            });\n        }); }, [buildInternalMessageParams, sendFileMessage, scrollToBottom, processParams]),\n        sendMultipleFilesMessage: useCallback(function (params) { return __awaiter(_this, void 0, void 0, function () {\n            var internalParams, processedParams;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        internalParams = buildInternalMessageParams(params);\n                        return [4 /*yield*/, processParams(onBeforeSendMultipleFilesMessage, internalParams, 'multipleFiles')];\n                    case 1:\n                        processedParams = _a.sent();\n                        return [2 /*return*/, sendMultipleFilesMessage(processedParams, asyncScrollToBottom)];\n                }\n            });\n        }); }, [buildInternalMessageParams, sendMultipleFilesMessage, scrollToBottom, processParams]),\n        sendVoiceMessage: useCallback(function (params, duration) { return __awaiter(_this, void 0, void 0, function () {\n            var internalParams, processedParams;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        internalParams = buildInternalMessageParams(__assign(__assign({}, params), { fileName: VOICE_MESSAGE_FILE_NAME, mimeType: VOICE_MESSAGE_MIME_TYPE, metaArrays: [\n                                new MessageMetaArray({\n                                    key: META_ARRAY_VOICE_DURATION_KEY,\n                                    value: [\"\".concat(duration)],\n                                }),\n                                new MessageMetaArray({\n                                    key: META_ARRAY_MESSAGE_TYPE_KEY,\n                                    value: [META_ARRAY_MESSAGE_TYPE_VALUE__VOICE],\n                                }),\n                            ] }));\n                        return [4 /*yield*/, processParams(onBeforeSendVoiceMessage, internalParams, 'voice')];\n                    case 1:\n                        processedParams = _a.sent();\n                        return [2 /*return*/, sendFileMessage(processedParams, asyncScrollToBottom)];\n                }\n            });\n        }); }, [buildInternalMessageParams, sendFileMessage, scrollToBottom, processParams]),\n        updateUserMessage: useCallback(function (messageId, params) { return __awaiter(_this, void 0, void 0, function () {\n            var internalParams, processedParams;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        internalParams = buildInternalMessageParams(params);\n                        return [4 /*yield*/, processParams(onBeforeUpdateUserMessage, internalParams, 'update')];\n                    case 1:\n                        processedParams = _a.sent();\n                        return [2 /*return*/, updateUserMessage(messageId, processedParams)\n                                .then(function (message) {\n                                pubSub.publish(PUBSUB_TOPICS.UPDATE_USER_MESSAGE, {\n                                    channel: currentChannel,\n                                    message: message,\n                                    publishingModules: [PublishingModuleType.CHANNEL],\n                                });\n                                return message;\n                            })];\n                }\n            });\n        }); }, [buildInternalMessageParams, updateUserMessage, processParams, currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url]),\n        updateFileMessage: updateFileMessage,\n        resendMessage: resendMessage,\n        deleteMessage: deleteMessage,\n        resetNewMessages: resetNewMessages,\n    };\n}\n\nvar useGroupChannel = function () {\n    var _a, _b, _c;\n    var store = useContext(GroupChannelContext);\n    if (!store)\n        throw new Error('useGroupChannel must be used within a GroupChannelProvider');\n    var config = useSendbird().state.config;\n    var markAsReadScheduler = config.markAsReadScheduler;\n    var state = shimExports.useSyncExternalStore(store.subscribe, store.getState);\n    var setAnimatedMessageId = useCallback(function (messageId) {\n        store.setState(function (state) { return (__assign(__assign({}, state), { animatedMessageId: messageId })); });\n    }, []);\n    var setIsScrollBottomReached = useCallback(function (isReached) {\n        store.setState(function (state) { return (__assign(__assign({}, state), { isScrollBottomReached: isReached })); });\n    }, []);\n    var scrollToBottom = useCallback(function (animated) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!state.scrollRef.current)\n                        return [2 /*return*/];\n                    setAnimatedMessageId(null);\n                    setIsScrollBottomReached(true);\n                    // wait a bit for scroll ref to be updated\n                    return [4 /*yield*/, delay()];\n                case 1:\n                    // wait a bit for scroll ref to be updated\n                    _a.sent();\n                    if (!(config.isOnline && state.hasNext())) return [3 /*break*/, 3];\n                    return [4 /*yield*/, state.resetWithStartingPoint(Number.MAX_SAFE_INTEGER)];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3:\n                    state.scrollPubSub.publish('scrollToBottom', { animated: animated });\n                    if (state.currentChannel && !state.hasNext()) {\n                        state.resetNewMessages();\n                        if (!state.disableMarkAsRead) {\n                            markAsReadScheduler.push(state.currentChannel);\n                        }\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [state.scrollRef.current, config.isOnline, markAsReadScheduler]);\n    var scrollToMessage = useCallback(function (createdAt, messageId, messageFocusAnimated, scrollAnimated) { return __awaiter(void 0, void 0, void 0, function () {\n        var element, parentNode, clickHandler, message, topOffset;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    element = state.scrollRef.current;\n                    parentNode = element === null || element === void 0 ? void 0 : element.parentNode;\n                    clickHandler = {\n                        activate: function () {\n                            if (!element || !parentNode)\n                                return;\n                            element.style.pointerEvents = 'auto';\n                            parentNode.style.cursor = 'auto';\n                        },\n                        deactivate: function () {\n                            if (!element || !parentNode)\n                                return;\n                            element.style.pointerEvents = 'none';\n                            parentNode.style.cursor = 'wait';\n                        },\n                    };\n                    clickHandler.deactivate();\n                    setAnimatedMessageId(null);\n                    message = state.messages.find(function (it) { return it.messageId === messageId || it.createdAt === createdAt; });\n                    if (!message) return [3 /*break*/, 1];\n                    topOffset = getMessageTopOffset(message.createdAt);\n                    if (topOffset)\n                        state.scrollPubSub.publish('scroll', { top: topOffset, animated: scrollAnimated });\n                    if (messageFocusAnimated !== null && messageFocusAnimated !== void 0 ? messageFocusAnimated : true)\n                        setAnimatedMessageId(messageId);\n                    return [3 /*break*/, 3];\n                case 1: return [4 /*yield*/, state.resetWithStartingPoint(createdAt)];\n                case 2:\n                    _a.sent();\n                    setTimeout(function () {\n                        var topOffset = getMessageTopOffset(createdAt);\n                        if (topOffset) {\n                            state.scrollPubSub.publish('scroll', {\n                                top: topOffset,\n                                lazy: false,\n                                animated: scrollAnimated,\n                            });\n                        }\n                        if (messageFocusAnimated !== null && messageFocusAnimated !== void 0 ? messageFocusAnimated : true)\n                            setAnimatedMessageId(messageId);\n                    });\n                    _a.label = 3;\n                case 3:\n                    clickHandler.activate();\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [setAnimatedMessageId, state.scrollRef.current, (_a = state.messages) === null || _a === void 0 ? void 0 : _a.map(function (it) { return it === null || it === void 0 ? void 0 : it.messageId; })]);\n    var toggleReaction = useCallback(function (message, emojiKey, isReacted) {\n        if (!state.currentChannel)\n            return;\n        if (isReacted) {\n            state.currentChannel.deleteReaction(message, emojiKey)\n                .catch(function (error) {\n                var _a;\n                (_a = config.logger) === null || _a === void 0 ? void 0 : _a.warning('Failed to delete reaction:', error);\n            });\n        }\n        else {\n            state.currentChannel.addReaction(message, emojiKey)\n                .catch(function (error) {\n                var _a;\n                (_a = config.logger) === null || _a === void 0 ? void 0 : _a.warning('Failed to add reaction:', error);\n            });\n        }\n    }, [(_b = state.currentChannel) === null || _b === void 0 ? void 0 : _b.deleteReaction, (_c = state.currentChannel) === null || _c === void 0 ? void 0 : _c.addReaction]);\n    var messageActions = useMessageActions(__assign(__assign({}, state), { scrollToBottom: scrollToBottom }));\n    var setCurrentChannel = useCallback(function (channel) {\n        store.setState(function (state) { return (__assign(__assign({}, state), { currentChannel: channel, fetchChannelError: null, quoteMessage: null, animatedMessageId: null, nicknamesMap: new Map(channel.members.map(function (_a) {\n                var userId = _a.userId, nickname = _a.nickname;\n                return [userId, nickname];\n            })) })); }, true);\n    }, []);\n    var handleChannelError = useCallback(function (error) {\n        store.setState(function (state) { return (__assign(__assign({}, state), { currentChannel: null, fetchChannelError: error, quoteMessage: null, animatedMessageId: null })); });\n    }, []);\n    var setQuoteMessage = useCallback(function (message) {\n        store.setState(function (state) { return (__assign(__assign({}, state), { quoteMessage: message })); });\n    }, []);\n    var actions = useMemo(function () {\n        return __assign({ setCurrentChannel: setCurrentChannel, handleChannelError: handleChannelError, setQuoteMessage: setQuoteMessage, scrollToBottom: scrollToBottom, scrollToMessage: scrollToMessage, toggleReaction: toggleReaction, setAnimatedMessageId: setAnimatedMessageId, setIsScrollBottomReached: setIsScrollBottomReached }, messageActions);\n    }, [\n        setCurrentChannel,\n        handleChannelError,\n        setQuoteMessage,\n        scrollToBottom,\n        scrollToMessage,\n        toggleReaction,\n        setAnimatedMessageId,\n        setIsScrollBottomReached,\n        messageActions,\n    ]);\n    return { state: state, actions: actions };\n};\n\nfunction useMessageListScroll(behavior, deps) {\n    if (deps === void 0) { deps = []; }\n    var scrollRef = useRef(null);\n    var scrollPositionRef = useRef(0);\n    var scrollDistanceFromBottomRef = useRef(0);\n    var scrollPubSub = useState(function () { return pubSubFactory({ publishSynchronous: true }); })[0];\n    var setIsScrollBottomReached = useGroupChannel().actions.setIsScrollBottomReached;\n    // SideEffect: Reset scroll state\n    useLayoutEffect(function () {\n        scrollPositionRef.current = 0;\n        scrollDistanceFromBottomRef.current = 0;\n        setIsScrollBottomReached(true);\n        if (scrollRef.current)\n            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n    }, deps);\n    useLayoutEffect(function () {\n        var unsubscribes = [];\n        unsubscribes.push(scrollPubSub.subscribe('scrollToBottom', function (_a) {\n            var resolve = _a.resolve, animated = _a.animated;\n            runCallback(function () {\n                if (!scrollRef.current) {\n                    if (resolve)\n                        resolve();\n                    return;\n                }\n                if (scrollRef.current.scroll) {\n                    scrollRef.current.scroll({ top: scrollRef.current.scrollHeight, behavior: getScrollBehavior(behavior, animated) });\n                }\n                else {\n                    scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n                }\n                // Update data by manual update\n                scrollDistanceFromBottomRef.current = 0;\n                setIsScrollBottomReached(true);\n                if (resolve)\n                    resolve();\n            });\n        }));\n        unsubscribes.push(scrollPubSub.subscribe('scroll', function (_a) {\n            var top = _a.top, animated = _a.animated, lazy = _a.lazy, resolve = _a.resolve;\n            runCallback(function () {\n                if (!scrollRef.current)\n                    return;\n                var _a = scrollRef.current, scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;\n                if (scrollRef.current.scroll) {\n                    scrollRef.current.scroll({ top: top, behavior: getScrollBehavior(behavior, animated) });\n                }\n                else if (typeof top === 'number') {\n                    scrollRef.current.scrollTop = top;\n                }\n                // Update data by manual update\n                scrollDistanceFromBottomRef.current = Math.max(0, scrollHeight - scrollTop - clientHeight);\n                setIsScrollBottomReached(scrollDistanceFromBottomRef.current === 0);\n                if (resolve)\n                    resolve();\n            }, lazy);\n        }));\n        return function () {\n            unsubscribes.forEach(function (_a) {\n                var remove = _a.remove;\n                return remove();\n            });\n        };\n    }, [behavior]);\n    return {\n        scrollRef: scrollRef,\n        scrollPubSub: scrollPubSub,\n        scrollDistanceFromBottomRef: scrollDistanceFromBottomRef,\n        scrollPositionRef: scrollPositionRef,\n    };\n}\nfunction runCallback(callback, lazy) {\n    if (lazy === void 0) { lazy = true; }\n    if (lazy) {\n        setTimeout(function () {\n            callback();\n        });\n    }\n    else {\n        callback();\n    }\n}\nfunction getScrollBehavior(behavior, animated) {\n    if (typeof animated === 'boolean')\n        return animated ? 'smooth' : 'auto';\n    return behavior;\n}\n\nvar initialState = {\n    currentChannel: null,\n    channelUrl: '',\n    fetchChannelError: null,\n    nicknamesMap: new Map(),\n    messages: [],\n    quoteMessage: null,\n    animatedMessageId: null,\n    isScrollBottomReached: true,\n    scrollRef: { current: null },\n    scrollDistanceFromBottomRef: { current: 0 },\n    scrollPositionRef: { current: 0 },\n    messageInputRef: { current: null },\n    isReactionEnabled: false,\n    isMessageGroupingEnabled: true,\n    isMultipleFilesMessageEnabled: false,\n    showSearchIcon: true,\n    replyType: 'NONE',\n    threadReplySelectType: ThreadReplySelectType.PARENT,\n    disableMarkAsRead: false,\n    scrollBehavior: 'auto',\n    scrollPubSub: null,\n};\nvar GroupChannelContext = createContext(null);\nvar createGroupChannelStore = function (props) { return createStore(__assign(__assign({}, initialState), props)); };\nvar InternalGroupChannelProvider = function (props) {\n    var children = props.children;\n    var defaultProps = deleteNullish({\n        channelUrl: props === null || props === void 0 ? void 0 : props.channelUrl,\n        renderUserProfile: props === null || props === void 0 ? void 0 : props.renderUserProfile,\n        disableUserProfile: props === null || props === void 0 ? void 0 : props.disableUserProfile,\n        onUserProfileMessage: props === null || props === void 0 ? void 0 : props.onUserProfileMessage,\n        onStartDirectMessage: props === null || props === void 0 ? void 0 : props.onStartDirectMessage,\n        isReactionEnabled: props === null || props === void 0 ? void 0 : props.isReactionEnabled,\n        isMessageGroupingEnabled: props === null || props === void 0 ? void 0 : props.isMessageGroupingEnabled,\n        isMultipleFilesMessageEnabled: props === null || props === void 0 ? void 0 : props.isMultipleFilesMessageEnabled,\n        showSearchIcon: props === null || props === void 0 ? void 0 : props.showSearchIcon,\n        threadReplySelectType: props === null || props === void 0 ? void 0 : props.threadReplySelectType,\n        disableMarkAsRead: props === null || props === void 0 ? void 0 : props.disableMarkAsRead,\n        scrollBehavior: props === null || props === void 0 ? void 0 : props.scrollBehavior,\n        forceLeftToRightMessageLayout: props === null || props === void 0 ? void 0 : props.forceLeftToRightMessageLayout,\n        startingPoint: props === null || props === void 0 ? void 0 : props.startingPoint,\n        animatedMessageId: props === null || props === void 0 ? void 0 : props.animatedMessageId,\n        onMessageAnimated: props === null || props === void 0 ? void 0 : props.onMessageAnimated,\n        messageListQueryParams: props === null || props === void 0 ? void 0 : props.messageListQueryParams,\n        filterEmojiCategoryIds: props === null || props === void 0 ? void 0 : props.filterEmojiCategoryIds,\n        onBeforeSendUserMessage: props === null || props === void 0 ? void 0 : props.onBeforeSendUserMessage,\n        onBeforeSendFileMessage: props === null || props === void 0 ? void 0 : props.onBeforeSendFileMessage,\n        onBeforeSendVoiceMessage: props === null || props === void 0 ? void 0 : props.onBeforeSendVoiceMessage,\n        onBeforeSendMultipleFilesMessage: props === null || props === void 0 ? void 0 : props.onBeforeSendMultipleFilesMessage,\n        onBeforeUpdateUserMessage: props === null || props === void 0 ? void 0 : props.onBeforeUpdateUserMessage,\n        onBeforeDownloadFileMessage: props === null || props === void 0 ? void 0 : props.onBeforeDownloadFileMessage,\n        onBackClick: props === null || props === void 0 ? void 0 : props.onBackClick,\n        onChatHeaderActionClick: props === null || props === void 0 ? void 0 : props.onChatHeaderActionClick,\n        onReplyInThreadClick: props === null || props === void 0 ? void 0 : props.onReplyInThreadClick,\n        onSearchClick: props === null || props === void 0 ? void 0 : props.onSearchClick,\n        onQuoteMessageClick: props === null || props === void 0 ? void 0 : props.onQuoteMessageClick,\n        renderUserMentionItem: props === null || props === void 0 ? void 0 : props.renderUserMentionItem,\n    });\n    var storeRef = useRef(createGroupChannelStore(defaultProps));\n    return (React__default.createElement(GroupChannelContext.Provider, { value: storeRef.current }, children));\n};\nvar GroupChannelManager = function (props) {\n    var _a, _b, _c;\n    var channelUrl = props.channelUrl, children = props.children, moduleReactionEnabled = props.isReactionEnabled, moduleReplyType = props.replyType, moduleThreadReplySelectType = props.threadReplySelectType, _d = props.isMessageGroupingEnabled, isMessageGroupingEnabled = _d === void 0 ? true : _d, isMultipleFilesMessageEnabled = props.isMultipleFilesMessageEnabled, showSearchIcon = props.showSearchIcon, _e = props.disableMarkAsRead, disableMarkAsRead = _e === void 0 ? false : _e, _f = props.scrollBehavior, scrollBehavior = _f === void 0 ? 'auto' : _f, startingPoint = props.startingPoint, _animatedMessageId = props.animatedMessageId, messageListQueryParams = props.messageListQueryParams, onBeforeSendUserMessage = props.onBeforeSendUserMessage, onBeforeSendFileMessage = props.onBeforeSendFileMessage, onBeforeSendVoiceMessage = props.onBeforeSendVoiceMessage, onBeforeSendMultipleFilesMessage = props.onBeforeSendMultipleFilesMessage, onBeforeUpdateUserMessage = props.onBeforeUpdateUserMessage, onBeforeDownloadFileMessage = props.onBeforeDownloadFileMessage, onMessageAnimated = props.onMessageAnimated, onBackClick = props.onBackClick, onChatHeaderActionClick = props.onChatHeaderActionClick, onReplyInThreadClick = props.onReplyInThreadClick, onSearchClick = props.onSearchClick, onQuoteMessageClick = props.onQuoteMessageClick, renderUserMentionItem = props.renderUserMentionItem, filterEmojiCategoryIds = props.filterEmojiCategoryIds;\n    var _g = useGroupChannel(), state = _g.state, actions = _g.actions;\n    var updateState = useGroupChannelStore().updateState;\n    var _h = useSendbird().state, config = _h.config, stores = _h.stores;\n    var sdkStore = stores.sdkStore;\n    var markAsReadScheduler = config.markAsReadScheduler, logger = config.logger, pubSub = config.pubSub;\n    // ScrollHandler initialization\n    var _j = useMessageListScroll(scrollBehavior, [(_a = state.currentChannel) === null || _a === void 0 ? void 0 : _a.url]), scrollRef = _j.scrollRef, scrollPubSub = _j.scrollPubSub, scrollDistanceFromBottomRef = _j.scrollDistanceFromBottomRef, scrollPositionRef = _j.scrollPositionRef;\n    var isScrollBottomReached = state.isScrollBottomReached;\n    // Configuration resolution\n    var resolvedReplyType = getCaseResolvedReplyType(moduleReplyType !== null && moduleReplyType !== void 0 ? moduleReplyType : config.groupChannel.replyType).upperCase;\n    var resolvedThreadReplySelectType = getCaseResolvedThreadReplySelectType(moduleThreadReplySelectType !== null && moduleThreadReplySelectType !== void 0 ? moduleThreadReplySelectType : config.groupChannel.threadReplySelectType).upperCase;\n    var replyType = getCaseResolvedReplyType(moduleReplyType !== null && moduleReplyType !== void 0 ? moduleReplyType : config.groupChannel.replyType).upperCase;\n    var resolvedIsReactionEnabled = getIsReactionEnabled({\n        channel: state.currentChannel,\n        config: config,\n        moduleLevel: moduleReactionEnabled,\n    });\n    var chatReplyType = useIIFE(function () {\n        if (replyType === 'NONE')\n            return ReplyType.NONE;\n        return ReplyType.ONLY_REPLY_TO_CHANNEL;\n    });\n    // Message Collection setup\n    var messageDataSource = useGroupChannelMessages(sdkStore.sdk, state.currentChannel, {\n        startingPoint: startingPoint,\n        replyType: chatReplyType,\n        collectionCreator: getCollectionCreator(state.currentChannel, messageListQueryParams),\n        shouldCountNewMessages: function () { return !isScrollBottomReached; },\n        markAsRead: function (channels) {\n            if (isScrollBottomReached && !disableMarkAsRead) {\n                channels.forEach(function (it) { return markAsReadScheduler.push(it); });\n            }\n        },\n        onMessagesReceived: function (messages) {\n            if (isScrollBottomReached\n                && isContextMenuClosed()\n                // Note: this shouldn't happen ideally, but it happens on re-rendering GroupChannelManager\n                // even though the next messages and the current messages length are the same.\n                // So added this condition to check if they are the same to prevent unnecessary calling scrollToBottom action\n                && messages.length !== state.messages.length) {\n                setTimeout(function () { return actions.scrollToBottom(true); }, 10);\n            }\n        },\n        onChannelDeleted: function () {\n            actions.setCurrentChannel(null);\n            onBackClick === null || onBackClick === void 0 ? void 0 : onBackClick();\n        },\n        onCurrentUserBanned: function () {\n            actions.setCurrentChannel(null);\n            onBackClick === null || onBackClick === void 0 ? void 0 : onBackClick();\n        },\n        onChannelUpdated: function (channel) {\n            actions.setCurrentChannel(channel);\n        },\n        logger: logger,\n    });\n    // Channel initialization\n    useAsyncEffect(function () { return __awaiter(void 0, void 0, void 0, function () {\n        var channel, error_1;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!(sdkStore.initialized && channelUrl)) return [3 /*break*/, 4];\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, sdkStore.sdk.groupChannel.getChannel(channelUrl)];\n                case 2:\n                    channel = _b.sent();\n                    actions.setCurrentChannel(channel);\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_1 = _b.sent();\n                    actions.handleChannelError(error_1);\n                    (_a = logger === null || logger === void 0 ? void 0 : logger.error) === null || _a === void 0 ? void 0 : _a.call(logger, 'GroupChannelProvider: error when fetching channel', error_1);\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, [sdkStore.initialized, sdkStore.sdk, channelUrl]);\n    // Message sync effect\n    useAsyncLayoutEffect(function () { return __awaiter(void 0, void 0, void 0, function () {\n        var handleExternalMessage, subscriptions;\n        return __generator(this, function (_a) {\n            if (messageDataSource.initialized) {\n                actions.scrollToBottom();\n            }\n            handleExternalMessage = function (data) {\n                var _a;\n                if (data.channel.url === ((_a = state.currentChannel) === null || _a === void 0 ? void 0 : _a.url)) {\n                    actions.scrollToBottom(true);\n                }\n            };\n            if ((pubSub === null || pubSub === void 0 ? void 0 : pubSub.subscribe) === undefined)\n                return [2 /*return*/];\n            subscriptions = [\n                config.pubSub.subscribe(pubSubTopics.SEND_USER_MESSAGE, handleExternalMessage),\n                config.pubSub.subscribe(pubSubTopics.SEND_FILE_MESSAGE, handleExternalMessage),\n            ];\n            return [2 /*return*/, function () {\n                    subscriptions.forEach(function (subscription) { return subscription.remove(); });\n                }];\n        });\n    }); }, [messageDataSource.initialized, (_b = state.currentChannel) === null || _b === void 0 ? void 0 : _b.url]);\n    // Starting point handling\n    useEffect(function () {\n        if (typeof startingPoint === 'number') {\n            actions.scrollToMessage(startingPoint, 0, false, false);\n        }\n    }, [startingPoint]);\n    // Animated message handling\n    useEffect(function () {\n        if (_animatedMessageId) {\n            actions.setAnimatedMessageId(_animatedMessageId);\n        }\n    }, [_animatedMessageId]);\n    // State update effect\n    var eventHandlers = useMemo(function () { return ({\n        onBeforeSendUserMessage: onBeforeSendUserMessage,\n        onBeforeSendFileMessage: onBeforeSendFileMessage,\n        onBeforeSendVoiceMessage: onBeforeSendVoiceMessage,\n        onBeforeSendMultipleFilesMessage: onBeforeSendMultipleFilesMessage,\n        onBeforeUpdateUserMessage: onBeforeUpdateUserMessage,\n        onBeforeDownloadFileMessage: onBeforeDownloadFileMessage,\n        onBackClick: onBackClick,\n        onChatHeaderActionClick: onChatHeaderActionClick,\n        onReplyInThreadClick: onReplyInThreadClick,\n        onSearchClick: onSearchClick,\n        onQuoteMessageClick: onQuoteMessageClick,\n        onMessageAnimated: onMessageAnimated,\n    }); }, [\n        onBeforeSendUserMessage,\n        onBeforeSendFileMessage,\n        onBeforeSendVoiceMessage,\n        onBeforeSendMultipleFilesMessage,\n        onBeforeUpdateUserMessage,\n        onBeforeDownloadFileMessage,\n        onBackClick,\n        onChatHeaderActionClick,\n        onReplyInThreadClick,\n        onSearchClick,\n        onQuoteMessageClick,\n        onMessageAnimated,\n    ]);\n    var renderProps = useMemo(function () { return ({\n        renderUserMentionItem: renderUserMentionItem,\n        filterEmojiCategoryIds: filterEmojiCategoryIds,\n    }); }, [renderUserMentionItem, filterEmojiCategoryIds]);\n    var configurations = useMemo(function () { return ({\n        isReactionEnabled: resolvedIsReactionEnabled,\n        isMessageGroupingEnabled: isMessageGroupingEnabled,\n        isMultipleFilesMessageEnabled: isMultipleFilesMessageEnabled,\n        replyType: resolvedReplyType,\n        threadReplySelectType: resolvedThreadReplySelectType,\n        showSearchIcon: showSearchIcon !== null && showSearchIcon !== void 0 ? showSearchIcon : config.groupChannelSettings.enableMessageSearch,\n        disableMarkAsRead: disableMarkAsRead,\n        scrollBehavior: scrollBehavior,\n    }); }, [\n        resolvedIsReactionEnabled,\n        isMessageGroupingEnabled,\n        isMultipleFilesMessageEnabled,\n        resolvedReplyType,\n        resolvedThreadReplySelectType,\n        showSearchIcon,\n        disableMarkAsRead,\n        scrollBehavior,\n        config.groupChannelSettings.enableMessageSearch,\n    ]);\n    var scrollState = useMemo(function () { return ({\n        scrollRef: scrollRef,\n        scrollPubSub: scrollPubSub,\n        scrollDistanceFromBottomRef: scrollDistanceFromBottomRef,\n        scrollPositionRef: scrollPositionRef,\n        isScrollBottomReached: isScrollBottomReached,\n    }); }, [\n        scrollRef,\n        scrollPubSub,\n        scrollDistanceFromBottomRef,\n        scrollPositionRef,\n        isScrollBottomReached,\n    ]);\n    useDeepCompareEffect(function () {\n        updateState(__assign(__assign(__assign(__assign(__assign({ \n            // Channel state\n            channelUrl: channelUrl, currentChannel: state.currentChannel }, configurations), scrollState), eventHandlers), renderProps), messageDataSource));\n    }, [\n        channelUrl,\n        (_c = state.currentChannel) === null || _c === void 0 ? void 0 : _c.serialize(),\n        configurations,\n        scrollState,\n        eventHandlers,\n        renderProps,\n        messageDataSource.initialized,\n        messageDataSource.loading,\n        messageDataSource.messages.map(function (it) { return it.serialize(); }),\n    ]);\n    return children;\n};\nvar GroupChannelProvider = function (props) {\n    return (React__default.createElement(InternalGroupChannelProvider, __assign({}, props),\n        React__default.createElement(GroupChannelManager, __assign({}, props),\n            React__default.createElement(UserProfileProvider, __assign({}, props), props.children))));\n};\n/**\n * A specialized hook for GroupChannel state management\n * @returns {ReturnType<typeof createStore<GroupChannelState>>}\n */\nvar useGroupChannelStore = function () {\n    return useStore(GroupChannelContext, function (state) { return state; }, initialState);\n};\n// Keep this function for backward compatibility.\nvar useGroupChannelContext = function () {\n    var _a = useGroupChannel(), state = _a.state, actions = _a.actions;\n    return __assign(__assign({}, state), actions);\n};\nfunction getCollectionCreator(groupChannel, messageListQueryParams) {\n    return function (defaultParams) {\n        var params = __assign(__assign(__assign({}, defaultParams), { prevResultLimit: 30, nextResultLimit: 30 }), messageListQueryParams);\n        return groupChannel.createMessageCollection(__assign(__assign({}, params), { filter: new MessageFilter(params) }));\n    };\n}\n\nexport { GroupChannelContext as G, InternalGroupChannelProvider as I, GroupChannelProvider as a, useGroupChannelContext as b, GroupChannelManager as c, useGroupChannel as u };\n//# sourceMappingURL=bundle-DPw-2E0C.js.map\n", "import { _ as __assign } from '../../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { G as GroupChannelHeaderView } from '../../chunks/bundle-BX3jAILv.js';\nimport { b as useGroupChannelContext } from '../../chunks/bundle-DPw-2E0C.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../ui/ChannelAvatar.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../chunks/bundle-ByD0lt6-.js';\nimport '../../chunks/bundle-C68gpKfa.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../ui/Header.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../ui/IconButton.js';\nimport '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '@sendbird/chat/message';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-DtQBJOWR.js';\nimport '../../chunks/bundle-DgO_xXWo.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../chunks/bundle-Dx43PGfx.js';\n\nvar GroupChannelHeader = function (props) {\n    var context = useGroupChannelContext();\n    return (React__default.createElement(GroupChannelHeaderView, __assign({}, props, context, { currentChannel: context.currentChannel })));\n};\n\nexport { GroupChannelHeader, GroupChannelHeader as default };\n//# sourceMappingURL=GroupChannelHeader.js.map\n", "import { _ as __assign, b as __awaiter, c as __generator } from '../../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { u as useGroupChannel } from '../../chunks/bundle-DPw-2E0C.js';\nimport { F as FileViewerView } from '../../chunks/bundle-BoobDQ7G.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '@sendbird/chat/message';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-DtQBJOWR.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '../../chunks/bundle-DgO_xXWo.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../chunks/bundle-Dx43PGfx.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport 'react-dom';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\n\nvar FileViewer = function (props) {\n    var _a = useGroupChannel(), onBeforeDownloadFileMessage = _a.state.onBeforeDownloadFileMessage, deleteMessage = _a.actions.deleteMessage;\n    var logger = useSendbird().state.config.logger;\n    return (React__default.createElement(FileViewerView, __assign({}, props, { deleteMessage: deleteMessage, onDownloadClick: function (e) { return __awaiter(void 0, void 0, void 0, function () {\n            var allowDownload, err_1;\n            var _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!onBeforeDownloadFileMessage)\n                            return [2 /*return*/];\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, onBeforeDownloadFileMessage({ message: props.message })];\n                    case 2:\n                        allowDownload = _c.sent();\n                        if (!allowDownload) {\n                            e.preventDefault();\n                            (_a = logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'FileViewer: Not allowed to download.');\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_1 = _c.sent();\n                        (_b = logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'FileViewer: Error occurred while determining download continuation:', err_1);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); } })));\n};\n\nexport { FileViewer, FileViewer as default };\n//# sourceMappingURL=FileViewer.js.map\n", "import { _ as __assign } from '../../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { R as RemoveMessageModalView } from '../../chunks/bundle-DiNcrytb.js';\nimport { u as useGroupChannel } from '../../chunks/bundle-DPw-2E0C.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DMQ4ARs5.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '@sendbird/chat/message';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-DtQBJOWR.js';\nimport '../../chunks/bundle-DgO_xXWo.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../chunks/bundle-Dx43PGfx.js';\n\nvar RemoveMessageModal = function (props) {\n    var deleteMessage = useGroupChannel().actions.deleteMessage;\n    return React__default.createElement(RemoveMessageModalView, __assign({}, props, { deleteMessage: deleteMessage }));\n};\n\nexport { RemoveMessageModal, RemoveMessageModal as default };\n//# sourceMappingURL=RemoveMessageModal.js.map\n", "import { _ as __assign } from '../../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { useIIFE } from '@sendbird/uikit-tools';\nimport { l as isSendableMessage, g as getSuggestedReplies } from '../../chunks/bundle-Ug7rKzFJ.js';\nimport { i as isDisabledBecauseFrozen, a as isDisabledBecauseMuted } from '../../chunks/bundle-DgO_xXWo.js';\nimport { M as MessageView } from '../../chunks/bundle-DL8bJVs5.js';\nimport { FileViewer } from './FileViewer.js';\nimport { RemoveMessageModal } from './RemoveMessageModal.js';\nimport { T as ThreadReplySelectType } from '../../chunks/bundle-mxwNwHvq.js';\nimport { u as useGroupChannel } from '../../chunks/bundle-DPw-2E0C.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/DateSeparator.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-B-wIh5Qv.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../ui/MessageContent.js';\nimport '../../chunks/bundle-SEoRcjBh.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-B_HhSA6x.js';\nimport '../../chunks/bundle-BBGwVlcE.js';\nimport '../../chunks/bundle-iiHh_YqB.js';\nimport '../../chunks/bundle-BEUsrftF.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-BSieP1ow.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../ui/AdminMessage.js';\nimport '../../ui/QuoteMessage.js';\nimport '../../chunks/bundle-COu2UBrG.js';\nimport '@sendbird/chat/message';\nimport '../../ui/MobileMenu.js';\nimport '../../ui/ThreadReplies.js';\nimport '../../chunks/bundle-DEVtRtKL.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../chunks/bundle-bLHW4VuD.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CxdqLaUY.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-CsZOw9J5.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-B6tSyuRm.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-D9VCJ_xd.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../ui/FeedbackIconButton.js';\nimport '../../ui/MobileFeedbackMenu.js';\nimport '../../ui/MessageFeedbackModal.js';\nimport '../../ui/Input.js';\nimport '../../chunks/bundle-C-Qr6Xbj.js';\nimport './SuggestedReplies.js';\nimport '../../chunks/bundle-CaZn7sCJ.js';\nimport '../../chunks/bundle-BoobDQ7G.js';\nimport '../../chunks/bundle-DiNcrytb.js';\nimport '../../chunks/bundle-DMQ4ARs5.js';\nimport '../../chunks/bundle-DtQBJOWR.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-Dx43PGfx.js';\n\nvar Message = function (props) {\n    var state = useSendbird().state;\n    var config = state.config, emojiManager = state.emojiManager;\n    var _a = useGroupChannel(), _b = _a.state, loading = _b.loading, currentChannel = _b.currentChannel, animatedMessageId = _b.animatedMessageId, replyType = _b.replyType, threadReplySelectType = _b.threadReplySelectType, isReactionEnabled = _b.isReactionEnabled, nicknamesMap = _b.nicknamesMap, renderUserMentionItem = _b.renderUserMentionItem, filterEmojiCategoryIds = _b.filterEmojiCategoryIds, onQuoteMessageClick = _b.onQuoteMessageClick, onReplyInThreadClick = _b.onReplyInThreadClick, onMessageAnimated = _b.onMessageAnimated, onBeforeDownloadFileMessage = _b.onBeforeDownloadFileMessage, messages = _b.messages, _c = _a.actions, toggleReaction = _c.toggleReaction, setQuoteMessage = _c.setQuoteMessage, setAnimatedMessageId = _c.setAnimatedMessageId, scrollToMessage = _c.scrollToMessage, updateUserMessage = _c.updateUserMessage, sendUserMessage = _c.sendUserMessage, resendMessage = _c.resendMessage, deleteMessage = _c.deleteMessage;\n    var message = props.message;\n    var initialized = !loading && Boolean(currentChannel);\n    var shouldRenderSuggestedReplies = useIIFE(function () {\n        var _a = config.groupChannel, enableSuggestedReplies = _a.enableSuggestedReplies, showSuggestedRepliesFor = _a.showSuggestedRepliesFor;\n        // Use `allMessages[allMessages.length - 1]` instead of `currentGroupChannel.lastMessage`\n        // because lastMessage is not updated when **Bot** sends messages\n        var lastMessageInView = messages[messages.length - 1];\n        var hasUnsentMessage = isSendableMessage(lastMessageInView) && lastMessageInView.sendingStatus !== 'succeeded';\n        var showSuggestedReplies = showSuggestedRepliesFor === 'all_messages'\n            ? true\n            : message.messageId === lastMessageInView.messageId;\n        return enableSuggestedReplies && getSuggestedReplies(message).length > 0 && !hasUnsentMessage && showSuggestedReplies;\n    });\n    return (React__default.createElement(MessageView, __assign({}, props, { channel: currentChannel, emojiContainer: emojiManager.emojiContainer, editInputDisabled: !initialized\n            || isDisabledBecauseFrozen(currentChannel !== null && currentChannel !== void 0 ? currentChannel : undefined)\n            || isDisabledBecauseMuted(currentChannel !== null && currentChannel !== void 0 ? currentChannel : undefined)\n            || !config.isOnline, shouldRenderSuggestedReplies: shouldRenderSuggestedReplies, isReactionEnabled: isReactionEnabled !== null && isReactionEnabled !== void 0 ? isReactionEnabled : false, replyType: replyType !== null && replyType !== void 0 ? replyType : 'NONE', threadReplySelectType: threadReplySelectType !== null && threadReplySelectType !== void 0 ? threadReplySelectType : ThreadReplySelectType.PARENT, nicknamesMap: nicknamesMap, renderUserMentionItem: renderUserMentionItem, filterEmojiCategoryIds: filterEmojiCategoryIds, scrollToMessage: scrollToMessage, toggleReaction: toggleReaction, setQuoteMessage: setQuoteMessage, onQuoteMessageClick: onQuoteMessageClick, onReplyInThreadClick: onReplyInThreadClick, sendUserMessage: sendUserMessage, updateUserMessage: updateUserMessage, resendMessage: resendMessage, deleteMessage: deleteMessage, animatedMessageId: animatedMessageId, setAnimatedMessageId: setAnimatedMessageId, onMessageAnimated: onMessageAnimated, renderFileViewer: function (props) { return React__default.createElement(FileViewer, __assign({}, props)); }, renderRemoveMessageModal: function (props) { return React__default.createElement(RemoveMessageModal, __assign({}, props)); }, usedInLegacy: false, onBeforeDownloadFileMessage: onBeforeDownloadFileMessage })));\n};\n\nexport { Message, Message as default };\n//# sourceMappingURL=Message.js.map\n", "import { b as __awaiter, c as __generator, _ as __assign } from '../../chunks/bundle-BosquA9C.js';\nimport React__default, { forwardRef, useRef, useLayoutEffect, useCallback, useState, useEffect } from 'react';\nimport { useGroupChannelHandler } from '@sendbird/uikit-tools';\nimport { M as getHTMLTextDirection, l as isSendableMessage } from '../../chunks/bundle-Ug7rKzFJ.js';\nimport { T as TypingIndicatorType } from '../../chunks/bundle-BHELL2oy.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder.js';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon.js';\nimport { Message } from './Message.js';\nimport { UnreadCount } from './UnreadCount.js';\nimport { FrozenNotification } from './FrozenNotification.js';\nimport { S as SCROLL_BUFFER } from '../../chunks/bundle-BDIF-bj_.js';\nimport TypingIndicatorBubble from '../../ui/TypingIndicatorBubble.js';\nimport { n as noop, d as deleteNullish } from '../../chunks/bundle-Bc1fdQjj.js';\nimport { getMessagePartsInfo } from '../../Channel/utils/getMessagePartsInfo.js';\nimport { MessageProvider } from '../../Message/context.js';\nimport { g as getComponentKeyFromMessage, b as isContextMenuClosed } from '../../chunks/bundle-DgO_xXWo.js';\nimport { a as isAboutSame } from '../../chunks/bundle-CVdCKMn9.js';\nimport { u as useGroupChannel } from '../../chunks/bundle-DPw-2E0C.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport { u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-DL8bJVs5.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/DateSeparator.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-B-wIh5Qv.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/MessageContent.js';\nimport '../../chunks/bundle-SEoRcjBh.js';\nimport '../../chunks/bundle-B_HhSA6x.js';\nimport '../../chunks/bundle-BBGwVlcE.js';\nimport '../../chunks/bundle-iiHh_YqB.js';\nimport '../../chunks/bundle-BEUsrftF.js';\nimport 'react-dom';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-BSieP1ow.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../ui/AdminMessage.js';\nimport '../../ui/QuoteMessage.js';\nimport '../../chunks/bundle-COu2UBrG.js';\nimport '@sendbird/chat/message';\nimport '../../ui/MobileMenu.js';\nimport '../../ui/ThreadReplies.js';\nimport '../../chunks/bundle-DEVtRtKL.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../chunks/bundle-bLHW4VuD.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CxdqLaUY.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-CsZOw9J5.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-B6tSyuRm.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-D9VCJ_xd.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../ui/FeedbackIconButton.js';\nimport '../../ui/MobileFeedbackMenu.js';\nimport '../../ui/MessageFeedbackModal.js';\nimport '../../ui/Input.js';\nimport '../../chunks/bundle-C-Qr6Xbj.js';\nimport './SuggestedReplies.js';\nimport '../../chunks/bundle-CaZn7sCJ.js';\nimport './FileViewer.js';\nimport '../../chunks/bundle-BoobDQ7G.js';\nimport '../../chunks/bundle-DtQBJOWR.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-Dx43PGfx.js';\nimport './RemoveMessageModal.js';\nimport '../../chunks/bundle-DiNcrytb.js';\nimport '../../chunks/bundle-DMQ4ARs5.js';\nimport '../../Channel/utils/compareMessagesForGrouping.js';\n\nvar InfiniteList = forwardRef(function (props, listRef) {\n    var messages = props.messages, renderMessage = props.renderMessage, scrollPositionRef = props.scrollPositionRef, scrollDistanceFromBottomRef = props.scrollDistanceFromBottomRef, onLoadPrevious = props.onLoadPrevious, onLoadNext = props.onLoadNext, _a = props.loadThreshold, loadThreshold = _a === void 0 ? 0.05 : _a, typingIndicator = props.typingIndicator, _b = props.onScrollPosition, onScrollPosition = _b === void 0 ? noop : _b, initDeps = props.initDeps;\n    var isFetching = React__default.useRef(false);\n    var direction = React__default.useRef();\n    var oldScrollTop = useRef(0);\n    // SideEffect: scroll to bottom on initialized\n    useLayoutEffect(function () {\n        if (listRef.current) {\n            listRef.current.scrollTop = listRef.current.scrollHeight;\n        }\n    }, initDeps);\n    // SideEffect: keep scroll position\n    useLayoutEffect(function () {\n        if (listRef.current) {\n            if (direction.current === 'top') {\n                listRef.current.scrollTop = listRef.current.scrollHeight - scrollPositionRef.current;\n            }\n            if (direction.current === 'bottom') {\n                listRef.current.scrollTop = oldScrollTop.current;\n            }\n            direction.current = undefined;\n        }\n    }, [listRef.current, messages.length]);\n    var handleScroll = useCallback(function () { return __awaiter(void 0, void 0, void 0, function () {\n        var list, threshold;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!listRef.current)\n                        return [2 /*return*/];\n                    list = listRef.current;\n                    onScrollPosition(getReachedStatus(list));\n                    scrollPositionRef.current = list.scrollHeight - list.scrollTop;\n                    scrollDistanceFromBottomRef.current = scrollPositionRef.current - list.clientHeight;\n                    oldScrollTop.current = list.scrollTop;\n                    if (isFetching.current)\n                        return [2 /*return*/];\n                    threshold = list.clientHeight * Math.min(Math.max(0, loadThreshold), 1);\n                    if (!(list.scrollTop <= threshold)) return [3 /*break*/, 2];\n                    isFetching.current = true;\n                    direction.current = 'top';\n                    return [4 /*yield*/, onLoadPrevious()];\n                case 1:\n                    _a.sent();\n                    isFetching.current = false;\n                    return [3 /*break*/, 5];\n                case 2:\n                    if (!(list.scrollHeight - list.scrollTop - list.clientHeight <= threshold)) return [3 /*break*/, 4];\n                    isFetching.current = true;\n                    direction.current = 'bottom';\n                    return [4 /*yield*/, onLoadNext()];\n                case 3:\n                    _a.sent();\n                    isFetching.current = false;\n                    return [3 /*break*/, 5];\n                case 4:\n                    direction.current = undefined;\n                    _a.label = 5;\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); }, [messages.length]);\n    return (React__default.createElement(\"div\", { className: \"sendbird-conversation__scroll-container\" },\n        React__default.createElement(\"div\", { className: \"sendbird-conversation__padding\" }),\n        React__default.createElement(\"div\", { ref: listRef, className: \"sendbird-conversation__messages-padding\", \"data-testid\": \"sendbird-message-list-container\", onScroll: handleScroll },\n            messages.map(function (message, index) { return renderMessage({ message: message, index: index }); }),\n            typingIndicator)));\n});\nfunction getReachedStatus(element) {\n    if (isAboutSame(element.scrollTop, 0, SCROLL_BUFFER)) {\n        return 'top';\n    }\n    if (isAboutSame(element.scrollHeight, element.clientHeight + element.scrollTop, SCROLL_BUFFER)) {\n        return 'bottom';\n    }\n    return 'middle';\n}\n\nvar MessageList = function (props) {\n    var _a, _b, _c, _d, _e;\n    var _f = props.className, className = _f === void 0 ? '' : _f;\n    var _g = deleteNullish(props), _h = _g.renderMessage, renderMessage = _h === void 0 ? function (props) { return React__default.createElement(Message, __assign({}, props)); } : _h, renderMessageContent = _g.renderMessageContent, renderSuggestedReplies = _g.renderSuggestedReplies, renderCustomSeparator = _g.renderCustomSeparator, _j = _g.renderPlaceholderLoader, renderPlaceholderLoader = _j === void 0 ? function () { return React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.LOADING }); } : _j, _k = _g.renderPlaceholderEmpty, renderPlaceholderEmpty = _k === void 0 ? function () { return React__default.createElement(PlaceHolder, { className: \"sendbird-conversation__no-messages\", type: PlaceHolderTypes.NO_MESSAGES }); } : _k, _l = _g.renderFrozenNotification, renderFrozenNotification = _l === void 0 ? function () { return React__default.createElement(FrozenNotification, { className: \"sendbird-conversation__messages__notification\" }); } : _l;\n    var _m = useGroupChannel(), _o = _m.state, channelUrl = _o.channelUrl, hasNext = _o.hasNext, loading = _o.loading, messages = _o.messages, newMessages = _o.newMessages, isScrollBottomReached = _o.isScrollBottomReached, isMessageGroupingEnabled = _o.isMessageGroupingEnabled, currentChannel = _o.currentChannel, replyType = _o.replyType, scrollPubSub = _o.scrollPubSub, loadNext = _o.loadNext, loadPrevious = _o.loadPrevious, resetNewMessages = _o.resetNewMessages, scrollRef = _o.scrollRef, scrollPositionRef = _o.scrollPositionRef, scrollDistanceFromBottomRef = _o.scrollDistanceFromBottomRef, _p = _m.actions, scrollToBottom = _p.scrollToBottom, setIsScrollBottomReached = _p.setIsScrollBottomReached;\n    var state = useSendbird().state;\n    var stringSet = useLocalization().stringSet;\n    var _q = useState(), unreadSinceDate = _q[0], setUnreadSinceDate = _q[1];\n    useEffect(function () {\n        if (isScrollBottomReached) {\n            setUnreadSinceDate(undefined);\n        }\n        else {\n            setUnreadSinceDate(new Date());\n        }\n    }, [isScrollBottomReached]);\n    /**\n     * 1. Move the message list scroll\n     *    when each message's height is changed by `reactions` OR `showEdit`\n     * 2. Keep the scrollBottom value after fetching new message list\n     */\n    var onMessageContentSizeChanged = function (isBottomMessageAffected) {\n        if (isBottomMessageAffected === void 0) { isBottomMessageAffected = false; }\n        var elem = scrollRef.current;\n        if (elem) {\n            var latestDistance = scrollDistanceFromBottomRef.current;\n            var currentDistance = elem.scrollHeight - elem.scrollTop - elem.offsetHeight;\n            if (latestDistance < currentDistance && (!isBottomMessageAffected || latestDistance < SCROLL_BUFFER)) {\n                var diff = currentDistance - latestDistance;\n                // Move the scroll as much as the height of the message has changed\n                scrollPubSub.publish('scroll', { top: elem.scrollTop + diff, lazy: false, animated: false });\n            }\n        }\n    };\n    var renderer = {\n        frozenNotification: function () {\n            if (!currentChannel || !currentChannel.isFrozen)\n                return null;\n            return renderFrozenNotification();\n        },\n        unreadMessagesNotification: function () {\n            if (isScrollBottomReached || !unreadSinceDate)\n                return null;\n            return (React__default.createElement(UnreadCount, { className: \"sendbird-conversation__messages__notification\", count: newMessages.length, lastReadAt: unreadSinceDate, onClick: function () { return scrollToBottom(); } }));\n        },\n        scrollToBottomButton: function () {\n            if (!hasNext() && isScrollBottomReached)\n                return null;\n            return (React__default.createElement(\"div\", { className: \"sendbird-conversation__scroll-bottom-button\", onClick: function () { return scrollToBottom(); }, onKeyDown: function () { return scrollToBottom(); }, tabIndex: 0, role: \"button\" },\n                React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.CHEVRON_DOWN, fillColor: IconColors.PRIMARY })));\n        },\n    };\n    if (loading) {\n        return renderPlaceholderLoader();\n    }\n    if (messages.length === 0) {\n        return renderPlaceholderEmpty();\n    }\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", { className: \"sendbird-conversation__messages \".concat(className), dir: getHTMLTextDirection(state.config.htmlTextDirection, state.config.forceLeftToRightMessageLayout) },\n            React__default.createElement(InfiniteList, { ref: scrollRef, initDeps: [channelUrl], scrollPositionRef: scrollPositionRef, scrollDistanceFromBottomRef: scrollDistanceFromBottomRef, onLoadNext: loadNext, onLoadPrevious: loadPrevious, onScrollPosition: function (it) {\n                    var isScrollBottomReached = it === 'bottom';\n                    if (newMessages.length > 0 && isScrollBottomReached) {\n                        resetNewMessages();\n                    }\n                    setIsScrollBottomReached(isScrollBottomReached);\n                }, messages: messages, renderMessage: function (_a) {\n                    var message = _a.message, index = _a.index;\n                    var _b = getMessagePartsInfo({\n                        allMessages: messages,\n                        stringSet: stringSet,\n                        replyType: replyType !== null && replyType !== void 0 ? replyType : 'NONE',\n                        isMessageGroupingEnabled: isMessageGroupingEnabled !== null && isMessageGroupingEnabled !== void 0 ? isMessageGroupingEnabled : false,\n                        currentIndex: index,\n                        currentMessage: message,\n                        currentChannel: currentChannel,\n                    }), chainTop = _b.chainTop, chainBottom = _b.chainBottom, hasSeparator = _b.hasSeparator;\n                    var isOutgoingMessage = isSendableMessage(message) && message.sender.userId === state.config.userId;\n                    return (React__default.createElement(MessageProvider, { message: message, key: getComponentKeyFromMessage(message), isByMe: isOutgoingMessage }, renderMessage({\n                        handleScroll: onMessageContentSizeChanged,\n                        message: message,\n                        hasSeparator: hasSeparator,\n                        chainTop: chainTop,\n                        chainBottom: chainBottom,\n                        renderMessageContent: renderMessageContent,\n                        renderSuggestedReplies: renderSuggestedReplies,\n                        renderCustomSeparator: renderCustomSeparator,\n                    })));\n                }, typingIndicator: !hasNext()\n                    && ((_b = (_a = state === null || state === void 0 ? void 0 : state.config) === null || _a === void 0 ? void 0 : _a.groupChannel) === null || _b === void 0 ? void 0 : _b.enableTypingIndicator)\n                    && ((_e = (_d = (_c = state === null || state === void 0 ? void 0 : state.config) === null || _c === void 0 ? void 0 : _c.groupChannel) === null || _d === void 0 ? void 0 : _d.typingIndicatorTypes) === null || _e === void 0 ? void 0 : _e.has(TypingIndicatorType.Bubble)) && (React__default.createElement(TypingIndicatorBubbleWrapper, { channelUrl: channelUrl, handleScroll: onMessageContentSizeChanged })) }),\n            React__default.createElement(React__default.Fragment, null, renderer.frozenNotification()),\n            React__default.createElement(React__default.Fragment, null, renderer.unreadMessagesNotification()),\n            React__default.createElement(React__default.Fragment, null, renderer.scrollToBottomButton()))));\n};\nvar TypingIndicatorBubbleWrapper = function (props) {\n    var stores = useSendbird().state.stores;\n    var _a = useGroupChannel().state, isScrollBottomReached = _a.isScrollBottomReached, scrollPubSub = _a.scrollPubSub;\n    var _b = useState([]), typingMembers = _b[0], setTypingMembers = _b[1];\n    useGroupChannelHandler(stores.sdkStore.sdk, {\n        onTypingStatusUpdated: function (channel) {\n            if (channel.url === props.channelUrl) {\n                setTypingMembers(channel.getTypingUsers());\n            }\n            if (isScrollBottomReached && isContextMenuClosed()) {\n                setTimeout(function () {\n                    scrollPubSub.publish('scrollToBottom', {});\n                }, 10);\n            }\n        },\n    });\n    return React__default.createElement(TypingIndicatorBubble, { typingMembers: typingMembers, handleScroll: props.handleScroll });\n};\n\nexport { MessageList, MessageList as default };\n//# sourceMappingURL=MessageList.js.map\n", "import { _ as __assign } from '../../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { M as MessageInputWrapperView } from '../../chunks/bundle-D59i-wy0.js';\nexport { V as VoiceMessageInputWrapper } from '../../chunks/bundle-D59i-wy0.js';\nimport { u as useGroupChannel } from '../../chunks/bundle-DPw-2E0C.js';\nimport '../../chunks/bundle-DgO_xXWo.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport './SuggestedMentionList.js';\nimport '../../chunks/bundle-CaZn7sCJ.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-B-wIh5Qv.js';\nimport '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/QuoteMessageInput.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-COu2UBrG.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-B6tSyuRm.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../VoiceRecorder/useVoiceRecorder.js';\nimport '../../chunks/bundle-vF_8gzZb.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ProgressBar.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-4VvXLz4o.js';\nimport '@sendbird/chat/message';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-DtQBJOWR.js';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../chunks/bundle-Dx43PGfx.js';\n\nvar MessageInputWrapper = function (props) {\n    var _a = useGroupChannel(), state = _a.state, actions = _a.actions;\n    return React__default.createElement(MessageInputWrapperView, __assign({}, props, state, actions));\n};\n\nexport { MessageInputWrapper, MessageInputWrapper as default };\n//# sourceMappingURL=MessageInputWrapper.js.map\n", "import { _ as __assign } from '../../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { b as useGroupChannelContext, u as useGroupChannel } from '../../chunks/bundle-DPw-2E0C.js';\nimport { G as GroupChannelUIView } from '../../chunks/bundle-DXhV0XQx.js';\nimport { GroupChannelHeader } from './GroupChannelHeader.js';\nimport { MessageList } from './MessageList.js';\nimport { MessageInputWrapper } from './MessageInputWrapper.js';\nimport { d as deleteNullish } from '../../chunks/bundle-Bc1fdQjj.js';\nimport '@sendbird/chat/message';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DtQBJOWR.js';\nimport '../../chunks/bundle-DgO_xXWo.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../chunks/bundle-Dx43PGfx.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport './TypingIndicator.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-BHELL2oy.js';\nimport '../../ui/ConnectionStatus.js';\nimport '../../ui/Icon.js';\nimport '../../ui/PlaceHolder.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-BX3jAILv.js';\nimport '../../ui/ChannelAvatar.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../chunks/bundle-ByD0lt6-.js';\nimport '../../chunks/bundle-C68gpKfa.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/Header.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../ui/IconButton.js';\nimport './Message.js';\nimport '../../chunks/bundle-DL8bJVs5.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/DateSeparator.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-B-wIh5Qv.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../ui/MessageContent.js';\nimport '../../chunks/bundle-SEoRcjBh.js';\nimport '../../chunks/bundle-B_HhSA6x.js';\nimport '../../chunks/bundle-BBGwVlcE.js';\nimport '../../chunks/bundle-iiHh_YqB.js';\nimport '../../chunks/bundle-BEUsrftF.js';\nimport 'react-dom';\nimport '../../ui/SortByRow.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-BSieP1ow.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport '../../ui/UserListItem.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '../../ui/AdminMessage.js';\nimport '../../ui/QuoteMessage.js';\nimport '../../chunks/bundle-COu2UBrG.js';\nimport '../../ui/MobileMenu.js';\nimport '../../ui/ThreadReplies.js';\nimport '../../chunks/bundle-DEVtRtKL.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../chunks/bundle-bLHW4VuD.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../chunks/bundle-CxdqLaUY.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-CsZOw9J5.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-B6tSyuRm.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-D9VCJ_xd.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../ui/FeedbackIconButton.js';\nimport '../../ui/MobileFeedbackMenu.js';\nimport '../../ui/MessageFeedbackModal.js';\nimport '../../ui/Input.js';\nimport '../../chunks/bundle-C-Qr6Xbj.js';\nimport './SuggestedReplies.js';\nimport '../../chunks/bundle-CaZn7sCJ.js';\nimport './FileViewer.js';\nimport '../../chunks/bundle-BoobDQ7G.js';\nimport './RemoveMessageModal.js';\nimport '../../chunks/bundle-DiNcrytb.js';\nimport '../../chunks/bundle-DMQ4ARs5.js';\nimport './UnreadCount.js';\nimport './FrozenNotification.js';\nimport '../../ui/TypingIndicatorBubble.js';\nimport '../../Channel/utils/getMessagePartsInfo.js';\nimport '../../Channel/utils/compareMessagesForGrouping.js';\nimport '../../chunks/bundle-CVdCKMn9.js';\nimport '../../chunks/bundle-D59i-wy0.js';\nimport './SuggestedMentionList.js';\nimport '../../ui/QuoteMessageInput.js';\nimport '../../VoiceRecorder/useVoiceRecorder.js';\nimport '../../chunks/bundle-vF_8gzZb.js';\nimport '../../chunks/bundle-4VvXLz4o.js';\n\nvar GroupChannelUI = function (props) {\n    var context = useGroupChannelContext();\n    var _a = useGroupChannel().state, channelUrl = _a.channelUrl, fetchChannelError = _a.fetchChannelError;\n    // Inject components to presentation layer\n    var _b = deleteNullish(props), _c = _b.renderChannelHeader, renderChannelHeader = _c === void 0 ? function (props) { return React__default.createElement(GroupChannelHeader, __assign({}, props)); } : _c, _d = _b.renderMessageList, renderMessageList = _d === void 0 ? function (props) { return React__default.createElement(MessageList, __assign({}, props, { className: \"sendbird-conversation__message-list\" })); } : _d, _e = _b.renderMessageInput, renderMessageInput = _e === void 0 ? function () { return React__default.createElement(MessageInputWrapper, __assign({}, props)); } : _e;\n    return (React__default.createElement(GroupChannelUIView, __assign({}, props, context, { isInvalid: fetchChannelError !== null, channelUrl: channelUrl, renderChannelHeader: renderChannelHeader, renderMessageList: renderMessageList, renderMessageInput: renderMessageInput })));\n};\n\nexport { GroupChannelUI, GroupChannelUI as default };\n//# sourceMappingURL=GroupChannelUI.js.map\n", "import { _ as __assign } from './chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { a as GroupChannelProvider } from './chunks/bundle-DPw-2E0C.js';\nimport { GroupChannelUI } from './GroupChannel/components/GroupChannelUI.js';\nimport '@sendbird/chat/message';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/uikit-tools';\nimport './chunks/bundle-ByW5tGii.js';\nimport './chunks/bundle-Bk7vYzLW.js';\nimport './chunks/bundle-CK7w7gep.js';\nimport './chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './chunks/bundle-DtQBJOWR.js';\nimport './chunks/bundle-DgO_xXWo.js';\nimport './chunks/bundle-mxwNwHvq.js';\nimport './chunks/bundle-B61f7NvF.js';\nimport './chunks/bundle-CCDeoxT_.js';\nimport './chunks/bundle-DxUY6hv0.js';\nimport './chunks/bundle-Dx43PGfx.js';\nimport './chunks/bundle-Bc1fdQjj.js';\nimport './chunks/bundle-BA9ZfQ-7.js';\nimport './chunks/bundle-DXhV0XQx.js';\nimport './GroupChannel/components/TypingIndicator.js';\nimport './chunks/bundle-MoKyCGQH.js';\nimport './chunks/bundle-DXRcwk7R.js';\nimport './chunks/bundle-y-yf0Djs.js';\nimport './chunks/bundle-BRWYGzyd.js';\nimport './chunks/bundle-BGRwc73U.js';\nimport './chunks/bundle-BHELL2oy.js';\nimport './ui/ConnectionStatus.js';\nimport './ui/Icon.js';\nimport './ui/PlaceHolder.js';\nimport './ui/Loader.js';\nimport './GroupChannel/components/GroupChannelHeader.js';\nimport './chunks/bundle-BX3jAILv.js';\nimport './ui/ChannelAvatar.js';\nimport './chunks/bundle-BkCv3z1C.js';\nimport './ui/ImageRenderer.js';\nimport './chunks/bundle-MdZYxYNf.js';\nimport './chunks/bundle-ByD0lt6-.js';\nimport './chunks/bundle-C68gpKfa.js';\nimport './chunks/bundle-Ug7rKzFJ.js';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-CWd47dzy.js';\nimport './chunks/bundle-BovMsFd4.js';\nimport './chunks/bundle-DvgqpwmQ.js';\nimport './ui/Header.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-DU7VpG0M.js';\nimport './ui/IconButton.js';\nimport './GroupChannel/components/MessageList.js';\nimport './GroupChannel/components/Message.js';\nimport './chunks/bundle-DL8bJVs5.js';\nimport './chunks/bundle-CDOQ--pz.js';\nimport './Message/hooks/useDirtyGetMentions.js';\nimport './ui/DateSeparator.js';\nimport './ui/MessageInput.js';\nimport './chunks/bundle-B-wIh5Qv.js';\nimport './ui/Button.js';\nimport './chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport './chunks/bundle-CnWjrGUf.js';\nimport './chunks/bundle-B602cp-8.js';\nimport './chunks/bundle-CXh4vzCv.js';\nimport './chunks/bundle-BJl-Stow.js';\nimport './ui/MessageContent.js';\nimport './chunks/bundle-SEoRcjBh.js';\nimport './chunks/bundle-B_HhSA6x.js';\nimport './chunks/bundle-BBGwVlcE.js';\nimport './chunks/bundle-iiHh_YqB.js';\nimport './chunks/bundle-BEUsrftF.js';\nimport 'react-dom';\nimport './ui/SortByRow.js';\nimport './ui/MessageItemReactionMenu.js';\nimport './ui/ReactionButton.js';\nimport './chunks/bundle-BSieP1ow.js';\nimport './ui/EmojiReactions.js';\nimport './ui/ReactionBadge.js';\nimport './ui/BottomSheet.js';\nimport './hooks/useModal.js';\nimport './chunks/bundle-ZMBEGemL.js';\nimport './ui/UserListItem.js';\nimport './ui/MutedAvatarOverlay.js';\nimport './ui/Checkbox.js';\nimport './ui/UserProfile.js';\nimport './sendbirdSelectors.js';\nimport './ui/Tooltip.js';\nimport './ui/TooltipWrapper.js';\nimport './Message/context.js';\nimport './ui/AdminMessage.js';\nimport './ui/QuoteMessage.js';\nimport './chunks/bundle-COu2UBrG.js';\nimport './ui/MobileMenu.js';\nimport './ui/ThreadReplies.js';\nimport './chunks/bundle-DEVtRtKL.js';\nimport './ui/OGMessageItemBody.js';\nimport './chunks/bundle-bLHW4VuD.js';\nimport './ui/MentionLabel.js';\nimport './ui/LinkLabel.js';\nimport './ui/TextMessageItemBody.js';\nimport './ui/FileMessageItemBody.js';\nimport './chunks/bundle-CxdqLaUY.js';\nimport './ui/FileViewer.js';\nimport './chunks/bundle-CsZOw9J5.js';\nimport './ui/VoiceMessageItemBody.js';\nimport './ui/ProgressBar.js';\nimport './VoicePlayer/useVoicePlayer.js';\nimport './chunks/bundle-B6tSyuRm.js';\nimport './VoiceRecorder/context.js';\nimport './ui/PlaybackTime.js';\nimport './ui/ThumbnailMessageItemBody.js';\nimport './ui/UnknownMessageItemBody.js';\nimport './ui/TemplateMessageItemBody.js';\nimport './chunks/bundle-D9VCJ_xd.js';\nimport './ui/FallbackTemplateMessageItemBody.tsx.js';\nimport './ui/LoadingTemplateMessageItemBody.tsx.js';\nimport './ui/MessageFeedbackFailedModal.js';\nimport './ui/FeedbackIconButton.js';\nimport './ui/MobileFeedbackMenu.js';\nimport './ui/MessageFeedbackModal.js';\nimport './ui/Input.js';\nimport './chunks/bundle-C-Qr6Xbj.js';\nimport './GroupChannel/components/SuggestedReplies.js';\nimport './chunks/bundle-CaZn7sCJ.js';\nimport './GroupChannel/components/FileViewer.js';\nimport './chunks/bundle-BoobDQ7G.js';\nimport './GroupChannel/components/RemoveMessageModal.js';\nimport './chunks/bundle-DiNcrytb.js';\nimport './chunks/bundle-DMQ4ARs5.js';\nimport './GroupChannel/components/UnreadCount.js';\nimport './GroupChannel/components/FrozenNotification.js';\nimport './ui/TypingIndicatorBubble.js';\nimport './Channel/utils/getMessagePartsInfo.js';\nimport './Channel/utils/compareMessagesForGrouping.js';\nimport './chunks/bundle-CVdCKMn9.js';\nimport './GroupChannel/components/MessageInputWrapper.js';\nimport './chunks/bundle-D59i-wy0.js';\nimport './GroupChannel/components/SuggestedMentionList.js';\nimport './ui/QuoteMessageInput.js';\nimport './VoiceRecorder/useVoiceRecorder.js';\nimport './chunks/bundle-vF_8gzZb.js';\nimport './chunks/bundle-4VvXLz4o.js';\n\nvar GroupChannel = function (props) {\n    return (React__default.createElement(GroupChannelProvider, __assign({}, props),\n        React__default.createElement(GroupChannelUI, __assign({}, props))));\n};\n\nexport { GroupChannel, GroupChannel as default };\n//# sourceMappingURL=GroupChannel.js.map\n", "import { ConnectionHandler } from '@sendbird/chat';\nimport { useLayoutEffect, useState, useEffect, useMemo } from 'react';\nimport { u as uuidv4 } from './bundle-BGRwc73U.js';\nimport { b as __awaiter, c as __generator } from './bundle-BosquA9C.js';\n\n// this hook accepts a callback to run component is unmounted\nfunction useUnmount(callback, deps) {\n    if (deps === void 0) { deps = []; }\n    useLayoutEffect(function () {\n        return function () {\n            callback();\n        };\n    }, deps);\n}\n\nfunction useOnlineStatus(sdk, logger) {\n    var _a, _b;\n    var _c = useState(\n    // window is undefined in SSR env\n    typeof window !== 'undefined'\n        ? ((_b = (_a = window === null || window === void 0 ? void 0 : window.navigator) === null || _a === void 0 ? void 0 : _a.onLine) !== null && _b !== void 0 ? _b : true)\n        : true), isOnline = _c[0], setIsOnline = _c[1];\n    useEffect(function () {\n        var uniqueHandlerId = uuidv4();\n        try {\n            logger.warning('sdk changed', uniqueHandlerId);\n            var handler = new ConnectionHandler({\n                onDisconnected: function () {\n                    setIsOnline(false);\n                    logger.warning('onDisconnected', { isOnline: isOnline });\n                },\n                onReconnectStarted: function () {\n                    setIsOnline(false);\n                    logger.warning('onReconnectStarted', { isOnline: isOnline });\n                },\n                onReconnectSucceeded: function () {\n                    setIsOnline(true);\n                    logger.warning('onReconnectSucceeded', { isOnline: isOnline });\n                },\n                onReconnectFailed: function () {\n                    sdk.reconnect();\n                    logger.warning('onReconnectFailed');\n                },\n            });\n            if (sdk === null || sdk === void 0 ? void 0 : sdk.addConnectionHandler) {\n                // workaround -> addConnectionHandler invalidates session handler\n                // provided through configureSession\n                sdk.addConnectionHandler(uniqueHandlerId, handler);\n                logger.info('Added ConnectionHandler', uniqueHandlerId);\n            }\n        }\n        catch (_a) {\n            //\n        }\n        return function () {\n            try {\n                sdk.removeConnectionHandler(uniqueHandlerId);\n                logger.info('Removed ConnectionHandler', uniqueHandlerId);\n            }\n            catch (_a) {\n                //\n            }\n        };\n    }, [sdk]);\n    useEffect(function () {\n        var tryReconnect = function () {\n            try {\n                logger.warning('Try reconnecting SDK');\n                if (sdk.connectionState !== 'OPEN') { // connection is not broken yet\n                    sdk.reconnect();\n                }\n            }\n            catch (_a) {\n                //\n            }\n        };\n        // addEventListener version\n        window.addEventListener('online', tryReconnect);\n        return function () {\n            window.removeEventListener('online', tryReconnect);\n        };\n    }, [sdk]);\n    // add offline-class to body\n    useEffect(function () {\n        var body = document.querySelector('body');\n        if (!isOnline && !(sdk === null || sdk === void 0 ? void 0 : sdk.isCacheEnabled)) {\n            try {\n                body === null || body === void 0 ? void 0 : body.classList.add('sendbird__offline');\n                logger.info('Added class sendbird__offline to body');\n            }\n            catch (e) {\n                //\n            }\n        }\n        else {\n            try {\n                body === null || body === void 0 ? void 0 : body.classList.remove('sendbird__offline');\n                logger.info('Removed class sendbird__offline from body');\n            }\n            catch (e) {\n                //\n            }\n        }\n    }, [isOnline, sdk === null || sdk === void 0 ? void 0 : sdk.isCacheEnabled]);\n    return isOnline;\n}\n\nvar TIMEOUT = 2000;\n/*\n  * This is a factory function that returns a scheduler.\n  * The scheduler is a queue that calls the callback function on intervals.\n  * If interval is empty, the callback function is called immediately.\n  * If interval is not empty, the callback function is called after the interval.\n*/\nfunction schedulerFactory(_a) {\n    var logger = _a.logger, timeout = _a.timeout, cb = _a.cb;\n    var queue = [];\n    var interval = null;\n    var push = function (channel) {\n        var channelPresent = queue.find(function (c) { return c.url === channel.url; });\n        if (!channelPresent) {\n            queue.push(channel);\n        }\n        else {\n            logger.info('Channel: Mark as read already in queue', { channel: channel });\n        }\n        // start the interval if it's not already running\n        if (interval) {\n            return;\n        }\n        var item = queue.shift();\n        if (item) {\n            cb(item);\n        }\n        interval = setInterval(function () {\n            if (queue.length === 0 && interval) {\n                clearInterval(interval);\n                interval = null;\n                return;\n            }\n            var item = queue.shift();\n            if (item) {\n                cb(item);\n            }\n        }, (timeout || TIMEOUT));\n    };\n    var clear = function () {\n        queue = [];\n        if (interval) {\n            clearInterval(interval);\n            interval = null;\n        }\n    };\n    return {\n        push: push,\n        clear: clear,\n        getQueue: function () { return queue; },\n    };\n}\n\nfunction useMarkAsDeliveredScheduler(_a, _b) {\n    var _this = this;\n    var isConnected = _a.isConnected;\n    var logger = _b.logger;\n    var markAsDeliveredScheduler = useMemo(function () { return schedulerFactory({\n        logger: logger,\n        cb: function (channel) { return __awaiter(_this, void 0, void 0, function () {\n            var error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, channel.markAsDelivered()];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        error_1 = _a.sent();\n                        logger === null || logger === void 0 ? void 0 : logger.warning('Channel: Mark as delivered failed', { channel: channel, error: error_1 });\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        }); },\n    }); }, []);\n    useEffect(function () {\n        // for simplicity, we clear the queue when the connection is lost\n        if (!isConnected) {\n            markAsDeliveredScheduler.clear();\n        }\n    }, [isConnected]);\n    useUnmount(function () { markAsDeliveredScheduler.clear(); });\n    return markAsDeliveredScheduler;\n}\n\nexport { useMarkAsDeliveredScheduler as a, useUnmount as b, schedulerFactory as s, useOnlineStatus as u };\n//# sourceMappingURL=bundle-BOgayIsk.js.map\n", "import { _ as __assign, d as __rest } from './bundle-BosquA9C.js';\nimport React__default, { useContext, useCallback, useMemo, useRef, useEffect } from 'react';\nimport { GroupChannelFilter } from '@sendbird/chat/groupChannel';\nimport { useGroupChannelList as useGroupChannelList$1, useGroupChannelHandler } from '@sendbird/uikit-tools';\nimport { U as UserProfileProvider } from './bundle-ByW5tGii.js';\nimport { u as useOnlineStatus, a as useMarkAsDeliveredScheduler } from './bundle-BOgayIsk.js';\nimport { s as shimExports, u as useStore, c as createStore } from './bundle-CK7w7gep.js';\nimport { d as deleteNullish, n as noop } from './bundle-Bc1fdQjj.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\nimport { u as useDeepCompareEffect } from './bundle-Dx43PGfx.js';\n\nvar useGroupChannelList = function () {\n    var store = useContext(GroupChannelListContext);\n    if (!store)\n        throw new Error('useGroupChannelList must be used within a GroupChannelListProvider');\n    var setGroupChannels = useCallback(function (channels) {\n        store.setState(function (state) { return (__assign(__assign({}, state), { groupChannels: channels })); }, true);\n    }, []);\n    var state = shimExports.useSyncExternalStore(store.subscribe, store.getState);\n    var actions = useMemo(function () { return ({\n        setGroupChannels: setGroupChannels,\n    }); }, [setGroupChannels]);\n    return { state: state, actions: actions };\n};\n\nvar GroupChannelListContext = React__default.createContext(null);\nvar initialState = {\n    className: '',\n    selectedChannelUrl: '',\n    disableAutoSelect: false,\n    allowProfileEdit: false,\n    isTypingIndicatorEnabled: false,\n    isMessageReceiptStatusEnabled: false,\n    onChannelSelect: function () { },\n    onChannelCreated: function () { },\n    onThemeChange: noop,\n    onCreateChannelClick: noop,\n    onBeforeCreateChannel: null,\n    onUserProfileUpdated: noop,\n    typingChannelUrls: [],\n    refreshing: false,\n    initialized: false,\n    groupChannels: [],\n    refresh: null,\n    loadMore: null,\n    scrollRef: { current: null },\n};\n/**\n * @returns {ReturnType<typeof createStore<GroupChannelListState>>}\n */\nvar useGroupChannelListStore = function () {\n    return useStore(GroupChannelListContext, function (state) { return state; }, initialState);\n};\nvar GroupChannelListManager = function (_a) {\n    var _b, _c, _d, _e, _f, _g;\n    var _h = _a.className, className = _h === void 0 ? '' : _h, _j = _a.selectedChannelUrl, selectedChannelUrl = _j === void 0 ? '' : _j, _k = _a.disableAutoSelect, disableAutoSelect = _k === void 0 ? false : _k, channelListQueryParams = _a.channelListQueryParams, onThemeChange = _a.onThemeChange, onChannelSelect = _a.onChannelSelect, onChannelCreated = _a.onChannelCreated, onCreateChannelClick = _a.onCreateChannelClick, onBeforeCreateChannel = _a.onBeforeCreateChannel, onUserProfileUpdated = _a.onUserProfileUpdated, props = __rest(_a, [\"className\", \"selectedChannelUrl\", \"disableAutoSelect\", \"channelListQueryParams\", \"onThemeChange\", \"onChannelSelect\", \"onChannelCreated\", \"onCreateChannelClick\", \"onBeforeCreateChannel\", \"onUserProfileUpdated\"]);\n    var sendbirdState = useSendbird().state;\n    var config = sendbirdState.config, stores = sendbirdState.stores;\n    var _l = useGroupChannelList(), state = _l.state, actions = _l.actions;\n    var updateState = useGroupChannelListStore().updateState;\n    var sdkStore = stores.sdkStore;\n    var sdk = sdkStore.sdk;\n    var isConnected = useOnlineStatus(sdk, config.logger);\n    var scheduler = useMarkAsDeliveredScheduler({ isConnected: isConnected }, config);\n    var scrollRef = useRef(null);\n    var channelListDataSource = useGroupChannelList$1(sdk, {\n        collectionCreator: getCollectionCreator(sdk, channelListQueryParams),\n        markAsDelivered: function (channels) { return channels.forEach(scheduler.push); },\n        onChannelsDeleted: function (channelUrls) {\n            channelUrls.forEach(function (url) {\n                if (url === selectedChannelUrl)\n                    onChannelSelect(null);\n            });\n        },\n        onChannelsUpdated: function () {\n            actions.setGroupChannels(groupChannels);\n        },\n    });\n    var refreshing = channelListDataSource.refreshing, initialized = channelListDataSource.initialized, groupChannels = channelListDataSource.groupChannels, refresh = channelListDataSource.refresh, loadMore = channelListDataSource.loadMore;\n    // SideEffect: Auto select channel\n    useEffect(function () {\n        var _a;\n        if (!disableAutoSelect && stores.sdkStore.initialized && initialized) {\n            if (!selectedChannelUrl)\n                onChannelSelect((_a = groupChannels[0]) !== null && _a !== void 0 ? _a : null);\n        }\n    }, [disableAutoSelect, stores.sdkStore.initialized, initialized, selectedChannelUrl]);\n    // Recreates the GroupChannelCollection when `channelListQueryParams` change\n    useEffect(function () {\n        refresh === null || refresh === void 0 ? void 0 : refresh();\n    }, [\n        Object.keys(channelListQueryParams !== null && channelListQueryParams !== void 0 ? channelListQueryParams : {}).sort()\n            .map(function (key) { return \"\".concat(key, \"=\").concat(encodeURIComponent(JSON.stringify(channelListQueryParams[key]))); })\n            .join('&'),\n    ]);\n    var typingChannelUrls = state.typingChannelUrls;\n    useGroupChannelHandler(sdk, {\n        onTypingStatusUpdated: function (channel) {\n            var _a;\n            var channelList = typingChannelUrls.filter(function (channelUrl) { return channelUrl !== channel.url; });\n            if (((_a = channel.getTypingUsers()) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n                updateState({\n                    typingChannelUrls: (channelList.concat(channel.url)),\n                });\n            }\n            else {\n                updateState({\n                    typingChannelUrls: (channelList),\n                });\n            }\n        },\n    });\n    var allowProfileEdit = (_c = (_b = props.allowProfileEdit) !== null && _b !== void 0 ? _b : config.allowProfileEdit) !== null && _c !== void 0 ? _c : true;\n    var isTypingIndicatorEnabled = (_e = (_d = props.isTypingIndicatorEnabled) !== null && _d !== void 0 ? _d : config.groupChannelList.enableTypingIndicator) !== null && _e !== void 0 ? _e : false;\n    var isMessageReceiptStatusEnabled = (_g = (_f = props.isMessageReceiptStatusEnabled) !== null && _f !== void 0 ? _f : config.groupChannelList.enableMessageReceiptStatus) !== null && _g !== void 0 ? _g : false;\n    var eventHandlers = useMemo(function () { return ({\n        onChannelSelect: onChannelSelect,\n        onChannelCreated: onChannelCreated,\n        onThemeChange: onThemeChange,\n        onCreateChannelClick: onCreateChannelClick,\n        onBeforeCreateChannel: onBeforeCreateChannel,\n        onUserProfileUpdated: onUserProfileUpdated,\n    }); }, [\n        onChannelSelect,\n        onChannelCreated,\n        onThemeChange,\n        onCreateChannelClick,\n        onBeforeCreateChannel,\n        onUserProfileUpdated,\n    ]);\n    var configurations = useMemo(function () { return ({\n        className: className,\n        selectedChannelUrl: selectedChannelUrl,\n        disableAutoSelect: disableAutoSelect,\n        allowProfileEdit: allowProfileEdit,\n        isTypingIndicatorEnabled: isTypingIndicatorEnabled,\n        isMessageReceiptStatusEnabled: isMessageReceiptStatusEnabled,\n        typingChannelUrls: typingChannelUrls,\n        refreshing: refreshing,\n        initialized: initialized,\n        refresh: refresh,\n        loadMore: loadMore,\n    }); }, [\n        className,\n        selectedChannelUrl,\n        disableAutoSelect,\n        allowProfileEdit,\n        isTypingIndicatorEnabled,\n        isMessageReceiptStatusEnabled,\n        typingChannelUrls,\n        refreshing,\n        initialized,\n        scrollRef,\n    ]);\n    useDeepCompareEffect(function () {\n        updateState(__assign(__assign(__assign({}, eventHandlers), configurations), { groupChannels: groupChannels }));\n    }, [\n        configurations,\n        eventHandlers,\n        groupChannels.map(function (groupChannel) { return groupChannel.serialize(); }),\n    ]);\n    return null;\n};\nvar createGroupChannelListStore = function (props) { return createStore(__assign(__assign({}, initialState), props)); };\nvar InternalGroupChannelListProvider = function (props) {\n    var children = props.children;\n    var defaultProps = deleteNullish({\n        onChannelSelect: props === null || props === void 0 ? void 0 : props.onChannelSelect,\n        onChannelCreated: props === null || props === void 0 ? void 0 : props.onChannelCreated,\n        className: props === null || props === void 0 ? void 0 : props.className,\n        selectedChannelUrl: props === null || props === void 0 ? void 0 : props.selectedChannelUrl,\n        allowProfileEdit: props === null || props === void 0 ? void 0 : props.allowProfileEdit,\n        disableAutoSelect: props === null || props === void 0 ? void 0 : props.disableAutoSelect,\n        isTypingIndicatorEnabled: props === null || props === void 0 ? void 0 : props.isTypingIndicatorEnabled,\n        isMessageReceiptStatusEnabled: props === null || props === void 0 ? void 0 : props.isMessageReceiptStatusEnabled,\n        channelListQueryParams: props === null || props === void 0 ? void 0 : props.channelListQueryParams,\n        onThemeChange: props === null || props === void 0 ? void 0 : props.onThemeChange,\n        onCreateChannelClick: props === null || props === void 0 ? void 0 : props.onCreateChannelClick,\n        onBeforeCreateChannel: props === null || props === void 0 ? void 0 : props.onBeforeCreateChannel,\n        onUserProfileUpdated: props === null || props === void 0 ? void 0 : props.onUserProfileUpdated,\n    });\n    var storeRef = useRef(createGroupChannelListStore(defaultProps));\n    return (React__default.createElement(GroupChannelListContext.Provider, { value: storeRef.current }, children));\n};\nvar GroupChannelListProvider = function (props) {\n    var children = props.children, className = props.className;\n    return (React__default.createElement(InternalGroupChannelListProvider, __assign({}, props),\n        React__default.createElement(GroupChannelListManager, __assign({}, props)),\n        React__default.createElement(UserProfileProvider, __assign({}, props),\n            React__default.createElement(\"div\", { className: \"sendbird-channel-list \".concat(className) }, children))));\n};\n// Keep this function for backward compatibility.\nvar useGroupChannelListContext = function () {\n    var _a = useGroupChannelList(), state = _a.state, actions = _a.actions;\n    return __assign(__assign({}, state), actions);\n};\nfunction getCollectionCreator(sdk, channelListQueryParams) {\n    return function (defaultParams) {\n        var params = __assign(__assign({}, defaultParams), channelListQueryParams);\n        return sdk.groupChannel.createGroupChannelCollection(__assign(__assign({}, params), { filter: new GroupChannelFilter(params) }));\n    };\n}\n\nexport { GroupChannelListContext as G, useGroupChannelListStore as a, GroupChannelListManager as b, GroupChannelListProvider as c, useGroupChannelListContext as d, useGroupChannelList as u };\n//# sourceMappingURL=bundle-P--QfsZn.js.map\n", "import React__default from 'react';\nimport { u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport { A as Avatar } from '../../chunks/bundle-BkCv3z1C.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-MoKyCGQH.js';\nimport Header from '../../ui/Header.js';\nimport { c as classnames } from '../../chunks/bundle-Bc1fdQjj.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../ui/IconButton.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\n\nvar GroupChannelListHeader = function (_a) {\n    var renderTitle = _a.renderTitle, renderIconButton = _a.renderIconButton, onEdit = _a.onEdit, allowProfileEdit = _a.allowProfileEdit, \n    // Header custom props\n    renderLeft = _a.renderLeft, renderMiddle = _a.renderMiddle, renderRight = _a.renderRight;\n    var user = useSendbird().state.stores.userStore.user;\n    var stringSet = useLocalization().stringSet;\n    var renderProfile = renderMiddle !== null && renderMiddle !== void 0 ? renderMiddle : renderTitle;\n    return (React__default.createElement(Header, { className: classnames('sendbird-channel-header', allowProfileEdit && 'sendbird-channel-header--allow-edit'), renderLeft: renderLeft, renderMiddle: function () {\n            var _a;\n            return ((_a = renderProfile === null || renderProfile === void 0 ? void 0 : renderProfile()) !== null && _a !== void 0 ? _a : (React__default.createElement(\"div\", { className: \"sendbird-channel-header__title\", role: \"button\", onClick: function () {\n                    onEdit === null || onEdit === void 0 ? void 0 : onEdit();\n                }, onKeyDown: function () {\n                    onEdit === null || onEdit === void 0 ? void 0 : onEdit();\n                }, tabIndex: 0 },\n                React__default.createElement(\"div\", { className: \"sendbird-channel-header__title__left\" },\n                    React__default.createElement(Avatar, { width: \"32px\", height: \"32px\", src: user.profileUrl, alt: user.nickname })),\n                React__default.createElement(\"div\", { className: \"sendbird-channel-header__title__right\" },\n                    React__default.createElement(Label, { className: \"sendbird-channel-header__title__right__name\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_1 }, user.nickname || stringSet.NO_NAME),\n                    React__default.createElement(Label, { className: \"sendbird-channel-header__title__right__user-id\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_2 }, user.userId)))));\n        }, renderRight: renderRight !== null && renderRight !== void 0 ? renderRight : renderIconButton }));\n};\n\nexport { GroupChannelListHeader, GroupChannelListHeader as default };\n//# sourceMappingURL=GroupChannelListHeader.js.map\n", "import { d as __rest } from '../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\n\nvar EditUserProfileProviderContext = React__default.createContext(null);\nvar EditUserProfileProvider = function (_a) {\n    var children = _a.children, props = __rest(_a, [\"children\"]);\n    return React__default.createElement(EditUserProfileProviderContext.Provider, { value: props }, children);\n};\nvar useEditUserProfileContext = function () {\n    var context = React__default.useContext(EditUserProfileProviderContext);\n    if (!context)\n        throw new Error('EditUserProfileContext not found. Use within the EditUserProfile module.');\n    return context;\n};\n\nexport { EditUserProfileProvider, useEditUserProfileContext };\n//# sourceMappingURL=context.js.map\n", "import React__default, { useState, useRef, useContext } from 'react';\nimport { useEditUserProfileContext } from '../context.js';\nimport { u as useLocalization, L as LocalizationContext } from '../../chunks/bundle-y-yf0Djs.js';\nimport { M as Modal } from '../../chunks/bundle-ZMBEGemL.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-MoKyCGQH.js';\nimport { ButtonTypes } from '../../ui/Button.js';\nimport Input, { InputLabel } from '../../ui/Input.js';\nimport { A as Avatar } from '../../chunks/bundle-BkCv3z1C.js';\nimport TextButton from '../../ui/TextButton.js';\nimport Icon, { IconTypes } from '../../ui/Icon.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport 'react-dom';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/IconButton.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\n\nvar EditUserProfileUIView = function (_a) {\n    var _b;\n    var formRef = _a.formRef, inputRef = _a.inputRef, onThemeChange = _a.onThemeChange, setProfileImage = _a.setProfileImage;\n    var state = useSendbird().state;\n    var stores = state.stores, config = state.config;\n    var theme = config.theme, setCurrentTheme = config.setCurrentTheme;\n    var user = (_b = stores.userStore) === null || _b === void 0 ? void 0 : _b.user;\n    var stringSet = useLocalization().stringSet;\n    var _c = useState(null), currentImg = _c[0], setCurrentImg = _c[1];\n    var hiddenInputRef = useRef(null);\n    return (React__default.createElement(\"form\", { className: \"sendbird-edit-user-profile\", ref: formRef, onSubmit: function (e) { e.preventDefault(); } },\n        React__default.createElement(\"section\", { className: \"sendbird-edit-user-profile__img\" },\n            React__default.createElement(InputLabel, null, stringSet.EDIT_PROFILE__IMAGE_LABEL),\n            React__default.createElement(\"div\", { className: \"sendbird-edit-user-profile__img__avatar\" },\n                React__default.createElement(Avatar, { width: \"80px\", height: \"80px\", src: currentImg || (user === null || user === void 0 ? void 0 : user.profileUrl) })),\n            React__default.createElement(\"input\", { ref: hiddenInputRef, type: \"file\", accept: \"image/gif, image/jpeg, image/png\", style: { display: 'none' }, onChange: function (e) {\n                    if (e.target.files) {\n                        setCurrentImg(URL.createObjectURL(e.target.files[0]));\n                        setProfileImage(e.target.files[0]);\n                    }\n                    if (hiddenInputRef.current) {\n                        hiddenInputRef.current.value = '';\n                    }\n                } }),\n            React__default.createElement(TextButton, { className: \"sendbird-edit-user-profile__img__avatar-button\", disableUnderline: true, onClick: function () { var _a; return (_a = hiddenInputRef.current) === null || _a === void 0 ? void 0 : _a.click(); } },\n                React__default.createElement(Label, { type: LabelTypography.BUTTON_1, color: LabelColors.PRIMARY }, stringSet.EDIT_PROFILE__IMAGE_UPLOAD))),\n        React__default.createElement(\"section\", { className: \"sendbird-edit-user-profile__name\" },\n            React__default.createElement(InputLabel, null, stringSet.EDIT_PROFILE__NICKNAME_LABEL),\n            React__default.createElement(Input, { required: (user === null || user === void 0 ? void 0 : user.nickname) !== '', name: \"sendbird-edit-user-profile__name__input\", ref: inputRef, value: user === null || user === void 0 ? void 0 : user.nickname, placeHolder: stringSet.EDIT_PROFILE__NICKNAME_PLACEHOLDER })),\n        React__default.createElement(\"section\", { className: \"sendbird-edit-user-profile__userid\" },\n            React__default.createElement(InputLabel, null, stringSet.EDIT_PROFILE__USERID_LABEL),\n            React__default.createElement(Input, { disabled: true, name: \"sendbird-edit-user-profile__userid__input\", value: user === null || user === void 0 ? void 0 : user.userId })),\n        React__default.createElement(\"section\", { className: \"sendbird-edit-user-profile__theme\" },\n            React__default.createElement(InputLabel, null, stringSet.EDIT_PROFILE__THEME_LABEL),\n            React__default.createElement(\"div\", { className: \"sendbird-edit-user-profile__theme__theme-icon\" }, theme === 'dark'\n                ? (React__default.createElement(Icon, { onClick: function () {\n                        setCurrentTheme('light');\n                        onThemeChange === null || onThemeChange === void 0 ? void 0 : onThemeChange('light');\n                    }, type: IconTypes.TOGGLE_ON, width: 44, height: 24 }))\n                : (React__default.createElement(Icon, { onClick: function () {\n                        setCurrentTheme('dark');\n                        onThemeChange === null || onThemeChange === void 0 ? void 0 : onThemeChange('dark');\n                    }, type: IconTypes.TOGGLE_OFF, width: 44, height: 24 }))))));\n};\n\nvar handleUpdateUserInfo = function (_a) {\n    var _b, _c, _d;\n    var globalContext = _a.globalContext, formRef = _a.formRef, inputRef = _a.inputRef, profileImage = _a.profileImage, onEditProfile = _a.onEditProfile, updateUserInfo = _a.updateUserInfo;\n    var stores = globalContext.stores;\n    var sdk = stores.sdkStore.sdk;\n    var user = stores.userStore.user;\n    if ((user === null || user === void 0 ? void 0 : user.nickname) !== '' && !inputRef.current.value) {\n        (_c = (_b = formRef.current).reportValidity) === null || _c === void 0 ? void 0 : _c.call(_b); // might not work in explorer\n        return;\n    }\n    sdk === null || sdk === void 0 ? void 0 : sdk.updateCurrentUserInfo({\n        nickname: (_d = inputRef === null || inputRef === void 0 ? void 0 : inputRef.current) === null || _d === void 0 ? void 0 : _d.value,\n        profileImage: profileImage !== null && profileImage !== void 0 ? profileImage : undefined,\n    }).then(function (updatedUser) {\n        updateUserInfo(updatedUser);\n        onEditProfile === null || onEditProfile === void 0 ? void 0 : onEditProfile(updatedUser);\n    });\n};\nvar useEditUserProfileUISates = function (_a) {\n    var onEditProfile = _a.onEditProfile;\n    var _b = useSendbird(), state = _b.state, actions = _b.actions;\n    var inputRef = useRef(null);\n    var formRef = useRef(null);\n    var _c = useState(null), profileImage = _c[0], setProfileImage = _c[1];\n    var updateUserInfo = function () {\n        handleUpdateUserInfo({\n            globalContext: state,\n            formRef: formRef,\n            inputRef: inputRef,\n            profileImage: profileImage,\n            onEditProfile: onEditProfile,\n            updateUserInfo: actions.updateUserInfo,\n        });\n    };\n    return {\n        formRef: formRef,\n        inputRef: inputRef,\n        updateUserInfo: updateUserInfo,\n        profileImage: profileImage,\n        setProfileImage: setProfileImage,\n    };\n};\nvar EditUserProfileUI = function () {\n    var editProfileContext = useEditUserProfileContext();\n    var onEditProfile = editProfileContext.onEditProfile, onCancel = editProfileContext.onCancel, onThemeChange = editProfileContext.onThemeChange;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var _a = useEditUserProfileUISates({ onEditProfile: onEditProfile }), formRef = _a.formRef, inputRef = _a.inputRef, updateUserInfo = _a.updateUserInfo, setProfileImage = _a.setProfileImage;\n    return (React__default.createElement(Modal, { titleText: stringSet.EDIT_PROFILE__TITLE, submitText: stringSet.BUTTON__SAVE, type: ButtonTypes.PRIMARY, onCancel: onCancel, isFullScreenOnMobile: true, onSubmit: updateUserInfo },\n        React__default.createElement(EditUserProfileUIView, { formRef: formRef, inputRef: inputRef, setProfileImage: setProfileImage, onThemeChange: onThemeChange })));\n};\n\nexport { EditUserProfileUI, EditUserProfileUIView, EditUserProfileUI as default, useEditUserProfileUISates };\n//# sourceMappingURL=EditUserProfileUI.js.map\n", "import React__default from 'react';\nimport { EditUserProfileProvider } from './EditUserProfile/context.js';\nimport { EditUserProfileUI } from './EditUserProfile/components/EditUserProfileUI.js';\nimport './chunks/bundle-BosquA9C.js';\nimport './chunks/bundle-y-yf0Djs.js';\nimport './chunks/bundle-DXRcwk7R.js';\nimport './chunks/bundle-BRWYGzyd.js';\nimport './chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport './chunks/bundle-Bc1fdQjj.js';\nimport './chunks/bundle-DvgqpwmQ.js';\nimport './ui/IconButton.js';\nimport './ui/Button.js';\nimport './chunks/bundle-MoKyCGQH.js';\nimport './ui/Icon.js';\nimport './chunks/bundle-BGRwc73U.js';\nimport './chunks/bundle-Bk7vYzLW.js';\nimport './chunks/bundle-CK7w7gep.js';\nimport './chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport './ui/Input.js';\nimport './chunks/bundle-BkCv3z1C.js';\nimport './ui/ImageRenderer.js';\nimport './chunks/bundle-MdZYxYNf.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-DU7VpG0M.js';\n\nvar EditUserProfile = function (props) {\n    var onEditProfile = props.onEditProfile, onCancel = props.onCancel, onThemeChange = props.onThemeChange;\n    return (React__default.createElement(EditUserProfileProvider, { onEditProfile: onEditProfile, onCancel: onCancel, onThemeChange: onThemeChange },\n        React__default.createElement(EditUserProfileUI, null)));\n};\n\nexport { EditUserProfile as default };\n//# sourceMappingURL=EditUserProfile.js.map\n", "import React__default, { useRef, useState, useContext } from 'react';\nimport { u as useLocalization, L as LocalizationContext } from '../../chunks/bundle-y-yf0Djs.js';\nimport { C as ContextMenu, b as MenuItems, c as MenuItem } from '../../chunks/bundle-BEUsrftF.js';\nimport IconButton from '../../ui/IconButton.js';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon.js';\nimport { M as Modal } from '../../chunks/bundle-ZMBEGemL.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport 'react-dom';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/Button.js';\n\nvar LeaveGroupChannel = function (_a) {\n    var channel = _a.channel, onSubmit = _a.onSubmit, onCancel = _a.onCancel;\n    var _b = useSendbird().state.config, logger = _b.logger, isOnline = _b.isOnline;\n    var stringSet = useLocalization().stringSet;\n    if (channel) {\n        return (React__default.createElement(Modal, { disabled: !isOnline, onCancel: onCancel, onSubmit: function () {\n                logger.info('LeaveGroupChannel: Leaving channel', channel);\n                channel.leave().then(function () {\n                    logger.info('LeaveGroupChannel: Leaving channel successful!', channel);\n                    onSubmit === null || onSubmit === void 0 ? void 0 : onSubmit();\n                });\n            }, submitText: stringSet.MODAL__LEAVE_CHANNEL__FOOTER, titleText: stringSet.MODAL__LEAVE_CHANNEL__TITLE }));\n    }\n};\n\nfunction GroupChannelPreviewAction(_a) {\n    var channel = _a.channel, _b = _a.disabled, disabled = _b === void 0 ? false : _b, onLeaveChannel = _a.onLeaveChannel;\n    var parentRef = useRef(null);\n    var parentContainerRef = useRef(null);\n    var _c = useState(false), showModal = _c[0], setShowModal = _c[1];\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(\"div\", { ref: parentContainerRef, tabIndex: 0, role: \"button\", style: { display: 'inline-block' }, onKeyDown: function (e) { return e.stopPropagation(); }, onClick: function (e) { return e.stopPropagation(); } },\n        React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(IconButton, { ref: parentRef, onClick: toggleDropdown, height: \"32px\", width: \"32px\" },\n                React__default.createElement(Icon, { type: IconTypes.MORE, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentRef: parentRef, parentContainRef: parentContainerRef, closeDropdown: closeDropdown },\n                React__default.createElement(MenuItem, { onClick: function () {\n                        if (disabled)\n                            return;\n                        setShowModal(true);\n                        closeDropdown();\n                    }, testID: \"channel_list_item_context_menu_leave_channel\" }, stringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE))); } }),\n        showModal && (React__default.createElement(LeaveGroupChannel, { channel: channel, onSubmit: function () {\n                setShowModal(false);\n                onLeaveChannel === null || onLeaveChannel === void 0 ? void 0 : onLeaveChannel();\n            }, onCancel: function () { return setShowModal(false); } }))));\n}\n\nexport { GroupChannelPreviewAction, GroupChannelPreviewAction as default };\n//# sourceMappingURL=GroupChannelPreviewAction.js.map\n", "import React__default from 'react';\nimport { M as MENTION_USER_LABEL_CLASSNAME } from '../chunks/bundle-CnWjrGUf.js';\nimport { c as classnames } from '../chunks/bundle-Bc1fdQjj.js';\n\nfunction MentionUserLabel(_a) {\n    var _b = _a.className, className = _b === void 0 ? '' : _b, children = _a.children, _c = _a.isReverse, isReverse = _c === void 0 ? false : _c, color = _a.color, userId = _a.userId;\n    return (React__default.createElement(\"span\", { className: classnames(MENTION_USER_LABEL_CLASSNAME, className, isReverse && 'reverse', color), contentEditable: false, \"data-userid\": userId, \"data-sb-mention\": true }, children));\n}\n\nexport { MentionUserLabel as default };\n//# sourceMappingURL=MentionUserLabel.js.map\n", "import { _ as __assign } from './bundle-BosquA9C.js';\nimport React__default, { useState } from 'react';\nimport { u as useLongPress } from './bundle-BSieP1ow.js';\nimport { u as useLocalization } from './bundle-y-yf0Djs.js';\nimport { u as useMediaQueryContext } from './bundle-DvgqpwmQ.js';\nimport { n as noop } from './bundle-Bc1fdQjj.js';\nimport { i as isVoiceMessage } from './bundle-Ug7rKzFJ.js';\nimport { a as getLastMessageText, b as getTotalMembers, M as MessageStatus, c as getLastMessageCreatedAt, d as getChannelUnreadMessageCount } from './bundle-SEoRcjBh.js';\nimport { TypingIndicatorText } from '../GroupChannel/components/TypingIndicator.js';\nimport Badge from '../ui/Badge.js';\nimport ChannelAvatar from '../ui/ChannelAvatar.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from './bundle-MoKyCGQH.js';\nimport MentionUserLabel from '../ui/MentionUserLabel.js';\nimport { M as Modal } from './bundle-ZMBEGemL.js';\nimport TextButton from '../ui/TextButton.js';\nimport { g as getChannelPreviewMessage } from './bundle-BJl-Stow.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\n\nvar GroupChannelListItemView = function (_a) {\n    var channel = _a.channel, tabIndex = _a.tabIndex, isTyping = _a.isTyping, isSelected = _a.isSelected, channelName = _a.channelName, _b = _a.isMessageStatusEnabled, isMessageStatusEnabled = _b === void 0 ? true : _b, _c = _a.onClick, onClick = _c === void 0 ? noop : _c, _d = _a.onLeaveChannel, onLeaveChannel = _d === void 0 ? function () { return Promise.resolve(); } : _d, renderChannelAction = _a.renderChannelAction;\n    var config = useSendbird().state.config;\n    var theme = config.theme, userId = config.userId;\n    var _e = useLocalization(), dateLocale = _e.dateLocale, stringSet = _e.stringSet;\n    var isMobile = useMediaQueryContext().isMobile;\n    var isMentionEnabled = config.groupChannel.enableMention;\n    var lastMessage = getLastMessageText(channel, stringSet);\n    var previewLastMessage = config.groupChannel.enableMarkdownForUserMessage\n        ? getChannelPreviewMessage(lastMessage)\n        : lastMessage;\n    var _f = useState(false), showMobileLeave = _f[0], setShowMobileLeave = _f[1];\n    var onLongPress = useLongPress({\n        onLongPress: function () {\n            if (isMobile) {\n                setShowMobileLeave(true);\n            }\n        },\n        onClick: onClick,\n    }, {\n        delay: 1000,\n    });\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", __assign({ className: [\n                'sendbird-channel-preview',\n                isSelected ? 'sendbird-channel-preview--active' : '',\n            ].join(' '), role: \"link\", tabIndex: tabIndex }, (isMobile ? __assign({}, onLongPress) : { onClick: onClick })),\n            React__default.createElement(\"div\", { className: \"sendbird-channel-preview__avatar\" },\n                React__default.createElement(ChannelAvatar, { channel: channel, userId: userId, theme: theme })),\n            React__default.createElement(\"div\", { className: \"sendbird-channel-preview__content\" },\n                React__default.createElement(\"div\", { className: \"sendbird-channel-preview__content__upper\" },\n                    React__default.createElement(\"div\", { className: \"sendbird-channel-preview__content__upper__header\" },\n                        (channel.isBroadcast || false) && (React__default.createElement(\"div\", { className: \"sendbird-channel-preview__content__upper__header__broadcast-icon\" },\n                            React__default.createElement(Icon, { type: IconTypes.BROADCAST, fillColor: IconColors.SECONDARY, height: \"16px\", width: \"16px\" }))),\n                        React__default.createElement(Label, { className: \"sendbird-channel-preview__content__upper__header__channel-name\", testID: \"sendbird-channel-preview__content__upper__header__channel-name\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_1 }, channelName),\n                        React__default.createElement(Label, { className: \"sendbird-channel-preview__content__upper__header__total-members\", type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, getTotalMembers(channel)),\n                        (channel.isFrozen) && (React__default.createElement(\"div\", { title: \"Frozen\", className: \"sendbird-channel-preview__content__upper__header__frozen-icon\" },\n                            React__default.createElement(Icon, { type: IconTypes.FREEZE, fillColor: IconColors.PRIMARY, height: 12, width: 12 })))),\n                    !channel.isEphemeral && isMessageStatusEnabled && (React__default.createElement(MessageStatus, { className: \"sendbird-channel-preview__content__upper__last-message-at\", channel: channel, message: channel.lastMessage, isDateSeparatorConsidered: false })),\n                    !channel.isEphemeral && !isMessageStatusEnabled && (React__default.createElement(Label, { className: \"sendbird-channel-preview__content__upper__last-message-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, getLastMessageCreatedAt({\n                        channel: channel,\n                        locale: dateLocale,\n                        stringSet: stringSet,\n                    })))),\n                React__default.createElement(\"div\", { className: \"sendbird-channel-preview__content__lower\" },\n                    React__default.createElement(Label, { className: \"sendbird-channel-preview__content__lower__last-message\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_3 },\n                        isTyping && (React__default.createElement(TypingIndicatorText, { members: channel.getTypingUsers() })),\n                        !isTyping\n                            && !isVoiceMessage(channel.lastMessage)\n                            && previewLastMessage,\n                        !isTyping\n                            && isVoiceMessage(channel.lastMessage)\n                            && stringSet.VOICE_MESSAGE),\n                    /**\n                     * Do not show unread count for focused channel. This is because of the limitation where\n                     * isScrollBottom and hasNext states needs to be added globally but they are from channel context\n                     * so channel list cannot see them with the current architecture.\n                     */\n                    !isSelected && !channel.isEphemeral && (React__default.createElement(\"div\", { className: \"sendbird-channel-preview__content__lower__unread-message-count\" },\n                        isMentionEnabled && channel.unreadMentionCount > 0 ? (React__default.createElement(MentionUserLabel, { className: \"sendbird-channel-preview__content__lower__unread-message-count__mention\", color: \"purple\" }, '@')) : null,\n                        getChannelUnreadMessageCount(channel) ? ( // return number\n                        React__default.createElement(Badge, { count: getChannelUnreadMessageCount(channel) })) : null)))),\n            !isMobile && (React__default.createElement(\"div\", { className: \"sendbird-channel-preview__action\" }, renderChannelAction({ channel: channel })))),\n        showMobileLeave && isMobile && (React__default.createElement(Modal, { className: \"sendbird-channel-preview__leave--mobile\", titleText: channelName, hideFooter: true, isCloseOnClickOutside: true, onCancel: function () { return setShowMobileLeave(false); } },\n            React__default.createElement(TextButton, { onClick: function () {\n                    onLeaveChannel();\n                    setShowMobileLeave(false);\n                }, className: \"sendbird-channel-preview__leave-label--mobile\" },\n                React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.CHANNEL_PREVIEW_MOBILE_LEAVE))))));\n};\n\nexport { GroupChannelListItemView as G };\n//# sourceMappingURL=bundle-B7JoK-Jx.js.map\n", "import React__default from 'react';\nimport { g as getChannelTitle } from '../../chunks/bundle-SEoRcjBh.js';\nimport { u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport { G as GroupChannelListItemView } from '../../chunks/bundle-B7JoK-Jx.js';\nimport { u as useGroupChannelList } from '../../chunks/bundle-P--QfsZn.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '../../chunks/bundle-B_HhSA6x.js';\nimport '../../chunks/bundle-BBGwVlcE.js';\nimport '../../chunks/bundle-BSieP1ow.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../GroupChannel/components/TypingIndicator.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/Badge.js';\nimport '../../ui/ChannelAvatar.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../chunks/bundle-ByD0lt6-.js';\nimport '../../ui/MentionUserLabel.js';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-BOgayIsk.js';\nimport '../../chunks/bundle-Dx43PGfx.js';\n\nvar GroupChannelListItem = function (_a) {\n    var _b, _c, _d;\n    var channel = _a.channel, isSelected = _a.isSelected, isTyping = _a.isTyping, renderChannelAction = _a.renderChannelAction, onLeaveChannel = _a.onLeaveChannel, onClick = _a.onClick, tabIndex = _a.tabIndex;\n    var config = useSendbird().state.config;\n    var stringSet = useLocalization().stringSet;\n    var _e = useGroupChannelList().state, isTypingIndicatorEnabled = _e.isTypingIndicatorEnabled, isMessageReceiptStatusEnabled = _e.isMessageReceiptStatusEnabled;\n    var userId = config.userId;\n    var isMessageStatusEnabled = isMessageReceiptStatusEnabled\n        && (!((_b = channel.lastMessage) === null || _b === void 0 ? void 0 : _b.isAdminMessage()))\n        && ((_d = (_c = channel.lastMessage) === null || _c === void 0 ? void 0 : _c.sender) === null || _d === void 0 ? void 0 : _d.userId) === userId;\n    return (React__default.createElement(GroupChannelListItemView, { channel: channel, tabIndex: tabIndex, channelName: getChannelTitle(channel, userId, stringSet), isTyping: isTypingIndicatorEnabled && isTyping, isSelected: isSelected, isMessageStatusEnabled: isMessageStatusEnabled, onClick: onClick, onLeaveChannel: onLeaveChannel, renderChannelAction: renderChannelAction }));\n};\n\nexport { GroupChannelListItem };\n//# sourceMappingURL=GroupChannelListItem.js.map\n", "import { K } from './bundle-BA9ZfQ-7.js';\n\nvar EmojiManager = /** @class */ (function () {\n    function EmojiManager(props) {\n        var _this = this;\n        var _a;\n        var sdk = props.sdk, logger = props.logger;\n        (_a = sdk === null || sdk === void 0 ? void 0 : sdk.getAllEmoji) === null || _a === void 0 ? void 0 : _a.call(sdk).then(function (emojiContainer) {\n            _this._emojiContainer = emojiContainer;\n            logger === null || logger === void 0 ? void 0 : logger.info('EmojiManager | Succeeded getting all emojis. ', emojiContainer);\n        }).catch(function () {\n            logger === null || logger === void 0 ? void 0 : logger.warning('EmojiManager | Failed getting all emojis.');\n        });\n    }\n    Object.defineProperty(EmojiManager.prototype, \"AllEmojisAsArray\", {\n        get: function () {\n            return this._emojiContainer.emojiCategories.flatMap(function (category) { return category.emojis; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EmojiManager.prototype, \"AllEmojisAsMap\", {\n        get: function () {\n            return this._emojiContainer.emojiCategories\n                .flatMap(function (category) { return category.emojis; })\n                .reduce(function (map, emoji) {\n                map.set(emoji.key, emoji.url);\n                return map;\n            }, new Map());\n        },\n        enumerable: false,\n        configurable: true\n    });\n    EmojiManager.prototype.getAllEmojis = function (type) {\n        var _this = this;\n        return K(type)\n            .when(function (type) { return ['array', 'arr'].includes(type); }, function () { return _this.AllEmojisAsArray; })\n            .when(function (type) { return ['map'].includes(type); }, function () { return _this.AllEmojisAsMap; })\n            .otherwise(function () { return _this.AllEmojisAsArray; });\n    };\n    EmojiManager.prototype.getEmojiUrl = function (reactionKey) {\n        var _a, _b;\n        return (_b = (_a = this.AllEmojisAsArray.find(function (emoji) { return emoji.key === reactionKey; })) === null || _a === void 0 ? void 0 : _a.url) !== null && _b !== void 0 ? _b : '';\n    };\n    Object.defineProperty(EmojiManager.prototype, \"emojiContainer\", {\n        get: function () {\n            return this._emojiContainer;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EmojiManager;\n}());\n\n/**\n * Mapping object to convert numeric keys to descriptive text\n * [(legacy) numeric key]: [(new) descriptive text]\n */\nvar colorMapping = {\n    // Primary / Secondary / Error / Information\n    100: 'extra-light',\n    200: 'light',\n    300: 'main',\n    400: 'dark',\n    500: 'extra-dark',\n    // Overlay\n    'overlay-01': 'overlay-dark',\n    'overlay-02': 'overlay-light',\n    // OnLight\n    'onlight-01': 'onlight-text-high-emphasis',\n    'onlight-02': 'onlight-text-mid-emphasis',\n    'onlight-03': 'onlight-text-low-emphasis',\n    'onlight-04': 'onlight-text-disabled',\n    // OnDark\n    'ondark-01': 'ondark-text-high-emphasis',\n    'ondark-02': 'ondark-text-mid-emphasis',\n    'ondark-03': 'ondark-text-low-emphasis',\n    'ondark-04': 'ondark-text-disabled',\n};\n/**\n * Order of mappings to ensure longer keys are matched first\n * e.g. In --sendbird-dark-background-extra-dark, 'extra-dark' should be matched instead of 'dark'\n */\nvar colorMappingOrder = Object\n    .values(colorMapping)\n    .sort(function (a, b) { return b.length - a.length; });\n/**\n * Convert colorMapping to a Map for quick lookup in mapColorKeys\n */\nvar colorMappingMap = new Map(Object.entries(colorMapping).map(function (_a) {\n    var key = _a[0], value = _a[1];\n    return [value, key];\n}));\n/**\n * Converts descriptive color keys to their numeric equivalents.\n *\n * This function takes a set of CSS variable keys and transforms\n * descriptive color keys (e.g. 'extra-light', 'main') into their\n * numeric equivalents(e.g. 100, 200, ..., 500) as defined in the colorMapping object.\n *\n * e.g.\n * Input:\n * {\n *   '--sendbird-light-primary-extra-dark': '#00487c',\n *   '--sendbird-light-primary-dark': '#4bb3fd',\n *   '--sendbird-light-primary-main': '#3e6680',\n *   '--sendbird-light-primary-light': '#0496ff',\n *   '--sendbird-light-primary-extra-light': '#027bce',\n * }\n *\n * Output:\n * {\n *   '--sendbird-light-primary-500': '#00487c',\n *   '--sendbird-light-primary-400': '#4bb3fd',\n *   '--sendbird-light-primary-300': '#3e6680',\n *   '--sendbird-light-primary-200': '#0496ff',\n *   '--sendbird-light-primary-100': '#027bce',\n * }\n *\n * @param {ColorSet} colorSet - The input object containing CSS variables with descriptive keys.\n * @returns {ColorSet} The transformed object with numeric keys.\n */\nvar mapColorKeys = function (colorSet) {\n    var mappedColors = {};\n    Object.entries(colorSet).forEach(function (_a) {\n        var key = _a[0], value = _a[1];\n        var descriptiveKey = key;\n        for (var _i = 0, colorMappingOrder_1 = colorMappingOrder; _i < colorMappingOrder_1.length; _i++) {\n            var mappingValue = colorMappingOrder_1[_i];\n            // Prepare a regex to match the mapping value at the end of the key\n            // e.g., '-extra-dark$'\n            var regex = new RegExp(\"-\".concat(mappingValue, \"$\"));\n            if (regex.test(key)) {\n                // Find the corresponding numeric key for the mapping value using Map\n                var numericKey = colorMappingMap.get(mappingValue);\n                if (numericKey) {\n                    // Replace the descriptive text with the numeric key\n                    descriptiveKey = key.replace(regex, \"-\".concat(numericKey));\n                    break;\n                }\n            }\n        }\n        mappedColors[descriptiveKey] = value;\n    });\n    return mappedColors;\n};\n\nexport { EmojiManager as E, mapColorKeys as m };\n//# sourceMappingURL=bundle-BZ9AHb6D.js.map\n", "/*!\n * get-css-data\n * v2.1.0\n * https://github.com/jhildenbiddle/get-css-data\n * (c) 2018-2022 John Hildenbiddle <http://hildenbiddle.com>\n * MIT license\n */\nfunction getUrls(urls) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var settings = {\n        mimeType: options.mimeType || null,\n        onBeforeSend: options.onBeforeSend || Function.prototype,\n        onSuccess: options.onSuccess || Function.prototype,\n        onError: options.onError || Function.prototype,\n        onComplete: options.onComplete || Function.prototype\n    };\n    var urlArray = Array.isArray(urls) ? urls : [ urls ];\n    var urlQueue = Array.apply(null, Array(urlArray.length)).map((function(x) {\n        return null;\n    }));\n    function isValidCss(text) {\n        var isString = typeof text === \"string\";\n        var isHTML = isString && text.trim().charAt(0) === \"<\";\n        return isString && !isHTML;\n    }\n    function onError(xhr, urlIndex) {\n        settings.onError(xhr, urlArray[urlIndex], urlIndex);\n    }\n    function onSuccess(responseText, urlIndex) {\n        var returnVal = settings.onSuccess(responseText, urlArray[urlIndex], urlIndex);\n        responseText = returnVal === false ? \"\" : returnVal || responseText;\n        urlQueue[urlIndex] = responseText;\n        if (urlQueue.indexOf(null) === -1) {\n            settings.onComplete(urlQueue);\n        }\n    }\n    var parser = document.createElement(\"a\");\n    urlArray.forEach((function(url, i) {\n        parser.setAttribute(\"href\", url);\n        parser.href = String(parser.href);\n        var isIElte9 = Boolean(document.all && !window.atob);\n        var isIElte9CORS = isIElte9 && parser.host.split(\":\")[0] !== location.host.split(\":\")[0];\n        if (isIElte9CORS) {\n            var isSameProtocol = parser.protocol === location.protocol;\n            if (isSameProtocol) {\n                var xdr = new XDomainRequest;\n                xdr.open(\"GET\", url);\n                xdr.timeout = 0;\n                xdr.onprogress = Function.prototype;\n                xdr.ontimeout = Function.prototype;\n                xdr.onload = function() {\n                    var text = xdr.responseText;\n                    if (isValidCss(text)) {\n                        onSuccess(text, i);\n                    } else {\n                        onError(xdr, i);\n                    }\n                };\n                xdr.onerror = function(err) {\n                    onError(xdr, i);\n                };\n                setTimeout((function() {\n                    xdr.send();\n                }), 0);\n            } else {\n                console.warn(\"Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (\".concat(url, \")\"));\n                onError(null, i);\n            }\n        } else {\n            var xhr = new XMLHttpRequest;\n            xhr.open(\"GET\", url);\n            if (settings.mimeType && xhr.overrideMimeType) {\n                xhr.overrideMimeType(settings.mimeType);\n            }\n            settings.onBeforeSend(xhr, url, i);\n            xhr.onreadystatechange = function() {\n                if (xhr.readyState === 4) {\n                    var text = xhr.responseText;\n                    if (xhr.status < 400 && isValidCss(text)) {\n                        onSuccess(text, i);\n                    } else if (xhr.status === 0 && isValidCss(text)) {\n                        onSuccess(text, i);\n                    } else {\n                        onError(xhr, i);\n                    }\n                }\n            };\n            xhr.send();\n        }\n    }));\n}\n\n/**\n * Gets CSS data from <style> and <link> nodes (including @imports), then\n * returns data in order processed by DOM. Allows specifying nodes to\n * include/exclude and filtering CSS data using RegEx.\n *\n * @preserve\n * @param {object}   [options] The options object\n * @param {object}   [options.rootElement=document] Root element to traverse for\n *                   <link> and <style> nodes.\n * @param {string}   [options.include] CSS selector matching <link> and <style>\n *                   nodes to include\n * @param {string}   [options.exclude] CSS selector matching <link> and <style>\n *                   nodes to exclude\n * @param {object}   [options.filter] Regular expression used to filter node CSS\n *                   data. Each block of CSS data is tested against the filter,\n *                   and only matching data is included.\n * @param {boolean}  [options.skipDisabled=true] Determines if disabled\n *                   stylesheets will be skipped while collecting CSS data.\n * @param {boolean}  [options.useCSSOM=false] Determines if CSS data will be\n *                   collected from a stylesheet's runtime values instead of its\n *                   text content. This is required to get accurate CSS data\n *                   when a stylesheet has been modified using the deleteRule()\n *                   or insertRule() methods because these modifications will\n *                   not be reflected in the stylesheet's text content.\n * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes\n *                   1) the XHR object, 2) source node reference, and 3) the\n *                   source URL as arguments.\n * @param {function} [options.onSuccess] Callback on each CSS node read. Passes\n *                   1) CSS text, 2) source node reference, and 3) the source\n *                   URL as arguments.\n * @param {function} [options.onError] Callback on each error. Passes 1) the XHR\n *                   object for inspection, 2) soure node reference, and 3) the\n *                   source URL that failed (either a <link> href or an @import)\n *                   as arguments\n * @param {function} [options.onComplete] Callback after all nodes have been\n *                   processed. Passes 1) concatenated CSS text, 2) an array of\n *                   CSS text in DOM order, and 3) an array of nodes in DOM\n *                   order as arguments.\n *\n * @example\n *\n *   getCssData({\n *     rootElement : document,\n *     include     : 'style,link[rel=\"stylesheet\"]',\n *     exclude     : '[href=\"skip.css\"]',\n *     filter      : /red/,\n *     skipDisabled: true,\n *     useCSSOM    : false,\n *     onBeforeSend(xhr, node, url) {\n *       // ...\n *     }\n *     onSuccess(cssText, node, url) {\n *       // ...\n *     }\n *     onError(xhr, node, url) {\n *       // ...\n *     },\n *     onComplete(cssText, cssArray, nodeArray) {\n *       // ...\n *     }\n *   });\n */ function getCssData(options) {\n    var regex = {\n        cssComments: /\\/\\*[\\s\\S]+?\\*\\//g,\n        cssImports: /(?:@import\\s*)(?:url\\(\\s*)?(?:['\"])([^'\"]*)(?:['\"])(?:\\s*\\))?(?:[^;]*;)/g\n    };\n    var settings = {\n        rootElement: options.rootElement || document,\n        include: options.include || 'style,link[rel=\"stylesheet\"]',\n        exclude: options.exclude || null,\n        filter: options.filter || null,\n        skipDisabled: options.skipDisabled !== false,\n        useCSSOM: options.useCSSOM || false,\n        onBeforeSend: options.onBeforeSend || Function.prototype,\n        onSuccess: options.onSuccess || Function.prototype,\n        onError: options.onError || Function.prototype,\n        onComplete: options.onComplete || Function.prototype\n    };\n    var sourceNodes = Array.apply(null, settings.rootElement.querySelectorAll(settings.include)).filter((function(node) {\n        return !matchesSelector(node, settings.exclude);\n    }));\n    var cssArray = Array.apply(null, Array(sourceNodes.length)).map((function(x) {\n        return null;\n    }));\n    function handleComplete() {\n        var isComplete = cssArray.indexOf(null) === -1;\n        if (isComplete) {\n            cssArray.reduce((function(skipIndices, value, i) {\n                if (value === \"\") {\n                    skipIndices.push(i);\n                }\n                return skipIndices;\n            }), []).reverse().forEach((function(skipIndex) {\n                return [ sourceNodes, cssArray ].forEach((function(arr) {\n                    return arr.splice(skipIndex, 1);\n                }));\n            }));\n            var cssText = cssArray.join(\"\");\n            settings.onComplete(cssText, cssArray, sourceNodes);\n        }\n    }\n    function handleSuccess(cssText, cssIndex, node, sourceUrl) {\n        var returnVal = settings.onSuccess(cssText, node, sourceUrl);\n        cssText = returnVal !== undefined && Boolean(returnVal) === false ? \"\" : returnVal || cssText;\n        resolveImports(cssText, node, sourceUrl, (function(resolvedCssText, errorData) {\n            if (cssArray[cssIndex] === null) {\n                errorData.forEach((function(data) {\n                    return settings.onError(data.xhr, node, data.url);\n                }));\n                if (!settings.filter || settings.filter.test(resolvedCssText)) {\n                    cssArray[cssIndex] = resolvedCssText;\n                } else {\n                    cssArray[cssIndex] = \"\";\n                }\n                handleComplete();\n            }\n        }));\n    }\n    function parseImportData(cssText, baseUrl) {\n        var ignoreRules = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n        var importData = {};\n        importData.rules = (cssText.replace(regex.cssComments, \"\").match(regex.cssImports) || []).filter((function(rule) {\n            return ignoreRules.indexOf(rule) === -1;\n        }));\n        importData.urls = importData.rules.map((function(rule) {\n            return rule.replace(regex.cssImports, \"$1\");\n        }));\n        importData.absoluteUrls = importData.urls.map((function(url) {\n            return getFullUrl(url, baseUrl);\n        }));\n        importData.absoluteRules = importData.rules.map((function(rule, i) {\n            var oldUrl = importData.urls[i];\n            var newUrl = getFullUrl(importData.absoluteUrls[i], baseUrl);\n            return rule.replace(oldUrl, newUrl);\n        }));\n        return importData;\n    }\n    function resolveImports(cssText, node, baseUrl, callbackFn) {\n        var __errorData = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n        var __errorRules = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [];\n        var importData = parseImportData(cssText, baseUrl, __errorRules);\n        if (importData.rules.length) {\n            getUrls(importData.absoluteUrls, {\n                onBeforeSend: function onBeforeSend(xhr, url, urlIndex) {\n                    settings.onBeforeSend(xhr, node, url);\n                },\n                onSuccess: function onSuccess(cssText, url, urlIndex) {\n                    var returnVal = settings.onSuccess(cssText, node, url);\n                    cssText = returnVal === false ? \"\" : returnVal || cssText;\n                    var responseImportData = parseImportData(cssText, url, __errorRules);\n                    responseImportData.rules.forEach((function(rule, i) {\n                        cssText = cssText.replace(rule, responseImportData.absoluteRules[i]);\n                    }));\n                    return cssText;\n                },\n                onError: function onError(xhr, url, urlIndex) {\n                    __errorData.push({\n                        xhr: xhr,\n                        url: url\n                    });\n                    __errorRules.push(importData.rules[urlIndex]);\n                    resolveImports(cssText, node, baseUrl, callbackFn, __errorData, __errorRules);\n                },\n                onComplete: function onComplete(responseArray) {\n                    responseArray.forEach((function(importText, i) {\n                        cssText = cssText.replace(importData.rules[i], importText);\n                    }));\n                    resolveImports(cssText, node, baseUrl, callbackFn, __errorData, __errorRules);\n                }\n            });\n        } else {\n            callbackFn(cssText, __errorData);\n        }\n    }\n    if (sourceNodes.length) {\n        sourceNodes.forEach((function(node, i) {\n            var linkHref = node.getAttribute(\"href\");\n            var linkRel = node.getAttribute(\"rel\");\n            var isLink = node.nodeName.toLowerCase() === \"link\" && linkHref && linkRel && linkRel.toLowerCase().indexOf(\"stylesheet\") !== -1;\n            var isSkip = settings.skipDisabled === false ? false : node.disabled;\n            var isStyle = node.nodeName.toLowerCase() === \"style\";\n            if (isLink && !isSkip) {\n                var isURIScheme = linkHref.indexOf(\"data:text/css\") !== -1;\n                if (isURIScheme) {\n                    var cssText = decodeURIComponent(linkHref.substring(linkHref.indexOf(\",\") + 1));\n                    if (settings.useCSSOM) {\n                        cssText = Array.apply(null, node.sheet.cssRules).map((function(rule) {\n                            return rule.cssText;\n                        })).join(\"\");\n                    }\n                    handleSuccess(cssText, i, node, location.href);\n                } else {\n                    getUrls(linkHref, {\n                        mimeType: \"text/css\",\n                        onBeforeSend: function onBeforeSend(xhr, url, urlIndex) {\n                            settings.onBeforeSend(xhr, node, url);\n                        },\n                        onSuccess: function onSuccess(cssText, url, urlIndex) {\n                            var sourceUrl = getFullUrl(linkHref);\n                            handleSuccess(cssText, i, node, sourceUrl);\n                        },\n                        onError: function onError(xhr, url, urlIndex) {\n                            cssArray[i] = \"\";\n                            settings.onError(xhr, node, url);\n                            handleComplete();\n                        }\n                    });\n                }\n            } else if (isStyle && !isSkip) {\n                var _cssText = node.textContent;\n                if (settings.useCSSOM) {\n                    _cssText = Array.apply(null, node.sheet.cssRules).map((function(rule) {\n                        return rule.cssText;\n                    })).join(\"\");\n                }\n                handleSuccess(_cssText, i, node, location.href);\n            } else {\n                cssArray[i] = \"\";\n                handleComplete();\n            }\n        }));\n    } else {\n        settings.onComplete(\"\", []);\n    }\n}\n\nfunction getFullUrl(url, base) {\n    var d = document.implementation.createHTMLDocument(\"\");\n    var b = d.createElement(\"base\");\n    var a = d.createElement(\"a\");\n    d.head.appendChild(b);\n    d.body.appendChild(a);\n    b.href = base || document.baseURI || (document.querySelector(\"base\") || {}).href || location.href;\n    a.href = url;\n    return a.href;\n}\n\nfunction matchesSelector(elm, selector) {\n    var matches = elm.matches || elm.matchesSelector || elm.webkitMatchesSelector || elm.mozMatchesSelector || elm.msMatchesSelector || elm.oMatchesSelector;\n    return matches.call(elm, selector);\n}\n\nexport { getCssData as default };\n//# sourceMappingURL=get-css-data.esm.js.map\n", "'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    if(a===b) {\n      return [ai, bi];\n    }\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n", "/**\n * Based on css parser/compiler by NxChg\n * https://github.com/NxtChg/pieces/tree/master/js/css_parser\n */\n\n\n// Dependencies\n// =============================================================================\nimport balanced from 'balanced-match';\n\n\n// Functions\n// =============================================================================\n/**\n * Parses CSS string and generates AST object\n *\n * @param {string}  css The CSS string to be converted to an AST\n * @param {object}  [options] Options object\n * @param {boolean} [options.preserveStatic=true] Determines if CSS\n *                  declarations that do not reference a custom property will\n *                  be preserved in the transformed CSS\n * @param {boolean} [options.removeComments=false] Remove comments from returned\n *                  object\n * @returns {object}\n */\nfunction parseCss(css, options = {}) {\n    const defaults = {\n        preserveStatic: true,\n        removeComments: false\n    };\n    const settings = Object.assign({}, defaults, options);\n    const errors   = [];\n\n    // Errors\n    // -------------------------------------------------------------------------\n    function error(msg) {\n        throw new Error(`CSS parse error: ${msg}`);\n    }\n\n    // RegEx\n    // -------------------------------------------------------------------------\n    // Match regexp and return captures\n    function match(re) {\n        const m = re.exec(css);\n\n        if (m) {\n            css = css.slice(m[0].length);\n\n            return m;\n        }\n    }\n\n    function open() {\n        return match(/^{\\s*/);\n    }\n\n    function close() {\n        return match(/^}/);\n    }\n\n    function whitespace() {\n        match(/^\\s*/);\n    }\n\n    // Comments\n    // -------------------------------------------------------------------------\n    function comment() {\n        whitespace();\n\n        if (css[0] !== '/' || css[1] !== '*') {\n            return;\n        }\n\n        let i = 2;\n\n        while (css[i] && (css[i] !== '*' || css[i + 1] !== '/')) {\n            i++;\n        }\n\n        if (!css[i]) {\n            return error('end of comment is missing');\n        }\n\n        const str = css.slice(2, i);\n\n        css = css.slice(i + 2);\n\n        return {\n            type   : 'comment',\n            comment: str\n        };\n    }\n\n    function comments() {\n        const cmnts = [];\n        let c;\n\n        while ((c = comment())) {\n            cmnts.push(c);\n        }\n\n        return settings.removeComments ? [] : cmnts;\n    }\n\n    // Selector\n    // -------------------------------------------------------------------------\n    function selector() {\n        whitespace();\n\n        while (css[0] === '}') {\n            error('extra closing bracket');\n        }\n\n        // Match selector\n        const m = match(/^((\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'|[^{])+)/);\n\n        if (m) {\n            let selector = m[0].trim();\n            let selectorItems;\n\n            const hasComment = /\\/\\*/.test(selector);\n\n            if (hasComment) {\n                // Remove comments\n                selector = selector.replace(/\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*\\/+/g, '');\n            }\n\n            const hasCommaInQuotes = /[\"']\\w*,\\w*[\"']/.test(selector);\n\n            if (hasCommaInQuotes) {\n                // Replace comma in comma-separated lists with marker\n                selector = selector.replace(/\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'/g, function(m) {\n                    return m.replace(/,/g, '\\u200C');\n                });\n            }\n\n            const hasMultipleSelectors = /,/.test(selector);\n\n            // Create array of selectors\n            if (hasMultipleSelectors) {\n                // From comma-separated list\n                selectorItems = selector.split(/\\s*(?![^(]*\\)),\\s*/);\n            }\n            else {\n                selectorItems = [selector];\n            }\n\n            if (hasCommaInQuotes) {\n                // Restore comma in comma-separated lists\n                selectorItems = selectorItems.map(function(s) {\n                    return s.replace(/\\u200C/g, ',');\n                });\n            }\n\n            return selectorItems;\n        }\n    }\n\n    // Declarations\n    // -------------------------------------------------------------------------\n    function declaration() {\n        // Nested @ rule(s)\n        if (css[0] === '@') {\n            return at_rule();\n        }\n\n        match(/^([;\\s]*)+/); // ignore empty declarations + whitespace\n\n        const comment_regexp = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g;\n        let prop = match(/^(\\*?[-#/*\\\\\\w.]+(\\[[0-9a-z_-]+\\])?)\\s*/);\n\n        if (!prop) {\n            return;\n        }\n\n        prop = prop[0].trim();\n\n        if (!match(/^:\\s*/)) {\n            return error('property missing \\':\\'');\n        }\n\n        // Quotes regex repeats verbatim inside and outside parentheses\n        const val = match(/^((?:\\/\\*.*?\\*\\/|'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\((\\s*'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|[^)]*?)\\s*\\)|[^};])+)/);\n        const ret = {\n            type    : 'declaration',\n            property: prop.replace(comment_regexp, ''),\n            value   : val ? val[0].replace(comment_regexp, '').trim() : ''\n        };\n\n        match(/^[;\\s]*/);\n\n        return ret;\n    }\n\n    function declarations() {\n        if (!open()) {\n            return error('missing \\'{\\'');\n        }\n\n        let d;\n        let decls = comments();\n\n        while ((d = declaration())) {\n            decls.push(d);\n            decls = decls.concat(comments());\n        }\n\n        if (!close()) {\n            return error('missing \\'}\\'');\n        }\n\n        return decls;\n    }\n\n    // Keyframes\n    // -------------------------------------------------------------------------\n    function keyframe() {\n        whitespace();\n\n        const vals = [];\n        let m;\n\n        while ((m = match(/^((\\d+\\.\\d+|\\.\\d+|\\d+)%?|[a-z]+)\\s*/))) {\n            vals.push(m[1]);\n            match(/^,\\s*/);\n        }\n\n        if (vals.length) {\n            return {\n                type        : 'keyframe',\n                values      : vals,\n                declarations: declarations()\n            };\n        }\n    }\n\n    function at_keyframes() {\n        let m = match(/^@([-\\w]+)?keyframes\\s*/);\n\n        if (!m) {\n            return;\n        }\n\n        const vendor = m[1];\n\n        m = match(/^([-\\w]+)\\s*/);\n\n        if (!m) {\n            return error('@keyframes missing name');\n        }\n\n        const name = m[1];\n\n        if (!open()) {\n            return error('@keyframes missing \\'{\\'');\n        }\n\n        let frame;\n        let frames = comments();\n\n        while ((frame = keyframe())) {\n            frames.push(frame);\n            frames = frames.concat(comments());\n        }\n\n        if (!close()) {\n            return error('@keyframes missing \\'}\\'');\n        }\n\n        return {\n            type     : 'keyframes',\n            name     : name,\n            vendor   : vendor,\n            keyframes: frames\n        };\n    }\n\n    // @ Rules\n    // -------------------------------------------------------------------------\n    function at_page() {\n        const m = match(/^@page */);\n        if (m) {\n            const sel = selector() || [];\n            return { type: 'page', selectors: sel, declarations: declarations() };\n        }\n    }\n    function at_page_margin_box() {\n        const m = match(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\\s*/);\n        if (m) {\n            const name = `${m[1]}-${m[2]}` + (m[3] ? `-${m[3]}` : '');\n            return { type: 'page-margin-box', name, declarations: declarations() };\n        }\n    }\n    function at_fontface() {\n        const m = match(/^@font-face\\s*/);\n        if (m) { return { type: 'font-face', declarations: declarations() }; }\n    }\n    function at_supports() {\n        const m = match(/^@supports *([^{]+)/);\n        if (m) { return { type: 'supports', supports: m[1].trim(), rules: rules() }; }\n    }\n    function at_host() {\n        const m = match(/^@host\\s*/);\n        if (m) { return { type: 'host', rules: rules() }; }\n    }\n    function at_media() {\n        const m = match(/^@media([^{]+)*/);\n        if (m) { return { type: 'media', media: (m[1] || '').trim(), rules: rules() }; }\n    }\n    function at_custom_m() {\n        const m = match(/^@custom-media\\s+(--[^\\s]+)\\s*([^{;]+);/);\n        if (m) { return { type: 'custom-media', name: m[1].trim(), media: m[2].trim() }; }\n    }\n    function at_document() {\n        const m = match(/^@([-\\w]+)?document *([^{]+)/);\n        if (m) { return { type: 'document', document: m[2].trim(), vendor: m[1] ? m[1].trim() : null, rules: rules() }; }\n    }\n    function at_x() {\n        const m = match(/^@(import|charset|namespace)\\s*([^;]+);/);\n        if (m) { return { type: m[1], name: m[2].trim() }; }\n    }\n    function at_rule() {\n        whitespace();\n\n        if (css[0] === '@') {\n            const ret =\n                at_x() ||\n                at_fontface() ||\n                at_media() ||\n                at_keyframes() ||\n                at_supports() ||\n                at_document() ||\n                at_custom_m() ||\n                at_host() ||\n                at_page() ||\n                at_page_margin_box(); // Must be last\n\n            if (ret && !settings.preserveStatic) {\n                let hasVarFunc = false;\n\n                // @page, @font-face\n                if (ret.declarations) {\n                    hasVarFunc = ret.declarations.some(decl => /var\\(/.test(decl.value));\n                }\n                // @keyframes, @media, @supports, etc.\n                else {\n                    const arr = ret.keyframes || ret.rules || [];\n\n                    hasVarFunc = arr.some(obj => (obj.declarations || []).some(decl => /var\\(/.test(decl.value)));\n                }\n\n                return hasVarFunc ? ret : {};\n            }\n\n            return ret;\n        }\n    }\n\n    // Rules\n    // -------------------------------------------------------------------------\n    function rule() {\n        if (!settings.preserveStatic) {\n            const balancedMatch = balanced('{', '}', css);\n\n            // Skip rulset if it does not contain a root/host variable\n            // declaration or a variable function value\n            if (balancedMatch) {\n                const hasVarDecl = /:(?:root|host)(?![.:#(])/.test(balancedMatch.pre) && /--\\S*\\s*:/.test(balancedMatch.body);\n                const hasVarFunc = /var\\(/.test(balancedMatch.body);\n\n                if (!hasVarDecl && !hasVarFunc) {\n                    css = css.slice(balancedMatch.end + 1);\n\n                    return {};\n                }\n            }\n        }\n\n        const sel   = selector() || [];\n        const decls = settings.preserveStatic ? declarations() : declarations().filter(decl => {\n            const hasVarDecl = sel.some(s => /:(?:root|host)(?![.:#(])/.test(s)) && /^--\\S/.test(decl.property);\n            const hasVarFunc = /var\\(/.test(decl.value);\n\n            return hasVarDecl || hasVarFunc;\n        });\n\n        if (!sel.length) {\n            error('selector missing');\n        }\n\n        return {\n            type        : 'rule',\n            selectors   : sel,\n            declarations: decls\n        };\n    }\n\n    function rules(core) {\n        if (!core && !open()) {\n            return error('missing \\'{\\'');\n        }\n\n        let node;\n        let rules = comments();\n\n        while (css.length && (core || css[0] !== '}') && (node = at_rule() || rule())) {\n            if (node.type) {\n                rules.push(node);\n            }\n\n            rules = rules.concat(comments());\n        }\n\n        if (!core && !close()) {\n            return error('missing \\'}\\'');\n        }\n\n        return rules;\n    }\n\n    return {\n        type: 'stylesheet',\n        stylesheet: {\n            rules: rules(true),\n            errors: errors\n        }\n    };\n}\n\n\n// Exports\n// =============================================================================\nexport default parseCss;\n", "// Dependencies\n// =============================================================================\nimport parseCss from './parse-css';\n\n\n// Functions\n// =============================================================================\n/**\n * Description\n *\n * @param {object|string} cssData CSS data to parse\n * @param {object} [options] Options object\n * @param {object} [options.store={}] CSS variable definitions to include during\n *     transformation. Can be used to add new override exisitng definitions.\n * @param {function} [options.onWarning] Callback on each transformation\n *     warning. Passes 1) warningMessage as an argument.\n * @returns {object}\n */\nfunction parseVars(cssData, options = {}) {\n    const defaults = {\n        parseHost: false,\n        store    : {},\n        onWarning() {}\n    };\n    const settings           = Object.assign({}, defaults, options);\n    const reVarDeclSelectors = new RegExp(`:${ settings.parseHost ? 'host' : 'root' }$`);\n\n    // Convert CSS string to AST\n    if (typeof cssData === 'string') {\n        cssData = parseCss(cssData, settings);\n    }\n\n    // Define variables\n    cssData.stylesheet.rules.forEach(function(rule) {\n        const varNameIndices = [];\n\n        if (rule.type !== 'rule' || !rule.selectors.some(s => reVarDeclSelectors.test(s))) {\n            return;\n        }\n\n        rule.declarations.forEach(function(decl, i) {\n            const prop  = decl.property;\n            const value = decl.value;\n\n            if (prop && prop.indexOf('--') === 0) {\n                settings.store[prop] = value;\n                varNameIndices.push(i);\n            }\n        });\n    });\n\n    // Return variable store\n    return settings.store;\n}\n\n\n// Exports\n// =============================================================================\nexport default parseVars;\n", "/**\n * Based on css parser/compiler by NxChg\n * https://github.com/NxtChg/pieces/tree/master/js/css_parser\n */\n\n\n// Functions\n// =============================================================================\n/**\n * Compiles CSS AST to string\n *\n * @param {object}   tree CSS AST object\n * @param {string}   [delim=''] CSS rule delimiter\n * @param {function} cb Function to be called before each node is processed\n * @returns {string}\n */\nfunction stringifyCss(tree, delim = '', cb) {\n    const renderMethods = {\n        charset(node) {\n            return '@charset ' + node.name + ';';\n        },\n        comment(node) {\n            // Preserve ponyfill marker comments\n            return node.comment.indexOf('__CSSVARSPONYFILL') === 0 ? '/*' + node.comment + '*/' : '';\n        },\n        'custom-media'(node) {\n            return '@custom-media ' + node.name + ' ' + node.media + ';';\n        },\n        declaration(node) {\n            return node.property + ':' + node.value + ';';\n        },\n        document(node) {\n            return '@' + (node.vendor || '') + 'document ' + node.document + '{' + visit(node.rules) + '}';\n        },\n        'font-face'(node) {\n            return '@font-face' + '{' + visit(node.declarations) + '}';\n        },\n        host(node) {\n            return '@host' + '{' + visit(node.rules) + '}';\n        },\n        import(node) {\n            // FIXED\n            return '@import ' + node.name + ';';\n        },\n        keyframe(node) {\n            return node.values.join(',') + '{' + visit(node.declarations) + '}';\n        },\n        keyframes(node) {\n            return '@' + (node.vendor || '') + 'keyframes ' + node.name + '{' + visit(node.keyframes) + '}';\n        },\n        media(node) {\n            return '@media ' + node.media + '{' + visit(node.rules) + '}';\n        },\n        namespace(node) {\n            return '@namespace ' + node.name + ';';\n        },\n        page(node) {\n            return '@page ' + (node.selectors.length ? node.selectors.join(', ') : '') + '{' + visit(node.declarations) + '}';\n        },\n        'page-margin-box'(node) {\n            return '@' + node.name + '{' + visit(node.declarations) + '}';\n        },\n        rule(node) {\n            const decls = node.declarations;\n\n            if (decls.length) {\n                return node.selectors.join(',') + '{' + visit(decls) + '}';\n            }\n        },\n        supports(node) {\n            // FIXED\n            return '@supports ' + node.supports + '{' + visit(node.rules) + '}';\n        }\n    };\n\n    function visit(nodes) {\n        let buf = '';\n\n        for (let i = 0; i < nodes.length; i++) {\n            const n = nodes[i];\n\n            if (cb) {\n                cb(n);\n            }\n\n            const txt = renderMethods[n.type](n);\n\n            if (txt) {\n                buf += txt;\n\n                if (txt.length && n.selectors) {\n                    buf += delim;\n                }\n            }\n        }\n\n        return buf;\n    }\n\n    return visit(tree.stylesheet.rules);\n}\n\n\n// Exports\n// =============================================================================\nexport default stringifyCss;\n", "/**\n * Based on rework-visit by reworkcss\n * https://github.com/reworkcss/rework-visit\n */\n\n\n// Functions\n// =============================================================================\n/**\n * Visit `node` declarations recursively and invoke `fn(declarations, node)`.\n *\n * @param {object} node\n * @param {function} fn\n */\nfunction walkCss(node, fn){\n    node.rules.forEach(function(rule){\n        // @media etc\n        if (rule.rules) {\n            walkCss(rule, fn);\n\n            return;\n        }\n\n        // keyframes\n        if (rule.keyframes) {\n            rule.keyframes.forEach(function(keyframe){\n                if (keyframe.type === 'keyframe') {\n                    fn(keyframe.declarations, rule);\n                }\n            });\n\n            return;\n        }\n\n        // @charset, @import etc\n        if (!rule.declarations) {\n            return;\n        }\n\n        fn(rule.declarations, node);\n    });\n}\n\n\n// Exports\n// =============================================================================\nexport default walkCss;\n", "/**\n * Based on rework-vars by reworkcss\n * https://github.com/reworkcss/rework-vars\n */\n\n\n// Dependencies\n// =============================================================================\nimport balanced     from 'balanced-match';\nimport parseCss     from './parse-css';\nimport stringifyCss from './stringify-css';\nimport walkCss      from './walk-css';\n\n\n// Constants & Variables\n// =============================================================================\nconst VAR_PROP_IDENTIFIER = '--';\nconst VAR_FUNC_IDENTIFIER = 'var';\n\n\n// Functions\n// =============================================================================\n/**\n * Transforms W3C-style CSS variables to static values and returns an updated\n * CSS string.\n *\n * @param {object}   cssData CSS text or AST\n * @param {object}   [options] Options object\n * @param {boolean}  [options.preserveStatic=true] Determines if CSS\n *                   declarations that do not reference a custom property will\n *                   be preserved in the transformed CSS\n * @param {boolean}  [options.preserveVars=false] Determines if CSS custom\n *                   property declarations will be preserved in the transformed\n *                   CSS\n * @param {object}   [options.variables={}] CSS variable definitions to include\n *                   during transformation. Can be used to add new override\n *                   exisitng definitions.\n * @param {function} [options.onWarning] Callback on each transformation\n *                   warning. Passes 1) warningMessage as an argument.\n * @returns {string}\n */\nfunction transformCss(cssData, options = {}) {\n    const defaults = {\n        preserveStatic: true,\n        preserveVars  : false,\n        variables     : {},\n        onWarning() {}\n    };\n    const settings = Object.assign({}, defaults, options);\n\n    // Convert CSS string to AST\n    if (typeof cssData === 'string') {\n        cssData = parseCss(cssData, settings);\n    }\n\n    // Resolve variables\n    walkCss(cssData.stylesheet, function(declarations, node) {\n        for (let i = 0; i < declarations.length; i++) {\n            const decl  = declarations[i];\n            const type  = decl.type;\n            const prop  = decl.property;\n            const value = decl.value;\n\n            // Skip comments\n            if (type !== 'declaration') {\n                continue;\n            }\n\n            // Remove custom property declarations\n            if (!settings.preserveVars && prop && prop.indexOf(VAR_PROP_IDENTIFIER) === 0) {\n                declarations.splice(i, 1);\n                i--;\n                continue;\n            }\n\n            // Transform custom property functions\n            if (value.indexOf(VAR_FUNC_IDENTIFIER + '(') !== -1) {\n                let resolvedValue = resolveValue(value, settings);\n\n                if (resolvedValue !== decl.value) {\n                    // Fix nested calc\n                    resolvedValue = fixNestedCalc(resolvedValue);\n\n                    // Overwrite value\n                    if (!settings.preserveVars) {\n                        decl.value = resolvedValue;\n                    }\n                    // Insert new rule with resolved value\n                    else {\n                        declarations.splice(i, 0, {\n                            type    : type,\n                            property: prop,\n                            value   : resolvedValue\n                        });\n\n                        // Skip ahead of preserved declaration\n                        i++;\n                    }\n                }\n            }\n        }\n    });\n\n    // Return CSS string\n    return stringifyCss(cssData);\n}\n\n\n// Functions (Private)\n// =============================================================================\n/**\n * Removes nested calc keywords for legacy browser compatibility.\n * Example: calc(1 + calc(2 + calc(3 + 3))) => calc(1 + (2 + (3 + 3)))\n *\n * @param {value} string\n */\nfunction fixNestedCalc(value) {\n    const reCalcVal = /calc\\(([^)]+)\\)/g;\n\n    (value.match(reCalcVal) || []).forEach(match => {\n        const newVal = `calc${match.split('calc').join('')}`;\n        value = value.replace(match, newVal);\n    });\n\n    return value;\n}\n\n/**\n * Resolves CSS var() function(s) with `settings.variables` or fallback\n * value(s). Returns original `value` if unable to resolve.\n *\n * @param {string} value String containing CSS var() functions to resolve\n * @param {object} settings Settings object passed from transformCss()\n * @param {string} [__recursiveFallback] Fallback when unable to resolve CSS\n *                 var() function to a `settings.variables` or fallback value.\n *                 Allows restoring original var() function from recursive\n *                 resolveValue() calls.\n * @return {string} CSS value with var() function(s) resolved to\n *                  `settings.variables` or fallback value.\n *\n * @example\n *\n *   resolveValue('10px var(--x) 30px', {'--x':'20px'}, {...settings});\n *   // => '10px 20px 30px'\n *\n *   resolveValue('10px', {}, {...settings});\n *   // => '10px'\n */\nfunction resolveValue(value, settings = {}, __recursiveFallback) {\n    if (value.indexOf('var(') === -1) {\n        return value;\n    }\n\n    const valueData = balanced('(', ')', value);\n\n    /**\n     * Resolves contents of CSS custom property function\n     *\n     * @param {string} value String containing contents of CSS var() function\n     * @returns {string}\n     *\n     * @example\n     *\n     *   resolveFunc('--x, var(--y, green)')\n     *   // => obj['--x'] or obj['--y'] or 'green'\n     *\n     *   resolveFunc('--fail')\n     *   // => 'var(--fail)' when obj['--fail'] does not exist\n     */\n    function resolveFunc(value) {\n        const name               = value.split(',')[0].replace(/[\\s\\n\\t]/g, '');\n        const fallback           = (value.match(/(?:\\s*,\\s*){1}(.*)?/) || [])[1];\n        const match              = Object.prototype.hasOwnProperty.call(settings.variables, name) ? String(settings.variables[name]) : undefined;\n        const replacement        = match || (fallback ? String(fallback) : undefined);\n        const unresolvedFallback = __recursiveFallback || value;\n\n        if (!match) {\n            settings.onWarning(`variable \"${name}\" is undefined`);\n        }\n\n        if (replacement && replacement !== 'undefined' && replacement.length > 0) {\n            return resolveValue(replacement, settings, unresolvedFallback);\n        }\n        else {\n            return `var(${unresolvedFallback})`;\n        }\n    }\n\n    // No balanced brace data\n    if (!valueData) {\n        if (value.indexOf('var(') !== -1) {\n            settings.onWarning(`missing closing \")\" in the value \"${value}\"`);\n        }\n\n        return value;\n    }\n    // Balanced brace data is var() function\n    else if (valueData.pre.slice(-3) === 'var') {\n        const isEmptyVarFunc = valueData.body.trim().length === 0;\n\n        if (isEmptyVarFunc) {\n            settings.onWarning('var() must contain a non-whitespace string');\n\n            return value;\n        }\n        else {\n            return (\n                valueData.pre.slice(0,-3)\n                + resolveFunc(valueData.body)\n                + resolveValue(valueData.post, settings)\n            );\n        }\n    }\n    // Balanced brace data is NOT var() function\n    else {\n        return (\n            valueData.pre\n            + `(${resolveValue(valueData.body, settings)})`\n            + resolveValue(valueData.post, settings)\n        );\n    }\n}\n\n\n// Exports\n// =============================================================================\nexport default transformCss;\n", "// Dependencies\n// =============================================================================\nimport getCssData   from 'get-css-data';\nimport parseCss     from './parse-css';\nimport parseVars    from './parse-vars';\nimport stringifyCss from './stringify-css';\nimport transformCss from './transform-css';\n\n\n// Constants & Variables\n// =============================================================================\nconst isBrowser       = typeof window !== 'undefined';\nconst isNativeSupport = isBrowser && window.CSS && window.CSS.supports && window.CSS.supports('(--a: 0)');\n\nconst counters = {\n    group: 0,\n    job  : 0\n};\nconst defaults = {\n    // Targets\n    rootElement   : isBrowser ? document : null,\n    shadowDOM     : false,\n    // Sources\n    include       : 'style,link[rel=stylesheet]',\n    exclude       : '',\n    variables     : {},    // cssVars, transformCss\n    // Options\n    onlyLegacy    : true,  // cssVars\n    preserveStatic: true,  // parseCSS\n    preserveVars  : false, // transformCss\n    silent        : false, // cssVars\n    updateDOM     : true,  // cssVars\n    updateURLs    : true,  // cssVars\n    watch         : null,  // cssVars\n    // Callbacks\n    onBeforeSend() {},     // cssVars\n    onError() {},          // cssVars\n    onWarning() {},        // transformCss\n    onSuccess() {},        // cssVars\n    onComplete() {},       // cssVars\n    onFinally() {}         // cssVars\n};\nconst regex = {\n    // CSS comments\n    cssComments: /\\/\\*[\\s\\S]+?\\*\\//g,\n    // CSS keyframes\n    // Ex: @keyframes & @-VENDOR-keyframes\n    cssKeyframes: /@(?:-\\w*-)?keyframes/,\n    // CSS media queries\n    // Ex: @media (min-width: 640px) { ... }\n    cssMediaQueries: /@media[^{]+\\{([\\s\\S]+?})\\s*}/g,\n    // CSS Urls\n    // Ex: url('path/to/file')\n    cssUrls: /url\\((?!['\"]?(?:data|http|\\/\\/):)['\"]?([^'\")]*)['\"]?\\)/g,\n    // CSS root/host rules\n    // Ex: :root { ... } or :host { ... }\n    cssVarDeclRules: /(?::(?:root|host)(?![.:#(])[\\s,]*[^{]*{\\s*[^}]*})/g,\n    // CSS variable declarations (e.g. --color: red;)\n    cssVarDecls: /(?:[\\s;]*)(-{2}\\w[\\w-]*)(?:\\s*:\\s*)([^;]*);/g,\n    // CSS variable function (e.g. var(--color))\n    cssVarFunc: /var\\(\\s*--[\\w-]/,\n    // CSS variable root/host declarations and var() function values\n    cssVars: /(?:(?::(?:root|host)(?![.:#(])[\\s,]*[^{]*{\\s*[^;]*;*\\s*)|(?:var\\(\\s*))(--[^:)]+)(?:\\s*[:)])/\n};\nconst variableStore = {\n    // Parsed DOM values (from <link> and <style> nodes)\n    dom : {},\n    // Temporary storage for each job\n    job : {},\n    // Persisted options.variables values\n    user: {}\n};\n\n// Flag used to prevent successive ponyfill calls from stacking\nlet cssVarsIsRunning = false;\n\n// Mutation observer reference created via options.watch\nlet cssVarsObserver = null;\n\n// Count used to detect manual removal of [data-cssvars=\"src\"] nodes\nlet cssVarsSrcNodeCount = 0;\n\n// Debounce timer used with options.watch\nlet debounceTimer = null;\n\n// Flag used to indicate if document-level custom property values have been\n// parsed, stored, and ready for use with options.shadowDOM\nlet isShadowDOMReady = false;\n\n\n// Functions\n// =============================================================================\n/**\n * Fetches, parses, and transforms CSS custom properties from specified\n * <style> and <link> elements into static values, then appends a new <style>\n * element with static values to the DOM to provide CSS custom property\n * compatibility for legacy browsers. Also provides a single interface for\n * live updates of runtime values in both modern and legacy browsers.\n *\n * @preserve\n * @param {object}   [options] Options object\n * @param {object}   [options.rootElement=document] Root element to traverse for\n *                   <link> and <style> nodes\n * @param {boolean}  [options.shadowDOM=false] Determines if shadow DOM <link>\n *                   and <style> nodes will be processed.\n * @param {string}   [options.include=\"style,link[rel=stylesheet]\"] CSS selector\n *                   matching <link re=\"stylesheet\"> and <style> nodes to\n *                   process\n * @param {string}   [options.exclude] CSS selector matching <link\n *                   rel=\"stylehseet\"> and <style> nodes to exclude from those\n *                   matches by options.include\n * @param {object}   [options.variables] A map of custom property name/value\n *                   pairs. Property names can omit or include the leading\n *                   double-hyphen (), and values specified will override\n *                   previous values\n * @param {boolean}  [options.onlyLegacy=true] Determines if the ponyfill will\n *                   only generate legacy-compatible CSS in browsers that lack\n *                   native support (i.e., legacy browsers)\n * @param {boolean}  [options.preserveStatic=true] Determines if CSS\n *                   declarations that do not reference a custom property will\n *                   be preserved in the transformed CSS\n * @param {boolean}  [options.preserveVars=false] Determines if CSS custom\n *                   property declarations will be preserved in the transformed\n *                   CSS\n * @param {boolean}  [options.silent=false] Determines if warning and error\n *                   messages will be displayed on the console\n * @param {boolean}  [options.updateDOM=true] Determines if the ponyfill will\n *                   update the DOM after processing CSS custom properties\n * @param {boolean}  [options.updateURLs=true] Determines if relative url()\n *                   paths will be converted to absolute urls in external CSS\n * @param {boolean}  [options.watch=false] Determines if a MutationObserver will\n *                   be created that will execute the ponyfill when a <link> or\n *                   <style> DOM mutation is observed\n * @param {function} [options.onBeforeSend] Callback before XHR is sent. Passes\n *                   1) the XHR object, 2) source node reference, and 3) the\n *                   source URL as arguments\n * @param {function} [options.onError] Callback after a CSS parsing error has\n *                   occurred or an XHR request has failed. Passes 1) an error\n *                   message, and 2) source node reference, 3) xhr, and 4 url as\n *                   arguments.\n * @param {function} [options.onWarning] Callback after each CSS parsing warning\n *                   has occurred. Passes 1) a warning message as an argument.\n * @param {function} [options.onSuccess] Callback after CSS data has been\n *                   collected from each node and before CSS custom properties\n *                   have been transformed. Allows modifying the CSS data before\n *                   it is transformed by returning any string value (or false\n *                   to skip). Passes 1) CSS text, 2) source node reference, and\n *                   3) the source URL as arguments.\n * @param {function} [options.onComplete] Callback after all CSS has been\n *                   processed, legacy-compatible CSS has been generated, and\n *                   (optionally) the DOM has been updated. Passes 1) a CSS\n *                   string with CSS variable values resolved, 2) an array of\n *                   output <style> node references that have been appended to\n *                   the DOM, 3) an object containing all custom properies names\n *                   and values, and 4) the ponyfill execution time in\n *                   milliseconds.\n * @param {function} [options.onFinally] Callback in modern and legacy browsers\n *                   after the ponyfill has finished all tasks. Passes 1) a\n *                   boolean indicating if the last ponyfill call resulted in a\n *                   style change, 2) a boolean indicating if the current\n *                   browser provides native support for CSS custom properties,\n *                   and 3) the ponyfill execution time in milliseconds.\n * @example\n *\n *   cssVars({\n *     rootElement   : document,\n *     shadowDOM     : false,\n *     include       : 'style,link[rel=\"stylesheet\"]',\n *     exclude       : '',\n *     variables     : {},\n *     onlyLegacy    : true,\n *     preserveStatic: true,\n *     preserveVars  : false,\n *     silent        : false,\n *     updateDOM     : true,\n *     updateURLs    : true,\n *     watch         : false,\n *     onBeforeSend(xhr, node, url) {},\n *     onError(message, node, xhr, url) {},\n *     onWarning(message) {},\n *     onSuccess(cssText, node, url) {},\n *     onComplete(cssText, styleNode, cssVariables, benchmark) {},\n *     onFinally(hasChanged, hasNativeSupport, benchmark)\n *   });\n */\nfunction cssVars(options = {}) {\n    const msgPrefix = 'cssVars(): ';\n    const settings  = Object.assign({}, defaults, options);\n\n    function handleError(message, sourceNode, xhr, url) {\n        /* istanbul ignore next */\n        if (!settings.silent && window.console) {\n            // eslint-disable-next-line\n            console.error(`${msgPrefix}${message}\\n`, sourceNode);\n        }\n\n        settings.onError(message, sourceNode, xhr, url);\n    }\n\n    function handleWarning(message) {\n        /* istanbul ignore next */\n        if (!settings.silent && window.console) {\n            // eslint-disable-next-line\n            console.warn(`${msgPrefix}${message}`);\n        }\n\n        settings.onWarning(message);\n    }\n\n    function handleFinally(hasChanged) {\n        settings.onFinally(\n            Boolean(hasChanged),\n            isNativeSupport,\n            getTimeStamp() - settings.__benchmark\n        );\n    }\n\n    // Exit if non-browser environment (e.g. Node)\n    if (!isBrowser) {\n        return;\n    }\n\n    // Add / recreate MutationObserver\n    if (settings.watch) {\n        settings.watch = defaults.watch;\n        addMutationObserver(settings);\n        cssVars(settings);\n        return;\n    }\n    // Disconnect existing MutationObserver\n    else if (settings.watch === false && cssVarsObserver) {\n        cssVarsObserver.disconnect();\n        cssVarsObserver = null;\n    }\n\n    // If benchmark key is not availalbe, this is a non-recursive call\n    if (!settings.__benchmark) {\n        // Check flag and debounce to prevent successive call from stacking\n        if (cssVarsIsRunning === settings.rootElement) {\n            cssVarsDebounced(options);\n            return;\n        }\n\n        const srcNodes = [].slice.call(settings.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars=\"out\"])'));\n\n        // Store benchmark start time\n        settings.__benchmark = getTimeStamp();\n\n        // Exclude previously processed elements\n        settings.exclude = [\n            // 1. When the ponyfill is called by the MutationObserver, all\n            //    previously processed nodes are exluded except those that have\n            //    had their out/skip/src values cleared by the MutationObserver.\n            // 2. When the ponyfill is called directly, only output nodes are\n            //    excluded. This allows the ponyfill to update skip/src nodes\n            //    after a previously processed link/style node has been removed.\n            cssVarsObserver ? '[data-cssvars]:not([data-cssvars=\"\"])' : '[data-cssvars=\"out\"]',\n            'link[disabled]:not([data-cssvars])',\n            settings.exclude\n        ].filter(selector => selector).join(',');\n\n        // Fix malformed custom property names (e.g. \"color\" or \"-color\")\n        settings.variables = fixVarNames(settings.variables);\n\n        // Reset previously processed <style> nodes if textContent has changed\n        srcNodes.forEach(srcNode => {\n            const hasStyleCache = srcNode.nodeName.toLowerCase() === 'style' && srcNode.__cssVars.text;\n            const hasStyleChanged = hasStyleCache && srcNode.textContent !== srcNode.__cssVars.text;\n\n            if (hasStyleCache && hasStyleChanged) {\n                srcNode.sheet && (srcNode.sheet.disabled = false);\n                srcNode.setAttribute('data-cssvars', '');\n            }\n        });\n\n        // Direct call preparation (i.e. non-MutationObserver call)\n        if (!cssVarsObserver) {\n            const outNodes = [].slice.call(settings.rootElement.querySelectorAll('[data-cssvars=\"out\"]'));\n\n            // Remove orphaned output nodes\n            outNodes.forEach(outNode => {\n                const dataGroup = outNode.getAttribute('data-cssvars-group');\n                const srcNode   = dataGroup ? settings.rootElement.querySelector(`[data-cssvars=\"src\"][data-cssvars-group=\"${dataGroup}\"]`) : null;\n\n                if (!srcNode) {\n                    outNode.parentNode.removeChild(outNode);\n                }\n            });\n\n            // Handle removed source nodes\n            if (cssVarsSrcNodeCount && (srcNodes.length < cssVarsSrcNodeCount)) {\n                // Update source node count\n                cssVarsSrcNodeCount = srcNodes.length;\n\n                // Reset variableStore\n                variableStore.dom = {};\n            }\n        }\n    }\n\n    // Verify readyState to ensure all <link> and <style> nodes are available\n    if (document.readyState !== 'loading') {\n        // Native support\n        if (isNativeSupport && settings.onlyLegacy) {\n            let hasVarChange = false;\n\n            // Apply settings.variables\n            if (settings.updateDOM) {\n                const targetElm = settings.rootElement.host || (settings.rootElement === document ? document.documentElement : settings.rootElement);\n\n                // Set variables using native methods\n                Object.keys(settings.variables).forEach(key => {\n                    const varValue = settings.variables[key];\n\n                    hasVarChange = hasVarChange || varValue !== getComputedStyle(targetElm).getPropertyValue(key);\n                    targetElm.style.setProperty(key, varValue);\n                });\n            }\n\n            handleFinally(hasVarChange);\n        }\n        // Ponyfill: Handle rootElement set to a shadow host or root\n        else if (!isShadowDOMReady && (settings.shadowDOM || settings.rootElement.shadowRoot || settings.rootElement.host)) {\n            // Get all document-level CSS\n            getCssData({\n                rootElement : defaults.rootElement,\n                include     : defaults.include,\n                exclude     : settings.exclude,\n                skipDisabled: false,\n                onSuccess(cssText, node, url) {\n                    const isUserDisabled = (node.sheet || {}).disabled && !node.__cssVars;\n\n                    if (isUserDisabled) {\n                        return false;\n                    }\n\n                    cssText = cssText\n                        .replace(regex.cssComments, '')\n                        .replace(regex.cssMediaQueries, '');\n\n                    cssText = (cssText.match(regex.cssVarDeclRules) || []).join('');\n\n                    // Return only matching :root {...} blocks\n                    return cssText || false;\n                },\n                onComplete(cssText, cssArray, nodeArray) {\n                    // Parse variables and store in variableStore. This step\n                    // ensures that variableStore contains all document-level\n                    // custom property values for subsequent ponyfill calls.\n                    parseVars(cssText, {\n                        store    : variableStore.dom,\n                        onWarning: handleWarning\n                    });\n\n                    isShadowDOMReady = true;\n\n                    // Call the ponyfill again to process the rootElement\n                    // initially specified. Values stored in variableStore will\n                    // be used to transform values in shadow host/root elements.\n                    cssVars(settings);\n                }\n            });\n        }\n        // Ponyfill: Process CSS\n        else {\n            // Set flag to prevent successive call from stacking. Using the\n            // rootElement insead of `true` allows simultaneous ponyfill calls\n            // using different rootElement values (e.g. document and one-or-more\n            // shadowDOM nodes).\n            cssVarsIsRunning = settings.rootElement;\n\n            getCssData({\n                rootElement : settings.rootElement,\n                include     : settings.include,\n                exclude     : settings.exclude,\n                skipDisabled: false,\n                onBeforeSend: settings.onBeforeSend,\n                onError(xhr, node, url) {\n                    const responseUrl = xhr.responseURL || getFullUrl(url, location.href);\n                    const statusText  = xhr.statusText ? `(${xhr.statusText})` : 'Unspecified Error' + (xhr.status === 0 ? ' (possibly CORS related)' : '');\n                    const errorMsg    = `CSS XHR Error: ${responseUrl} ${xhr.status} ${statusText}`;\n\n                    handleError(errorMsg, node, xhr, responseUrl);\n                },\n                onSuccess(cssText, node, url) {\n                    const isUserDisabled = (node.sheet || {}).disabled && !node.__cssVars;\n\n                    if (isUserDisabled) {\n                        return false;\n                    }\n\n                    const isLink        = node.nodeName.toLowerCase() === 'link';\n                    const isStyleImport = node.nodeName.toLowerCase() === 'style' && cssText !== node.textContent;\n                    const returnVal     = settings.onSuccess(cssText, node, url);\n\n                    // Use callback return value if provided (skip CSS if false)\n                    cssText = returnVal !== undefined && Boolean(returnVal) === false ? '' : returnVal || cssText;\n\n                    // Convert relative url(...) values to absolute\n                    if (settings.updateURLs && (isLink || isStyleImport)) {\n                        cssText = fixRelativeCssUrls(cssText, url);\n                    }\n\n                    return cssText;\n                },\n                onComplete(cssText, cssArray, nodeArray = []) {\n                    const currentVars = Object.assign({}, variableStore.dom, variableStore.user);\n\n                    let hasVarChange = false;\n\n                    // Reset temporary variable store\n                    variableStore.job = {};\n\n                    // Parse CSS and variables\n                    nodeArray.forEach((node, i) => {\n                        const nodeCSS = cssArray[i];\n\n                        // Node data cache\n                        node.__cssVars = node.__cssVars || {};\n                        node.__cssVars.text = nodeCSS;\n\n                        // Only process CSS contains a custom property\n                        // declarations or function\n                        if (regex.cssVars.test(nodeCSS)) {\n                            try {\n                                const cssTree = parseCss(nodeCSS, {\n                                    preserveStatic: settings.preserveStatic,\n                                    removeComments: true\n                                });\n\n                                // Parse variables\n                                parseVars(cssTree, {\n                                    parseHost: Boolean(settings.rootElement.host),\n                                    store    : variableStore.dom,\n                                    onWarning: handleWarning\n                                });\n\n                                // Cache data\n                                node.__cssVars.tree = cssTree;\n                            }\n                            catch(err) {\n                                handleError(err.message, node);\n                            }\n                        }\n                    });\n\n                    // Merge DOM values with job values\n                    Object.assign(variableStore.job, variableStore.dom);\n\n                    if (settings.updateDOM) {\n                        // Persist user values\n                        Object.assign(variableStore.user, settings.variables);\n\n                        // Merge persisted user values with job values\n                        Object.assign(variableStore.job, variableStore.user);\n                    }\n                    else {\n                        // Merge persisted and non-persisted user values with job values\n                        Object.assign(variableStore.job, variableStore.user, settings.variables);\n\n                        // Update currentVars with non-persisted user values\n                        Object.assign(currentVars, settings.variables);\n                    }\n\n                    // Detect new variable declaration or changed value\n                    hasVarChange =\n                        // Ponyfill has been called before with updateDOM\n                        counters.job > 0 &&\n                        // New/Change\n                        Boolean(\n                            // New declaration\n                            (Object.keys(variableStore.job).length > Object.keys(currentVars).length) ||\n                            // Changed declaration value\n                            Boolean(\n                                // Previous declarations exist\n                                Object.keys(currentVars).length &&\n                                // At least one job value does has changed\n                                Object.keys(variableStore.job).some(key => variableStore.job[key] !== currentVars[key])\n                            )\n                        );\n\n                    // New variable declaration or modified value detected\n                    if (hasVarChange) {\n                        resetCssNodes(settings.rootElement);\n                        cssVars(settings);\n                    }\n                    // No variable changes detected\n                    else {\n                        const outCssArray  = [];\n                        const outNodeArray = [];\n\n                        let hasKeyframesWithVars = false;\n\n                        // Increment job\n                        if (settings.updateDOM) {\n                            counters.job++;\n                        }\n\n                        nodeArray.forEach((node, i) => {\n                            let isSkip = !node.__cssVars.tree;\n\n                            if (node.__cssVars.tree) {\n                                try {\n                                    transformCss(node.__cssVars.tree, Object.assign({}, settings, {\n                                        variables: variableStore.job,\n                                        onWarning: handleWarning\n                                    }));\n\n                                    const outCss = stringifyCss(node.__cssVars.tree);\n\n                                    if (settings.updateDOM) {\n                                        const nodeCSS       = cssArray[i];\n                                        const hasCSSVarFunc = regex.cssVarFunc.test(nodeCSS);\n\n                                        if (!node.getAttribute('data-cssvars')) {\n                                            node.setAttribute('data-cssvars', 'src');\n                                        }\n\n                                        if (outCss.length && hasCSSVarFunc) {\n                                            const dataGroup      = node.getAttribute('data-cssvars-group') || ++counters.group;\n                                            const outCssNoSpaces = outCss.replace(/\\s/g,'');\n                                            const outNode        = settings.rootElement.querySelector(`[data-cssvars=\"out\"][data-cssvars-group=\"${dataGroup}\"]`) || document.createElement('style');\n\n                                            hasKeyframesWithVars = hasKeyframesWithVars || regex.cssKeyframes.test(outCss);\n\n                                            // Disable source stylesheet\n                                            if (settings.preserveStatic) {\n                                                node.sheet && (node.sheet.disabled = true);\n                                            }\n\n                                            if (!outNode.hasAttribute('data-cssvars')) {\n                                                outNode.setAttribute('data-cssvars', 'out');\n                                            }\n\n                                            // Non-transformed CSS\n                                            if (outCssNoSpaces === node.textContent.replace(/\\s/g,'')) {\n                                                isSkip = true;\n\n                                                if (outNode && outNode.parentNode) {\n                                                    node.removeAttribute('data-cssvars-group');\n                                                    outNode.parentNode.removeChild(outNode);\n                                                }\n                                            }\n                                            // Transformed CSS\n                                            else if (outCssNoSpaces !== outNode.textContent.replace(/\\s/g,'')) {\n                                                [node, outNode].forEach(n => {\n                                                    n.setAttribute('data-cssvars-job', counters.job);\n                                                    n.setAttribute('data-cssvars-group', dataGroup);\n                                                });\n                                                outNode.textContent = outCss;\n                                                outCssArray.push(outCss);\n                                                outNodeArray.push(outNode);\n\n                                                if (!outNode.parentNode) {\n                                                    node.parentNode.insertBefore(outNode, node.nextSibling);\n                                                }\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        if (node.textContent.replace(/\\s/g,'') !== outCss) {\n                                            outCssArray.push(outCss);\n                                        }\n                                    }\n                                }\n                                catch(err) {\n                                    handleError(err.message, node);\n                                }\n                            }\n\n                            if (isSkip) {\n                                node.setAttribute('data-cssvars', 'skip');\n                            }\n\n                            if (!node.hasAttribute('data-cssvars-job')) {\n                                node.setAttribute('data-cssvars-job', counters.job);\n                            }\n                        });\n\n                        // Update source node count\n                        cssVarsSrcNodeCount = settings.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars=\"out\"])').length;\n\n                        // Process shadow DOM\n                        if (settings.shadowDOM) {\n                            const elms = []\n                                .concat(settings.rootElement)\n                                .concat([].slice.call(settings.rootElement.querySelectorAll('*')));\n\n                            // Iterates over all elements in rootElement and calls\n                            // cssVars on each shadowRoot, passing document-level\n                            // custom properties as options.variables.\n                            for (let i = 0, elm; (elm = elms[i]); ++i) {\n                                if (elm.shadowRoot && elm.shadowRoot.querySelector('style')) {\n                                    const shadowSettings = Object.assign({}, settings, {\n                                        rootElement: elm.shadowRoot\n                                    });\n\n                                    cssVars(shadowSettings);\n                                }\n                            }\n                        }\n\n                        // Fix keyframes\n                        if (settings.updateDOM && hasKeyframesWithVars) {\n                            fixKeyframes(settings.rootElement);\n                        }\n\n                        // Reset running flag. Must be done before onComplete\n                        // callback to avoid a callback error preventing the\n                        // flag from being reset after the callback.\n                        cssVarsIsRunning = false;\n\n                        // Callbacks\n                        settings.onComplete(\n                            outCssArray.join(''),\n                            outNodeArray,\n                            JSON.parse(JSON.stringify(variableStore.job)),\n                            getTimeStamp() - settings.__benchmark\n                        );\n\n                        handleFinally(outNodeArray.length);\n                    }\n                }\n            });\n        }\n    }\n    // Delay function until DOMContentLoaded event is fired\n    /* istanbul ignore next */\n    else {\n        document.addEventListener('DOMContentLoaded', function init(evt) {\n            cssVars(options);\n\n            document.removeEventListener('DOMContentLoaded', init);\n        });\n    }\n}\n\n// Ponyfill reset\ncssVars.reset = function() {\n    // Reset counters\n    counters.job = 0;\n    counters.group = 0;\n\n    // Reset running flag\n    cssVarsIsRunning = false;\n\n    // Disconnect MutationObserver\n    if (cssVarsObserver) {\n        cssVarsObserver.disconnect();\n        cssVarsObserver = null;\n    }\n\n    // Reset source node count\n    cssVarsSrcNodeCount = 0;\n\n    // Reset debounce timer\n    debounceTimer = null;\n\n    // Reset shadowDOM ready flag\n    isShadowDOMReady = false;\n\n    // Reset variable storage\n    for (const prop in variableStore) {\n        variableStore[prop] = {};\n    }\n};\n\n\n// Functions (Private)\n// =============================================================================\n/**\n * Creates mutation observer that executes the ponyfill when a <link> or <style>\n * DOM mutation is observed.\n *\n * @param {object} settings\n */\nfunction addMutationObserver(settings) {\n    function isDisabled(node) {\n        const isDisabledAttr  = isLink(node) && node.hasAttribute('disabled');\n        const isDisabledSheet = (node.sheet || {}).disabled;\n\n        return isDisabledAttr || isDisabledSheet;\n    }\n    function isLink(node) {\n        const isStylesheet = node.nodeName.toLowerCase() === 'link' && (node.getAttribute('rel') || '').indexOf('stylesheet') !== -1;\n\n        return isStylesheet;\n    }\n    function isStyle(node) {\n        return node.nodeName.toLowerCase() === 'style';\n    }\n    function isValidAttributeMutation(mutation) {\n        let isValid = false;\n\n        if (mutation.type === 'attributes' && isLink(mutation.target) && !isDisabled(mutation.target)) {\n            const isEnabledMutation = mutation.attributeName === 'disabled';\n            const isHrefMutation = mutation.attributeName === 'href';\n            const isSkipNode = mutation.target.getAttribute('data-cssvars') === 'skip';\n            const isSrcNode = mutation.target.getAttribute('data-cssvars') === 'src';\n\n            // Enabled\n            if (isEnabledMutation) {\n                isValid = !isSkipNode && !isSrcNode;\n            }\n            // Href\n            else if (isHrefMutation) {\n                if (isSkipNode) {\n                    mutation.target.setAttribute('data-cssvars', '');\n                }\n                else if (isSrcNode) {\n                    resetCssNodes(settings.rootElement, true);\n                }\n\n                isValid = true;\n            }\n        }\n\n        return isValid;\n    }\n    function isValidStyleTextMutation(mutation) {\n        let isValid = false;\n\n        if (mutation.type === 'childList') {\n            const isStyleElm = isStyle(mutation.target);\n            const isOutNode = mutation.target.getAttribute('data-cssvars') === 'out';\n\n            isValid = isStyleElm && !isOutNode;\n        }\n\n        return isValid;\n    }\n    function isValidAddMutation(mutation) {\n        let isValid = false;\n\n        if (mutation.type === 'childList') {\n            isValid = [].slice.call(mutation.addedNodes).some(node => {\n                const isElm           = node.nodeType === 1;\n                const hasAttr         = isElm && node.hasAttribute('data-cssvars');\n                const isStyleWithVars = isStyle(node) && regex.cssVars.test(node.textContent);\n                const isValid         = !hasAttr && (isLink(node) || isStyleWithVars);\n\n                return isValid && !isDisabled(node);\n            });\n        }\n\n        return isValid;\n    }\n    function isValidRemoveMutation(mutation) {\n        let isValid = false;\n\n        if (mutation.type === 'childList') {\n            isValid = [].slice.call(mutation.removedNodes).some(node => {\n                const isElm     = node.nodeType === 1;\n                const isOutNode = isElm && node.getAttribute('data-cssvars') === 'out';\n                const isSrcNode = isElm && node.getAttribute('data-cssvars') === 'src';\n                const isValid   = isSrcNode;\n\n                if (isSrcNode || isOutNode) {\n                    const dataGroup  = node.getAttribute('data-cssvars-group');\n                    const orphanNode = settings.rootElement.querySelector(`[data-cssvars-group=\"${dataGroup}\"]`);\n\n                    if (isSrcNode) {\n                        resetCssNodes(settings.rootElement, true);\n                    }\n\n                    if (orphanNode) {\n                        orphanNode.parentNode.removeChild(orphanNode);\n                    }\n                }\n\n                return isValid;\n            });\n        }\n\n        return isValid;\n    }\n\n    if (!window.MutationObserver) {\n        return;\n    }\n\n    if (cssVarsObserver) {\n        cssVarsObserver.disconnect();\n        cssVarsObserver = null;\n    }\n\n    cssVarsObserver = new MutationObserver(function(mutations) {\n        const hasValidMutation = mutations.some((mutation) => {\n            return (\n                isValidAttributeMutation(mutation) ||\n                isValidStyleTextMutation(mutation) ||\n                isValidAddMutation(mutation) ||\n                isValidRemoveMutation(mutation)\n            );\n        });\n\n        if (hasValidMutation) {\n            cssVars(settings);\n        }\n    });\n\n    cssVarsObserver.observe(document.documentElement, {\n        attributes     : true,\n        attributeFilter: ['disabled', 'href'],\n        childList      : true,\n        subtree        : true\n    });\n}\n\n/**\n * Debounces cssVars() calls\n *\n * @param {object} settings\n */\nfunction cssVarsDebounced(settings, delay = 100) {\n    clearTimeout(debounceTimer);\n    debounceTimer = setTimeout(function() {\n        settings.__benchmark = null;\n        cssVars(settings);\n    }, delay);\n}\n\n/**\n * Fixes issue with keyframe properties set using CSS custom property not being\n * applied properly in some legacy (IE) and modern (Safari) browsers.\n *\n * @param {object} rootElement\n */\nfunction fixKeyframes(rootElement) {\n    const animationNameProp = [\n        'animation-name',\n        '-moz-animation-name',\n        '-webkit-animation-name'\n    ].filter(prop => getComputedStyle(document.body)[prop])[0];\n\n    if (animationNameProp) {\n        const allNodes      = [].slice.call(rootElement.querySelectorAll('*'));\n        const keyframeNodes = [];\n        const nameMarker    = '__CSSVARSPONYFILL-KEYFRAMES__';\n\n        // Modify animation name\n        for (let i = 0, len = allNodes.length; i < len; i++) {\n            const node          = allNodes[i];\n            const animationName = getComputedStyle(node)[animationNameProp];\n\n            if (animationName !== 'none') {\n                node.style[animationNameProp] += nameMarker;\n                keyframeNodes.push(node);\n            }\n        }\n\n        // Force reflow\n        void document.body.offsetHeight;\n\n        // Restore animation name\n        for (let i = 0, len = keyframeNodes.length; i < len; i++) {\n            const nodeStyle = keyframeNodes[i].style;\n\n            nodeStyle[animationNameProp] = nodeStyle[animationNameProp].replace(nameMarker, '');\n        }\n    }\n}\n\n/**\n * Convert relative CSS url(...) values to absolute based on baseUrl\n *\n * @param {string} cssText\n * @param {string} baseUrl\n * @returns {string}\n */\nfunction fixRelativeCssUrls(cssText, baseUrl) {\n    const cssUrls = cssText\n        // Remove comments\n        .replace(regex.cssComments, '')\n        // Match url(...) values\n        .match(regex.cssUrls) || [];\n\n    cssUrls.forEach(cssUrl => {\n        const oldUrl = cssUrl.replace(regex.cssUrls, '$1');\n        const newUrl = getFullUrl(oldUrl, baseUrl);\n\n        cssText = cssText.replace(cssUrl, cssUrl.replace(oldUrl, newUrl));\n    });\n\n    return cssText;\n}\n\n/**\n * Converts all object property names to leading '--' style\n *\n * @param {object} varObj Object containing CSS custom property name:value pairs\n * @returns {object}\n */\nfunction fixVarNames(varObj = {}) {\n    const reLeadingHyphens = /^-{2}/;\n\n    return Object.keys(varObj).reduce((obj, value) => {\n        const key = reLeadingHyphens.test(value) ? value : `--${value.replace(/^-+/, '')}`;\n\n        obj[key] = varObj[value];\n\n        return obj;\n    }, {});\n}\n\n/**\n * Returns fully qualified URL from relative URL and (optional) base URL\n *\n * @param   {string} url\n * @param   {string} [base=location.href]\n * @returns {string}\n */\nfunction getFullUrl(url, base = location.href) {\n    const d = document.implementation.createHTMLDocument('');\n    const b = d.createElement('base');\n    const a = d.createElement('a');\n\n    d.head.appendChild(b);\n    d.body.appendChild(a);\n    b.href = base;\n    a.href = url;\n\n    return a.href;\n}\n\n/**\n * Returns a time stamp in milliseconds\n *\n * @returns {number}\n */\nfunction getTimeStamp() {\n    return isBrowser && (window.performance || {}).now ? window.performance.now() : new Date().getTime();\n}\n\nfunction resetCssNodes(rootElement, resetDOMVariableStore = false) {\n    const resetNodes = [].slice.call(rootElement.querySelectorAll('[data-cssvars=\"skip\"],[data-cssvars=\"src\"]'));\n\n    resetNodes.forEach(node => node.setAttribute('data-cssvars', ''));\n\n    if (resetDOMVariableStore) {\n        variableStore.dom = {};\n    }\n}\n\n\n// Export\n// =============================================================================\nexport default cssVars;\n", "import { _ as __assign, a as __spreadArray } from './bundle-BosquA9C.js';\nimport { u as useStore, c as createStore, s as shimExports } from './bundle-CK7w7gep.js';\nimport React__default, { useEffect, useCallback, useState, createContext, useRef, useMemo, useContext } from 'react';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\nimport { d as deleteNullish } from './bundle-Bc1fdQjj.js';\n\nfunction useSetChannel(_a, _b) {\n    var channelUrl = _a.channelUrl, sdkInit = _a.sdkInit;\n    var sdk = _b.sdk, logger = _b.logger;\n    var _c = useMessageSearch().actions, setCurrentChannel = _c.setCurrentChannel, setChannelInvalid = _c.setChannelInvalid;\n    useEffect(function () {\n        if (channelUrl && sdkInit && (sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel)) {\n            sdk.groupChannel.getChannel(channelUrl)\n                .then(function (groupChannel) {\n                logger.info('MessageSearch | useSetChannel group channel', groupChannel);\n                setCurrentChannel(groupChannel);\n            })\n                .catch(function () {\n                setChannelInvalid();\n            });\n        }\n    }, [channelUrl, sdkInit]);\n}\n\nvar MessageSearchOrder;\n(function (MessageSearchOrder) {\n    MessageSearchOrder[\"SCORE\"] = \"score\";\n    MessageSearchOrder[\"TIMESTAMP\"] = \"ts\";\n})(MessageSearchOrder || (MessageSearchOrder = {}));\nfunction useGetSearchedMessages(_a, _b) {\n    var currentChannel = _a.currentChannel, channelUrl = _a.channelUrl, requestString = _a.requestString, messageSearchQuery = _a.messageSearchQuery, onResultLoaded = _a.onResultLoaded;\n    var sdk = _b.sdk, logger = _b.logger;\n    var _c = useMessageSearch(), retryCount = _c.state.retryCount, _d = _c.actions, startMessageSearch = _d.startMessageSearch, getSearchedMessages = _d.getSearchedMessages, setQueryInvalid = _d.setQueryInvalid, startGettingSearchedMessages = _d.startGettingSearchedMessages;\n    var handleSearchError = useCallback(function (error) {\n        logger.warning('MessageSearch | useGetSearchedMessages: failed getting search messages.', error);\n        setQueryInvalid();\n        if (onResultLoaded && typeof onResultLoaded === 'function') {\n            onResultLoaded(undefined, error);\n        }\n    }, [logger, setQueryInvalid, onResultLoaded]);\n    useEffect(function () {\n        startMessageSearch();\n        if (sdk && channelUrl && sdk.createMessageSearchQuery && currentChannel && requestString) {\n            currentChannel.refresh()\n                .then(function (channel) {\n                var inputSearchMessageQueryObject = __assign({ order: MessageSearchOrder.TIMESTAMP, channelUrl: channelUrl, messageTimestampFrom: channel.invitedAt, keyword: requestString }, messageSearchQuery);\n                var createdQuery = sdk.createMessageSearchQuery(inputSearchMessageQueryObject);\n                startGettingSearchedMessages(createdQuery);\n                createdQuery.next().then(function (messages) {\n                    logger.info('MessageSearch | useGetSearchedMessages: succeeded getting messages', messages);\n                    getSearchedMessages(messages, createdQuery);\n                    if (onResultLoaded && typeof onResultLoaded === 'function') {\n                        onResultLoaded(messages, undefined);\n                    }\n                }).catch(handleSearchError);\n            })\n                .catch(function (error) {\n                logger.warning('MessageSearch | useGetSearchedMessages: failed getting channel.', error);\n                handleSearchError(error);\n            });\n        }\n        else if (!requestString) {\n            logger.info('MessageSearch | useGetSearchedMessages: search string is empty');\n        }\n    }, [channelUrl, messageSearchQuery, requestString, currentChannel, retryCount]);\n}\n\nfunction useScrollCallback(_a, _b) {\n    var onResultLoaded = _a.onResultLoaded;\n    var logger = _b.logger;\n    var _c = useMessageSearch(), _d = _c.state, currentMessageSearchQuery = _d.currentMessageSearchQuery, hasMoreResult = _d.hasMoreResult, getNextSearchedMessages = _c.actions.getNextSearchedMessages;\n    return useCallback(function (cb) {\n        if (!hasMoreResult) {\n            logger.warning('MessageSearch | useScrollCallback: no more searched results', hasMoreResult);\n        }\n        if (currentMessageSearchQuery && currentMessageSearchQuery.hasNext) {\n            currentMessageSearchQuery\n                .next()\n                .then(function (messages) {\n                logger.info('MessageSearch | useScrollCallback: succeeded getting searched messages', messages);\n                getNextSearchedMessages(messages);\n                cb(messages, null);\n                if (onResultLoaded && typeof onResultLoaded === 'function') {\n                    onResultLoaded(messages, null);\n                }\n            })\n                .catch(function (error) {\n                logger.warning('MessageSearch | useScrollCallback: failed getting searched messages', error);\n                cb(null, error);\n                if (onResultLoaded && typeof onResultLoaded === 'function') {\n                    onResultLoaded(null, error);\n                }\n            });\n        }\n        else {\n            logger.warning('MessageSearch | useScrollCallback: no currentMessageSearchQuery');\n        }\n    }, [currentMessageSearchQuery, hasMoreResult]);\n}\n\nvar DEBOUNCING_TIME = 500;\nfunction useSearchStringEffect(_a) {\n    var searchString = _a.searchString;\n    var _b = useState(''), requestString = _b[0], setRequestString = _b[1];\n    var _c = useState(null), debouncingTimer = _c[0], setDebouncingTimer = _c[1];\n    var resetSearchString = useMessageSearch().actions.resetSearchString;\n    var handleSearchStringChange = useCallback(function () {\n        if (searchString) {\n            setRequestString(searchString);\n        }\n        else {\n            setRequestString('');\n            resetSearchString();\n        }\n    }, [searchString, resetSearchString]);\n    useEffect(function () {\n        if (debouncingTimer) {\n            clearTimeout(debouncingTimer);\n        }\n        var timer = setTimeout(handleSearchStringChange, DEBOUNCING_TIME);\n        setDebouncingTimer(timer);\n        return function () {\n            if (timer) {\n                clearTimeout(timer);\n            }\n        };\n    }, [searchString, handleSearchStringChange]);\n    return requestString;\n}\n\nvar initialState = {\n    channelUrl: '',\n    allMessages: [],\n    loading: false,\n    isInvalid: false,\n    initialized: false,\n    currentChannel: null,\n    currentMessageSearchQuery: null,\n    messageSearchQuery: null,\n    hasMoreResult: false,\n    retryCount: 0,\n    selectedMessageId: null,\n    searchString: '',\n    requestString: '',\n    /**\n     * messageSearchDispatcher is no longer used.\n     * Please use useMessageSearch() to get the store and update the state.\n     */\n    // messageSearchDispatcher: null,\n};\nvar MessageSearchContext = createContext(null);\nvar MessageSearchManager = function (_a) {\n    var _b, _c;\n    var channelUrl = _a.channelUrl, searchString = _a.searchString, messageSearchQuery = _a.messageSearchQuery, onResultLoaded = _a.onResultLoaded, onResultClick = _a.onResultClick;\n    var _d = useMessageSearchStore(), state = _d.state, updateState = _d.updateState;\n    var _e = useSendbird().state, config = _e.config, stores = _e.stores;\n    var sdk = (_b = stores === null || stores === void 0 ? void 0 : stores.sdkStore) === null || _b === void 0 ? void 0 : _b.sdk;\n    var sdkInit = (_c = stores === null || stores === void 0 ? void 0 : stores.sdkStore) === null || _c === void 0 ? void 0 : _c.initialized;\n    var logger = config.logger;\n    var scrollRef = useRef(null);\n    useSetChannel({ channelUrl: channelUrl, sdkInit: sdkInit }, { sdk: sdk, logger: logger });\n    var _searchString = useMemo(function () {\n        var _a;\n        return (_a = searchString !== null && searchString !== void 0 ? searchString : messageSearchQuery === null || messageSearchQuery === void 0 ? void 0 : messageSearchQuery.keyword) !== null && _a !== void 0 ? _a : '';\n    }, [searchString, messageSearchQuery === null || messageSearchQuery === void 0 ? void 0 : messageSearchQuery.keyword]);\n    var requestString = useSearchStringEffect({ searchString: _searchString });\n    useGetSearchedMessages({\n        currentChannel: state.currentChannel,\n        channelUrl: channelUrl,\n        requestString: requestString,\n        messageSearchQuery: messageSearchQuery,\n        onResultLoaded: onResultLoaded,\n    }, { sdk: sdk, logger: logger });\n    var onScroll = useScrollCallback({ onResultLoaded: onResultLoaded }, { logger: logger });\n    var handleOnScroll = useCallback(function (e) {\n        var scrollElement = e.target;\n        var scrollTop = scrollElement.scrollTop, scrollHeight = scrollElement.scrollHeight, clientHeight = scrollElement.clientHeight;\n        if (!state.hasMoreResult) {\n            return;\n        }\n        if (scrollTop + clientHeight >= scrollHeight) {\n            onScroll(function () {\n                // after load more searched messages\n            });\n        }\n    }, [state.hasMoreResult, onScroll]);\n    useEffect(function () {\n        updateState({\n            channelUrl: channelUrl,\n            searchString: _searchString,\n            messageSearchQuery: messageSearchQuery,\n            onResultClick: onResultClick,\n            onScroll: onScroll,\n            handleOnScroll: handleOnScroll,\n            scrollRef: scrollRef,\n            requestString: requestString,\n        });\n    }, [channelUrl, searchString, messageSearchQuery, onResultClick, updateState, requestString]);\n    return null;\n};\nvar createMessageSearchStore = function (props) { return createStore(__assign(__assign({}, initialState), props)); };\nvar InternalMessageSearchProvider = function (props) {\n    var children = props.children;\n    var defaultProps = deleteNullish({\n        channelUrl: props === null || props === void 0 ? void 0 : props.channelUrl,\n        messageSearchQuery: props === null || props === void 0 ? void 0 : props.messageSearchQuery,\n        searchString: props === null || props === void 0 ? void 0 : props.searchString,\n        onResultLoaded: props === null || props === void 0 ? void 0 : props.onResultLoaded,\n        onResultClick: props === null || props === void 0 ? void 0 : props.onResultClick,\n    });\n    var storeRef = useRef(createMessageSearchStore(defaultProps));\n    return (React__default.createElement(MessageSearchContext.Provider, { value: storeRef.current }, children));\n};\nvar MessageSearchProvider = function (props) {\n    var children = props.children, channelUrl = props.channelUrl, searchString = props.searchString, messageSearchQuery = props.messageSearchQuery, onResultLoaded = props.onResultLoaded, onResultClick = props.onResultClick;\n    return (React__default.createElement(InternalMessageSearchProvider, __assign({}, props),\n        React__default.createElement(MessageSearchManager, { channelUrl: channelUrl, searchString: searchString, messageSearchQuery: messageSearchQuery, onResultLoaded: onResultLoaded, onResultClick: onResultClick }),\n        children));\n};\n// Keep this function for backward compatibility.\nvar useMessageSearchContext = function () {\n    var _a = useMessageSearch(), state = _a.state, actions = _a.actions;\n    return __assign(__assign({}, state), actions);\n};\n/**\n * A specialized hook for MessageSearch state management\n * @returns {ReturnType<typeof createStore<MessageSearchState>>}\n */\nvar useMessageSearchStore = function () {\n    return useStore(MessageSearchContext, function (state) { return state; }, initialState);\n};\n\nvar useMessageSearch = function () {\n    var store = useContext(MessageSearchContext);\n    if (!store)\n        throw new Error('useMessageSearch must be used within a MessageSearchProvider');\n    var state = shimExports.useSyncExternalStore(store.subscribe, store.getState);\n    var actions = useMemo(function () { return ({\n        setCurrentChannel: function (channel) { return store.setState(function (state) { return (__assign(__assign({}, state), { currentChannel: channel, initialized: true })); }); },\n        setChannelInvalid: function () { return store.setState(function (state) { return (__assign(__assign({}, state), { currentChannel: null, initialized: false })); }); },\n        getSearchedMessages: function (messages, createdQuery) {\n            store.setState(function (state) {\n                var _a;\n                if (createdQuery && createdQuery.channelUrl === ((_a = state.currentMessageSearchQuery) === null || _a === void 0 ? void 0 : _a.channelUrl)\n                    && createdQuery.key === state.currentMessageSearchQuery.key) {\n                    return __assign(__assign({}, state), { loading: false, isInvalid: false, allMessages: messages, hasMoreResult: state.currentMessageSearchQuery.hasNext });\n                }\n                return state;\n            });\n        },\n        setQueryInvalid: function () { return store.setState(function (state) { return (__assign(__assign({}, state), { isInvalid: true })); }); },\n        startMessageSearch: function () { return store.setState(function (state) { return (__assign(__assign({}, state), { isInvalid: false, loading: false })); }); },\n        startGettingSearchedMessages: function (query) { return store.setState(function (state) { return (__assign(__assign({}, state), { loading: true, currentMessageSearchQuery: query })); }); },\n        getNextSearchedMessages: function (messages) { return store.setState(function (state) {\n            var _a;\n            return (__assign(__assign({}, state), { allMessages: __spreadArray(__spreadArray([], state.allMessages, true), messages, true), hasMoreResult: ((_a = state.currentMessageSearchQuery) === null || _a === void 0 ? void 0 : _a.hasNext) || false }));\n        }); },\n        resetSearchString: function () { return store.setState(function (state) { return (__assign(__assign({}, state), { allMessages: [] })); }); },\n        setSelectedMessageId: function (messageId) { return store.setState(function (state) { return (__assign(__assign({}, state), { selectedMessageId: messageId })); }); },\n        handleRetryToConnect: function () { return store.setState(function (state) { return (__assign(__assign({}, state), { retryCount: state.retryCount + 1 })); }); },\n        // Looks exactly same as handleRetryToConnect but keep just for backward compatibility\n        setRetryCount: function () { return store.setState(function (state) { return (__assign(__assign({}, state), { retryCount: state.retryCount + 1 })); }); },\n    }); }, [store]);\n    return { state: state, actions: actions };\n};\n\nexport { MessageSearchContext as M, MessageSearchProvider as a, useMessageSearchContext as b, MessageSearchManager as c, useMessageSearch as u };\n//# sourceMappingURL=bundle-Bb5bU2pm.js.map\n", "var ChannelStateTypes;\n(function (ChannelStateTypes) {\n    ChannelStateTypes[\"NIL\"] = \"NIL\";\n    ChannelStateTypes[\"LOADING\"] = \"LOADING\";\n    ChannelStateTypes[\"INVALID\"] = \"INVALID\";\n    ChannelStateTypes[\"INITIALIZED\"] = \"INITIALIZED\";\n})(ChannelStateTypes || (ChannelStateTypes = {}));\nvar ParentMessageStateTypes;\n(function (ParentMessageStateTypes) {\n    ParentMessageStateTypes[\"NIL\"] = \"NIL\";\n    ParentMessageStateTypes[\"LOADING\"] = \"LOADING\";\n    ParentMessageStateTypes[\"INVALID\"] = \"INVALID\";\n    ParentMessageStateTypes[\"INITIALIZED\"] = \"INITIALIZED\";\n})(ParentMessageStateTypes || (ParentMessageStateTypes = {}));\nvar ThreadListStateTypes;\n(function (ThreadListStateTypes) {\n    ThreadListStateTypes[\"NIL\"] = \"NIL\";\n    ThreadListStateTypes[\"LOADING\"] = \"LOADING\";\n    ThreadListStateTypes[\"INVALID\"] = \"INVALID\";\n    ThreadListStateTypes[\"INITIALIZED\"] = \"INITIALIZED\";\n})(ThreadListStateTypes || (ThreadListStateTypes = {}));\n\nexport { ChannelStateTypes, ParentMessageStateTypes, ThreadListStateTypes };\n//# sourceMappingURL=types.js.map\n", "import { _ as __assign, b as __awaiter, c as __generator, a as __spreadArray } from './bundle-BosquA9C.js';\nimport React__default, { useCallback, useContext, useMemo, useEffect, useRef } from 'react';\nimport { s as scrollIntoLast, u as useSendMultipleFilesMessage, c as compareIds, g as getParentMessageFrom, a as getNicknamesMapFromMembers } from './bundle-BlD_kPlV.js';\nimport { U as UserProfileProvider } from './bundle-ByW5tGii.js';\nimport { s as shimExports, u as useStore, c as createStore } from './bundle-CK7w7gep.js';\nimport { ChannelType } from '@sendbird/chat';\nimport { p as pubSubTopics, b as PublishingModuleType, a as shouldPubSubPublishToThread, P as PUBSUB_TOPICS } from './bundle-DxUY6hv0.js';\nimport { GroupChannelHandler } from '@sendbird/chat/groupChannel';\nimport { u as uuidv4 } from './bundle-BGRwc73U.js';\nimport { c as compareIds$1 } from './bundle-C7sqWYfV.js';\nimport { ThreadListStateTypes, ChannelStateTypes, ParentMessageStateTypes } from '../Thread/context/types.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\nimport { u as useDeepCompareEffect } from './bundle-Dx43PGfx.js';\nimport { SendingStatus, MessageMetaArray, MessageType } from '@sendbird/chat/message';\nimport './bundle-y-yf0Djs.js';\nimport { e as SCROLL_BOTTOM_DELAY_FOR_SEND, a as VOICE_MESSAGE_FILE_NAME, b as VOICE_MESSAGE_MIME_TYPE, i as META_ARRAY_VOICE_DURATION_KEY, j as META_ARRAY_MESSAGE_TYPE_KEY, k as META_ARRAY_MESSAGE_TYPE_VALUE__VOICE } from './bundle-BDIF-bj_.js';\n\nvar PREV_THREADS_FETCH_SIZE = 30;\nvar NEXT_THREADS_FETCH_SIZE = 30;\n\nfunction useToggleReactionCallback(_a, _b) {\n    var currentChannel = _a.currentChannel;\n    var logger = _b.logger;\n    return useCallback(function (message, key, isReacted) {\n        var _a, _b;\n        if (isReacted) {\n            (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.deleteReaction) === null || _a === void 0 ? void 0 : _a.call(currentChannel, message, key).then(function (res) {\n                logger.info('Thread | useToggleReactionsCallback: Delete reaction succeeded.', res);\n            }).catch(function (err) {\n                logger.warning('Thread | useToggleReactionsCallback: Delete reaction failed.', err);\n            });\n            return;\n        }\n        (_b = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.addReaction) === null || _b === void 0 ? void 0 : _b.call(currentChannel, message, key).then(function (res) {\n            logger.info('Thread | useToggleReactionsCallback: Add reaction succeeded.', res);\n        }).catch(function (err) {\n            logger.warning('Thread | useToggleReactionsCallback: Add reaction failed.', err);\n        });\n    }, [currentChannel]);\n}\n\nfunction useSendUserMessageCallback(_a, _b) {\n    var isMentionEnabled = _a.isMentionEnabled, currentChannel = _a.currentChannel, onBeforeSendUserMessage = _a.onBeforeSendUserMessage, sendMessageStart = _a.sendMessageStart, sendMessageFailure = _a.sendMessageFailure;\n    var logger = _b.logger, pubSub = _b.pubSub;\n    var sendMessage = useCallback(function (props) {\n        var _a;\n        var message = props.message, quoteMessage = props.quoteMessage, mentionTemplate = props.mentionTemplate, mentionedUsers = props.mentionedUsers;\n        var createDefaultParams = function () {\n            var params = {};\n            params.message = message;\n            var mentionedUsersLength = (mentionedUsers === null || mentionedUsers === void 0 ? void 0 : mentionedUsers.length) || 0;\n            if (isMentionEnabled && mentionedUsersLength) {\n                params.mentionedUsers = mentionedUsers;\n            }\n            if (isMentionEnabled && mentionTemplate && mentionedUsersLength) {\n                params.mentionedMessageTemplate = mentionTemplate;\n            }\n            if (quoteMessage) {\n                params.isReplyToChannel = true;\n                params.parentMessageId = quoteMessage.messageId;\n            }\n            return params;\n        };\n        var params = (_a = onBeforeSendUserMessage === null || onBeforeSendUserMessage === void 0 ? void 0 : onBeforeSendUserMessage(message, quoteMessage)) !== null && _a !== void 0 ? _a : createDefaultParams();\n        logger.info('Thread | useSendUserMessageCallback: Sending user message start.', params);\n        if (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.sendUserMessage) {\n            currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.sendUserMessage(params).onPending(function (pendingMessage) {\n                sendMessageStart(pendingMessage);\n            }).onFailed(function (error, message) {\n                logger.info('Thread | useSendUserMessageCallback: Sending user message failed.', { message: message, error: error });\n                sendMessageFailure(message);\n            }).onSucceeded(function (message) {\n                logger.info('Thread | useSendUserMessageCallback: Sending user message succeeded.', message);\n                // because Thread doesn't subscribe SEND_USER_MESSAGE\n                pubSub.publish(pubSubTopics.SEND_USER_MESSAGE, {\n                    channel: currentChannel,\n                    message: message,\n                    publishingModules: [PublishingModuleType.THREAD],\n                });\n            });\n        }\n    }, [isMentionEnabled, currentChannel]);\n    return sendMessage;\n}\n\nfunction useSendFileMessageCallback(_a, _b) {\n    var currentChannel = _a.currentChannel, onBeforeSendFileMessage = _a.onBeforeSendFileMessage, sendMessageStart = _a.sendMessageStart, sendMessageFailure = _a.sendMessageFailure;\n    var logger = _b.logger, pubSub = _b.pubSub;\n    return useCallback(function (file, quoteMessage) {\n        return new Promise(function (resolve, reject) {\n            var _a;\n            var createParamsDefault = function () {\n                var params = {};\n                params.file = file;\n                if (quoteMessage) {\n                    params.isReplyToChannel = true;\n                    params.parentMessageId = quoteMessage.messageId;\n                }\n                return params;\n            };\n            var params = (_a = onBeforeSendFileMessage === null || onBeforeSendFileMessage === void 0 ? void 0 : onBeforeSendFileMessage(file, quoteMessage)) !== null && _a !== void 0 ? _a : createParamsDefault();\n            logger.info('Thread | useSendFileMessageCallback: Sending file message start.', params);\n            if (currentChannel == null) {\n                logger.warning('Thread | useSendFileMessageCallback: currentChannel is null. Skipping file message send.');\n                resolve(null);\n            }\n            else {\n                currentChannel.sendFileMessage(params)\n                    .onPending(function (pendingMessage) {\n                    // @ts-ignore\n                    sendMessageStart(__assign(__assign({}, pendingMessage), { url: URL.createObjectURL(file), \n                        // pending thumbnail message seems to be failed\n                        sendingStatus: SendingStatus.PENDING, isUserMessage: pendingMessage.isUserMessage, isFileMessage: pendingMessage.isFileMessage, isAdminMessage: pendingMessage.isAdminMessage, isMultipleFilesMessage: pendingMessage.isMultipleFilesMessage }));\n                    setTimeout(function () { return scrollIntoLast(); }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n                })\n                    .onFailed(function (error, message) {\n                    message.localUrl = URL.createObjectURL(file);\n                    message.file = file;\n                    logger.info('Thread | useSendFileMessageCallback: Sending file message failed.', { message: message, error: error });\n                    sendMessageFailure(message);\n                    reject(error);\n                })\n                    .onSucceeded(function (message) {\n                    logger.info('Thread | useSendFileMessageCallback: Sending file message succeeded.', message);\n                    pubSub.publish(pubSubTopics.SEND_FILE_MESSAGE, {\n                        channel: currentChannel,\n                        message: message,\n                        publishingModules: [PublishingModuleType.THREAD],\n                    });\n                    resolve(message);\n                });\n            }\n        });\n    }, [currentChannel]);\n}\n\nvar useSendVoiceMessageCallback = function (_a, _b) {\n    var currentChannel = _a.currentChannel, onBeforeSendVoiceMessage = _a.onBeforeSendVoiceMessage, sendMessageStart = _a.sendMessageStart, sendMessageFailure = _a.sendMessageFailure;\n    var logger = _b.logger, pubSub = _b.pubSub;\n    var sendMessage = useCallback(function (file, duration, quoteMessage) {\n        var messageParams = (onBeforeSendVoiceMessage\n            && typeof onBeforeSendVoiceMessage === 'function')\n            ? onBeforeSendVoiceMessage(file, quoteMessage)\n            : {\n                file: file,\n                fileName: VOICE_MESSAGE_FILE_NAME,\n                mimeType: VOICE_MESSAGE_MIME_TYPE,\n                metaArrays: [\n                    new MessageMetaArray({\n                        key: META_ARRAY_VOICE_DURATION_KEY,\n                        value: [\"\".concat(duration)],\n                    }),\n                    new MessageMetaArray({\n                        key: META_ARRAY_MESSAGE_TYPE_KEY,\n                        value: [META_ARRAY_MESSAGE_TYPE_VALUE__VOICE],\n                    }),\n                ],\n            };\n        if (quoteMessage) {\n            messageParams.isReplyToChannel = true;\n            messageParams.parentMessageId = quoteMessage.messageId;\n        }\n        logger.info('Thread | useSendVoiceMessageCallback:  Start sending voice message', messageParams);\n        currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.sendFileMessage(messageParams).onPending(function (pendingMessage) {\n            // @ts-ignore\n            sendMessageStart(__assign(__assign({}, pendingMessage), { url: URL.createObjectURL(file), \n                // pending thumbnail message seems to be failed\n                sendingStatus: SendingStatus.PENDING, isUserMessage: pendingMessage.isUserMessage, isFileMessage: pendingMessage.isFileMessage, isAdminMessage: pendingMessage.isAdminMessage, isMultipleFilesMessage: pendingMessage.isMultipleFilesMessage }));\n            setTimeout(function () { return scrollIntoLast(); }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n        }).onFailed(function (error, message) {\n            message.localUrl = URL.createObjectURL(file);\n            message.file = file;\n            logger.info('Thread | useSendVoiceMessageCallback: Sending voice message failed.', { message: message, error: error });\n            sendMessageFailure(message);\n        }).onSucceeded(function (message) {\n            logger.info('Thread | useSendVoiceMessageCallback: Sending voice message succeeded.', message);\n            pubSub.publish(pubSubTopics.SEND_FILE_MESSAGE, {\n                channel: currentChannel,\n                message: message,\n                publishingModules: [PublishingModuleType.THREAD],\n            });\n        });\n    }, [\n        currentChannel,\n        onBeforeSendVoiceMessage,\n    ]);\n    return sendMessage;\n};\n\nfunction useResendMessageCallback(_a, _b) {\n    var currentChannel = _a.currentChannel, resendMessageStart = _a.resendMessageStart, sendMessageSuccess = _a.sendMessageSuccess, sendMessageFailure = _a.sendMessageFailure;\n    var logger = _b.logger, pubSub = _b.pubSub;\n    return useCallback(function (failedMessage) {\n        var _a, _b, _c, _d, _e;\n        if (!(failedMessage === null || failedMessage === void 0 ? void 0 : failedMessage.isResendable)) {\n            logger.warning('Thread | useResendMessageCallback: Message is not resendable.', failedMessage);\n            return;\n        }\n        logger.info('Thread | useResendMessageCallback: Resending failedMessage start.', failedMessage);\n        if (((_a = failedMessage === null || failedMessage === void 0 ? void 0 : failedMessage.isUserMessage) === null || _a === void 0 ? void 0 : _a.call(failedMessage)) || (failedMessage === null || failedMessage === void 0 ? void 0 : failedMessage.messageType) === MessageType.USER) {\n            try {\n                currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.resendMessage(failedMessage).onPending(function (message) {\n                    logger.info('Thread | useResendMessageCallback: Resending user message started.', message);\n                    resendMessageStart(message);\n                }).onSucceeded(function (message) {\n                    logger.info('Thread | useResendMessageCallback: Resending user message succeeded.', message);\n                    sendMessageSuccess(message);\n                    pubSub.publish(pubSubTopics.SEND_USER_MESSAGE, {\n                        channel: currentChannel,\n                        message: message,\n                        publishingModules: [PublishingModuleType.THREAD],\n                    });\n                }).onFailed(function (error) {\n                    logger.warning('Thread | useResendMessageCallback: Resending user message failed.', error);\n                    failedMessage.sendingStatus = SendingStatus.FAILED;\n                    sendMessageFailure(failedMessage);\n                });\n            }\n            catch (err) {\n                logger.warning('Thread | useResendMessageCallback: Resending user message failed.', err);\n                failedMessage.sendingStatus = SendingStatus.FAILED;\n                sendMessageFailure(failedMessage);\n            }\n        }\n        else if ((_b = failedMessage === null || failedMessage === void 0 ? void 0 : failedMessage.isFileMessage) === null || _b === void 0 ? void 0 : _b.call(failedMessage)) {\n            try {\n                (_c = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.resendMessage) === null || _c === void 0 ? void 0 : _c.call(currentChannel, failedMessage).onPending(function (message) {\n                    logger.info('Thread | useResendMessageCallback: Resending file message started.', message);\n                    resendMessageStart(message);\n                }).onSucceeded(function (message) {\n                    logger.info('Thread | useResendMessageCallback: Resending file message succeeded.', message);\n                    sendMessageSuccess(message);\n                    pubSub.publish(pubSubTopics.SEND_FILE_MESSAGE, {\n                        channel: currentChannel,\n                        message: failedMessage,\n                        publishingModules: [PublishingModuleType.THREAD],\n                    });\n                }).onFailed(function (error) {\n                    logger.warning('Thread | useResendMessageCallback: Resending file message failed.', error);\n                    failedMessage.sendingStatus = SendingStatus.FAILED;\n                    sendMessageFailure(failedMessage);\n                });\n            }\n            catch (err) {\n                logger.warning('Thread | useResendMessageCallback: Resending file message failed.', err);\n                failedMessage.sendingStatus = SendingStatus.FAILED;\n                sendMessageFailure(failedMessage);\n            }\n        }\n        else if ((_d = failedMessage === null || failedMessage === void 0 ? void 0 : failedMessage.isMultipleFilesMessage) === null || _d === void 0 ? void 0 : _d.call(failedMessage)) {\n            try {\n                (_e = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.resendMessage) === null || _e === void 0 ? void 0 : _e.call(currentChannel, failedMessage).onPending(function (message) {\n                    logger.info('Thread | useResendMessageCallback: Resending multiple files message started.', message);\n                    resendMessageStart(message);\n                }).onFileUploaded(function (requestId, index, uploadableFileInfo, error) {\n                    logger.info('Thread | useResendMessageCallback: onFileUploaded during resending multiple files message.', {\n                        requestId: requestId,\n                        index: index,\n                        error: error,\n                        uploadableFileInfo: uploadableFileInfo,\n                    });\n                    pubSub.publish(pubSubTopics.ON_FILE_INFO_UPLOADED, {\n                        response: {\n                            channelUrl: currentChannel.url,\n                            requestId: requestId,\n                            index: index,\n                            uploadableFileInfo: uploadableFileInfo,\n                            error: error,\n                        },\n                        publishingModules: [PublishingModuleType.THREAD],\n                    });\n                }).onSucceeded(function (message) {\n                    logger.info('Thread | useResendMessageCallback: Resending MFM succeeded.', message);\n                    sendMessageSuccess(message);\n                    pubSub.publish(pubSubTopics.SEND_FILE_MESSAGE, {\n                        channel: currentChannel,\n                        message: message,\n                        publishingModules: [PublishingModuleType.THREAD],\n                    });\n                }).onFailed(function (error, message) {\n                    logger.warning('Thread | useResendMessageCallback: Resending MFM failed.', error);\n                    sendMessageFailure(message);\n                });\n            }\n            catch (err) {\n                logger.warning('Thread | useResendMessageCallback: Resending MFM failed.', err);\n                sendMessageFailure(failedMessage);\n            }\n        }\n        else {\n            logger.warning('Thread | useResendMessageCallback: Message is not resendable.', failedMessage);\n            failedMessage.sendingStatus = SendingStatus.FAILED;\n            sendMessageFailure(failedMessage);\n        }\n    }, [currentChannel]);\n}\n\nfunction useUpdateMessageCallback(_a, _b) {\n    var currentChannel = _a.currentChannel, isMentionEnabled = _a.isMentionEnabled, onMessageUpdated = _a.onMessageUpdated;\n    var logger = _b.logger, pubSub = _b.pubSub;\n    // TODO: add type\n    return useCallback(function (props) {\n        var _a;\n        var messageId = props.messageId, message = props.message, mentionedUsers = props.mentionedUsers, mentionTemplate = props.mentionTemplate;\n        var createParamsDefault = function () {\n            var params = {};\n            params.message = message;\n            if (isMentionEnabled && mentionedUsers && (mentionedUsers === null || mentionedUsers === void 0 ? void 0 : mentionedUsers.length) > 0) {\n                params.mentionedUsers = mentionedUsers;\n            }\n            if (isMentionEnabled && mentionTemplate) {\n                params.mentionedMessageTemplate = mentionTemplate;\n            }\n            else {\n                params.mentionedMessageTemplate = message;\n            }\n            return params;\n        };\n        var params = createParamsDefault();\n        logger.info('Thread | useUpdateMessageCallback: Message update start.', params);\n        if (currentChannel == null) {\n            logger.warning('Thread | useUpdateMessageCallback: currentChannel is null.');\n            return;\n        }\n        (_a = currentChannel.updateUserMessage) === null || _a === void 0 ? void 0 : _a.call(currentChannel, messageId, params).then(function (message) {\n            logger.info('Thread | useUpdateMessageCallback: Message update succeeded.', message);\n            onMessageUpdated(currentChannel, message);\n            pubSub.publish(pubSubTopics.UPDATE_USER_MESSAGE, {\n                fromSelector: true,\n                channel: currentChannel,\n                message: message,\n                publishingModules: [PublishingModuleType.THREAD],\n            });\n        });\n    }, [currentChannel, isMentionEnabled]);\n}\n\nfunction useDeleteMessageCallback(_a, _b) {\n    var currentChannel = _a.currentChannel, onMessageDeletedByReqId = _a.onMessageDeletedByReqId, onMessageDeleted = _a.onMessageDeleted;\n    var logger = _b.logger;\n    return useCallback(function (message) {\n        logger.info('Thread | useDeleteMessageCallback: Deleting message.', message);\n        var sendingStatus = message.sendingStatus;\n        return new Promise(function (resolve, reject) {\n            var _a;\n            logger.info('Thread | useDeleteMessageCallback: Deleting message requestState:', sendingStatus);\n            // Message is only on local\n            if (sendingStatus === 'failed' || sendingStatus === 'pending') {\n                logger.info('Thread | useDeleteMessageCallback: Deleted message from local:', message);\n                onMessageDeletedByReqId(message.reqId);\n                resolve();\n            }\n            if (currentChannel == null) {\n                logger.info('Thread | useDeleteMessageCallback: No current channel');\n                resolve();\n            }\n            logger.info('Thread | useDeleteMessageCallback: Deleting message from remote:', sendingStatus);\n            (_a = currentChannel.deleteMessage) === null || _a === void 0 ? void 0 : _a.call(currentChannel, message).then(function () {\n                logger.info('Thread | useDeleteMessageCallback: Deleting message success!', message);\n                onMessageDeleted(currentChannel, message.messageId);\n                resolve();\n            }).catch(function (err) {\n                logger.warning('Thread | useDeleteMessageCallback: Deleting message failed!', err);\n                reject(err);\n            });\n        });\n    }, [currentChannel]);\n}\n\nfunction getThreadMessageListParams(params) {\n    return __assign({ prevResultSize: PREV_THREADS_FETCH_SIZE, nextResultSize: NEXT_THREADS_FETCH_SIZE, includeMetaArray: true }, params);\n}\nvar useThreadFetchers = function (_a) {\n    var isReactionEnabled = _a.isReactionEnabled, anchorMessage = _a.anchorMessage, staleParentMessage = _a.parentMessage, logger = _a.logger, oldestMessageTimeStamp = _a.oldestMessageTimeStamp, latestMessageTimeStamp = _a.latestMessageTimeStamp, threadListState = _a.threadListState, initializeThreadListStart = _a.initializeThreadListStart, initializeThreadListSuccess = _a.initializeThreadListSuccess, initializeThreadListFailure = _a.initializeThreadListFailure, getPrevMessagesStart = _a.getPrevMessagesStart, getPrevMessagesSuccess = _a.getPrevMessagesSuccess, getPrevMessagesFailure = _a.getPrevMessagesFailure, getNextMessagesStart = _a.getNextMessagesStart, getNextMessagesSuccess = _a.getNextMessagesSuccess, getNextMessagesFailure = _a.getNextMessagesFailure;\n    var stores = useSendbird().state.stores;\n    var timestamp = (anchorMessage === null || anchorMessage === void 0 ? void 0 : anchorMessage.createdAt) || 0;\n    var initialize = useCallback(function (callback) { return __awaiter(void 0, void 0, void 0, function () {\n        var params, _a, threadedMessages_1, parentMessage, error_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!stores.sdkStore.initialized || !staleParentMessage)\n                        return [2 /*return*/];\n                    initializeThreadListStart();\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    params = getThreadMessageListParams({ includeReactions: isReactionEnabled });\n                    logger.info('Thread | useGetThreadList: Initialize thread list start.', { timestamp: timestamp, params: params });\n                    return [4 /*yield*/, staleParentMessage.getThreadedMessagesByTimestamp(timestamp, params)];\n                case 2:\n                    _a = _b.sent(), threadedMessages_1 = _a.threadedMessages, parentMessage = _a.parentMessage;\n                    logger.info('Thread | useGetThreadList: Initialize thread list succeeded.', { staleParentMessage: staleParentMessage, threadedMessages: threadedMessages_1 });\n                    initializeThreadListSuccess(parentMessage, anchorMessage, threadedMessages_1);\n                    setTimeout(function () { return callback === null || callback === void 0 ? void 0 : callback(threadedMessages_1); });\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_1 = _b.sent();\n                    logger.info('Thread | useGetThreadList: Initialize thread list failed.', error_1);\n                    initializeThreadListFailure();\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, [stores.sdkStore.initialized, staleParentMessage, anchorMessage, isReactionEnabled]);\n    var loadPrevious = useCallback(function (callback) { return __awaiter(void 0, void 0, void 0, function () {\n        var params, _a, threadedMessages_2, parentMessage, error_2;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (threadListState !== ThreadListStateTypes.INITIALIZED || oldestMessageTimeStamp === 0 || !staleParentMessage)\n                        return [2 /*return*/];\n                    getPrevMessagesStart();\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    params = getThreadMessageListParams({ nextResultSize: 0, includeReactions: isReactionEnabled });\n                    return [4 /*yield*/, staleParentMessage.getThreadedMessagesByTimestamp(oldestMessageTimeStamp, params)];\n                case 2:\n                    _a = _b.sent(), threadedMessages_2 = _a.threadedMessages, parentMessage = _a.parentMessage;\n                    logger.info('Thread | useGetPrevThreadsCallback: Fetch prev threads succeeded.', { parentMessage: parentMessage, threadedMessages: threadedMessages_2 });\n                    getPrevMessagesSuccess(threadedMessages_2);\n                    setTimeout(function () { return callback === null || callback === void 0 ? void 0 : callback(threadedMessages_2); });\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_2 = _b.sent();\n                    logger.info('Thread | useGetPrevThreadsCallback: Fetch prev threads failed.', error_2);\n                    getPrevMessagesFailure();\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, [threadListState, oldestMessageTimeStamp, isReactionEnabled, staleParentMessage]);\n    var loadNext = useCallback(function (callback) { return __awaiter(void 0, void 0, void 0, function () {\n        var params, _a, threadedMessages_3, parentMessage, error_3;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (threadListState !== ThreadListStateTypes.INITIALIZED || latestMessageTimeStamp === 0 || !staleParentMessage)\n                        return [2 /*return*/];\n                    getNextMessagesStart();\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    params = getThreadMessageListParams({ prevResultSize: 0, includeReactions: isReactionEnabled });\n                    return [4 /*yield*/, staleParentMessage.getThreadedMessagesByTimestamp(latestMessageTimeStamp, params)];\n                case 2:\n                    _a = _b.sent(), threadedMessages_3 = _a.threadedMessages, parentMessage = _a.parentMessage;\n                    logger.info('Thread | useGetNextThreadsCallback: Fetch next threads succeeded.', { parentMessage: parentMessage, threadedMessages: threadedMessages_3 });\n                    getNextMessagesSuccess(threadedMessages_3);\n                    setTimeout(function () { return callback === null || callback === void 0 ? void 0 : callback(threadedMessages_3); });\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_3 = _b.sent();\n                    logger.info('Thread | useGetNextThreadsCallback: Fetch next threads failed.', error_3);\n                    getNextMessagesFailure();\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, [threadListState, latestMessageTimeStamp, isReactionEnabled, staleParentMessage]);\n    return {\n        initializeThreadFetcher: initialize,\n        fetchPrevThreads: loadPrevious,\n        fetchNextThreads: loadNext,\n    };\n};\n\nfunction hasReqId(message) {\n    return 'reqId' in message;\n}\nvar useThread = function () {\n    var _a, _b;\n    var store = useContext(ThreadContext);\n    if (!store)\n        throw new Error('useThread must be used within a ThreadProvider');\n    // SendbirdStateContext config\n    var _c = useSendbird().state, stores = _c.stores, config = _c.config;\n    var logger = config.logger, pubSub = config.pubSub;\n    var isMentionEnabled = config.groupChannel.enableMention;\n    var isReactionEnabled = config.groupChannel.enableReactions;\n    var state = shimExports.useSyncExternalStore(store.subscribe, store.getState);\n    var message = state.message, parentMessage = state.parentMessage, currentChannel = state.currentChannel, threadListState = state.threadListState, allThreadMessages = state.allThreadMessages, onBeforeSendUserMessage = state.onBeforeSendUserMessage, onBeforeSendFileMessage = state.onBeforeSendFileMessage, onBeforeSendVoiceMessage = state.onBeforeSendVoiceMessage, onBeforeSendMultipleFilesMessage = state.onBeforeSendMultipleFilesMessage;\n    var sendMessageStatusActions = {\n        sendMessageStart: function (message) { return store.setState(function (state) {\n            return __assign(__assign({}, state), { localThreadMessages: __spreadArray(__spreadArray([], state.localThreadMessages, true), [\n                    message,\n                ], false) });\n        }); },\n        sendMessageSuccess: function (message) { return store.setState(function (state) {\n            return __assign(__assign({}, state), { allThreadMessages: __spreadArray(__spreadArray([], state.allThreadMessages.filter(function (m) { return (!compareIds(m === null || m === void 0 ? void 0 : m.reqId, message === null || message === void 0 ? void 0 : message.reqId)); }), true), [\n                    message,\n                ], false), localThreadMessages: state.localThreadMessages.filter(function (m) { return (!compareIds(m === null || m === void 0 ? void 0 : m.reqId, message === null || message === void 0 ? void 0 : message.reqId)); }) });\n        }); },\n        sendMessageFailure: function (message) { return store.setState(function (state) {\n            return __assign(__assign({}, state), { localThreadMessages: state.localThreadMessages.map(function (m) { return (compareIds(m === null || m === void 0 ? void 0 : m.reqId, message === null || message === void 0 ? void 0 : message.reqId)\n                    ? message\n                    : m); }) });\n        }); },\n        resendMessageStart: function (message) { return store.setState(function (state) {\n            return __assign(__assign({}, state), { localThreadMessages: state.localThreadMessages.map(function (m) { return (compareIds(m === null || m === void 0 ? void 0 : m.reqId, message === null || message === void 0 ? void 0 : message.reqId)\n                    ? message\n                    : m); }) });\n        }); },\n    };\n    var toggleReaction = useToggleReactionCallback({ currentChannel: currentChannel }, { logger: logger });\n    var sendMessageActions = {\n        sendMessage: useSendUserMessageCallback({\n            isMentionEnabled: isMentionEnabled,\n            currentChannel: currentChannel,\n            onBeforeSendUserMessage: onBeforeSendUserMessage,\n            sendMessageStart: sendMessageStatusActions.sendMessageStart,\n            sendMessageFailure: sendMessageStatusActions.sendMessageFailure,\n        }, {\n            logger: logger,\n            pubSub: pubSub,\n        }),\n        sendFileMessage: useSendFileMessageCallback({\n            currentChannel: currentChannel,\n            onBeforeSendFileMessage: onBeforeSendFileMessage,\n            sendMessageStart: sendMessageStatusActions.sendMessageStart,\n            sendMessageFailure: sendMessageStatusActions.sendMessageFailure,\n        }, {\n            logger: logger,\n            pubSub: pubSub,\n        }),\n        sendVoiceMessage: useSendVoiceMessageCallback({\n            currentChannel: currentChannel,\n            onBeforeSendVoiceMessage: onBeforeSendVoiceMessage,\n            sendMessageStart: sendMessageStatusActions.sendMessageStart,\n            sendMessageFailure: sendMessageStatusActions.sendMessageFailure,\n        }, {\n            logger: logger,\n            pubSub: pubSub,\n        }),\n        sendMultipleFilesMessage: useSendMultipleFilesMessage({\n            currentChannel: currentChannel,\n            onBeforeSendMultipleFilesMessage: onBeforeSendMultipleFilesMessage,\n            publishingModules: [PublishingModuleType.THREAD],\n        }, {\n            logger: logger,\n            pubSub: pubSub,\n        })[0],\n        resendMessage: useResendMessageCallback({\n            resendMessageStart: sendMessageStatusActions.resendMessageStart,\n            sendMessageSuccess: sendMessageStatusActions.sendMessageSuccess,\n            sendMessageFailure: sendMessageStatusActions.sendMessageFailure,\n            currentChannel: currentChannel,\n        }, { logger: logger, pubSub: pubSub }),\n    };\n    var messageModifiedActions = {\n        onMessageUpdated: function (channel, message) { return store.setState(function (state) {\n            var _a, _b, _c;\n            if (((_a = state.currentChannel) === null || _a === void 0 ? void 0 : _a.url) !== (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { parentMessage: ((_b = state.parentMessage) === null || _b === void 0 ? void 0 : _b.messageId) === (message === null || message === void 0 ? void 0 : message.messageId)\n                    ? message\n                    : state.parentMessage, allThreadMessages: (_c = state.allThreadMessages) === null || _c === void 0 ? void 0 : _c.map(function (msg) { return (((msg === null || msg === void 0 ? void 0 : msg.messageId) === (message === null || message === void 0 ? void 0 : message.messageId)) ? message : msg); }) });\n        }); },\n        onMessageDeleted: function (channel, messageId) { return store.setState(function (state) {\n            var _a, _b, _c, _d;\n            if (((_a = state.currentChannel) === null || _a === void 0 ? void 0 : _a.url) !== (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                return state;\n            }\n            if (((_b = state === null || state === void 0 ? void 0 : state.parentMessage) === null || _b === void 0 ? void 0 : _b.messageId) === messageId) {\n                return __assign(__assign({}, state), { parentMessage: null, parentMessageState: ParentMessageStateTypes.NIL, allThreadMessages: [] });\n            }\n            return __assign(__assign({}, state), { allThreadMessages: (_c = state.allThreadMessages) === null || _c === void 0 ? void 0 : _c.filter(function (msg) { return ((msg === null || msg === void 0 ? void 0 : msg.messageId) !== messageId); }), localThreadMessages: (_d = state.localThreadMessages) === null || _d === void 0 ? void 0 : _d.filter(function (msg) { return ((msg === null || msg === void 0 ? void 0 : msg.messageId) !== messageId); }) });\n        }); },\n        onMessageDeletedByReqId: function (reqId) { return store.setState(function (state) {\n            return __assign(__assign({}, state), { localThreadMessages: state.localThreadMessages.filter(function (m) { return (!compareIds(m.reqId, reqId)); }) });\n        }); },\n    };\n    var modifyMessageActions = {\n        updateMessage: useUpdateMessageCallback({\n            currentChannel: currentChannel,\n            isMentionEnabled: isMentionEnabled,\n            onMessageUpdated: messageModifiedActions.onMessageUpdated,\n        }, { logger: logger, pubSub: pubSub }),\n        deleteMessage: useDeleteMessageCallback({\n            currentChannel: currentChannel,\n            onMessageDeleted: messageModifiedActions.onMessageDeleted,\n            onMessageDeletedByReqId: messageModifiedActions.onMessageDeletedByReqId,\n        }, { logger: logger }),\n    };\n    var threadFetcherStatusActions = {\n        initializeThreadListStart: function () { return store.setState(function (state) {\n            return __assign(__assign({}, state), { threadListState: ThreadListStateTypes.LOADING, allThreadMessages: [] });\n        }); },\n        initializeThreadListSuccess: function (parentMessage, anchorMessage, threadedMessages) { return store.setState(function (state) {\n            var anchorMessageCreatedAt = (!(anchorMessage === null || anchorMessage === void 0 ? void 0 : anchorMessage.messageId)) ? parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.createdAt : anchorMessage === null || anchorMessage === void 0 ? void 0 : anchorMessage.createdAt;\n            var anchorIndex = threadedMessages.findIndex(function (message) { return (message === null || message === void 0 ? void 0 : message.createdAt) > anchorMessageCreatedAt; });\n            var prevThreadMessages = anchorIndex > -1 ? threadedMessages.slice(0, anchorIndex) : threadedMessages;\n            var anchorThreadMessage = (anchorMessage === null || anchorMessage === void 0 ? void 0 : anchorMessage.messageId) ? [anchorMessage] : [];\n            var nextThreadMessages = anchorIndex > -1 ? threadedMessages.slice(anchorIndex) : [];\n            return __assign(__assign({}, state), { threadListState: ThreadListStateTypes.INITIALIZED, hasMorePrev: anchorIndex === -1 || anchorIndex === PREV_THREADS_FETCH_SIZE, hasMoreNext: threadedMessages.length - anchorIndex === NEXT_THREADS_FETCH_SIZE, allThreadMessages: [prevThreadMessages, anchorThreadMessage, nextThreadMessages].flat() });\n        }); },\n        initializeThreadListFailure: function () { return store.setState(function (state) {\n            return __assign(__assign({}, state), { threadListState: ThreadListStateTypes.LOADING, allThreadMessages: [] });\n        }); },\n        getPrevMessagesStart: function () { return store.setState(function (state) {\n            return __assign({}, state);\n        }); },\n        getPrevMessagesSuccess: function (threadedMessages) { return store.setState(function (state) {\n            return __assign(__assign({}, state), { hasMorePrev: threadedMessages.length === PREV_THREADS_FETCH_SIZE, allThreadMessages: __spreadArray(__spreadArray([], threadedMessages, true), state.allThreadMessages, true) });\n        }); },\n        getPrevMessagesFailure: function () { return store.setState(function (state) {\n            return __assign(__assign({}, state), { hasMorePrev: false });\n        }); },\n        getNextMessagesStart: function () { return store.setState(function (state) {\n            return __assign({}, state);\n        }); },\n        getNextMessagesSuccess: function (threadedMessages) { return store.setState(function (state) {\n            return __assign(__assign({}, state), { hasMoreNext: threadedMessages.length === NEXT_THREADS_FETCH_SIZE, allThreadMessages: __spreadArray(__spreadArray([], state.allThreadMessages, true), threadedMessages, true) });\n        }); },\n        getNextMessagesFailure: function () { return store.setState(function (state) {\n            return __assign(__assign({}, state), { hasMoreNext: false });\n        }); },\n    };\n    var _d = useThreadFetchers({\n        parentMessage: parentMessage,\n        // anchorMessage should be null when parentMessage doesn't exist\n        anchorMessage: (message === null || message === void 0 ? void 0 : message.messageId) !== (parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.messageId) ? message || undefined : undefined,\n        logger: logger,\n        isReactionEnabled: isReactionEnabled,\n        threadListState: threadListState,\n        oldestMessageTimeStamp: ((_a = allThreadMessages[0]) === null || _a === void 0 ? void 0 : _a.createdAt) || 0,\n        latestMessageTimeStamp: ((_b = allThreadMessages[allThreadMessages.length - 1]) === null || _b === void 0 ? void 0 : _b.createdAt) || 0,\n        initializeThreadListStart: threadFetcherStatusActions.initializeThreadListStart,\n        initializeThreadListSuccess: threadFetcherStatusActions.initializeThreadListSuccess,\n        initializeThreadListFailure: threadFetcherStatusActions.initializeThreadListFailure,\n        getPrevMessagesStart: threadFetcherStatusActions.getPrevMessagesStart,\n        getPrevMessagesSuccess: threadFetcherStatusActions.getPrevMessagesSuccess,\n        getPrevMessagesFailure: threadFetcherStatusActions.getPrevMessagesFailure,\n        getNextMessagesStart: threadFetcherStatusActions.getNextMessagesStart,\n        getNextMessagesSuccess: threadFetcherStatusActions.getNextMessagesSuccess,\n        getNextMessagesFailure: threadFetcherStatusActions.getNextMessagesFailure,\n    }), initializeThreadFetcher = _d.initializeThreadFetcher, fetchPrevThreads = _d.fetchPrevThreads, fetchNextThreads = _d.fetchNextThreads;\n    var actions = useMemo(function () { return (__assign(__assign(__assign(__assign(__assign(__assign({ setCurrentUserId: function (currentUserId) { return store.setState(function (state) { return (__assign(__assign({}, state), { currentUserId: currentUserId })); }); }, getChannelStart: function () { return store.setState(function (state) { return (__assign(__assign({}, state), { channelState: ChannelStateTypes.LOADING, currentChannel: null })); }); }, getChannelSuccess: function (groupChannel) { return store.setState(function (state) {\n            var _a, _b;\n            return (__assign(__assign({}, state), { channelState: ChannelStateTypes.INITIALIZED, currentChannel: groupChannel, \n                // only support in normal group channel\n                isMuted: ((_b = (_a = groupChannel === null || groupChannel === void 0 ? void 0 : groupChannel.members) === null || _a === void 0 ? void 0 : _a.find(function (member) { return (member === null || member === void 0 ? void 0 : member.userId) === state.currentUserId; })) === null || _b === void 0 ? void 0 : _b.isMuted) || false, isChannelFrozen: (groupChannel === null || groupChannel === void 0 ? void 0 : groupChannel.isFrozen) || false }));\n        }); }, getChannelFailure: function () { return store.setState(function (state) { return (__assign(__assign({}, state), { channelState: ChannelStateTypes.INVALID, currentChannel: null })); }); }, getParentMessageStart: function () { return store.setState(function (state) { return (__assign(__assign({}, state), { parentMessageState: ParentMessageStateTypes.LOADING, parentMessage: null })); }); }, getParentMessageSuccess: function (parentMessage) { return store.setState(function (state) { return (__assign(__assign({}, state), { parentMessageState: ParentMessageStateTypes.INITIALIZED, parentMessage: parentMessage })); }); }, getParentMessageFailure: function () { return store.setState(function (state) { return (__assign(__assign({}, state), { parentMessageState: ParentMessageStateTypes.INVALID, parentMessage: null })); }); }, setEmojiContainer: function (emojiContainer) { return store.setState(function (state) { return (__assign(__assign({}, state), { emojiContainer: emojiContainer })); }); }, onMessageReceived: function (channel, message) { return store.setState(function (state) {\n            var _a, _b, _c, _d;\n            if (((_a = state.currentChannel) === null || _a === void 0 ? void 0 : _a.url) !== (channel === null || channel === void 0 ? void 0 : channel.url)\n                || state.hasMoreNext\n                || ((_b = message === null || message === void 0 ? void 0 : message.parentMessage) === null || _b === void 0 ? void 0 : _b.messageId) !== ((_c = state === null || state === void 0 ? void 0 : state.parentMessage) === null || _c === void 0 ? void 0 : _c.messageId)) {\n                return state;\n            }\n            var isAlreadyReceived = state.allThreadMessages.findIndex(function (m) { return (m.messageId === message.messageId); }) > -1;\n            return __assign(__assign({}, state), { parentMessage: ((_d = state.parentMessage) === null || _d === void 0 ? void 0 : _d.messageId) === (message === null || message === void 0 ? void 0 : message.messageId) ? message : state.parentMessage, allThreadMessages: isAlreadyReceived\n                    ? state.allThreadMessages.map(function (m) { return (m.messageId === message.messageId ? message : m); })\n                    : __spreadArray(__spreadArray([], state.allThreadMessages.filter(function (m) { return (m === null || m === void 0 ? void 0 : m.reqId) !== (message === null || message === void 0 ? void 0 : message.reqId); }), true), [\n                        message,\n                    ], false) });\n        }); }, onReactionUpdated: function (reactionEvent) { return store.setState(function (state) {\n            var _a, _b, _c;\n            if (((_a = state === null || state === void 0 ? void 0 : state.parentMessage) === null || _a === void 0 ? void 0 : _a.messageId) === (reactionEvent === null || reactionEvent === void 0 ? void 0 : reactionEvent.messageId)) {\n                (_c = (_b = state.parentMessage) === null || _b === void 0 ? void 0 : _b.applyReactionEvent) === null || _c === void 0 ? void 0 : _c.call(_b, reactionEvent);\n            }\n            return __assign(__assign({}, state), { allThreadMessages: state.allThreadMessages.map(function (m) {\n                    var _a;\n                    if ((reactionEvent === null || reactionEvent === void 0 ? void 0 : reactionEvent.messageId) === (m === null || m === void 0 ? void 0 : m.messageId)) {\n                        (_a = m === null || m === void 0 ? void 0 : m.applyReactionEvent) === null || _a === void 0 ? void 0 : _a.call(m, reactionEvent);\n                        return m;\n                    }\n                    return m;\n                }) });\n        }); }, onUserMuted: function (channel, user) { return store.setState(function (state) {\n            var _a;\n            if (((_a = state.currentChannel) === null || _a === void 0 ? void 0 : _a.url) !== (channel === null || channel === void 0 ? void 0 : channel.url) || state.currentUserId !== (user === null || user === void 0 ? void 0 : user.userId)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { isMuted: true });\n        }); }, onUserUnmuted: function (channel, user) { return store.setState(function (state) {\n            var _a;\n            if (((_a = state.currentChannel) === null || _a === void 0 ? void 0 : _a.url) !== (channel === null || channel === void 0 ? void 0 : channel.url) || state.currentUserId !== (user === null || user === void 0 ? void 0 : user.userId)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { isMuted: false });\n        }); }, onUserBanned: function () { return store.setState(function (state) {\n            return __assign(__assign({}, state), { channelState: ChannelStateTypes.NIL, threadListState: ThreadListStateTypes.NIL, parentMessageState: ParentMessageStateTypes.NIL, currentChannel: null, parentMessage: null, allThreadMessages: [], hasMorePrev: false, hasMoreNext: false });\n        }); }, onUserUnbanned: function () { return store.setState(function (state) {\n            return __assign({}, state);\n        }); }, onUserLeft: function () { return store.setState(function (state) {\n            return __assign(__assign({}, state), { channelState: ChannelStateTypes.NIL, threadListState: ThreadListStateTypes.NIL, parentMessageState: ParentMessageStateTypes.NIL, currentChannel: null, parentMessage: null, allThreadMessages: [], hasMorePrev: false, hasMoreNext: false });\n        }); }, onChannelFrozen: function () { return store.setState(function (state) {\n            return __assign(__assign({}, state), { isChannelFrozen: true });\n        }); }, onChannelUnfrozen: function () { return store.setState(function (state) {\n            return __assign(__assign({}, state), { isChannelFrozen: false });\n        }); }, onOperatorUpdated: function (channel) { return store.setState(function (state) {\n            var _a;\n            if ((channel === null || channel === void 0 ? void 0 : channel.url) === ((_a = state.currentChannel) === null || _a === void 0 ? void 0 : _a.url)) {\n                return __assign(__assign({}, state), { currentChannel: channel });\n            }\n            return state;\n        }); }, onTypingStatusUpdated: function (channel, typingMembers) { return store.setState(function (state) {\n            var _a;\n            if (!compareIds(channel.url, (_a = state.currentChannel) === null || _a === void 0 ? void 0 : _a.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { typingMembers: typingMembers });\n        }); }, onFileInfoUpdated: function (_a) {\n            var channelUrl = _a.channelUrl, requestId = _a.requestId, index = _a.index, uploadableFileInfo = _a.uploadableFileInfo, error = _a.error;\n            return store.setState(function (state) {\n                var _a, _b;\n                if (!compareIds(channelUrl, (_a = state.currentChannel) === null || _a === void 0 ? void 0 : _a.url)) {\n                    return state;\n                }\n                /**\n                 * We don't have to do anything here because\n                 * onFailed() will be called so handle error there instead.\n                 */\n                if (error)\n                    return state;\n                var localThreadMessages = state.localThreadMessages;\n                var messageToUpdate = localThreadMessages.find(function (message) { return compareIds(hasReqId(message) && message.reqId, requestId); });\n                var fileInfoList = (_b = messageToUpdate\n                    .messageParams) === null || _b === void 0 ? void 0 : _b.fileInfoList;\n                if (Array.isArray(fileInfoList)) {\n                    fileInfoList[index] = uploadableFileInfo;\n                }\n                return __assign(__assign({}, state), { localThreadMessages: localThreadMessages });\n            });\n        }, toggleReaction: toggleReaction }, sendMessageStatusActions), sendMessageActions), messageModifiedActions), modifyMessageActions), threadFetcherStatusActions), { initializeThreadFetcher: initializeThreadFetcher, fetchPrevThreads: fetchPrevThreads, fetchNextThreads: fetchNextThreads })); }, [\n        store,\n        currentChannel,\n        stores.sdkStore.initialized,\n        parentMessage,\n    ]);\n    return { state: state, actions: actions };\n};\n\nfunction useGetChannel(_a, _b) {\n    var channelUrl = _a.channelUrl, sdkInit = _a.sdkInit, message = _a.message;\n    var sdk = _b.sdk, logger = _b.logger;\n    var _c = useThread().actions, getChannelStart = _c.getChannelStart, getChannelSuccess = _c.getChannelSuccess, getChannelFailure = _c.getChannelFailure;\n    useEffect(function () {\n        var _a, _b;\n        // validation check\n        if (sdkInit && channelUrl && (sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel)) {\n            logger.info('Thread | useInitialize: Get channel started');\n            getChannelStart();\n            (_b = (_a = sdk.groupChannel).getChannel) === null || _b === void 0 ? void 0 : _b.call(_a, channelUrl).then(function (groupChannel) {\n                logger.info('Thread | useInitialize: Get channel succeeded', groupChannel);\n                getChannelSuccess(groupChannel);\n            }).catch(function (error) {\n                logger.info('Thread | useInitialize: Get channel failed', error);\n                getChannelFailure();\n            });\n        }\n    }, [message, sdkInit]);\n    /**\n     * We don't use channelUrl here,\n     * because Thread must operate independently of the channel.\n     */\n}\n\nfunction useGetAllEmoji(_a, _b) {\n    var sdk = _a.sdk;\n    var logger = _b.logger;\n    var setEmojiContainer = useThread().actions.setEmojiContainer;\n    useEffect(function () {\n        if (sdk === null || sdk === void 0 ? void 0 : sdk.getAllEmoji) { // validation check\n            sdk === null || sdk === void 0 ? void 0 : sdk.getAllEmoji().then(function (emojiContainer) {\n                logger.info('Thread | useGetAllEmoji: Getting emojis succeeded.', emojiContainer);\n                setEmojiContainer(emojiContainer);\n            }).catch(function (error) {\n                logger.info('Thread | useGetAllEmoji: Getting emojis failed.', error);\n            });\n        }\n    }, [sdk]);\n}\n\nfunction useGetParentMessage(_a, _b) {\n    var channelUrl = _a.channelUrl, sdkInit = _a.sdkInit, parentMessage = _a.parentMessage;\n    var sdk = _b.sdk, logger = _b.logger;\n    var _c = useThread().actions, getParentMessageStart = _c.getParentMessageStart, getParentMessageSuccess = _c.getParentMessageSuccess, getParentMessageFailure = _c.getParentMessageFailure;\n    useEffect(function () {\n        var _a, _b, _c;\n        // validation check\n        if (sdkInit && ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.message) === null || _a === void 0 ? void 0 : _a.getMessage) && parentMessage) {\n            getParentMessageStart();\n            var params = {\n                channelUrl: channelUrl,\n                channelType: ChannelType.GROUP,\n                messageId: parentMessage.messageId,\n                includeMetaArray: true,\n                includeReactions: true,\n                includeThreadInfo: true,\n                includeParentMessageInfo: true,\n            };\n            logger.info('Thread | useGetParentMessage: Get parent message start.', params);\n            (_c = (_b = sdk.message).getMessage) === null || _c === void 0 ? void 0 : _c.call(_b, params).then(function (parentMsg) {\n                logger.info('Thread | useGetParentMessage: Get parent message succeeded.', parentMessage);\n                // @ts-ignore\n                parentMsg.ogMetaData = (parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.ogMetaData) || null; // ogMetaData is not included for now\n                // @ts-ignore\n                getParentMessageSuccess(parentMsg);\n            }).catch(function (error) {\n                logger.info('Thread | useGetParentMessage: Get parent message failed.', error);\n                getParentMessageFailure();\n            });\n        }\n    }, [sdkInit, parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.messageId]);\n    /**\n     * We don't use channelUrl here,\n     * because Thread must operate independently of the channel.\n     */\n}\n\nfunction useHandleThreadPubsubEvents(_a, _b) {\n    var sdkInit = _a.sdkInit, currentChannel = _a.currentChannel, parentMessage = _a.parentMessage;\n    var pubSub = _b.pubSub;\n    var _c = useThread().actions, sendMessageStart = _c.sendMessageStart, sendMessageSuccess = _c.sendMessageSuccess, sendMessageFailure = _c.sendMessageFailure, onFileInfoUpdated = _c.onFileInfoUpdated, onMessageUpdated = _c.onMessageUpdated, onMessageDeleted = _c.onMessageDeleted;\n    useEffect(function () {\n        var subscriber = new Map();\n        if (pubSub === null || pubSub === void 0 ? void 0 : pubSub.subscribe) {\n            // TODO: subscribe ON_FILE_INFO_UPLOADED\n            subscriber.set(pubSubTopics.SEND_MESSAGE_START, pubSub.subscribe(pubSubTopics.SEND_MESSAGE_START, function (props) {\n                var _a, _b;\n                var channel = props.channel, message = props.message, publishingModules = props.publishingModules;\n                if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (channel === null || channel === void 0 ? void 0 : channel.url) && (message === null || message === void 0 ? void 0 : message.parentMessageId) === (parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.messageId) && shouldPubSubPublishToThread(publishingModules)) {\n                    // TODO: const clonedMessage = cloneMessage(message);\n                    var pendingMessage = __assign({}, message);\n                    if (message.isMultipleFilesMessage()) {\n                        pendingMessage.fileInfoList = (_b = (_a = message === null || message === void 0 ? void 0 : message.messageParams) === null || _a === void 0 ? void 0 : _a.fileInfoList.map(function (fileInfo) { return (__assign(__assign({}, fileInfo), { url: URL.createObjectURL(fileInfo.file) })); })) !== null && _b !== void 0 ? _b : [];\n                    }\n                    sendMessageStart(message);\n                }\n                scrollIntoLast === null || scrollIntoLast === void 0 ? void 0 : scrollIntoLast();\n            }));\n            subscriber.set(PUBSUB_TOPICS.ON_FILE_INFO_UPLOADED, pubSub.subscribe(PUBSUB_TOPICS.ON_FILE_INFO_UPLOADED, function (props) {\n                var response = props.response, publishingModules = props.publishingModules;\n                if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === response.channelUrl && shouldPubSubPublishToThread(publishingModules)) {\n                    onFileInfoUpdated(response);\n                }\n            }));\n            subscriber.set(pubSubTopics.SEND_USER_MESSAGE, pubSub.subscribe(pubSubTopics.SEND_USER_MESSAGE, function (props) {\n                var _a = props, channel = _a.channel, message = _a.message;\n                if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (channel === null || channel === void 0 ? void 0 : channel.url)\n                    && (message === null || message === void 0 ? void 0 : message.parentMessageId) === (parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.messageId)) {\n                    sendMessageSuccess(message);\n                }\n                scrollIntoLast === null || scrollIntoLast === void 0 ? void 0 : scrollIntoLast();\n            }));\n            subscriber.set(pubSubTopics.SEND_MESSAGE_FAILED, pubSub.subscribe(pubSubTopics.SEND_MESSAGE_FAILED, function (props) {\n                var channel = props.channel, message = props.message, publishingModules = props.publishingModules;\n                if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (channel === null || channel === void 0 ? void 0 : channel.url) && (message === null || message === void 0 ? void 0 : message.parentMessageId) === (parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.messageId) && shouldPubSubPublishToThread(publishingModules)) {\n                    sendMessageFailure(message);\n                }\n            }));\n            subscriber.set(pubSubTopics.SEND_FILE_MESSAGE, pubSub.subscribe(pubSubTopics.SEND_FILE_MESSAGE, function (props) {\n                var channel = props.channel, message = props.message, publishingModules = props.publishingModules;\n                if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (channel === null || channel === void 0 ? void 0 : channel.url) && shouldPubSubPublishToThread(publishingModules)) {\n                    sendMessageSuccess(message);\n                }\n                scrollIntoLast === null || scrollIntoLast === void 0 ? void 0 : scrollIntoLast();\n            }));\n            subscriber.set(pubSubTopics.UPDATE_USER_MESSAGE, pubSub.subscribe(pubSubTopics.UPDATE_USER_MESSAGE, function (props) {\n                var _a = props, channel = _a.channel, message = _a.message;\n                if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                    onMessageUpdated(channel, message);\n                }\n            }));\n            subscriber.set(pubSubTopics.DELETE_MESSAGE, pubSub.subscribe(pubSubTopics.DELETE_MESSAGE, function (props) {\n                var _a = props, channel = _a.channel, messageId = _a.messageId;\n                onMessageDeleted(channel, messageId);\n            }));\n        }\n        return function () {\n            subscriber === null || subscriber === void 0 ? void 0 : subscriber.forEach(function (s) {\n                try {\n                    s === null || s === void 0 ? void 0 : s.remove();\n                }\n                catch (_a) {\n                    //\n                }\n            });\n        };\n    }, [sdkInit, currentChannel, parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.messageId]);\n}\n\nfunction useHandleChannelEvents(_a, _b) {\n    var sdk = _a.sdk, currentChannel = _a.currentChannel;\n    var logger = _b.logger;\n    var _c = useThread().actions, onMessageReceived = _c.onMessageReceived, onMessageUpdated = _c.onMessageUpdated, onMessageDeleted = _c.onMessageDeleted, onReactionUpdated = _c.onReactionUpdated, onUserMuted = _c.onUserMuted, onUserUnmuted = _c.onUserUnmuted, onUserBanned = _c.onUserBanned, onUserUnbanned = _c.onUserUnbanned, onUserLeft = _c.onUserLeft, onChannelFrozen = _c.onChannelFrozen, onChannelUnfrozen = _c.onChannelUnfrozen, onOperatorUpdated = _c.onOperatorUpdated, onTypingStatusUpdated = _c.onTypingStatusUpdated;\n    useEffect(function () {\n        var _a, _b, _c;\n        var handlerId = uuidv4();\n        // validation check\n        if (((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.addGroupChannelHandler)\n            && currentChannel) {\n            var channelHandlerParams = {\n                // message status change\n                onMessageReceived: function (channel, message) {\n                    logger.info('Thread | useHandleChannelEvents: onMessageReceived', { channel: channel, message: message });\n                    onMessageReceived(channel, message);\n                },\n                onMessageUpdated: function (channel, message) {\n                    logger.info('Thread | useHandleChannelEvents: onMessageUpdated', { channel: channel, message: message });\n                    onMessageUpdated(channel, message);\n                },\n                onMessageDeleted: function (channel, messageId) {\n                    logger.info('Thread | useHandleChannelEvents: onMessageDeleted', { channel: channel, messageId: messageId });\n                    onMessageDeleted(channel, messageId);\n                },\n                onReactionUpdated: function (channel, reactionEvent) {\n                    logger.info('Thread | useHandleChannelEvents: onReactionUpdated', { channel: channel, reactionEvent: reactionEvent });\n                    onReactionUpdated(reactionEvent);\n                },\n                // user status change\n                onUserMuted: function (channel, user) {\n                    logger.info('Thread | useHandleChannelEvents: onUserMuted', { channel: channel, user: user });\n                    onUserMuted(channel, user);\n                },\n                onUserUnmuted: function (channel, user) {\n                    logger.info('Thread | useHandleChannelEvents: onUserUnmuted', { channel: channel, user: user });\n                    onUserUnmuted(channel, user);\n                },\n                onUserBanned: function (channel, user) {\n                    logger.info('Thread | useHandleChannelEvents: onUserBanned', { channel: channel, user: user });\n                    onUserBanned();\n                },\n                onUserUnbanned: function (channel, user) {\n                    logger.info('Thread | useHandleChannelEvents: onUserUnbanned', { channel: channel, user: user });\n                    onUserUnbanned();\n                },\n                onUserLeft: function (channel, user) {\n                    logger.info('Thread | useHandleChannelEvents: onUserLeft', { channel: channel, user: user });\n                    onUserLeft();\n                },\n                // channel status change\n                onChannelFrozen: function (channel) {\n                    logger.info('Thread | useHandleChannelEvents: onChannelFrozen', { channel: channel });\n                    onChannelFrozen();\n                },\n                onChannelUnfrozen: function (channel) {\n                    logger.info('Thread | useHandleChannelEvents: onChannelUnfrozen', { channel: channel });\n                    onChannelUnfrozen();\n                },\n                onOperatorUpdated: function (channel, users) {\n                    logger.info('Thread | useHandleChannelEvents: onOperatorUpdated', { channel: channel, users: users });\n                    onOperatorUpdated(channel);\n                },\n                onTypingStatusUpdated: function (channel) {\n                    if (compareIds$1(channel === null || channel === void 0 ? void 0 : channel.url, currentChannel.url)) {\n                        logger.info('Channel | onTypingStatusUpdated', { channel: channel });\n                        var typingMembers = channel.getTypingUsers();\n                        onTypingStatusUpdated(channel, typingMembers);\n                    }\n                },\n            };\n            var channelHandler = new GroupChannelHandler(channelHandlerParams);\n            (_c = (_b = sdk.groupChannel).addGroupChannelHandler) === null || _c === void 0 ? void 0 : _c.call(_b, handlerId, channelHandler);\n            logger.info('Thread | useHandleChannelEvents: Added channelHandler in Thread', { handlerId: handlerId, channelHandler: channelHandler });\n        }\n        return function () {\n            var _a, _b, _c;\n            // validation check\n            if (handlerId && ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.removeGroupChannelHandler)) {\n                (_c = (_b = sdk.groupChannel).removeGroupChannelHandler) === null || _c === void 0 ? void 0 : _c.call(_b, handlerId);\n                logger.info('Thread | useHandleChannelEvents: Removed channelHandler in Thread.', handlerId);\n            }\n        };\n    }, [\n        sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel,\n        currentChannel,\n    ]);\n}\n\nfunction useSetCurrentUserId(_a) {\n    var user = _a.user;\n    var setCurrentUserId = useThread().actions.setCurrentUserId;\n    useEffect(function () {\n        setCurrentUserId(user === null || user === void 0 ? void 0 : user.userId);\n    }, [user === null || user === void 0 ? void 0 : user.userId]);\n}\n\nvar initialState = {\n    channelUrl: '',\n    message: null,\n    onHeaderActionClick: undefined,\n    onMoveToParentMessage: undefined,\n    onBeforeSendUserMessage: undefined,\n    onBeforeSendFileMessage: undefined,\n    onBeforeSendVoiceMessage: undefined,\n    onBeforeSendMultipleFilesMessage: undefined,\n    onBeforeDownloadFileMessage: undefined,\n    isMultipleFilesMessageEnabled: undefined,\n    filterEmojiCategoryIds: undefined,\n    currentChannel: null,\n    allThreadMessages: [],\n    localThreadMessages: [],\n    parentMessage: null,\n    channelState: ChannelStateTypes.NIL,\n    parentMessageState: ParentMessageStateTypes.NIL,\n    threadListState: ThreadListStateTypes.NIL,\n    hasMorePrev: false,\n    hasMoreNext: false,\n    emojiContainer: {},\n    isMuted: false,\n    isChannelFrozen: false,\n    currentUserId: '',\n    typingMembers: [],\n    nicknamesMap: null,\n};\nvar ThreadContext = React__default.createContext(null);\nvar createThreadStore = function (props) { return createStore(__assign(__assign({}, initialState), props)); };\nvar InternalThreadProvider = function (props) {\n    var children = props.children;\n    var defaultProps = {\n        channelUrl: props === null || props === void 0 ? void 0 : props.channelUrl,\n        message: props === null || props === void 0 ? void 0 : props.message,\n        onHeaderActionClick: props === null || props === void 0 ? void 0 : props.onHeaderActionClick,\n        onMoveToParentMessage: props === null || props === void 0 ? void 0 : props.onMoveToParentMessage,\n        onBeforeSendUserMessage: props === null || props === void 0 ? void 0 : props.onBeforeSendUserMessage,\n        onBeforeSendFileMessage: props === null || props === void 0 ? void 0 : props.onBeforeSendFileMessage,\n        onBeforeSendVoiceMessage: props === null || props === void 0 ? void 0 : props.onBeforeSendVoiceMessage,\n        onBeforeSendMultipleFilesMessage: props === null || props === void 0 ? void 0 : props.onBeforeSendMultipleFilesMessage,\n        onBeforeDownloadFileMessage: props === null || props === void 0 ? void 0 : props.onBeforeDownloadFileMessage,\n        isMultipleFilesMessageEnabled: props === null || props === void 0 ? void 0 : props.isMultipleFilesMessageEnabled,\n        filterEmojiCategoryIds: props === null || props === void 0 ? void 0 : props.filterEmojiCategoryIds,\n    };\n    var storeRef = useRef(createThreadStore(defaultProps));\n    return (React__default.createElement(ThreadContext.Provider, { value: storeRef.current }, children));\n};\nvar ThreadManager = function (props) {\n    var message = props.message, channelUrl = props.channelUrl, onHeaderActionClick = props.onHeaderActionClick, onMoveToParentMessage = props.onMoveToParentMessage, onBeforeSendUserMessage = props.onBeforeSendUserMessage, onBeforeSendFileMessage = props.onBeforeSendFileMessage, onBeforeSendVoiceMessage = props.onBeforeSendVoiceMessage, onBeforeSendMultipleFilesMessage = props.onBeforeSendMultipleFilesMessage, onBeforeDownloadFileMessage = props.onBeforeDownloadFileMessage, isMultipleFilesMessageEnabled = props.isMultipleFilesMessageEnabled, filterEmojiCategoryIds = props.filterEmojiCategoryIds;\n    var _a = useThread(), _b = _a.state, currentChannel = _b.currentChannel, parentMessage = _b.parentMessage, initializeThreadFetcher = _a.actions.initializeThreadFetcher;\n    var updateState = useThreadStore().updateState;\n    var propsParentMessage = getParentMessageFrom(message);\n    // Context from SendbirdProvider\n    var _c = useSendbird().state, stores = _c.stores, config = _c.config;\n    // // stores\n    var sdkStore = stores.sdkStore, userStore = stores.userStore;\n    var sdk = sdkStore.sdk;\n    var user = userStore.user;\n    var sdkInit = sdkStore === null || sdkStore === void 0 ? void 0 : sdkStore.initialized;\n    // // config\n    var logger = config.logger, pubSub = config.pubSub;\n    // Initialization\n    useSetCurrentUserId({ user: user });\n    useGetChannel({\n        channelUrl: channelUrl,\n        sdkInit: sdkInit,\n        message: message,\n    }, { sdk: sdk, logger: logger });\n    useGetParentMessage({\n        channelUrl: channelUrl,\n        sdkInit: sdkInit,\n        parentMessage: propsParentMessage,\n    }, { sdk: sdk, logger: logger });\n    useGetAllEmoji({ sdk: sdk }, { logger: logger });\n    // Handle channel events\n    useHandleChannelEvents({\n        sdk: sdk,\n        currentChannel: currentChannel,\n    }, { logger: logger });\n    useHandleThreadPubsubEvents({\n        sdkInit: sdkInit,\n        currentChannel: currentChannel,\n        parentMessage: parentMessage,\n    }, { logger: logger, pubSub: pubSub });\n    useEffect(function () {\n        if (stores.sdkStore.initialized && config.isOnline) {\n            initializeThreadFetcher();\n        }\n    }, [stores.sdkStore.initialized, config.isOnline, initializeThreadFetcher]);\n    // memo\n    var nicknamesMap = useMemo(function () { return ((config.groupChannel.replyType !== 'none' && currentChannel)\n        ? getNicknamesMapFromMembers(currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members)\n        : new Map()); }, [currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members]);\n    useDeepCompareEffect(function () {\n        updateState({\n            channelUrl: channelUrl,\n            message: message,\n            onHeaderActionClick: onHeaderActionClick,\n            onMoveToParentMessage: onMoveToParentMessage,\n            onBeforeSendUserMessage: onBeforeSendUserMessage,\n            onBeforeSendFileMessage: onBeforeSendFileMessage,\n            onBeforeSendVoiceMessage: onBeforeSendVoiceMessage,\n            onBeforeSendMultipleFilesMessage: onBeforeSendMultipleFilesMessage,\n            onBeforeDownloadFileMessage: onBeforeDownloadFileMessage,\n            isMultipleFilesMessageEnabled: isMultipleFilesMessageEnabled,\n            filterEmojiCategoryIds: filterEmojiCategoryIds,\n            nicknamesMap: nicknamesMap,\n        });\n    }, [\n        channelUrl,\n        message,\n        onHeaderActionClick,\n        onMoveToParentMessage,\n        onBeforeSendUserMessage,\n        onBeforeSendFileMessage,\n        onBeforeSendVoiceMessage,\n        onBeforeSendMultipleFilesMessage,\n        onBeforeDownloadFileMessage,\n        isMultipleFilesMessageEnabled,\n        filterEmojiCategoryIds,\n        nicknamesMap,\n    ]);\n    return null;\n};\nvar ThreadProvider = function (props) {\n    var children = props.children;\n    return (React__default.createElement(InternalThreadProvider, __assign({}, props),\n        React__default.createElement(ThreadManager, __assign({}, props)),\n        React__default.createElement(UserProfileProvider, __assign({}, props), children)));\n};\nvar useThreadContext = function () {\n    var _a = useThread(), state = _a.state, actions = _a.actions;\n    return __assign(__assign({}, state), actions);\n};\nvar useThreadStore = function () {\n    return useStore(ThreadContext, function (state) { return state; }, initialState);\n};\n\nexport { InternalThreadProvider as I, ThreadContext as T, ThreadManager as a, ThreadProvider as b, useThreadContext as c, useThread as u };\n//# sourceMappingURL=bundle-DlwwNCtN.js.map\n", "export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n  var number = Number(dirtyNumber);\n  if (isNaN(number)) {\n    return number;\n  }\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}", "export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}", "import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n      // eslint-disable-next-line no-console\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}", "var defaultOptions = {};\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport default function startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}", "/**\n * Days in 1 week.\n *\n * @name daysInWeek\n * @constant\n * @type {number}\n * @default\n */\nexport var daysInWeek = 7;\n\n/**\n * Days in 1 year\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n *\n * @name daysInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var daysInYear = 365.2425;\n\n/**\n * Maximum allowed time.\n *\n * @name maxTime\n * @constant\n * @type {number}\n * @default\n */\nexport var maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * Milliseconds in 1 minute\n *\n * @name millisecondsInMinute\n * @constant\n * @type {number}\n * @default\n */\nexport var millisecondsInMinute = 60000;\n\n/**\n * Milliseconds in 1 hour\n *\n * @name millisecondsInHour\n * @constant\n * @type {number}\n * @default\n */\nexport var millisecondsInHour = 3600000;\n\n/**\n * Milliseconds in 1 second\n *\n * @name millisecondsInSecond\n * @constant\n * @type {number}\n * @default\n */\nexport var millisecondsInSecond = 1000;\n\n/**\n * Minimum allowed time.\n *\n * @name minTime\n * @constant\n * @type {number}\n * @default\n */\nexport var minTime = -maxTime;\n\n/**\n * Minutes in 1 hour\n *\n * @name minutesInHour\n * @constant\n * @type {number}\n * @default\n */\nexport var minutesInHour = 60;\n\n/**\n * Months in 1 quarter\n *\n * @name monthsInQuarter\n * @constant\n * @type {number}\n * @default\n */\nexport var monthsInQuarter = 3;\n\n/**\n * Months in 1 year\n *\n * @name monthsInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var monthsInYear = 12;\n\n/**\n * Quarters in 1 year\n *\n * @name quartersInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var quartersInYear = 4;\n\n/**\n * Seconds in 1 hour\n *\n * @name secondsInHour\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInHour = 3600;\n\n/**\n * Seconds in 1 minute\n *\n * @name secondsInMinute\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInMinute = 60;\n\n/**\n * Seconds in 1 day\n *\n * @name secondsInDay\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInDay = secondsInHour * 24;\n\n/**\n * Seconds in 1 week\n *\n * @name secondsInWeek\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInWeek = secondsInDay * 7;\n\n/**\n * Seconds in 1 year\n *\n * @name secondsInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInYear = secondsInDay * daysInYear;\n\n/**\n * Seconds in 1 month\n *\n * @name secondsInMonth\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInMonth = secondsInYear / 12;\n\n/**\n * Seconds in 1 quarter\n *\n * @name secondsInQuarter\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInQuarter = secondsInMonth * 3;", "import startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameDay\n * @category Day Helpers\n * @summary Are the given dates in the same day (and year and month)?\n *\n * @description\n * Are the given dates in the same day (and year and month)?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same day (and year and month)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4, 6, 0), new Date(2014, 8, 4, 18, 0))\n * //=> true\n *\n * @example\n * // Are 4 September and 4 October in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2014, 9, 4))\n * //=> false\n *\n * @example\n * // Are 4 September, 2014 and 4 September, 2015 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2015, 8, 4))\n * //=> false\n */\nexport default function isSameDay(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfDay = startOfDay(dirtyDateLeft);\n  var dateRightStartOfDay = startOfDay(dirtyDateRight);\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime();\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nexport default function getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}", "import getUTCISOWeekYear from \"../getUTCISOWeekYear/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport startOfUTCISOWeekYear from \"../startOfUTCISOWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function getUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, options);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, options);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}", "import getUTCWeekYear from \"../getUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n  var year = getUTCWeekYear(dirtyDate, options);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, options);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport startOfUTCWeekYear from \"../startOfUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}", "export default function buildFormatLongFn(args) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO: Remove String()\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}", "import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;", "export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, options) {\n    var context = options !== null && options !== void 0 && options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n      var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}", "import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\nvar ordinalNumber = function ordinalNumber(dirtyNumber, _options) {\n  var number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  var rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n      case 2:\n        return number + 'nd';\n      case 3:\n        return number + 'rd';\n    }\n  }\n  return number + 'th';\n};\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function argumentCallback(quarter) {\n      return quarter - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;", "export default function buildMatchFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n    if (!matchResult) {\n      return null;\n    }\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    }) : findKey(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    });\n    var value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}", "export default function buildMatchPatternFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}", "import buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nimport buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function valueCallback(value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function valueCallback(index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;", "import { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport compareAsc from \"../compareAsc/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport cloneObject from \"../_lib/cloneObject/index.js\";\nimport assign from \"../_lib/assign/index.js\";\nimport defaultLocale from \"../_lib/defaultLocale/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_MINUTE = 1000 * 60;\nvar MINUTES_IN_DAY = 60 * 24;\nvar MINUTES_IN_MONTH = MINUTES_IN_DAY * 30;\nvar MINUTES_IN_YEAR = MINUTES_IN_DAY * 365;\n\n/**\n * @name formatDistanceStrict\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words, using strict units.\n * This is like `formatDistance`, but does not use helpers like 'almost', 'over',\n * 'less than' and the like.\n *\n * | Distance between dates | Result              |\n * |------------------------|---------------------|\n * | 0 ... 59 secs          | [0..59] seconds     |\n * | 1 ... 59 mins          | [1..59] minutes     |\n * | 1 ... 23 hrs           | [1..23] hours       |\n * | 1 ... 29 days          | [1..29] days        |\n * | 1 ... 11 months        | [1..11] months      |\n * | 1 ... N years          | [1..N]  years       |\n *\n * @param {Date|Number} date - the date\n * @param {Date|Number} baseDate - the date to compare with\n * @param {Object} [options] - an object with options.\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\n * @param {'second'|'minute'|'hour'|'day'|'month'|'year'} [options.unit] - if specified, will force a unit\n * @param {'floor'|'ceil'|'round'} [options.roundingMethod='round'] - which way to round partial units\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {String} the distance in words\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `baseDate` must not be Invalid Date\n * @throws {RangeError} `options.roundingMethod` must be 'floor', 'ceil' or 'round'\n * @throws {RangeError} `options.unit` must be 'second', 'minute', 'hour', 'day', 'month' or 'year'\n * @throws {RangeError} `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * const result = formatDistanceStrict(new Date(2014, 6, 2), new Date(2015, 0, 2))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00?\n * const result = formatDistanceStrict(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0)\n * )\n * //=> '15 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * const result = formatDistanceStrict(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> '1 year ago'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, in minutes?\n * const result = formatDistanceStrict(new Date(2016, 0, 1), new Date(2015, 0, 1), {\n *   unit: 'minute'\n * })\n * //=> '525600 minutes'\n *\n * @example\n * // What is the distance from 1 January 2015\n * // to 28 January 2015, in months, rounded up?\n * const result = formatDistanceStrict(new Date(2015, 0, 28), new Date(2015, 0, 1), {\n *   unit: 'month',\n *   roundingMethod: 'ceil'\n * })\n * //=> '1 month'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = formatDistanceStrict(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> '1 jaro'\n */\n\nexport default function formatDistanceStrict(dirtyDate, dirtyBaseDate, options) {\n  var _ref, _options$locale, _options$roundingMeth;\n  requiredArgs(2, arguments);\n  var defaultOptions = getDefaultOptions();\n  var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : defaultLocale;\n  if (!locale.formatDistance) {\n    throw new RangeError('locale must contain localize.formatDistance property');\n  }\n  var comparison = compareAsc(dirtyDate, dirtyBaseDate);\n  if (isNaN(comparison)) {\n    throw new RangeError('Invalid time value');\n  }\n  var localizeOptions = assign(cloneObject(options), {\n    addSuffix: Boolean(options === null || options === void 0 ? void 0 : options.addSuffix),\n    comparison: comparison\n  });\n  var dateLeft;\n  var dateRight;\n  if (comparison > 0) {\n    dateLeft = toDate(dirtyBaseDate);\n    dateRight = toDate(dirtyDate);\n  } else {\n    dateLeft = toDate(dirtyDate);\n    dateRight = toDate(dirtyBaseDate);\n  }\n  var roundingMethod = String((_options$roundingMeth = options === null || options === void 0 ? void 0 : options.roundingMethod) !== null && _options$roundingMeth !== void 0 ? _options$roundingMeth : 'round');\n  var roundingMethodFn;\n  if (roundingMethod === 'floor') {\n    roundingMethodFn = Math.floor;\n  } else if (roundingMethod === 'ceil') {\n    roundingMethodFn = Math.ceil;\n  } else if (roundingMethod === 'round') {\n    roundingMethodFn = Math.round;\n  } else {\n    throw new RangeError(\"roundingMethod must be 'floor', 'ceil' or 'round'\");\n  }\n  var milliseconds = dateRight.getTime() - dateLeft.getTime();\n  var minutes = milliseconds / MILLISECONDS_IN_MINUTE;\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(dateRight) - getTimezoneOffsetInMilliseconds(dateLeft);\n\n  // Use DST-normalized difference in minutes for years, months and days;\n  // use regular difference in minutes for hours, minutes and seconds.\n  var dstNormalizedMinutes = (milliseconds - timezoneOffset) / MILLISECONDS_IN_MINUTE;\n  var defaultUnit = options === null || options === void 0 ? void 0 : options.unit;\n  var unit;\n  if (!defaultUnit) {\n    if (minutes < 1) {\n      unit = 'second';\n    } else if (minutes < 60) {\n      unit = 'minute';\n    } else if (minutes < MINUTES_IN_DAY) {\n      unit = 'hour';\n    } else if (dstNormalizedMinutes < MINUTES_IN_MONTH) {\n      unit = 'day';\n    } else if (dstNormalizedMinutes < MINUTES_IN_YEAR) {\n      unit = 'month';\n    } else {\n      unit = 'year';\n    }\n  } else {\n    unit = String(defaultUnit);\n  }\n\n  // 0 up to 60 seconds\n  if (unit === 'second') {\n    var seconds = roundingMethodFn(milliseconds / 1000);\n    return locale.formatDistance('xSeconds', seconds, localizeOptions);\n\n    // 1 up to 60 mins\n  } else if (unit === 'minute') {\n    var roundedMinutes = roundingMethodFn(minutes);\n    return locale.formatDistance('xMinutes', roundedMinutes, localizeOptions);\n\n    // 1 up to 24 hours\n  } else if (unit === 'hour') {\n    var hours = roundingMethodFn(minutes / 60);\n    return locale.formatDistance('xHours', hours, localizeOptions);\n\n    // 1 up to 30 days\n  } else if (unit === 'day') {\n    var days = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_DAY);\n    return locale.formatDistance('xDays', days, localizeOptions);\n\n    // 1 up to 12 months\n  } else if (unit === 'month') {\n    var months = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_MONTH);\n    return months === 12 && defaultUnit !== 'month' ? locale.formatDistance('xYears', 1, localizeOptions) : locale.formatDistance('xMonths', months, localizeOptions);\n\n    // 1 year up to max Date\n  } else if (unit === 'year') {\n    var years = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_YEAR);\n    return locale.formatDistance('xYears', years, localizeOptions);\n  }\n  throw new RangeError(\"unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'\");\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 24 * 60 * 60 * 1000;\n\n/**\n * @name getOverlappingDaysInIntervals\n * @category Interval Helpers\n * @summary Get the number of days that overlap in two time intervals\n *\n * @description\n * Get the number of days that overlap in two time intervals\n *\n * @param {Interval} intervalLeft - the first interval to compare. See [Interval]{@link docs/Interval}\n * @param {Interval} intervalRight - the second interval to compare. See [Interval]{@link docs/Interval}\n * @returns {Number} the number of days that overlap in two time intervals\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} The start of an interval cannot be after its end\n * @throws {RangeError} Date in interval cannot be `Invalid Date`\n *\n * @example\n * // For overlapping time intervals adds 1 for each started overlapping day:\n * getOverlappingDaysInIntervals(\n *   { start: new Date(2014, 0, 10), end: new Date(2014, 0, 20) },\n *   { start: new Date(2014, 0, 17), end: new Date(2014, 0, 21) }\n * )\n * //=> 3\n *\n * @example\n * // For non-overlapping time intervals returns 0:\n * getOverlappingDaysInIntervals(\n *   { start: new Date(2014, 0, 10), end: new Date(2014, 0, 20) },\n *   { start: new Date(2014, 0, 21), end: new Date(2014, 0, 22) }\n * )\n * //=> 0\n */\n\nexport default function getOverlappingDaysInIntervals(dirtyIntervalLeft, dirtyIntervalRight) {\n  requiredArgs(2, arguments);\n  var intervalLeft = dirtyIntervalLeft || {};\n  var intervalRight = dirtyIntervalRight || {};\n  var leftStartTime = toDate(intervalLeft.start).getTime();\n  var leftEndTime = toDate(intervalLeft.end).getTime();\n  var rightStartTime = toDate(intervalRight.start).getTime();\n  var rightEndTime = toDate(intervalRight.end).getTime();\n\n  // Throw an exception if start date is after end date or if any date is `Invalid Date`\n  if (!(leftStartTime <= leftEndTime && rightStartTime <= rightEndTime)) {\n    throw new RangeError('Invalid interval');\n  }\n  var isOverlapping = leftStartTime < rightEndTime && rightStartTime < leftEndTime;\n  if (!isOverlapping) {\n    return 0;\n  }\n  var overlapStartDate = rightStartTime < leftStartTime ? leftStartTime : rightStartTime;\n  var overlapEndDate = rightEndTime > leftEndTime ? leftEndTime : rightEndTime;\n  var differenceInMs = overlapEndDate - overlapStartDate;\n  return Math.ceil(differenceInMs / MILLISECONDS_IN_DAY);\n}", "import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nexport { _inherits as default };", "function _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nexport { _getPrototypeOf as default };", "function _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nexport { _isNativeReflectConstruct as default };", "import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nexport { _possibleConstructorReturn as default };", "import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nfunction _createSuper(t) {\n  var r = isNativeReflectConstruct();\n  return function () {\n    var e,\n      o = getPrototypeOf(t);\n    if (r) {\n      var s = getPrototypeOf(this).constructor;\n      e = Reflect.construct(o, arguments, s);\n    } else e = o.apply(this, arguments);\n    return possibleConstructorReturn(this, e);\n  };\n}\nexport { _createSuper as default };", "function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _classCallCheck as default };", "import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };", "import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };", "import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar TIMEZONE_UNIT_PRIORITY = 10;\nexport var Setter = /*#__PURE__*/function () {\n  function Setter() {\n    _classCallCheck(this, Setter);\n    _defineProperty(this, \"priority\", void 0);\n    _defineProperty(this, \"subPriority\", 0);\n  }\n  _createClass(Setter, [{\n    key: \"validate\",\n    value: function validate(_utcDate, _options) {\n      return true;\n    }\n  }]);\n  return Setter;\n}();\nexport var ValueSetter = /*#__PURE__*/function (_Setter) {\n  _inherits(ValueSetter, _Setter);\n  var _super = _createSuper(ValueSetter);\n  function ValueSetter(value, validateValue, setValue, priority, subPriority) {\n    var _this;\n    _classCallCheck(this, ValueSetter);\n    _this = _super.call(this);\n    _this.value = value;\n    _this.validateValue = validateValue;\n    _this.setValue = setValue;\n    _this.priority = priority;\n    if (subPriority) {\n      _this.subPriority = subPriority;\n    }\n    return _this;\n  }\n  _createClass(ValueSetter, [{\n    key: \"validate\",\n    value: function validate(utcDate, options) {\n      return this.validateValue(utcDate, this.value, options);\n    }\n  }, {\n    key: \"set\",\n    value: function set(utcDate, flags, options) {\n      return this.setValue(utcDate, flags, this.value, options);\n    }\n  }]);\n  return ValueSetter;\n}(Setter);\nexport var DateToSystemTimezoneSetter = /*#__PURE__*/function (_Setter2) {\n  _inherits(DateToSystemTimezoneSetter, _Setter2);\n  var _super2 = _createSuper(DateToSystemTimezoneSetter);\n  function DateToSystemTimezoneSetter() {\n    var _this2;\n    _classCallCheck(this, DateToSystemTimezoneSetter);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this2 = _super2.call.apply(_super2, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this2), \"priority\", TIMEZONE_UNIT_PRIORITY);\n    _defineProperty(_assertThisInitialized(_this2), \"subPriority\", -1);\n    return _this2;\n  }\n  _createClass(DateToSystemTimezoneSetter, [{\n    key: \"set\",\n    value: function set(date, flags) {\n      if (flags.timestampIsSet) {\n        return date;\n      }\n      var convertedDate = new Date(0);\n      convertedDate.setFullYear(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n      convertedDate.setHours(date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());\n      return convertedDate;\n    }\n  }]);\n  return DateToSystemTimezoneSetter;\n}(Setter);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { ValueSetter } from \"./Setter.js\";\nexport var Parser = /*#__PURE__*/function () {\n  function Parser() {\n    _classCallCheck(this, Parser);\n    _defineProperty(this, \"incompatibleTokens\", void 0);\n    _defineProperty(this, \"priority\", void 0);\n    _defineProperty(this, \"subPriority\", void 0);\n  }\n  _createClass(Parser, [{\n    key: \"run\",\n    value: function run(dateString, token, match, options) {\n      var result = this.parse(dateString, token, match, options);\n      if (!result) {\n        return null;\n      }\n      return {\n        setter: new ValueSetter(result.value, this.validate, this.set, this.priority, this.subPriority),\n        rest: result.rest\n      };\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_utcDate, _value, _options) {\n      return true;\n    }\n  }]);\n  return Parser;\n}();", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nexport var EraParser = /*#__PURE__*/function (_Parser) {\n  _inherits(EraParser, _Parser);\n  var _super = _createSuper(EraParser);\n  function EraParser() {\n    var _this;\n    _classCallCheck(this, EraParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 140);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['R', 'u', 't', 'T']);\n    return _this;\n  }\n  _createClass(EraParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        // AD, BC\n        case 'G':\n        case 'GG':\n        case 'GGG':\n          return match.era(dateString, {\n            width: 'abbreviated'\n          }) || match.era(dateString, {\n            width: 'narrow'\n          });\n        // A, B\n        case 'GGGGG':\n          return match.era(dateString, {\n            width: 'narrow'\n          });\n        // Anno Domini, Before Christ\n        case 'GGGG':\n        default:\n          return match.era(dateString, {\n            width: 'wide'\n          }) || match.era(dateString, {\n            width: 'abbreviated'\n          }) || match.era(dateString, {\n            width: 'narrow'\n          });\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value) {\n      flags.era = value;\n      date.setUTCFullYear(value, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return EraParser;\n}(Parser);", "export var numericPatterns = {\n  month: /^(1[0-2]|0?\\d)/,\n  // 0 to 12\n  date: /^(3[0-1]|[0-2]?\\d)/,\n  // 0 to 31\n  dayOfYear: /^(36[0-6]|3[0-5]\\d|[0-2]?\\d?\\d)/,\n  // 0 to 366\n  week: /^(5[0-3]|[0-4]?\\d)/,\n  // 0 to 53\n  hour23h: /^(2[0-3]|[0-1]?\\d)/,\n  // 0 to 23\n  hour24h: /^(2[0-4]|[0-1]?\\d)/,\n  // 0 to 24\n  hour11h: /^(1[0-1]|0?\\d)/,\n  // 0 to 11\n  hour12h: /^(1[0-2]|0?\\d)/,\n  // 0 to 12\n  minute: /^[0-5]?\\d/,\n  // 0 to 59\n  second: /^[0-5]?\\d/,\n  // 0 to 59\n\n  singleDigit: /^\\d/,\n  // 0 to 9\n  twoDigits: /^\\d{1,2}/,\n  // 0 to 99\n  threeDigits: /^\\d{1,3}/,\n  // 0 to 999\n  fourDigits: /^\\d{1,4}/,\n  // 0 to 9999\n\n  anyDigitsSigned: /^-?\\d+/,\n  singleDigitSigned: /^-?\\d/,\n  // 0 to 9, -0 to -9\n  twoDigitsSigned: /^-?\\d{1,2}/,\n  // 0 to 99, -0 to -99\n  threeDigitsSigned: /^-?\\d{1,3}/,\n  // 0 to 999, -0 to -999\n  fourDigitsSigned: /^-?\\d{1,4}/ // 0 to 9999, -0 to -9999\n};\n\nexport var timezonePatterns = {\n  basicOptionalMinutes: /^([+-])(\\d{2})(\\d{2})?|Z/,\n  basic: /^([+-])(\\d{2})(\\d{2})|Z/,\n  basicOptionalSeconds: /^([+-])(\\d{2})(\\d{2})((\\d{2}))?|Z/,\n  extended: /^([+-])(\\d{2}):(\\d{2})|Z/,\n  extendedOptionalSeconds: /^([+-])(\\d{2}):(\\d{2})(:(\\d{2}))?|Z/\n};", "import { millisecondsInHour, millisecondsInMinute, millisecondsInSecond } from \"../../constants/index.js\";\nimport { numericPatterns } from \"./constants.js\";\nexport function mapValue(parseFnResult, mapFn) {\n  if (!parseFnResult) {\n    return parseFnResult;\n  }\n  return {\n    value: mapFn(parseFnResult.value),\n    rest: parseFnResult.rest\n  };\n}\nexport function parseNumericPattern(pattern, dateString) {\n  var matchResult = dateString.match(pattern);\n  if (!matchResult) {\n    return null;\n  }\n  return {\n    value: parseInt(matchResult[0], 10),\n    rest: dateString.slice(matchResult[0].length)\n  };\n}\nexport function parseTimezonePattern(pattern, dateString) {\n  var matchResult = dateString.match(pattern);\n  if (!matchResult) {\n    return null;\n  }\n\n  // Input is 'Z'\n  if (matchResult[0] === 'Z') {\n    return {\n      value: 0,\n      rest: dateString.slice(1)\n    };\n  }\n  var sign = matchResult[1] === '+' ? 1 : -1;\n  var hours = matchResult[2] ? parseInt(matchResult[2], 10) : 0;\n  var minutes = matchResult[3] ? parseInt(matchResult[3], 10) : 0;\n  var seconds = matchResult[5] ? parseInt(matchResult[5], 10) : 0;\n  return {\n    value: sign * (hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * millisecondsInSecond),\n    rest: dateString.slice(matchResult[0].length)\n  };\n}\nexport function parseAnyDigitsSigned(dateString) {\n  return parseNumericPattern(numericPatterns.anyDigitsSigned, dateString);\n}\nexport function parseNDigits(n, dateString) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigit, dateString);\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigits, dateString);\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigits, dateString);\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigits, dateString);\n    default:\n      return parseNumericPattern(new RegExp('^\\\\d{1,' + n + '}'), dateString);\n  }\n}\nexport function parseNDigitsSigned(n, dateString) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigitSigned, dateString);\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigitsSigned, dateString);\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigitsSigned, dateString);\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigitsSigned, dateString);\n    default:\n      return parseNumericPattern(new RegExp('^-?\\\\d{1,' + n + '}'), dateString);\n  }\n}\nexport function dayPeriodEnumToHours(dayPeriod) {\n  switch (dayPeriod) {\n    case 'morning':\n      return 4;\n    case 'evening':\n      return 17;\n    case 'pm':\n    case 'noon':\n    case 'afternoon':\n      return 12;\n    case 'am':\n    case 'midnight':\n    case 'night':\n    default:\n      return 0;\n  }\n}\nexport function normalizeTwoDigitYear(twoDigitYear, currentYear) {\n  var isCommonEra = currentYear > 0;\n  // Absolute number of the current year:\n  // 1 -> 1 AC\n  // 0 -> 1 BC\n  // -1 -> 2 BC\n  var absCurrentYear = isCommonEra ? currentYear : 1 - currentYear;\n  var result;\n  if (absCurrentYear <= 50) {\n    result = twoDigitYear || 100;\n  } else {\n    var rangeEnd = absCurrentYear + 50;\n    var rangeEndCentury = Math.floor(rangeEnd / 100) * 100;\n    var isPreviousCentury = twoDigitYear >= rangeEnd % 100;\n    result = twoDigitYear + rangeEndCentury - (isPreviousCentury ? 100 : 0);\n  }\n  return isCommonEra ? result : 1 - result;\n}\nexport function isLeapYearIndex(year) {\n  return year % 400 === 0 || year % 4 === 0 && year % 100 !== 0;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, normalizeTwoDigitYear, parseNDigits } from \"../utils.js\";\n// From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_Patterns\n// | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n// |----------|-------|----|-------|-------|-------|\n// | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n// | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n// | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n// | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n// | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\nexport var YearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(YearParser, _Parser);\n  var _super = _createSuper(YearParser);\n  function YearParser() {\n    var _this;\n    _classCallCheck(this, YearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'u', 'w', 'I', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(YearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(year) {\n        return {\n          year: year,\n          isTwoDigitYear: token === 'yy'\n        };\n      };\n      switch (token) {\n        case 'y':\n          return mapValue(parseNDigits(4, dateString), valueCallback);\n        case 'yo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'year'\n          }), valueCallback);\n        default:\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value.isTwoDigitYear || value.year > 0;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value) {\n      var currentYear = date.getUTCFullYear();\n      if (value.isTwoDigitYear) {\n        var normalizedTwoDigitYear = normalizeTwoDigitYear(value.year, currentYear);\n        date.setUTCFullYear(normalizedTwoDigitYear, 0, 1);\n        date.setUTCHours(0, 0, 0, 0);\n        return date;\n      }\n      var year = !('era' in flags) || flags.era === 1 ? value.year : 1 - value.year;\n      date.setUTCFullYear(year, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return YearParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigits, normalizeTwoDigitYear, mapValue } from \"../utils.js\";\nimport getUTCWeekYear from \"../../../_lib/getUTCWeekYear/index.js\";\nimport startOfUTCWeek from \"../../../_lib/startOfUTCWeek/index.js\";\n// Local week-numbering year\nexport var LocalWeekYearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(LocalWeekYearParser, _Parser);\n  var _super = _createSuper(LocalWeekYearParser);\n  function LocalWeekYearParser() {\n    var _this;\n    _classCallCheck(this, LocalWeekYearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'Q', 'q', 'M', 'L', 'I', 'd', 'D', 'i', 't', 'T']);\n    return _this;\n  }\n  _createClass(LocalWeekYearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(year) {\n        return {\n          year: year,\n          isTwoDigitYear: token === 'YY'\n        };\n      };\n      switch (token) {\n        case 'Y':\n          return mapValue(parseNDigits(4, dateString), valueCallback);\n        case 'Yo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'year'\n          }), valueCallback);\n        default:\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value.isTwoDigitYear || value.year > 0;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value, options) {\n      var currentYear = getUTCWeekYear(date, options);\n      if (value.isTwoDigitYear) {\n        var normalizedTwoDigitYear = normalizeTwoDigitYear(value.year, currentYear);\n        date.setUTCFullYear(normalizedTwoDigitYear, 0, options.firstWeekContainsDate);\n        date.setUTCHours(0, 0, 0, 0);\n        return startOfUTCWeek(date, options);\n      }\n      var year = !('era' in flags) || flags.era === 1 ? value.year : 1 - value.year;\n      date.setUTCFullYear(year, 0, options.firstWeekContainsDate);\n      date.setUTCHours(0, 0, 0, 0);\n      return startOfUTCWeek(date, options);\n    }\n  }]);\n  return LocalWeekYearParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigitsSigned } from \"../utils.js\";\nimport startOfUTCISOWeek from \"../../../_lib/startOfUTCISOWeek/index.js\"; // ISO week-numbering year\nexport var ISOWeekYearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISOWeekYearParser, _Parser);\n  var _super = _createSuper(ISOWeekYearParser);\n  function ISOWeekYearParser() {\n    var _this;\n    _classCallCheck(this, ISOWeekYearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['G', 'y', 'Y', 'u', 'Q', 'q', 'M', 'L', 'w', 'd', 'D', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(ISOWeekYearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      if (token === 'R') {\n        return parseNDigitsSigned(4, dateString);\n      }\n      return parseNDigitsSigned(token.length, dateString);\n    }\n  }, {\n    key: \"set\",\n    value: function set(_date, _flags, value) {\n      var firstWeekOfYear = new Date(0);\n      firstWeekOfYear.setUTCFullYear(value, 0, 4);\n      firstWeekOfYear.setUTCHours(0, 0, 0, 0);\n      return startOfUTCISOWeek(firstWeekOfYear);\n    }\n  }]);\n  return ISOWeekYearParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigitsSigned } from \"../utils.js\";\nexport var ExtendedYearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ExtendedYearParser, _Parser);\n  var _super = _createSuper(ExtendedYearParser);\n  function ExtendedYearParser() {\n    var _this;\n    _classCallCheck(this, ExtendedYearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['G', 'y', 'Y', 'R', 'w', 'I', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(ExtendedYearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      if (token === 'u') {\n        return parseNDigitsSigned(4, dateString);\n      }\n      return parseNDigitsSigned(token.length, dateString);\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCFullYear(value, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return ExtendedYearParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigits } from \"../utils.js\";\nexport var QuarterParser = /*#__PURE__*/function (_Parser) {\n  _inherits(QuarterParser, _Parser);\n  var _super = _createSuper(QuarterParser);\n  function QuarterParser() {\n    var _this;\n    _classCallCheck(this, QuarterParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 120);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'M', 'L', 'w', 'I', 'd', 'D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(QuarterParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        // 1, 2, 3, 4\n        case 'Q':\n        case 'QQ':\n          // 01, 02, 03, 04\n          return parseNDigits(token.length, dateString);\n        // 1st, 2nd, 3rd, 4th\n        case 'Qo':\n          return match.ordinalNumber(dateString, {\n            unit: 'quarter'\n          });\n        // Q1, Q2, Q3, Q4\n        case 'QQQ':\n          return match.quarter(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.quarter(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n        case 'QQQQQ':\n          return match.quarter(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // 1st quarter, 2nd quarter, ...\n        case 'QQQQ':\n        default:\n          return match.quarter(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.quarter(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.quarter(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 4;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth((value - 1) * 3, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return QuarterParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigits } from \"../utils.js\";\nexport var StandAloneQuarterParser = /*#__PURE__*/function (_Parser) {\n  _inherits(StandAloneQuarterParser, _Parser);\n  var _super = _createSuper(StandAloneQuarterParser);\n  function StandAloneQuarterParser() {\n    var _this;\n    _classCallCheck(this, StandAloneQuarterParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 120);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'Q', 'M', 'L', 'w', 'I', 'd', 'D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(StandAloneQuarterParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        // 1, 2, 3, 4\n        case 'q':\n        case 'qq':\n          // 01, 02, 03, 04\n          return parseNDigits(token.length, dateString);\n        // 1st, 2nd, 3rd, 4th\n        case 'qo':\n          return match.ordinalNumber(dateString, {\n            unit: 'quarter'\n          });\n        // Q1, Q2, Q3, Q4\n        case 'qqq':\n          return match.quarter(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.quarter(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n        case 'qqqqq':\n          return match.quarter(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // 1st quarter, 2nd quarter, ...\n        case 'qqqq':\n        default:\n          return match.quarter(dateString, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.quarter(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.quarter(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 4;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth((value - 1) * 3, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return StandAloneQuarterParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { mapValue, parseNDigits, parseNumericPattern } from \"../utils.js\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nexport var MonthParser = /*#__PURE__*/function (_Parser) {\n  _inherits(MonthParser, _Parser);\n  var _super = _createSuper(MonthParser);\n  function MonthParser() {\n    var _this;\n    _classCallCheck(this, MonthParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'L', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']);\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 110);\n    return _this;\n  }\n  _createClass(MonthParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(value) {\n        return value - 1;\n      };\n      switch (token) {\n        // 1, 2, ..., 12\n        case 'M':\n          return mapValue(parseNumericPattern(numericPatterns.month, dateString), valueCallback);\n        // 01, 02, ..., 12\n        case 'MM':\n          return mapValue(parseNDigits(2, dateString), valueCallback);\n        // 1st, 2nd, ..., 12th\n        case 'Mo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'month'\n          }), valueCallback);\n        // Jan, Feb, ..., Dec\n        case 'MMM':\n          return match.month(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.month(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // J, F, ..., D\n        case 'MMMMM':\n          return match.month(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // January, February, ..., December\n        case 'MMMM':\n        default:\n          return match.month(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.month(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.month(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 11;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth(value, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return MonthParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits, mapValue } from \"../utils.js\";\nexport var StandAloneMonthParser = /*#__PURE__*/function (_Parser) {\n  _inherits(StandAloneMonthParser, _Parser);\n  var _super = _createSuper(StandAloneMonthParser);\n  function StandAloneMonthParser() {\n    var _this;\n    _classCallCheck(this, StandAloneMonthParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 110);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'M', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(StandAloneMonthParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(value) {\n        return value - 1;\n      };\n      switch (token) {\n        // 1, 2, ..., 12\n        case 'L':\n          return mapValue(parseNumericPattern(numericPatterns.month, dateString), valueCallback);\n        // 01, 02, ..., 12\n        case 'LL':\n          return mapValue(parseNDigits(2, dateString), valueCallback);\n        // 1st, 2nd, ..., 12th\n        case 'Lo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'month'\n          }), valueCallback);\n        // Jan, Feb, ..., Dec\n        case 'LLL':\n          return match.month(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.month(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // J, F, ..., D\n        case 'LLLLL':\n          return match.month(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // January, February, ..., December\n        case 'LLLL':\n        default:\n          return match.month(dateString, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.month(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.month(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 11;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth(value, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return StandAloneMonthParser;\n}(Parser);", "import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport getUTCWeek from \"../getUTCWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function setUTCWeek(dirtyDate, dirtyWeek, options) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var week = toInteger(dirtyWeek);\n  var diff = getUTCWeek(date, options) - week;\n  date.setUTCDate(date.getUTCDate() - diff * 7);\n  return date;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nimport setUTCWeek from \"../../../_lib/setUTCWeek/index.js\";\nimport startOfUTCWeek from \"../../../_lib/startOfUTCWeek/index.js\"; // Local week of year\nexport var LocalWeekParser = /*#__PURE__*/function (_Parser) {\n  _inherits(LocalWeekParser, _Parser);\n  var _super = _createSuper(LocalWeekParser);\n  function LocalWeekParser() {\n    var _this;\n    _classCallCheck(this, LocalWeekParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 100);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'i', 't', 'T']);\n    return _this;\n  }\n  _createClass(LocalWeekParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'w':\n          return parseNumericPattern(numericPatterns.week, dateString);\n        case 'wo':\n          return match.ordinalNumber(dateString, {\n            unit: 'week'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 53;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value, options) {\n      return startOfUTCWeek(setUTCWeek(date, value, options), options);\n    }\n  }]);\n  return LocalWeekParser;\n}(Parser);", "import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport getUTCISOWeek from \"../getUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function setUTCISOWeek(dirtyDate, dirtyISOWeek) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var isoWeek = toInteger(dirtyISOWeek);\n  var diff = getUTCISOWeek(date) - isoWeek;\n  date.setUTCDate(date.getUTCDate() - diff * 7);\n  return date;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nimport setUTCISOWeek from \"../../../_lib/setUTCISOWeek/index.js\";\nimport startOfUTCISOWeek from \"../../../_lib/startOfUTCISOWeek/index.js\"; // ISO week of year\nexport var ISOWeekParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISOWeekParser, _Parser);\n  var _super = _createSuper(ISOWeekParser);\n  function ISOWeekParser() {\n    var _this;\n    _classCallCheck(this, ISOWeekParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 100);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'Y', 'u', 'q', 'Q', 'M', 'L', 'w', 'd', 'D', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(ISOWeekParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'I':\n          return parseNumericPattern(numericPatterns.week, dateString);\n        case 'Io':\n          return match.ordinalNumber(dateString, {\n            unit: 'week'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 53;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      return startOfUTCISOWeek(setUTCISOWeek(date, value));\n    }\n  }]);\n  return ISOWeekParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { isLeapYearIndex, parseNDigits, parseNumericPattern } from \"../utils.js\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nvar DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nvar DAYS_IN_MONTH_LEAP_YEAR = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n// Day of the month\nexport var DateParser = /*#__PURE__*/function (_Parser) {\n  _inherits(DateParser, _Parser);\n  var _super = _createSuper(DateParser);\n  function DateParser() {\n    var _this;\n    _classCallCheck(this, DateParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"subPriority\", 1);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(DateParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'd':\n          return parseNumericPattern(numericPatterns.date, dateString);\n        case 'do':\n          return match.ordinalNumber(dateString, {\n            unit: 'date'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(date, value) {\n      var year = date.getUTCFullYear();\n      var isLeapYear = isLeapYearIndex(year);\n      var month = date.getUTCMonth();\n      if (isLeapYear) {\n        return value >= 1 && value <= DAYS_IN_MONTH_LEAP_YEAR[month];\n      } else {\n        return value >= 1 && value <= DAYS_IN_MONTH[month];\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCDate(value);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return DateParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits, isLeapYearIndex } from \"../utils.js\";\nexport var DayOfYearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(DayOfYearParser, _Parser);\n  var _super = _createSuper(DayOfYearParser);\n  function DayOfYearParser() {\n    var _this;\n    _classCallCheck(this, DayOfYearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"subpriority\", 1);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'M', 'L', 'w', 'I', 'd', 'E', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(DayOfYearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'D':\n        case 'DD':\n          return parseNumericPattern(numericPatterns.dayOfYear, dateString);\n        case 'Do':\n          return match.ordinalNumber(dateString, {\n            unit: 'date'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(date, value) {\n      var year = date.getUTCFullYear();\n      var isLeapYear = isLeapYearIndex(year);\n      if (isLeapYear) {\n        return value >= 1 && value <= 366;\n      } else {\n        return value >= 1 && value <= 365;\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth(0, value);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return DayOfYearParser;\n}(Parser);", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function setUTCDay(dirtyDate, dirtyDay, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(2, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = toInteger(dirtyDay);\n  var currentDay = date.getUTCDay();\n  var remainder = day % 7;\n  var dayIndex = (remainder + 7) % 7;\n  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport setUTCDay from \"../../../_lib/setUTCDay/index.js\"; // Day of week\nexport var DayParser = /*#__PURE__*/function (_Parser) {\n  _inherits(DayParser, _Parser);\n  var _super = _createSuper(DayParser);\n  function DayParser() {\n    var _this;\n    _classCallCheck(this, DayParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(DayParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        // Tue\n        case 'E':\n        case 'EE':\n        case 'EEE':\n          return match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // T\n        case 'EEEEE':\n          return match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tu\n        case 'EEEEEE':\n          return match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tuesday\n        case 'EEEE':\n        default:\n          return match.day(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 6;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return DayParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, parseNDigits } from \"../utils.js\";\nimport setUTCDay from \"../../../_lib/setUTCDay/index.js\"; // Local day of week\nexport var LocalDayParser = /*#__PURE__*/function (_Parser) {\n  _inherits(LocalDayParser, _Parser);\n  var _super = _createSuper(LocalDayParser);\n  function LocalDayParser() {\n    var _this;\n    _classCallCheck(this, LocalDayParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'E', 'i', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(LocalDayParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match, options) {\n      var valueCallback = function valueCallback(value) {\n        var wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n        return (value + options.weekStartsOn + 6) % 7 + wholeWeekDays;\n      };\n      switch (token) {\n        // 3\n        case 'e':\n        case 'ee':\n          // 03\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\n        // 3rd\n        case 'eo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'day'\n          }), valueCallback);\n        // Tue\n        case 'eee':\n          return match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // T\n        case 'eeeee':\n          return match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tu\n        case 'eeeeee':\n          return match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tuesday\n        case 'eeee':\n        default:\n          return match.day(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 6;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return LocalDayParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, parseNDigits } from \"../utils.js\";\nimport setUTCDay from \"../../../_lib/setUTCDay/index.js\"; // Stand-alone local day of week\nexport var StandAloneLocalDayParser = /*#__PURE__*/function (_Parser) {\n  _inherits(StandAloneLocalDayParser, _Parser);\n  var _super = _createSuper(StandAloneLocalDayParser);\n  function StandAloneLocalDayParser() {\n    var _this;\n    _classCallCheck(this, StandAloneLocalDayParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'E', 'i', 'e', 't', 'T']);\n    return _this;\n  }\n  _createClass(StandAloneLocalDayParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match, options) {\n      var valueCallback = function valueCallback(value) {\n        var wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n        return (value + options.weekStartsOn + 6) % 7 + wholeWeekDays;\n      };\n      switch (token) {\n        // 3\n        case 'c':\n        case 'cc':\n          // 03\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\n        // 3rd\n        case 'co':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'day'\n          }), valueCallback);\n        // Tue\n        case 'ccc':\n          return match.day(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // T\n        case 'ccccc':\n          return match.day(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // Tu\n        case 'cccccc':\n          return match.day(dateString, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // Tuesday\n        case 'cccc':\n        default:\n          return match.day(dateString, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 6;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return StandAloneLocalDayParser;\n}(Parser);", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nexport default function setUTCISODay(dirtyDate, dirtyDay) {\n  requiredArgs(2, arguments);\n  var day = toInteger(dirtyDay);\n  if (day % 7 === 0) {\n    day = day - 7;\n  }\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var currentDay = date.getUTCDay();\n  var remainder = day % 7;\n  var dayIndex = (remainder + 7) % 7;\n  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, parseNDigits } from \"../utils.js\";\nimport setUTCISODay from \"../../../_lib/setUTCISODay/index.js\"; // ISO day of week\nexport var ISODayParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISODayParser, _Parser);\n  var _super = _createSuper(ISODayParser);\n  function ISODayParser() {\n    var _this;\n    _classCallCheck(this, ISODayParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'Y', 'u', 'q', 'Q', 'M', 'L', 'w', 'd', 'D', 'E', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(ISODayParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(value) {\n        if (value === 0) {\n          return 7;\n        }\n        return value;\n      };\n      switch (token) {\n        // 2\n        case 'i':\n        case 'ii':\n          // 02\n          return parseNDigits(token.length, dateString);\n        // 2nd\n        case 'io':\n          return match.ordinalNumber(dateString, {\n            unit: 'day'\n          });\n        // Tue\n        case 'iii':\n          return mapValue(match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          }), valueCallback);\n        // T\n        case 'iiiii':\n          return mapValue(match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          }), valueCallback);\n        // Tu\n        case 'iiiiii':\n          return mapValue(match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          }), valueCallback);\n        // Tuesday\n        case 'iiii':\n        default:\n          return mapValue(match.day(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          }), valueCallback);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 7;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date = setUTCISODay(date, value);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return ISODayParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { dayPeriodEnumToHours } from \"../utils.js\";\nexport var AMPMParser = /*#__PURE__*/function (_Parser) {\n  _inherits(AMPMParser, _Parser);\n  var _super = _createSuper(AMPMParser);\n  function AMPMParser() {\n    var _this;\n    _classCallCheck(this, AMPMParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 80);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['b', 'B', 'H', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(AMPMParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'a':\n        case 'aa':\n        case 'aaa':\n          return match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'aaaaa':\n          return match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'aaaa':\n        default:\n          return match.dayPeriod(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    }\n  }]);\n  return AMPMParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { dayPeriodEnumToHours } from \"../utils.js\";\nexport var AMPMMidnightParser = /*#__PURE__*/function (_Parser) {\n  _inherits(AMPMMidnightParser, _Parser);\n  var _super = _createSuper(AMPMMidnightParser);\n  function AMPMMidnightParser() {\n    var _this;\n    _classCallCheck(this, AMPMMidnightParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 80);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'B', 'H', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(AMPMMidnightParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'b':\n        case 'bb':\n        case 'bbb':\n          return match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'bbbbb':\n          return match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'bbbb':\n        default:\n          return match.dayPeriod(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    }\n  }]);\n  return AMPMMidnightParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { dayPeriodEnumToHours } from \"../utils.js\"; // in the morning, in the afternoon, in the evening, at night\nexport var DayPeriodParser = /*#__PURE__*/function (_Parser) {\n  _inherits(DayPeriodParser, _Parser);\n  var _super = _createSuper(DayPeriodParser);\n  function DayPeriodParser() {\n    var _this;\n    _classCallCheck(this, DayPeriodParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 80);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'b', 't', 'T']);\n    return _this;\n  }\n  _createClass(DayPeriodParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'B':\n        case 'BB':\n        case 'BBB':\n          return match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'BBBBB':\n          return match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'BBBB':\n        default:\n          return match.dayPeriod(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    }\n  }]);\n  return DayPeriodParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var Hour1to12Parser = /*#__PURE__*/function (_Parser) {\n  _inherits(Hour1to12Parser, _Parser);\n  var _super = _createSuper(Hour1to12Parser);\n  function Hour1to12Parser() {\n    var _this;\n    _classCallCheck(this, Hour1to12Parser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['H', 'K', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(Hour1to12Parser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'h':\n          return parseNumericPattern(numericPatterns.hour12h, dateString);\n        case 'ho':\n          return match.ordinalNumber(dateString, {\n            unit: 'hour'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 12;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      var isPM = date.getUTCHours() >= 12;\n      if (isPM && value < 12) {\n        date.setUTCHours(value + 12, 0, 0, 0);\n      } else if (!isPM && value === 12) {\n        date.setUTCHours(0, 0, 0, 0);\n      } else {\n        date.setUTCHours(value, 0, 0, 0);\n      }\n      return date;\n    }\n  }]);\n  return Hour1to12Parser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var Hour0to23Parser = /*#__PURE__*/function (_Parser) {\n  _inherits(Hour0to23Parser, _Parser);\n  var _super = _createSuper(Hour0to23Parser);\n  function Hour0to23Parser() {\n    var _this;\n    _classCallCheck(this, Hour0to23Parser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'b', 'h', 'K', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(Hour0to23Parser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'H':\n          return parseNumericPattern(numericPatterns.hour23h, dateString);\n        case 'Ho':\n          return match.ordinalNumber(dateString, {\n            unit: 'hour'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 23;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCHours(value, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return Hour0to23Parser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var Hour0To11Parser = /*#__PURE__*/function (_Parser) {\n  _inherits(Hour0To11Parser, _Parser);\n  var _super = _createSuper(Hour0To11Parser);\n  function Hour0To11Parser() {\n    var _this;\n    _classCallCheck(this, Hour0To11Parser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['h', 'H', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(Hour0To11Parser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'K':\n          return parseNumericPattern(numericPatterns.hour11h, dateString);\n        case 'Ko':\n          return match.ordinalNumber(dateString, {\n            unit: 'hour'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 11;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      var isPM = date.getUTCHours() >= 12;\n      if (isPM && value < 12) {\n        date.setUTCHours(value + 12, 0, 0, 0);\n      } else {\n        date.setUTCHours(value, 0, 0, 0);\n      }\n      return date;\n    }\n  }]);\n  return Hour0To11Parser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var Hour1To24Parser = /*#__PURE__*/function (_Parser) {\n  _inherits(Hour1To24Parser, _Parser);\n  var _super = _createSuper(Hour1To24Parser);\n  function Hour1To24Parser() {\n    var _this;\n    _classCallCheck(this, Hour1To24Parser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'b', 'h', 'H', 'K', 't', 'T']);\n    return _this;\n  }\n  _createClass(Hour1To24Parser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'k':\n          return parseNumericPattern(numericPatterns.hour24h, dateString);\n        case 'ko':\n          return match.ordinalNumber(dateString, {\n            unit: 'hour'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 24;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      var hours = value <= 24 ? value % 24 : value;\n      date.setUTCHours(hours, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return Hour1To24Parser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var MinuteParser = /*#__PURE__*/function (_Parser) {\n  _inherits(MinuteParser, _Parser);\n  var _super = _createSuper(MinuteParser);\n  function MinuteParser() {\n    var _this;\n    _classCallCheck(this, MinuteParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 60);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T']);\n    return _this;\n  }\n  _createClass(MinuteParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'm':\n          return parseNumericPattern(numericPatterns.minute, dateString);\n        case 'mo':\n          return match.ordinalNumber(dateString, {\n            unit: 'minute'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 59;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMinutes(value, 0, 0);\n      return date;\n    }\n  }]);\n  return MinuteParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var SecondParser = /*#__PURE__*/function (_Parser) {\n  _inherits(SecondParser, _Parser);\n  var _super = _createSuper(SecondParser);\n  function SecondParser() {\n    var _this;\n    _classCallCheck(this, SecondParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 50);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T']);\n    return _this;\n  }\n  _createClass(SecondParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 's':\n          return parseNumericPattern(numericPatterns.second, dateString);\n        case 'so':\n          return match.ordinalNumber(dateString, {\n            unit: 'second'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 59;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCSeconds(value, 0);\n      return date;\n    }\n  }]);\n  return SecondParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, parseNDigits } from \"../utils.js\";\nexport var FractionOfSecondParser = /*#__PURE__*/function (_Parser) {\n  _inherits(FractionOfSecondParser, _Parser);\n  var _super = _createSuper(FractionOfSecondParser);\n  function FractionOfSecondParser() {\n    var _this;\n    _classCallCheck(this, FractionOfSecondParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 30);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T']);\n    return _this;\n  }\n  _createClass(FractionOfSecondParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      var valueCallback = function valueCallback(value) {\n        return Math.floor(value * Math.pow(10, -token.length + 3));\n      };\n      return mapValue(parseNDigits(token.length, dateString), valueCallback);\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMilliseconds(value);\n      return date;\n    }\n  }]);\n  return FractionOfSecondParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { timezonePatterns } from \"../constants.js\";\nimport { parseTimezonePattern } from \"../utils.js\"; // Timezone (ISO-8601. +00:00 is `'Z'`)\nexport var ISOTimezoneWithZParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISOTimezoneWithZParser, _Parser);\n  var _super = _createSuper(ISOTimezoneWithZParser);\n  function ISOTimezoneWithZParser() {\n    var _this;\n    _classCallCheck(this, ISOTimezoneWithZParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 10);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T', 'x']);\n    return _this;\n  }\n  _createClass(ISOTimezoneWithZParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      switch (token) {\n        case 'X':\n          return parseTimezonePattern(timezonePatterns.basicOptionalMinutes, dateString);\n        case 'XX':\n          return parseTimezonePattern(timezonePatterns.basic, dateString);\n        case 'XXXX':\n          return parseTimezonePattern(timezonePatterns.basicOptionalSeconds, dateString);\n        case 'XXXXX':\n          return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds, dateString);\n        case 'XXX':\n        default:\n          return parseTimezonePattern(timezonePatterns.extended, dateString);\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value) {\n      if (flags.timestampIsSet) {\n        return date;\n      }\n      return new Date(date.getTime() - value);\n    }\n  }]);\n  return ISOTimezoneWithZParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { timezonePatterns } from \"../constants.js\";\nimport { parseTimezonePattern } from \"../utils.js\"; // Timezone (ISO-8601)\nexport var ISOTimezoneParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISOTimezoneParser, _Parser);\n  var _super = _createSuper(ISOTimezoneParser);\n  function ISOTimezoneParser() {\n    var _this;\n    _classCallCheck(this, ISOTimezoneParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 10);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T', 'X']);\n    return _this;\n  }\n  _createClass(ISOTimezoneParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      switch (token) {\n        case 'x':\n          return parseTimezonePattern(timezonePatterns.basicOptionalMinutes, dateString);\n        case 'xx':\n          return parseTimezonePattern(timezonePatterns.basic, dateString);\n        case 'xxxx':\n          return parseTimezonePattern(timezonePatterns.basicOptionalSeconds, dateString);\n        case 'xxxxx':\n          return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds, dateString);\n        case 'xxx':\n        default:\n          return parseTimezonePattern(timezonePatterns.extended, dateString);\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value) {\n      if (flags.timestampIsSet) {\n        return date;\n      }\n      return new Date(date.getTime() - value);\n    }\n  }]);\n  return ISOTimezoneParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseAnyDigitsSigned } from \"../utils.js\";\nexport var TimestampSecondsParser = /*#__PURE__*/function (_Parser) {\n  _inherits(TimestampSecondsParser, _Parser);\n  var _super = _createSuper(TimestampSecondsParser);\n  function TimestampSecondsParser() {\n    var _this;\n    _classCallCheck(this, TimestampSecondsParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 40);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", '*');\n    return _this;\n  }\n  _createClass(TimestampSecondsParser, [{\n    key: \"parse\",\n    value: function parse(dateString) {\n      return parseAnyDigitsSigned(dateString);\n    }\n  }, {\n    key: \"set\",\n    value: function set(_date, _flags, value) {\n      return [new Date(value * 1000), {\n        timestampIsSet: true\n      }];\n    }\n  }]);\n  return TimestampSecondsParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseAnyDigitsSigned } from \"../utils.js\";\nexport var TimestampMillisecondsParser = /*#__PURE__*/function (_Parser) {\n  _inherits(TimestampMillisecondsParser, _Parser);\n  var _super = _createSuper(TimestampMillisecondsParser);\n  function TimestampMillisecondsParser() {\n    var _this;\n    _classCallCheck(this, TimestampMillisecondsParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 20);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", '*');\n    return _this;\n  }\n  _createClass(TimestampMillisecondsParser, [{\n    key: \"parse\",\n    value: function parse(dateString) {\n      return parseAnyDigitsSigned(dateString);\n    }\n  }, {\n    key: \"set\",\n    value: function set(_date, _flags, value) {\n      return [new Date(value), {\n        timestampIsSet: true\n      }];\n    }\n  }]);\n  return TimestampMillisecondsParser;\n}(Parser);", "import { EraParser } from \"./EraParser.js\";\nimport { YearParser } from \"./YearParser.js\";\nimport { LocalWeekYearParser } from \"./LocalWeekYearParser.js\";\nimport { ISOWeekYearParser } from \"./ISOWeekYearParser.js\";\nimport { ExtendedYearParser } from \"./ExtendedYearParser.js\";\nimport { QuarterParser } from \"./QuarterParser.js\";\nimport { StandAloneQuarterParser } from \"./StandAloneQuarterParser.js\";\nimport { MonthParser } from \"./MonthParser.js\";\nimport { StandAloneMonthParser } from \"./StandAloneMonthParser.js\";\nimport { LocalWeekParser } from \"./LocalWeekParser.js\";\nimport { ISOWeekParser } from \"./ISOWeekParser.js\";\nimport { DateParser } from \"./DateParser.js\";\nimport { DayOfYearParser } from \"./DayOfYearParser.js\";\nimport { DayParser } from \"./DayParser.js\";\nimport { LocalDayParser } from \"./LocalDayParser.js\";\nimport { StandAloneLocalDayParser } from \"./StandAloneLocalDayParser.js\";\nimport { ISODayParser } from \"./ISODayParser.js\";\nimport { AMPMParser } from \"./AMPMParser.js\";\nimport { AMPMMidnightParser } from \"./AMPMMidnightParser.js\";\nimport { DayPeriodParser } from \"./DayPeriodParser.js\";\nimport { Hour1to12Parser } from \"./Hour1to12Parser.js\";\nimport { Hour0to23Parser } from \"./Hour0to23Parser.js\";\nimport { Hour0To11Parser } from \"./Hour0To11Parser.js\";\nimport { Hour1To24Parser } from \"./Hour1To24Parser.js\";\nimport { MinuteParser } from \"./MinuteParser.js\";\nimport { SecondParser } from \"./SecondParser.js\";\nimport { FractionOfSecondParser } from \"./FractionOfSecondParser.js\";\nimport { ISOTimezoneWithZParser } from \"./ISOTimezoneWithZParser.js\";\nimport { ISOTimezoneParser } from \"./ISOTimezoneParser.js\";\nimport { TimestampSecondsParser } from \"./TimestampSecondsParser.js\";\nimport { TimestampMillisecondsParser } from \"./TimestampMillisecondsParser.js\";\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O* | Timezone (GMT)                 |\n * |  p  |                                |  P  |                                |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z* | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `parse` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n */\nexport var parsers = {\n  G: new EraParser(),\n  y: new YearParser(),\n  Y: new LocalWeekYearParser(),\n  R: new ISOWeekYearParser(),\n  u: new ExtendedYearParser(),\n  Q: new QuarterParser(),\n  q: new StandAloneQuarterParser(),\n  M: new MonthParser(),\n  L: new StandAloneMonthParser(),\n  w: new LocalWeekParser(),\n  I: new ISOWeekParser(),\n  d: new DateParser(),\n  D: new DayOfYearParser(),\n  E: new DayParser(),\n  e: new LocalDayParser(),\n  c: new StandAloneLocalDayParser(),\n  i: new ISODayParser(),\n  a: new AMPMParser(),\n  b: new AMPMMidnightParser(),\n  B: new DayPeriodParser(),\n  h: new Hour1to12Parser(),\n  H: new Hour0to23Parser(),\n  K: new Hour0To11Parser(),\n  k: new Hour1To24Parser(),\n  m: new MinuteParser(),\n  s: new SecondParser(),\n  S: new FractionOfSecondParser(),\n  X: new ISOTimezoneWithZParser(),\n  x: new ISOTimezoneParser(),\n  t: new TimestampSecondsParser(),\n  T: new TimestampMillisecondsParser()\n};", "import { _ as __assign } from './bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { S as SuggestedMentionListView } from './bundle-CaZn7sCJ.js';\nimport { u as useThread } from './bundle-DlwwNCtN.js';\n\nvar SuggestedMentionList = function (props) {\n    var currentChannel = useThread().state.currentChannel;\n    return (React__default.createElement(SuggestedMentionListView, __assign({}, props, { currentChannel: currentChannel })));\n};\n\nexport { SuggestedMentionList as S };\n//# sourceMappingURL=bundle-C8jOzYoR.js.map\n", "// src/lib/Sendbird/types.ts\n// Roles for a user in a channel\nvar Role = {\n    OPERATOR: 'operator',\n    NONE: 'none',\n};\n\nexport { Role as R };\n//# sourceMappingURL=bundle-CWmJRvV1.js.map\n", "import { b as __awaiter, c as __generator } from '../../chunks/bundle-BosquA9C.js';\nimport React__default, { useCallback } from 'react';\nimport { k as isImage } from '../../chunks/bundle-Ug7rKzFJ.js';\nimport { useGlobalModalContext } from '../../hooks/useModal.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport { ButtonTypes } from '../../ui/Button.js';\nimport { u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport { c as ModalFooter } from '../../chunks/bundle-ZMBEGemL.js';\nimport { c as compressImages } from '../../chunks/bundle-4VvXLz4o.js';\nimport { O as ONE_MiB } from '../../chunks/bundle-BDIF-bj_.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-MdZYxYNf.js';\n\nvar useHandleUploadFiles = function (_a, _b) {\n    var sendFileMessage = _a.sendFileMessage, sendMultipleFilesMessage = _a.sendMultipleFilesMessage, quoteMessage = _a.quoteMessage;\n    var logger = _b.logger;\n    var stringSet = useLocalization().stringSet;\n    var config = useSendbird().state.config;\n    var imageCompression = config.imageCompression;\n    var uikitUploadSizeLimit = config === null || config === void 0 ? void 0 : config.uikitUploadSizeLimit;\n    var uikitMultipleFilesMessageLimit = config === null || config === void 0 ? void 0 : config.uikitMultipleFilesMessageLimit;\n    var openModal = useGlobalModalContext().openModal;\n    var handleUploadFiles = useCallback(function (files) { return __awaiter(void 0, void 0, void 0, function () {\n        var compressedFiles, sendingFiles, file, imageFiles_1, otherFiles_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    // Validate Parameters\n                    if (!sendFileMessage || !sendMultipleFilesMessage) {\n                        logger.warning('Channel|useHandleUploadFiles: required functions are undefined', { sendFileMessage: sendFileMessage, sendMultipleFilesMessage: sendMultipleFilesMessage });\n                        return [2 /*return*/];\n                    }\n                    if (files.length === 0) {\n                        logger.warning('Channel|useHandleUploadFiles: given file list is empty.', { files: files });\n                        return [2 /*return*/];\n                    }\n                    if (files.length > uikitMultipleFilesMessageLimit) {\n                        logger.info(\"Channel|useHandleUploadFiles: Cannot upload files more than \".concat(uikitMultipleFilesMessageLimit));\n                        openModal({\n                            modalProps: {\n                                titleText: stringSet.FILE_UPLOAD_NOTIFICATION__COUNT_LIMIT.replace('%d', \"\".concat(uikitMultipleFilesMessageLimit)),\n                                hideFooter: true,\n                            },\n                            childElement: function (_a) {\n                                var closeModal = _a.closeModal;\n                                return (React__default.createElement(ModalFooter, { type: ButtonTypes.PRIMARY, submitText: stringSet.BUTTON__OK, hideCancelButton: true, onCancel: closeModal, onSubmit: closeModal }));\n                            },\n                        });\n                        return [2 /*return*/];\n                    }\n                    /**\n                     * Validate file sizes\n                     * The default value of uikitUploadSizeLimit is 25MiB\n                     */\n                    if (files.some(function (file) { return file.size > uikitUploadSizeLimit; })) {\n                        logger.info(\"Channel|useHandleUploadFiles: Cannot upload file size exceeding \".concat(uikitUploadSizeLimit));\n                        openModal({\n                            modalProps: {\n                                titleText: stringSet.FILE_UPLOAD_NOTIFICATION__SIZE_LIMIT.replace('%d', \"\".concat(Math.floor(uikitUploadSizeLimit / ONE_MiB))),\n                                hideFooter: true,\n                            },\n                            childElement: function (_a) {\n                                var closeModal = _a.closeModal;\n                                return (React__default.createElement(ModalFooter, { type: ButtonTypes.PRIMARY, submitText: stringSet.BUTTON__OK, hideCancelButton: true, onCancel: closeModal, onSubmit: closeModal }));\n                            },\n                        });\n                        return [2 /*return*/];\n                    }\n                    return [4 /*yield*/, compressImages({\n                            files: files,\n                            imageCompression: imageCompression,\n                            logger: logger,\n                        })];\n                case 1:\n                    compressedFiles = (_a.sent()).compressedFiles;\n                    sendingFiles = compressedFiles;\n                    // Send File Message\n                    if (sendingFiles.length === 1) {\n                        logger.info('Channel|useHandleUploadFiles: sending one file.');\n                        file = sendingFiles[0];\n                        sendFileMessage(file, quoteMessage);\n                    }\n                    else if (sendingFiles.length > 1) {\n                        logger.info('Channel|useHandleUploadFiles: sending multiple files.');\n                        imageFiles_1 = [];\n                        otherFiles_1 = [];\n                        sendingFiles.forEach(function (file) {\n                            if (isImage(file.type)) {\n                                imageFiles_1.push(file);\n                            }\n                            else {\n                                otherFiles_1.push(file);\n                            }\n                        });\n                        return [2 /*return*/, otherFiles_1.reduce(function (previousPromise, item) {\n                                return previousPromise.then(function () {\n                                    return sendFileMessage(item, quoteMessage);\n                                });\n                            }, (function () {\n                                if (imageFiles_1.length === 0) {\n                                    return Promise.resolve();\n                                }\n                                else if (imageFiles_1.length === 1) {\n                                    return sendFileMessage(imageFiles_1[0], quoteMessage);\n                                }\n                                else {\n                                    return sendMultipleFilesMessage(imageFiles_1, quoteMessage);\n                                }\n                            })())];\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [\n        sendFileMessage,\n        sendMultipleFilesMessage,\n        quoteMessage,\n    ]);\n    return handleUploadFiles;\n};\n\nexport { useHandleUploadFiles };\n//# sourceMappingURL=useHandleUploadFiles.js.map\n", "import { a as __spreadArray } from '../../chunks/bundle-BosquA9C.js';\nimport React__default, { useRef, useState, useEffect } from 'react';\nimport { MutedState } from '@sendbird/chat/groupChannel';\nimport { u as useMediaQueryContext } from '../../chunks/bundle-DvgqpwmQ.js';\nimport { u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport MessageInput from '../../ui/MessageInput.js';\nimport { M as MessageInputKeys } from '../../chunks/bundle-B-wIh5Qv.js';\nimport { S as SuggestedMentionList } from '../../chunks/bundle-C8jOzYoR.js';\nimport { V as VoiceMessageInputWrapper } from '../../chunks/bundle-D59i-wy0.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-DPw-2E0C.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport { c as classnames } from '../../chunks/bundle-Bc1fdQjj.js';\nimport { R as Role } from '../../chunks/bundle-CWmJRvV1.js';\nimport { useDirtyGetMentions } from '../../Message/hooks/useDirtyGetMentions.js';\nimport { useHandleUploadFiles } from '../../Channel/hooks/useHandleUploadFiles.js';\nimport { b as isDisabledBecauseFrozen, c as isDisabledBecauseMuted } from '../../chunks/bundle-CVdCKMn9.js';\nimport { u as useThread } from '../../chunks/bundle-DlwwNCtN.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../chunks/bundle-CaZn7sCJ.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-DgO_xXWo.js';\nimport '../../GroupChannel/components/SuggestedMentionList.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/QuoteMessageInput.js';\nimport '../../chunks/bundle-COu2UBrG.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-B6tSyuRm.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../../VoiceRecorder/useVoiceRecorder.js';\nimport '../../chunks/bundle-vF_8gzZb.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ProgressBar.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-4VvXLz4o.js';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-DtQBJOWR.js';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-Dx43PGfx.js';\nimport '../../chunks/bundle-BlD_kPlV.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../context/types.js';\n\nvar ThreadMessageInput = function (props, ref) {\n    var _a;\n    var className = props.className, renderFileUploadIcon = props.renderFileUploadIcon, renderVoiceMessageIcon = props.renderVoiceMessageIcon, renderSendMessageIcon = props.renderSendMessageIcon, acceptableMimeTypes = props.acceptableMimeTypes;\n    var config = useSendbird().state.config;\n    var isMobile = useMediaQueryContext().isMobile;\n    var stringSet = useLocalization().stringSet;\n    var isOnline = config.isOnline, userMention = config.userMention, logger = config.logger, groupChannel = config.groupChannel;\n    var threadContext = useThread();\n    var _b = threadContext.state, currentChannel = _b.currentChannel, parentMessage = _b.parentMessage, isMuted = _b.isMuted, isChannelFrozen = _b.isChannelFrozen, allThreadMessages = _b.allThreadMessages, _c = threadContext.actions, sendMessage = _c.sendMessage, sendFileMessage = _c.sendFileMessage, sendVoiceMessage = _c.sendVoiceMessage, sendMultipleFilesMessage = _c.sendMultipleFilesMessage;\n    var messageInputRef = useRef();\n    var isMentionEnabled = groupChannel.enableMention;\n    var isVoiceMessageEnabled = groupChannel.enableVoiceMessage;\n    var isMultipleFilesMessageEnabled = (_a = threadContext.state.isMultipleFilesMessageEnabled) !== null && _a !== void 0 ? _a : config.isMultipleFilesMessageEnabled;\n    var threadInputDisabled = props.disabled\n        || !isOnline\n        || isMuted\n        || (!((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.myRole) === Role.OPERATOR) && isChannelFrozen) || parentMessage === null;\n    // MFM\n    var handleUploadFiles = useHandleUploadFiles({\n        sendFileMessage: sendFileMessage,\n        sendMultipleFilesMessage: sendMultipleFilesMessage,\n        quoteMessage: parentMessage,\n    }, {\n        logger: logger,\n    });\n    // mention\n    var _d = useState(''), mentionNickname = _d[0], setMentionNickname = _d[1];\n    var _e = useState([]), mentionedUsers = _e[0], setMentionedUsers = _e[1];\n    var _f = useState([]), mentionedUserIds = _f[0], setMentionedUserIds = _f[1];\n    var _g = useState(null), selectedUser = _g[0], setSelectedUser = _g[1];\n    var _h = useState([]), mentionSuggestedUsers = _h[0], setMentionSuggestedUsers = _h[1];\n    var _j = useState(null), messageInputEvent = _j[0], setMessageInputEvent = _j[1];\n    var _k = useState(false), showVoiceMessageInput = _k[0], setShowVoiceMessageInput = _k[1];\n    var displaySuggestedMentionList = isOnline\n        && isMentionEnabled\n        && mentionNickname.length > 0\n        && !isDisabledBecauseFrozen(currentChannel)\n        && !isDisabledBecauseMuted(currentChannel)\n        && !(currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.isBroadcast);\n    // Reset when changing channel\n    useEffect(function () {\n        setShowVoiceMessageInput(false);\n    }, [currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url]);\n    var mentionNodes = useDirtyGetMentions({ ref: ref || messageInputRef }, { logger: logger });\n    var ableMention = (mentionNodes === null || mentionNodes === void 0 ? void 0 : mentionNodes.length) < (userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount);\n    useEffect(function () {\n        setMentionedUsers(mentionedUsers.filter(function (_a) {\n            var userId = _a.userId;\n            var i = mentionedUserIds.indexOf(userId);\n            if (i < 0) {\n                return false;\n            }\n            else {\n                mentionedUserIds.splice(i, 1);\n                return true;\n            }\n        }));\n    }, [mentionedUserIds]);\n    if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.isBroadcast) && (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.myRole) !== Role.OPERATOR) {\n        return React__default.createElement(React__default.Fragment, null);\n    }\n    return (React__default.createElement(\"div\", { className: classnames(showVoiceMessageInput ? 'sendbird-thread-message-input--voice-message' : 'sendbird-thread-message-input', className) },\n        displaySuggestedMentionList && (React__default.createElement(SuggestedMentionList, { targetNickname: mentionNickname, inputEvent: messageInputEvent !== null && messageInputEvent !== void 0 ? messageInputEvent : undefined, \n            // renderUserMentionItem={renderUserMentionItem}\n            onUserItemClick: function (user) {\n                if (user) {\n                    setMentionedUsers(__spreadArray(__spreadArray([], mentionedUsers, true), [user], false));\n                }\n                setMentionNickname('');\n                setSelectedUser(user);\n                setMessageInputEvent(null);\n            }, onFocusItemChange: function () {\n                setMessageInputEvent(null);\n            }, onFetchUsers: function (users) {\n                setMentionSuggestedUsers(users);\n            }, ableAddMention: ableMention, maxMentionCount: userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount, maxSuggestionCount: userMention === null || userMention === void 0 ? void 0 : userMention.maxSuggestionCount })),\n        showVoiceMessageInput\n            ? (React__default.createElement(VoiceMessageInputWrapper, { channel: currentChannel, onSubmitClick: function (recordedFile, duration) {\n                    sendVoiceMessage(recordedFile, duration, parentMessage);\n                    setShowVoiceMessageInput(false);\n                }, onCancelClick: function () {\n                    setShowVoiceMessageInput(false);\n                } }))\n            : (React__default.createElement(MessageInput, { className: \"sendbird-thread-message-input__message-input\", messageFieldId: \"sendbird-message-input-text-field--thread\", channel: currentChannel, channelUrl: currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url, isMobile: isMobile, disabled: threadInputDisabled, acceptableMimeTypes: acceptableMimeTypes, setMentionedUsers: setMentionedUsers, mentionSelectedUser: selectedUser, isMentionEnabled: isMentionEnabled, isVoiceMessageEnabled: isVoiceMessageEnabled, isSelectingMultipleFilesEnabled: isMultipleFilesMessageEnabled, onVoiceMessageIconClick: function () {\n                    setShowVoiceMessageInput(true);\n                }, renderFileUploadIcon: renderFileUploadIcon, renderVoiceMessageIcon: renderVoiceMessageIcon, renderSendMessageIcon: renderSendMessageIcon, ref: ref || messageInputRef, placeholder: ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.isFrozen) && !((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.myRole) === Role.OPERATOR) && stringSet.MESSAGE_INPUT__PLACE_HOLDER__DISABLED)\n                    || ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.myMutedState) === MutedState.MUTED && stringSet.MESSAGE_INPUT__PLACE_HOLDER__MUTED_SHORT)\n                    || (allThreadMessages.length > 0\n                        ? stringSet.THREAD__INPUT__REPLY_TO_THREAD\n                        : stringSet.THREAD__INPUT__REPLY_IN_THREAD), onStartTyping: function () {\n                    var _a;\n                    (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.startTyping) === null || _a === void 0 ? void 0 : _a.call(currentChannel);\n                }, onSendMessage: function (_a) {\n                    var _b;\n                    var message = _a.message, mentionTemplate = _a.mentionTemplate;\n                    sendMessage({\n                        message: message,\n                        mentionedUsers: mentionedUsers,\n                        mentionTemplate: mentionTemplate,\n                        quoteMessage: parentMessage,\n                    });\n                    setMentionNickname('');\n                    setMentionedUsers([]);\n                    (_b = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.endTyping) === null || _b === void 0 ? void 0 : _b.call(currentChannel);\n                }, onFileUpload: handleUploadFiles, onUserMentioned: function (user) {\n                    if ((selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.userId) === (user === null || user === void 0 ? void 0 : user.userId)) {\n                        setSelectedUser(null);\n                        setMentionNickname('');\n                    }\n                }, onMentionStringChange: function (mentionText) {\n                    setMentionNickname(mentionText);\n                }, onMentionedUserIdsUpdated: function (userIds) {\n                    setMentionedUserIds(userIds);\n                }, onKeyDown: function (e) {\n                    if (displaySuggestedMentionList && (mentionSuggestedUsers === null || mentionSuggestedUsers === void 0 ? void 0 : mentionSuggestedUsers.length) > 0\n                        && ((e.key === MessageInputKeys.Enter && ableMention) || e.key === MessageInputKeys.ArrowUp || e.key === MessageInputKeys.ArrowDown)) {\n                        setMessageInputEvent(e);\n                        return true;\n                    }\n                    return false;\n                } }))));\n};\nvar ThreadMessageInput$1 = React__default.forwardRef(ThreadMessageInput);\n\nexport { ThreadMessageInput$1 as default };\n//# sourceMappingURL=ThreadMessageInput.js.map\n", "import React__default from 'react';\nimport { u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport { u as useChannelListContext } from '../../chunks/bundle-DipRMv-6.js';\nimport { g as getChannelTitle } from '../../chunks/bundle-SEoRcjBh.js';\nimport { G as GroupChannelListItemView } from '../../chunks/bundle-B7JoK-Jx.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-DhzCuHhn.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-B_HhSA6x.js';\nimport '../../chunks/bundle-BBGwVlcE.js';\nimport '../../chunks/bundle-BSieP1ow.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../GroupChannel/components/TypingIndicator.js';\nimport '../../ui/Badge.js';\nimport '../../ui/ChannelAvatar.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../chunks/bundle-ByD0lt6-.js';\nimport '../../ui/MentionUserLabel.js';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\n\n/**\n * @deprecated This component is deprecated and will be removed in the next major update.\n * Please use the `GroupChannel` component from '@sendbird/uikit-react/GroupChannel' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar ChannelPreview = function (_a) {\n    var _b, _c, _d, _e;\n    var channel = _a.channel, _f = _a.isActive, isActive = _f === void 0 ? false : _f, _g = _a.isSelected, isSelected = _g === void 0 ? false : _g, _h = _a.isTyping, isTyping = _h === void 0 ? false : _h, renderChannelAction = _a.renderChannelAction, onLeaveChannel = _a.onLeaveChannel, onClick = _a.onClick, tabIndex = _a.tabIndex;\n    var state = useSendbird().state;\n    var config = state.config;\n    var stringSet = useLocalization().stringSet;\n    var _j = useChannelListContext(), _k = _j.isTypingIndicatorEnabled, isTypingIndicatorEnabled = _k === void 0 ? false : _k, _l = _j.isMessageReceiptStatusEnabled, isMessageReceiptStatusEnabled = _l === void 0 ? false : _l;\n    var userId = config.userId;\n    var isMessageStatusEnabled = isMessageReceiptStatusEnabled\n        && (((_b = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _b === void 0 ? void 0 : _b.messageType) === 'user' || ((_c = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _c === void 0 ? void 0 : _c.messageType) === 'file')\n        && ((_e = (_d = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _d === void 0 ? void 0 : _d.sender) === null || _e === void 0 ? void 0 : _e.userId) === userId;\n    return (React__default.createElement(GroupChannelListItemView, { channel: channel, tabIndex: tabIndex, isTyping: isTypingIndicatorEnabled && isTyping, isSelected: isSelected !== null && isSelected !== void 0 ? isSelected : isActive, channelName: getChannelTitle(channel, userId, stringSet), isMessageStatusEnabled: isMessageStatusEnabled, onClick: onClick, onLeaveChannel: onLeaveChannel, renderChannelAction: renderChannelAction }));\n};\n\nexport { ChannelPreview as default };\n//# sourceMappingURL=ChannelPreview.js.map\n", "import { a as __spreadArray } from '../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { f as format } from '../chunks/bundle-CDOQ--pz.js';\nimport { i as isToday, a as isYesterday, b as isThisYear } from '../chunks/bundle-B_HhSA6x.js';\nimport { A as Avatar } from '../chunks/bundle-BkCv3z1C.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { u as useLocalization } from '../chunks/bundle-y-yf0Djs.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../chunks/bundle-BBGwVlcE.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-MdZYxYNf.js';\nimport './Icon.js';\nimport '../chunks/bundle-DXRcwk7R.js';\n\n// getCreatedAt\nfunction getCreatedAt (_a) {\n    var createdAt = _a.createdAt, locale = _a.locale, stringSet = _a.stringSet;\n    var optionalParam = { locale: locale };\n    if (!createdAt) {\n        return '';\n    }\n    if (isToday(createdAt)) {\n        return format(createdAt, stringSet.DATE_FORMAT__LAST_MESSAGE_CREATED_AT__TODAY, optionalParam);\n    }\n    if (isYesterday(createdAt)) {\n        return stringSet.MESSAGE_STATUS__YESTERDAY;\n    }\n    if (isThisYear(createdAt)) {\n        return format(createdAt, stringSet.DATE_FORMAT__LAST_MESSAGE_CREATED_AT__THIS_YEAR, optionalParam);\n    }\n    return format(createdAt, stringSet.DATE_FORMAT__LAST_MESSAGE_CREATED_AT__PREVIOUS_YEAR, optionalParam);\n}\n\nfunction MessageSearchItem(_a) {\n    var className = _a.className, message = _a.message, selected = _a.selected, onClick = _a.onClick;\n    var createdAt = message.createdAt;\n    var messageText = message.message;\n    // @ts-ignore\n    var sender = message.sender || message._sender;\n    var profileUrl = sender.profileUrl, nickname = sender.nickname;\n    var _b = useLocalization(), stringSet = _b.stringSet, dateLocale = _b.dateLocale;\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-message-search-item',\n            selected ? 'sendbird-message-search-item--selected' : '',\n        ], false).join(' '), onClick: function (e) {\n            e.stopPropagation();\n            onClick === null || onClick === void 0 ? void 0 : onClick(message);\n        } },\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-item__left\" },\n            React__default.createElement(Avatar, { className: \"sendbird-message-search-item__left__sender-avatar\", src: profileUrl, alt: \"profile image\", width: \"56px\", height: \"56px\" })),\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-item__right\" },\n            React__default.createElement(Label, { className: \"sendbird-message-search-item__right__sender-name\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_1 }, nickname || stringSet.NO_NAME),\n            React__default.createElement(Label, { className: \"sendbird-message-search-item__right__message-text\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_3 }, messageText),\n            React__default.createElement(Label, { className: \"sendbird-message-search-item__right__message-created-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, getCreatedAt({ createdAt: createdAt, locale: dateLocale, stringSet: stringSet }))),\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-item__right-footer\" })));\n}\n\nexport { MessageSearchItem as default };\n//# sourceMappingURL=MessageSearchItem.js.map\n", "import { a as __spreadArray } from '../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { A as Avatar } from '../chunks/bundle-BkCv3z1C.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport { u as useLocalization } from '../chunks/bundle-y-yf0Djs.js';\nimport { f as format } from '../chunks/bundle-CDOQ--pz.js';\nimport { i as isToday, a as isYesterday, b as isThisYear } from '../chunks/bundle-B_HhSA6x.js';\nimport { i as isVoiceMessage } from '../chunks/bundle-Ug7rKzFJ.js';\nimport { g as getMessageFirstFileUrl, b as getMessageFirstFileName } from '../chunks/bundle-COu2UBrG.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-MdZYxYNf.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BBGwVlcE.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BDIF-bj_.js';\n\nfunction getCreatedAt(_a) {\n    var createdAt = _a.createdAt, locale = _a.locale, stringSet = _a.stringSet;\n    var optionalParam = { locale: locale };\n    if (!createdAt) {\n        return '';\n    }\n    if (isToday(createdAt)) {\n        return format(createdAt, stringSet.DATE_FORMAT__LAST_MESSAGE_CREATED_AT__TODAY, optionalParam);\n    }\n    if (isYesterday(createdAt)) {\n        return stringSet.MESSAGE_STATUS__YESTERDAY;\n    }\n    if (isThisYear(createdAt)) {\n        return format(createdAt, stringSet.DATE_FORMAT__LAST_MESSAGE_CREATED_AT__THIS_YEAR, optionalParam);\n    }\n    return format(createdAt, stringSet.DATE_FORMAT__LAST_MESSAGE_CREATED_AT__PREVIOUS_YEAR, optionalParam);\n}\nfunction getIconOfFileType(message) {\n    var _a, _b, _c;\n    var fileMessageUrl = (_a = getMessageFirstFileUrl(message)) !== null && _a !== void 0 ? _a : '';\n    var fileExtension = (_c = (_b = (fileMessageUrl.match(/\\.([^.]*?)(?=\\?|#|$)/))) === null || _b === void 0 ? void 0 : _b[1]) !== null && _c !== void 0 ? _c : '';\n    if (/(jpg|jpeg|png)$/i.test(fileExtension)) {\n        return IconTypes.PHOTO;\n    }\n    else if (/mp4$/i.test(fileExtension) || isVoiceMessage(message)) {\n        return IconTypes.PLAY;\n    }\n    else if (/mp3/i.test(fileExtension)) {\n        return IconTypes.FILE_AUDIO;\n    }\n    else if (/gif/i.test(fileExtension)) {\n        return IconTypes.GIF;\n    }\n    else {\n        return IconTypes.FILE_DOCUMENT;\n    }\n}\n\nfunction MessageSearchFileItem(props) {\n    var className = props.className, message = props.message, selected = props.selected, onClick = props.onClick;\n    var createdAt = message.createdAt;\n    var url = getMessageFirstFileUrl(message);\n    var name = getMessageFirstFileName(message);\n    // @ts-ignore\n    var sender = message.sender || message._sender;\n    var profileUrl = sender.profileUrl, nickname = sender.nickname;\n    var _a = useLocalization(), stringSet = _a.stringSet, dateLocale = _a.dateLocale;\n    var isVoiceMsg = isVoiceMessage(message);\n    var prettyFilename = isVoiceMsg ? stringSet.VOICE_MESSAGE : (name || url);\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-message-search-file-item',\n            selected ? 'sendbird-message-search-file-item--selected' : '',\n        ], false).join(' '), onClick: function (e) {\n            e.stopPropagation();\n            onClick === null || onClick === void 0 ? void 0 : onClick(message);\n        } },\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-file-item__left\" },\n            React__default.createElement(Avatar, { className: \"sendbird-message-search-file-item__left__sender-avatar\", src: profileUrl, alt: \"profile image\", width: \"56px\", height: \"56px\" })),\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-file-item__right\" },\n            React__default.createElement(Label, { className: \"sendbird-message-search-file-item__right__sender-name\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_1 }, nickname || stringSet.NO_NAME),\n            React__default.createElement(\"div\", { className: \"sendbird-message-search-file-item__right__content\" },\n                !isVoiceMsg && (React__default.createElement(\"div\", { className: 'sendbird-message-search-file-item__right__content__type-icon' },\n                    React__default.createElement(Icon, { type: getIconOfFileType(message), fillColor: IconColors.PRIMARY, width: \"18px\", height: \"18px\" }))),\n                React__default.createElement(Label, { className: \"sendbird-message-search-file-item__right__content__url\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_1 }, prettyFilename))),\n        React__default.createElement(Label, { className: \"sendbird-message-search-file-item__message-created-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, getCreatedAt({ createdAt: createdAt, locale: dateLocale, stringSet: stringSet })),\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-file-item__right-footer\" })));\n}\n\nexport { MessageSearchFileItem as default };\n//# sourceMappingURL=MessageSearchFileItem.js.map\n", "import React__default, { useContext } from 'react';\nimport { L as LocalizationContext } from '../../chunks/bundle-y-yf0Djs.js';\nimport { u as useMessageSearch } from '../../chunks/bundle-Bb5bU2pm.js';\nimport MessageSearchItem from '../../ui/MessageSearchItem.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder.js';\nimport MessageSearchFileItem from '../../ui/MessageSearchFileItem.js';\nimport { a as isDefaultChannelName } from '../../chunks/bundle-Ug7rKzFJ.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '../../chunks/bundle-Bk7vYzLW.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-B_HhSA6x.js';\nimport '../../chunks/bundle-BBGwVlcE.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-COu2UBrG.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\n\nvar MessageSearchUI = function (_a) {\n    var renderPlaceHolderError = _a.renderPlaceHolderError, renderPlaceHolderLoading = _a.renderPlaceHolderLoading, renderPlaceHolderNoString = _a.renderPlaceHolderNoString, renderPlaceHolderEmptyList = _a.renderPlaceHolderEmptyList, renderSearchItem = _a.renderSearchItem;\n    var _b = useMessageSearch(), _c = _b.state, isInvalid = _c.isInvalid, searchString = _c.searchString, requestString = _c.requestString, currentChannel = _c.currentChannel, loading = _c.loading, scrollRef = _c.scrollRef, hasMoreResult = _c.hasMoreResult, onScroll = _c.onScroll, allMessages = _c.allMessages, onResultClick = _c.onResultClick, selectedMessageId = _c.selectedMessageId, _d = _b.actions, setSelectedMessageId = _d.setSelectedMessageId, handleRetryToConnect = _d.handleRetryToConnect;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var handleOnScroll = function (e) {\n        var scrollElement = e.target;\n        var scrollTop = scrollElement.scrollTop, scrollHeight = scrollElement.scrollHeight, clientHeight = scrollElement.clientHeight;\n        if (!hasMoreResult) {\n            return;\n        }\n        if (scrollTop + clientHeight >= scrollHeight - 1) {\n            onScroll(function () {\n                // after load more searched messages\n            });\n        }\n    };\n    var getChannelName = function () {\n        if (!(currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.name) && !(currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members)) {\n            return stringSet.NO_TITLE;\n        }\n        if (isDefaultChannelName(currentChannel))\n            return currentChannel.members.map(function (member) { return member.nickname || stringSet.NO_NAME; }).join(', ');\n        return currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.name;\n    };\n    if (isInvalid && searchString && requestString) {\n        return (renderPlaceHolderError === null || renderPlaceHolderError === void 0 ? void 0 : renderPlaceHolderError()) || (React__default.createElement(\"div\", { className: \"sendbird-message-search\" },\n            React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.WRONG, retryToConnect: handleRetryToConnect })));\n    }\n    if (loading && searchString && requestString) {\n        return (renderPlaceHolderLoading === null || renderPlaceHolderLoading === void 0 ? void 0 : renderPlaceHolderLoading()) || (React__default.createElement(\"div\", { className: \"sendbird-message-search\" },\n            React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.SEARCHING })));\n    }\n    if (!searchString) {\n        return (renderPlaceHolderNoString === null || renderPlaceHolderNoString === void 0 ? void 0 : renderPlaceHolderNoString()) || (React__default.createElement(\"div\", { className: \"sendbird-message-search\" },\n            React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.SEARCH_IN, searchInString: getChannelName() })));\n    }\n    return (React__default.createElement(\"div\", { className: \"sendbird-message-search\", onScroll: handleOnScroll, ref: scrollRef }, (allMessages.length > 0)\n        ? (allMessages.map(function (message) {\n            if (renderSearchItem) {\n                return renderSearchItem({ message: message, onResultClick: onResultClick });\n            }\n            if (message.messageType === 'file') {\n                return (React__default.createElement(MessageSearchFileItem, { className: \"sendbird-message-search__message-search-item\", message: message, key: message.messageId, selected: (selectedMessageId === message.messageId), onClick: function () {\n                        onResultClick === null || onResultClick === void 0 ? void 0 : onResultClick(message);\n                        setSelectedMessageId(message.messageId);\n                    } }));\n            }\n            return (React__default.createElement(MessageSearchItem, { className: \"sendbird-message-search__message-search-item\", message: message, key: message.messageId, selected: (selectedMessageId === message.messageId), onClick: function () {\n                    onResultClick === null || onResultClick === void 0 ? void 0 : onResultClick(message);\n                    setSelectedMessageId(message.messageId);\n                } }));\n        }))\n        : (renderPlaceHolderEmptyList === null || renderPlaceHolderEmptyList === void 0 ? void 0 : renderPlaceHolderEmptyList()) || (React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.NO_RESULTS }))));\n};\n\nexport { MessageSearchUI, MessageSearchUI as default };\n//# sourceMappingURL=MessageSearchUI.js.map\n", "import React__default, { useState, useContext, useEffect } from 'react';\nimport { MessageSearchUI } from './MessageSearch/components/MessageSearchUI.js';\nimport { L as LocalizationContext } from './chunks/bundle-y-yf0Djs.js';\nimport Icon, { IconTypes, IconColors } from './ui/Icon.js';\nimport Loader from './ui/Loader.js';\nimport { a as MessageSearchProvider } from './chunks/bundle-Bb5bU2pm.js';\nimport Header from './ui/Header.js';\nimport './ui/MessageSearchItem.js';\nimport './chunks/bundle-BosquA9C.js';\nimport './chunks/bundle-CDOQ--pz.js';\nimport './chunks/bundle-BovMsFd4.js';\nimport './chunks/bundle-BRWYGzyd.js';\nimport './chunks/bundle-B_HhSA6x.js';\nimport './chunks/bundle-BBGwVlcE.js';\nimport './chunks/bundle-BkCv3z1C.js';\nimport './ui/ImageRenderer.js';\nimport './chunks/bundle-Bc1fdQjj.js';\nimport './chunks/bundle-MdZYxYNf.js';\nimport './chunks/bundle-MoKyCGQH.js';\nimport './chunks/bundle-DXRcwk7R.js';\nimport './ui/PlaceHolder.js';\nimport './ui/MessageSearchFileItem.js';\nimport './chunks/bundle-Ug7rKzFJ.js';\nimport '@sendbird/chat/groupChannel';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-CWd47dzy.js';\nimport './chunks/bundle-BA9ZfQ-7.js';\nimport './chunks/bundle-BDIF-bj_.js';\nimport './chunks/bundle-COu2UBrG.js';\nimport './chunks/bundle-CK7w7gep.js';\nimport './chunks/bundle-Bk7vYzLW.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './chunks/bundle-DvgqpwmQ.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-DU7VpG0M.js';\nimport './ui/IconButton.js';\n\nfunction MessageSearchPannel(props) {\n    var channelUrl = props.channelUrl, onResultClick = props.onResultClick, onCloseClick = props.onCloseClick, messageSearchQuery = props.messageSearchQuery, renderPlaceHolderError = props.renderPlaceHolderError, renderPlaceHolderLoading = props.renderPlaceHolderLoading, renderPlaceHolderNoString = props.renderPlaceHolderNoString, renderPlaceHolderEmptyList = props.renderPlaceHolderEmptyList, renderSearchItem = props.renderSearchItem;\n    var _a = useState(''), searchString = _a[0], setSearchString = _a[1];\n    var _b = useState(''), inputString = _b[0], setInputString = _b[1];\n    var _c = useState(false), loading = _c[0], setLoading = _c[1];\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var timeout = null;\n    useEffect(function () {\n        if (timeout) {\n            clearTimeout(timeout);\n        }\n        timeout = setTimeout(function () {\n            setSearchString(inputString);\n            setLoading(true);\n            timeout = null;\n        }, 500);\n    }, [inputString]);\n    var handleOnChangeInputString = function (e) {\n        setInputString(e.target.value);\n    };\n    var handleOnResultLoaded = function () {\n        setLoading(false);\n    };\n    var handleOnClickResetStringButton = function (e) {\n        e.stopPropagation();\n        setInputString('');\n        setSearchString('');\n    };\n    return (React__default.createElement(\"div\", { className: \"sendbird-message-search-pannel\" },\n        React__default.createElement(Header, { className: \"sendbird-message-search-pannel__header\", renderMiddle: function () { return (React__default.createElement(Header.Title, { title: stringSet.SEARCH_IN_CHANNEL })); }, renderRight: function () { return (React__default.createElement(Header.IconButton, { className: \"sendbird-message-search-pannel__header__close-button\", onClick: onCloseClick, type: IconTypes.CLOSE, color: IconColors.ON_BACKGROUND_1 })); } }),\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-pannel__input\" },\n            React__default.createElement(\"div\", { className: \"sendbird-message-search-pannel__input__container\" },\n                React__default.createElement(Icon, { className: \"sendbird-message-search-pannel__input__container__search-icon\", type: IconTypes.SEARCH, fillColor: IconColors.ON_BACKGROUND_3, width: \"24px\", height: \"24px\" }),\n                React__default.createElement(\"input\", { className: \"sendbird-message-search-pannel__input__container__input-area\", placeholder: stringSet.SEARCH, value: inputString, onChange: handleOnChangeInputString }),\n                inputString && loading && (React__default.createElement(Loader, { className: \"sendbird-message-search-pannel__input__container__spinner\", width: \"20px\", height: \"20px\" },\n                    React__default.createElement(Icon, { type: IconTypes.SPINNER, fillColor: IconColors.PRIMARY, width: \"20px\", height: \"20px\" }))),\n                !loading && inputString && (React__default.createElement(Icon, { className: \"sendbird-message-search-pannel__input__container__reset-input-button\", type: IconTypes.REMOVE, fillColor: IconColors.ON_BACKGROUND_3, width: \"20px\", height: \"20px\", onClick: handleOnClickResetStringButton })))),\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-pannel__message-search\" },\n            React__default.createElement(MessageSearchProvider, { channelUrl: channelUrl, searchString: searchString, onResultClick: onResultClick, onResultLoaded: handleOnResultLoaded, messageSearchQuery: messageSearchQuery },\n                React__default.createElement(MessageSearchUI, { renderPlaceHolderError: renderPlaceHolderError, renderPlaceHolderLoading: renderPlaceHolderLoading, renderPlaceHolderNoString: renderPlaceHolderNoString, renderPlaceHolderEmptyList: renderPlaceHolderEmptyList, renderSearchItem: renderSearchItem })))));\n}\n\nexport { MessageSearchPannel as default };\n//# sourceMappingURL=MessageSearch.js.map\n", "import React__default, { useContext } from 'react';\nimport { M as Modal } from './bundle-ZMBEGemL.js';\nimport './bundle-BosquA9C.js';\nimport './bundle-MoKyCGQH.js';\nimport { ButtonTypes } from '../ui/Button.js';\nimport { L as LocalizationContext } from './bundle-y-yf0Djs.js';\nimport { g as getModalDeleteMessageTitle } from './bundle-DMQ4ARs5.js';\nimport { u as useThread } from './bundle-DlwwNCtN.js';\n\nvar RemoveMessage = function (props) {\n    var _a, _b;\n    var onCancel = props.onCancel, onSubmit = props.onSubmit, message = props.message;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var deleteMessage = useThread().actions.deleteMessage;\n    return (React__default.createElement(Modal, { type: ButtonTypes.DANGER, disabled: ((_b = (_a = message.threadInfo) === null || _a === void 0 ? void 0 : _a.replyCount) !== null && _b !== void 0 ? _b : 0) > 0, onCancel: onCancel, onSubmit: function () {\n            deleteMessage(message).then(function () {\n                onCancel === null || onCancel === void 0 ? void 0 : onCancel();\n                onSubmit === null || onSubmit === void 0 ? void 0 : onSubmit();\n            });\n        }, submitText: stringSet.MESSAGE_MENU__DELETE, titleText: getModalDeleteMessageTitle(stringSet, message) }));\n};\n\nexport { RemoveMessage as R };\n//# sourceMappingURL=bundle-ByyQIaJp.js.map\n", "import { b as __awaiter, c as __generator } from '../../chunks/bundle-BosquA9C.js';\nimport React__default, { useMemo, useState } from 'react';\nimport { u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport { m as isUserMessage, e as isEditedMessage, n as getUIKitMessageType, o as getUIKitMessageTypes, p as getUIKitFileType, t as truncateString, d as isMultipleFilesMessage, i as isVoiceMessage, q as isThumbnailMessage, r as isSentMessage, s as isVideoMessage, u as isGifMessage, c as isFileMessage } from '../../chunks/bundle-Ug7rKzFJ.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-MoKyCGQH.js';\nimport ImageRenderer from '../../ui/ImageRenderer.js';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon.js';\nimport TextButton from '../../ui/TextButton.js';\nimport EmojiReactions from '../../ui/EmojiReactions.js';\nimport { VoiceMessageItemBody } from '../../ui/VoiceMessageItemBody.js';\nimport { T as TextFragment } from '../../chunks/bundle-bLHW4VuD.js';\nimport { t as tokenizeMessage } from '../../chunks/bundle-BJl-Stow.js';\nimport { u as useThreadMessageKindKeySelector, a as useFileInfoListWithUploaded, M as MultipleFilesMessageItemBody, T as ThreadMessageKind } from '../../chunks/bundle-CxdqLaUY.js';\nimport { u as useMediaQueryContext } from '../../chunks/bundle-DvgqpwmQ.js';\nimport { C as Colors } from '../../chunks/bundle-DU7VpG0M.js';\nimport { o as openURL } from '../../chunks/bundle-Bc1fdQjj.js';\nimport { u as useThread } from '../../chunks/bundle-DlwwNCtN.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-BSieP1ow.js';\nimport '../../chunks/bundle-BEUsrftF.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../ui/IconButton.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../ui/BottomSheet.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport '../../ui/Button.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-B6tSyuRm.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/Loader.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '@sendbird/chat/message';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-CsZOw9J5.js';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-BlD_kPlV.js';\nimport '../../chunks/bundle-CVdCKMn9.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../context/types.js';\nimport '../../chunks/bundle-Dx43PGfx.js';\n\nfunction ParentMessageInfoItem(_a) {\n    var _this = this;\n    var _b, _c, _d, _e, _f, _g, _h, _j;\n    var className = _a.className, message = _a.message, showFileViewer = _a.showFileViewer, _k = _a.onBeforeDownloadFileMessage, onBeforeDownloadFileMessage = _k === void 0 ? null : _k;\n    var _l = useSendbird().state, stores = _l.stores, config = _l.config, eventHandlers = _l.eventHandlers;\n    var logger = config.logger;\n    var onPressUserProfileHandler = (_b = eventHandlers === null || eventHandlers === void 0 ? void 0 : eventHandlers.reaction) === null || _b === void 0 ? void 0 : _b.onPressUserProfile;\n    var currentUserId = (_d = (_c = stores === null || stores === void 0 ? void 0 : stores.userStore) === null || _c === void 0 ? void 0 : _c.user) === null || _d === void 0 ? void 0 : _d.userId;\n    var stringSet = useLocalization().stringSet;\n    var _m = useThread(), _o = _m.state, currentChannel = _o.currentChannel, emojiContainer = _o.emojiContainer, nicknamesMap = _o.nicknamesMap, filterEmojiCategoryIds = _o.filterEmojiCategoryIds, toggleReaction = _m.actions.toggleReaction;\n    var isMobile = useMediaQueryContext().isMobile;\n    var isReactionEnabled = config.groupChannel.enableReactions;\n    var isMentionEnabled = config.groupChannel.enableMention;\n    var threadMessageKindKey = useThreadMessageKindKeySelector({\n        threadMessageKind: ThreadMessageKind.PARENT,\n        isMobile: isMobile,\n    });\n    // For MultipleFilesMessage only.\n    var statefulFileInfoList = useFileInfoListWithUploaded(message);\n    var isMentionedMessage = isMentionEnabled\n        && (message === null || message === void 0 ? void 0 : message.isUserMessage())\n        && ((_e = message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate) === null || _e === void 0 ? void 0 : _e.length) > 0\n        && (message === null || message === void 0 ? void 0 : message.mentionedUsers)\n        && message.mentionedUsers.length > 0;\n    // Emoji reactions\n    var isReactionActivated = isReactionEnabled\n        && config.groupChannel.replyType === 'thread'\n        && ((_f = message === null || message === void 0 ? void 0 : message.reactions) === null || _f === void 0 ? void 0 : _f.length) > 0;\n    var tokens = useMemo(function () {\n        var _a;\n        if (isMentionedMessage) {\n            return tokenizeMessage({\n                mentionedUsers: (_a = message === null || message === void 0 ? void 0 : message.mentionedUsers) !== null && _a !== void 0 ? _a : undefined,\n                messageText: message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate,\n                includeMarkdown: config.groupChannel.enableMarkdownForUserMessage,\n            });\n        }\n        return tokenizeMessage({\n            messageText: message === null || message === void 0 ? void 0 : message.message,\n            includeMarkdown: config.groupChannel.enableMarkdownForUserMessage,\n        });\n    }, [message === null || message === void 0 ? void 0 : message.updatedAt, message === null || message === void 0 ? void 0 : message.message]);\n    // Only for the FileMessageItemBody\n    var downloadFileWithUrl = function () {\n        if (isFileMessage(message))\n            openURL(message.url);\n    };\n    var handleOnClickTextButton = onBeforeDownloadFileMessage\n        ? function () { return __awaiter(_this, void 0, void 0, function () {\n            var allowDownload, err_1;\n            var _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!(message.messageType === 'file')) return [3 /*break*/, 4];\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, onBeforeDownloadFileMessage({ message: message })];\n                    case 2:\n                        allowDownload = _c.sent();\n                        if (allowDownload) {\n                            downloadFileWithUrl();\n                        }\n                        else {\n                            (_a = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'ParentMessageInfoItem: Not allowed to download.');\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_1 = _c.sent();\n                        (_b = logger === null || logger === void 0 ? void 0 : logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'ParentMessageInfoItem: Error occurred while determining download continuation:', err_1);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); }\n        : downloadFileWithUrl;\n    // Thumbnail mesage\n    var _p = useState(false), isImageRendered = _p[0], setImageRendered = _p[1];\n    var thumbnailUrl = ((_g = message === null || message === void 0 ? void 0 : message.thumbnails) === null || _g === void 0 ? void 0 : _g.length) > 0\n        ? (_h = message === null || message === void 0 ? void 0 : message.thumbnails[0]) === null || _h === void 0 ? void 0 : _h.url : '';\n    return (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item \".concat(className) },\n        isUserMessage(message) && (React__default.createElement(Label, { className: \"sendbird-parent-message-info-item__text-message\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_1 },\n            React__default.createElement(TextFragment, { tokens: tokens }),\n            isEditedMessage(message) && (React__default.createElement(Label, { className: \"sendbird-parent-message-info-item__text-message edited\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_2 }, \" \".concat(stringSet.MESSAGE_EDITED, \" \"))))),\n        // Instead of the FileMessageItemBody component\n        (getUIKitMessageType(message) === getUIKitMessageTypes().FILE) && (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__file-message\" },\n            React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__file-message__file-icon\" },\n                React__default.createElement(Icon, { className: \"sendbird-parent-message-info-item__file-message__file-icon__icon\", type: {\n                        IMAGE: IconTypes.PHOTO,\n                        VIDEO: IconTypes.PLAY,\n                        AUDIO: IconTypes.FILE_AUDIO,\n                        GIF: IconTypes.GIF,\n                        OTHERS: IconTypes.FILE_DOCUMENT,\n                    }[getUIKitFileType(message === null || message === void 0 ? void 0 : message.type)], fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })),\n            React__default.createElement(TextButton, { className: \"sendbird-parent-message-info-item__file-message__file-name\", onClick: handleOnClickTextButton, color: Colors.ONBACKGROUND_1 },\n                React__default.createElement(Label, { className: \"sendbird-parent-message-info-item__file-message__file-name__text\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_1 }, truncateString((message === null || message === void 0 ? void 0 : message.name) || (message === null || message === void 0 ? void 0 : message.url), 30))))),\n        isMultipleFilesMessage(message) && (React__default.createElement(MultipleFilesMessageItemBody, { className: \"sendbird-parent-message-info-item__multiple-files-message-wrapper\", message: message, isByMe: false, isReactionEnabled: isReactionEnabled, threadMessageKindKey: threadMessageKindKey, statefulFileInfoList: statefulFileInfoList, onBeforeDownloadFileMessage: onBeforeDownloadFileMessage })),\n        isVoiceMessage(message) && (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__voice-message\" },\n            React__default.createElement(VoiceMessageItemBody, { className: \"sendbird-parent-message-info-item__voice-message__item\", message: message, channelUrl: currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url, isByMe: false, isReactionEnabled: isReactionEnabled }))),\n        isThumbnailMessage(message) && (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__thumbnail-message\", onClick: function () {\n                if (isSentMessage(message)) {\n                    showFileViewer === null || showFileViewer === void 0 ? void 0 : showFileViewer(true);\n                }\n            } },\n            React__default.createElement(ImageRenderer, { className: \"sendbird-parent-message-info-item__thumbnail-message__thumbnail\", url: thumbnailUrl || (message === null || message === void 0 ? void 0 : message.url) || (message === null || message === void 0 ? void 0 : message.plainUrl), alt: message === null || message === void 0 ? void 0 : message.type, width: \"200px\", height: \"148px\", onLoad: function () { setImageRendered(true); }, placeHolder: function (_a) {\n                    var style = _a.style;\n                    return (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__thumbnail-message__placeholder\", style: style },\n                        React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__thumbnail-message__placeholder__icon\" },\n                            React__default.createElement(Icon, { type: isVideoMessage(message) ? IconTypes.PLAY : IconTypes.PHOTO, fillColor: IconColors.ON_BACKGROUND_2, width: \"34px\", height: \"34px\" }))));\n                } }),\n            (isVideoMessage(message) && !thumbnailUrl) && !isImageRendered && (React__default.createElement(\"video\", { className: \"sendbird-parent-message-info-item__thumbnail-message__video\" },\n                React__default.createElement(\"source\", { src: (message === null || message === void 0 ? void 0 : message.url) || (message === null || message === void 0 ? void 0 : message.plainUrl), type: message === null || message === void 0 ? void 0 : message.type }))),\n            React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__thumbnail-message__image-cover\" }),\n            (isVideoMessage(message) || isGifMessage(message)) && (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__thumbnail-message__icon-wrapper\" },\n                React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__thumbnail-message__icon-wrapper__icon\" },\n                    React__default.createElement(Icon, { type: isVideoMessage(message) ? IconTypes.PLAY : IconTypes.GIF, fillColor: IconColors.ON_BACKGROUND_2, width: \"34px\", height: \"34px\" })))))),\n        getUIKitMessageType(message) === ((_j = getUIKitMessageTypes === null || getUIKitMessageTypes === void 0 ? void 0 : getUIKitMessageTypes()) === null || _j === void 0 ? void 0 : _j.UNKNOWN) && (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__unknown-message\" },\n            React__default.createElement(Label, { className: \"sendbird-parent-message-info-item__unknown-message__header\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.UNKNOWN__UNKNOWN_MESSAGE_TYPE),\n            React__default.createElement(Label, { className: \"sendbird-parent-message-info-item__unknown-message__description\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_2 }, stringSet.UNKNOWN__CANNOT_READ_MESSAGE))),\n        isReactionActivated && (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info__reactions\" },\n            React__default.createElement(EmojiReactions, { userId: currentUserId, message: message, channel: currentChannel, isByMe: false, emojiContainer: emojiContainer, memberNicknamesMap: nicknamesMap, toggleReaction: toggleReaction, onPressUserProfile: onPressUserProfileHandler, filterEmojiCategoryIds: filterEmojiCategoryIds })))));\n}\n\nexport { ParentMessageInfoItem as default };\n//# sourceMappingURL=ParentMessageInfoItem.js.map\n", "import { a as __spreadArray, _ as __assign, b as __awaiter, c as __generator } from '../../chunks/bundle-BosquA9C.js';\nimport React__default, { useState, useRef, useEffect } from 'react';\nimport { f as format } from '../../chunks/bundle-CDOQ--pz.js';\nimport { R as RemoveMessage } from '../../chunks/bundle-ByyQIaJp.js';\nimport ParentMessageInfoItem from './ParentMessageInfoItem.js';\nimport { f as getSenderName } from '../../chunks/bundle-Ug7rKzFJ.js';\nimport { g as getIsReactionEnabled } from '../../chunks/bundle-B61f7NvF.js';\nimport { u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport { u as useUserProfileContext } from '../../chunks/bundle-ByW5tGii.js';\nimport { S as SuggestedMentionList } from '../../chunks/bundle-C8jOzYoR.js';\nimport { A as Avatar } from '../../chunks/bundle-BkCv3z1C.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-MoKyCGQH.js';\nimport FileViewer from '../../ui/FileViewer.js';\nimport { MessageEmojiMenu } from '../../ui/MessageItemReactionMenu.js';\nimport { d as MENU_ROOT_ID, E as EMOJI_MENU_ROOT_ID, g as getObservingId, e as MENU_OBSERVING_CLASS_NAME, C as ContextMenu, b as MenuItems } from '../../chunks/bundle-BEUsrftF.js';\nimport UserProfile from '../../ui/UserProfile.js';\nimport MessageInput from '../../ui/MessageInput.js';\nimport { M as MessageInputKeys } from '../../chunks/bundle-B-wIh5Qv.js';\nimport { R as Role } from '../../chunks/bundle-CWmJRvV1.js';\nimport { u as useMediaQueryContext } from '../../chunks/bundle-DvgqpwmQ.js';\nimport { u as useLongPress } from '../../chunks/bundle-BSieP1ow.js';\nimport { MobileMenu } from '../../ui/MobileMenu.js';\nimport { useDirtyGetMentions } from '../../Message/hooks/useDirtyGetMentions.js';\nimport { g as getCaseResolvedReplyType } from '../../chunks/bundle-CCDeoxT_.js';\nimport { c as classnames } from '../../chunks/bundle-Bc1fdQjj.js';\nimport { M as MessageMenu } from '../../chunks/bundle-iiHh_YqB.js';\nimport { u as useElementObserver } from '../../chunks/bundle-C-Qr6Xbj.js';\nimport { u as useThread } from '../../chunks/bundle-DlwwNCtN.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-DMQ4ARs5.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/ReactionButton.js';\nimport '../../ui/BottomSheet.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/UserListItem.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../ui/SortByRow.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-B6tSyuRm.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-bLHW4VuD.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../chunks/bundle-CxdqLaUY.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-CaZn7sCJ.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-CsZOw9J5.js';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../chunks/bundle-BlD_kPlV.js';\nimport '../../chunks/bundle-CVdCKMn9.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../context/types.js';\nimport '../../chunks/bundle-Dx43PGfx.js';\n\nfunction ParentMessageInfo(_a) {\n    var _this = this;\n    var _b, _c, _d, _e, _f, _g;\n    var className = _a.className, _h = _a.renderEmojiMenu, renderEmojiMenu = _h === void 0 ? function (props) { return React__default.createElement(MessageEmojiMenu, __assign({}, props)); } : _h, _j = _a.renderMessageMenu, renderMessageMenu = _j === void 0 ? function (props) { return React__default.createElement(MessageMenu, __assign({}, props)); } : _j;\n    var _k = useSendbird().state, stores = _k.stores, config = _k.config;\n    var isOnline = config.isOnline, userMention = config.userMention, logger = config.logger, groupChannel = config.groupChannel;\n    var userId = (_c = (_b = stores.userStore.user) === null || _b === void 0 ? void 0 : _b.userId) !== null && _c !== void 0 ? _c : '';\n    var _l = useLocalization(), dateLocale = _l.dateLocale, stringSet = _l.stringSet;\n    var _m = useThread(), _o = _m.state, currentChannel = _o.currentChannel, parentMessage = _o.parentMessage, allThreadMessages = _o.allThreadMessages, emojiContainer = _o.emojiContainer, onMoveToParentMessage = _o.onMoveToParentMessage, onHeaderActionClick = _o.onHeaderActionClick, isMuted = _o.isMuted, isChannelFrozen = _o.isChannelFrozen, onBeforeDownloadFileMessage = _o.onBeforeDownloadFileMessage, filterEmojiCategoryIds = _o.filterEmojiCategoryIds, _p = _m.actions, toggleReaction = _p.toggleReaction, updateMessage = _p.updateMessage, deleteMessage = _p.deleteMessage;\n    var isMobile = useMediaQueryContext().isMobile;\n    var isMenuMounted = useElementObserver(\"#\".concat(getObservingId(parentMessage.messageId), \".\").concat(MENU_OBSERVING_CLASS_NAME), [\n        document.getElementById(MENU_ROOT_ID),\n        document.getElementById(EMOJI_MENU_ROOT_ID),\n    ]);\n    var _q = useState(false), showRemove = _q[0], setShowRemove = _q[1];\n    var _r = useState(false), showFileViewer = _r[0], setShowFileViewer = _r[1];\n    var isReactionEnabled = getIsReactionEnabled({\n        channel: currentChannel,\n        config: config,\n    });\n    var isMentionEnabled = groupChannel.enableMention;\n    var replyType = getCaseResolvedReplyType(groupChannel.replyType).upperCase;\n    var isByMe = userId === parentMessage.sender.userId;\n    // Mobile\n    var mobileMenuRef = useRef(null);\n    var _s = useState(false), showMobileMenu = _s[0], setShowMobileMenu = _s[1];\n    var longPress = useLongPress({\n        onLongPress: function () {\n            if (isMobile) {\n                setShowMobileMenu(true);\n            }\n        },\n    }, {\n        shouldPreventDefault: false,\n    });\n    // Edit message\n    var _t = useState(false), showEditInput = _t[0], setShowEditInput = _t[1];\n    var disabled = !isOnline || isMuted || isChannelFrozen && !((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.myRole) === Role.OPERATOR);\n    // Mention\n    var editMessageInputRef = useRef(null);\n    var _u = useState(''), mentionNickname = _u[0], setMentionNickname = _u[1];\n    var _v = useState([]), mentionedUsers = _v[0], setMentionedUsers = _v[1];\n    var _w = useState([]), mentionedUserIds = _w[0], setMentionedUserIds = _w[1];\n    var _x = useState(null), messageInputEvent = _x[0], setMessageInputEvent = _x[1];\n    var _y = useState(null), selectedUser = _y[0], setSelectedUser = _y[1];\n    var _z = useState([]), mentionSuggestedUsers = _z[0], setMentionSuggestedUsers = _z[1];\n    var displaySuggestedMentionList = isOnline\n        && isMentionEnabled\n        && mentionNickname.length > 0\n        && !isMuted\n        && !(isChannelFrozen && !(currentChannel.myRole === Role.OPERATOR));\n    var mentionNodes = useDirtyGetMentions({ ref: editMessageInputRef }, { logger: logger });\n    var ableMention = (mentionNodes === null || mentionNodes === void 0 ? void 0 : mentionNodes.length) < (userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount);\n    useEffect(function () {\n        setMentionedUsers(mentionedUsers.filter(function (_a) {\n            var userId = _a.userId;\n            var i = mentionedUserIds.indexOf(userId);\n            if (i < 0) {\n                return false;\n            }\n            else {\n                mentionedUserIds.splice(i, 1);\n                return true;\n            }\n        }));\n    }, [mentionedUserIds]);\n    var handleOnDownloadClick = function (e) { return __awaiter(_this, void 0, void 0, function () {\n        var allowDownload, err_1;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!onBeforeDownloadFileMessage)\n                        return [2 /*return*/];\n                    _c.label = 1;\n                case 1:\n                    _c.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, onBeforeDownloadFileMessage({ message: parentMessage })];\n                case 2:\n                    allowDownload = _c.sent();\n                    if (!allowDownload) {\n                        e.preventDefault();\n                        (_a = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'ParentMessageInfo: Not allowed to download.');\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    err_1 = _c.sent();\n                    (_b = logger === null || logger === void 0 ? void 0 : logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'ParentMessageInfo: Error occurred while determining download continuation:', err_1);\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    // User Profile\n    var avatarRef = useRef(null);\n    var _0 = useUserProfileContext(), disableUserProfile = _0.disableUserProfile, renderUserProfile = _0.renderUserProfile;\n    if (showEditInput && ((_d = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.isUserMessage) === null || _d === void 0 ? void 0 : _d.call(parentMessage))) {\n        return (React__default.createElement(React__default.Fragment, null,\n            displaySuggestedMentionList && (React__default.createElement(SuggestedMentionList, { className: \"parent-message-info--suggested-mention-list\", targetNickname: mentionNickname, inputEvent: messageInputEvent !== null && messageInputEvent !== void 0 ? messageInputEvent : undefined, \n                // renderUserMentionItem={renderUserMentionItem}\n                onUserItemClick: function (user) {\n                    if (user) {\n                        setMentionedUsers(__spreadArray(__spreadArray([], mentionedUsers, true), [user], false));\n                    }\n                    setMentionNickname('');\n                    setSelectedUser(user);\n                    setMessageInputEvent(null);\n                }, onFocusItemChange: function () {\n                    setMessageInputEvent(null);\n                }, onFetchUsers: function (users) {\n                    setMentionSuggestedUsers(users);\n                }, ableAddMention: ableMention, maxMentionCount: userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount, maxSuggestionCount: userMention === null || userMention === void 0 ? void 0 : userMention.maxSuggestionCount })),\n            React__default.createElement(MessageInput, { channel: currentChannel, isEdit: true, disabled: disabled, ref: editMessageInputRef, mentionSelectedUser: selectedUser, isMentionEnabled: isMentionEnabled, message: parentMessage, onStartTyping: function () {\n                    var _a;\n                    (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.startTyping) === null || _a === void 0 ? void 0 : _a.call(currentChannel);\n                }, onUpdateMessage: function (_a) {\n                    var _b;\n                    var messageId = _a.messageId, message = _a.message, mentionTemplate = _a.mentionTemplate;\n                    updateMessage({\n                        messageId: messageId,\n                        message: message,\n                        mentionedUsers: mentionedUsers,\n                        mentionTemplate: mentionTemplate,\n                    });\n                    setShowEditInput(false);\n                    (_b = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.endTyping) === null || _b === void 0 ? void 0 : _b.call(currentChannel);\n                }, onCancelEdit: function () {\n                    var _a;\n                    setMentionNickname('');\n                    setMentionedUsers([]);\n                    setMentionedUserIds([]);\n                    setMentionSuggestedUsers([]);\n                    setShowEditInput(false);\n                    (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.endTyping) === null || _a === void 0 ? void 0 : _a.call(currentChannel);\n                }, onUserMentioned: function (user) {\n                    if ((selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.userId) === (user === null || user === void 0 ? void 0 : user.userId)) {\n                        setSelectedUser(null);\n                        setMentionNickname('');\n                    }\n                }, onMentionStringChange: function (mentionText) {\n                    setMentionNickname(mentionText);\n                }, onMentionedUserIdsUpdated: function (userIds) {\n                    setMentionedUserIds(userIds);\n                }, onKeyDown: function (e) {\n                    if (displaySuggestedMentionList && (mentionSuggestedUsers === null || mentionSuggestedUsers === void 0 ? void 0 : mentionSuggestedUsers.length) > 0\n                        && ((e.key === MessageInputKeys.Enter && ableMention) || e.key === MessageInputKeys.ArrowUp || e.key === MessageInputKeys.ArrowDown)) {\n                        setMessageInputEvent(e);\n                        return true;\n                    }\n                    return false;\n                } })));\n    }\n    return (React__default.createElement(\"div\", __assign({ className: \"sendbird-parent-message-info \".concat(className) }, (isMobile) ? __assign({}, longPress) : {}, { ref: mobileMenuRef }),\n        React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) {\n                var _a, _b, _c;\n                return (React__default.createElement(Avatar, { className: \"sendbird-parent-message-info__sender\", ref: avatarRef, src: ((_b = (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members) === null || _a === void 0 ? void 0 : _a.find(function (m) { var _a; return (m === null || m === void 0 ? void 0 : m.userId) === ((_a = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender) === null || _a === void 0 ? void 0 : _a.userId); })) === null || _b === void 0 ? void 0 : _b.profileUrl)\n                        || ((_c = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender) === null || _c === void 0 ? void 0 : _c.profileUrl), alt: \"thread message sender\", width: \"40px\", height: \"40px\", onClick: function () {\n                        if (!disableUserProfile) {\n                            toggleDropdown();\n                        }\n                    } }));\n            }, menuItems: function (closeDropdown) { return (renderUserProfile\n                ? renderUserProfile({\n                    user: parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender,\n                    close: closeDropdown,\n                    currentUserId: userId,\n                    avatarRef: avatarRef,\n                })\n                : (React__default.createElement(MenuItems, { parentRef: avatarRef, parentContainRef: avatarRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n                    React__default.createElement(UserProfile, { user: parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender, currentUserId: userId, onSuccess: closeDropdown })))); } }),\n        React__default.createElement(\"div\", { className: \"sendbird-parent-message-info__content\" },\n            React__default.createElement(\"div\", { className: \"sendbird-parent-message-info__content__info\" },\n                React__default.createElement(Label, { className: isReactionEnabled\n                        ? 'sendbird-parent-message-info__content__info__sender-name--use-reaction'\n                        : 'sendbird-parent-message-info__content__info__sender-name', type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, ((_f = (_e = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members) === null || _e === void 0 ? void 0 : _e.find(function (member) { var _a; return (member === null || member === void 0 ? void 0 : member.userId) === ((_a = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender) === null || _a === void 0 ? void 0 : _a.userId); })) === null || _f === void 0 ? void 0 : _f.nickname) || (getSenderName === null || getSenderName === void 0 ? void 0 : getSenderName(parentMessage))),\n                React__default.createElement(Label, { className: \"sendbird-parent-message-info__content__info__sent-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, format((parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.createdAt) || 0, stringSet.DATE_FORMAT__MESSAGE_CREATED_AT, { locale: dateLocale }))),\n            React__default.createElement(ParentMessageInfoItem, { message: parentMessage, showFileViewer: setShowFileViewer, onBeforeDownloadFileMessage: onBeforeDownloadFileMessage })),\n        !isMobile && (React__default.createElement(\"div\", { className: 'sendbird-parent-message-info__menu-container' },\n            renderMessageMenu({\n                className: classnames('sendbird-parent-message-info__context-menu', isReactionEnabled && 'use-reaction', isMenuMounted && 'sendbird-mouse-hover'),\n                channel: currentChannel,\n                message: parentMessage,\n                isByMe: userId === ((_g = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender) === null || _g === void 0 ? void 0 : _g.userId),\n                disableDeleteMessage: allThreadMessages.length > 0,\n                replyType: replyType,\n                showEdit: setShowEditInput,\n                showRemove: setShowRemove,\n                onMoveToParentMessage: function () {\n                    onMoveToParentMessage === null || onMoveToParentMessage === void 0 ? void 0 : onMoveToParentMessage({ message: parentMessage, channel: currentChannel });\n                },\n                deleteMessage: deleteMessage,\n            }),\n            isReactionEnabled && (renderEmojiMenu({\n                className: classnames('sendbird-parent-message-info__reaction-menu', isMenuMounted && 'sendbird-mouse-hover'),\n                message: parentMessage,\n                userId: userId,\n                emojiContainer: emojiContainer,\n                toggleReaction: toggleReaction,\n                filterEmojiCategoryIds: filterEmojiCategoryIds,\n            })))),\n        showRemove && (React__default.createElement(RemoveMessage, { onCancel: function () { return setShowRemove(false); }, onSubmit: function () {\n                onHeaderActionClick === null || onHeaderActionClick === void 0 ? void 0 : onHeaderActionClick();\n            }, message: parentMessage })),\n        showFileViewer && (React__default.createElement(FileViewer, { message: parentMessage, onClose: function () { return setShowFileViewer(false); }, onDelete: function () {\n                deleteMessage(parentMessage)\n                    .then(function () {\n                    setShowFileViewer(false);\n                });\n            }, onDownloadClick: handleOnDownloadClick })),\n        showMobileMenu && (React__default.createElement(MobileMenu, { parentRef: mobileMenuRef, channel: currentChannel, message: parentMessage, userId: userId, replyType: replyType, hideMenu: function () {\n                setShowMobileMenu(false);\n            }, deleteMessage: deleteMessage, deleteMenuState: (allThreadMessages === null || allThreadMessages === void 0 ? void 0 : allThreadMessages.length) === 0\n                ? 'ACTIVE'\n                : 'HIDE', isReactionEnabled: isReactionEnabled, isByMe: isByMe, emojiContainer: emojiContainer, showEdit: setShowEditInput, showRemove: setShowRemove, toggleReaction: toggleReaction, isOpenedFromThread: true, onDownloadClick: handleOnDownloadClick }))));\n}\n\nexport { ParentMessageInfo as default };\n//# sourceMappingURL=ParentMessageInfo.js.map\n", "import React__default, { useMemo } from 'react';\nimport { IconTypes, IconColors } from '../../ui/Icon.js';\nimport { u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport Header from '../../ui/Header.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../ui/IconButton.js';\n\nfunction ThreadHeader(_a) {\n    var className = _a.className, channelName = _a.channelName, renderActionIcon = _a.renderActionIcon, onActionIconClick = _a.onActionIconClick, onChannelNameClick = _a.onChannelNameClick;\n    var stringSet = useLocalization().stringSet;\n    var MemoizedActionIcon = useMemo(function () {\n        if (typeof renderActionIcon === 'function' && onActionIconClick) {\n            return renderActionIcon({ onActionIconClick: onActionIconClick });\n        }\n        return null;\n    }, [renderActionIcon]);\n    return (React__default.createElement(Header, { className: \"sendbird-thread-header \".concat(className), renderMiddle: function () { return (React__default.createElement(Header.Title, { title: stringSet.THREAD__HEADER_TITLE, subtitle: channelName, onClickSubtitle: onChannelNameClick })); }, renderRight: function () { return (MemoizedActionIcon || (React__default.createElement(\"div\", { className: \"sendbird-thread-header__action\" },\n            React__default.createElement(Header.IconButton, { onClick: function (e) { return onActionIconClick(e); }, type: IconTypes.CLOSE, color: IconColors.ON_BACKGROUND_1 })))); } }));\n}\n\nexport { ThreadHeader as default };\n//# sourceMappingURL=ThreadHeader.js.map\n", "import { _ as __assign, b as __awaiter, c as __generator, a as __spreadArray } from '../../chunks/bundle-BosquA9C.js';\nimport React__default, { useRef, useState, useLayoutEffect, useEffect, useMemo } from 'react';\nimport { f as format } from '../../chunks/bundle-CDOQ--pz.js';\nimport { u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport DateSeparator from '../../ui/DateSeparator.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-MoKyCGQH.js';\nimport { R as RemoveMessage } from '../../chunks/bundle-ByyQIaJp.js';\nimport FileViewer from '../../ui/FileViewer.js';\nimport { S as SuggestedMentionList } from '../../chunks/bundle-C8jOzYoR.js';\nimport MessageInput from '../../ui/MessageInput.js';\nimport { ThreadListStateTypes } from '../context/types.js';\nimport { M as MessageInputKeys } from '../../chunks/bundle-B-wIh5Qv.js';\nimport { d as MENU_ROOT_ID, E as EMOJI_MENU_ROOT_ID, g as getObservingId, e as MENU_OBSERVING_CLASS_NAME } from '../../chunks/bundle-BEUsrftF.js';\nimport { MessageEmojiMenu } from '../../ui/MessageItemReactionMenu.js';\nimport { y as getClassName, q as isThumbnailMessage, N as isOGMessage, d as isMultipleFilesMessage } from '../../chunks/bundle-Ug7rKzFJ.js';\nimport { M as MessageStatus } from '../../chunks/bundle-SEoRcjBh.js';\nimport EmojiReactions from '../../ui/EmojiReactions.js';\nimport { u as useMediaQueryContext } from '../../chunks/bundle-DvgqpwmQ.js';\nimport { u as useLongPress } from '../../chunks/bundle-BSieP1ow.js';\nimport { MobileMenu } from '../../ui/MobileMenu.js';\nimport { u as useThreadMessageKindKeySelector, a as useFileInfoListWithUploaded, T as ThreadMessageKind } from '../../chunks/bundle-CxdqLaUY.js';\nimport { d as deleteNullish, c as classnames } from '../../chunks/bundle-Bc1fdQjj.js';\nimport { M as MessageMenu } from '../../chunks/bundle-iiHh_YqB.js';\nimport { u as useElementObserver } from '../../chunks/bundle-C-Qr6Xbj.js';\nimport { M as MessageProfile, a as MessageBody, b as MessageHeader } from '../../chunks/bundle-DEVtRtKL.js';\nimport { u as useThread } from '../../chunks/bundle-DlwwNCtN.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport { R as Role } from '../../chunks/bundle-CWmJRvV1.js';\nimport { useDirtyGetMentions } from '../../Message/hooks/useDirtyGetMentions.js';\nimport { g as getIsReactionEnabled } from '../../chunks/bundle-B61f7NvF.js';\nimport { g as getCaseResolvedReplyType } from '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-DMQ4ARs5.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../chunks/bundle-CsZOw9J5.js';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-CaZn7sCJ.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../ui/SortByRow.js';\nimport '../../ui/ReactionButton.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-B_HhSA6x.js';\nimport '../../chunks/bundle-BBGwVlcE.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '@sendbird/chat/message';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../chunks/bundle-bLHW4VuD.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../ui/TextButton.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-B6tSyuRm.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../chunks/bundle-COu2UBrG.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-D9VCJ_xd.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../chunks/bundle-DgO_xXWo.js';\nimport '../../chunks/bundle-BlD_kPlV.js';\nimport '../../chunks/bundle-CVdCKMn9.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../../chunks/bundle-Dx43PGfx.js';\n\nfunction ThreadListItemContent(props) {\n    var _this = this;\n    var _a, _b, _c;\n    // Internal props\n    var className = props.className, userId = props.userId, channel = props.channel, message = props.message, _d = props.chainTop, chainTop = _d === void 0 ? false : _d, _e = props.chainBottom, chainBottom = _e === void 0 ? false : _e, _f = props.isReactionEnabled, isReactionEnabled = _f === void 0 ? false : _f, _g = props.disableQuoteMessage, disableQuoteMessage = _g === void 0 ? false : _g, replyType = props.replyType, nicknamesMap = props.nicknamesMap, emojiContainer = props.emojiContainer, showEdit = props.showEdit, showRemove = props.showRemove, showFileViewer = props.showFileViewer, resendMessage = props.resendMessage, toggleReaction = props.toggleReaction, onReplyInThread = props.onReplyInThread;\n    // Public props for customization\n    var _h = deleteNullish(props), _j = _h.renderSenderProfile, renderSenderProfile = _j === void 0 ? function (props) { return React__default.createElement(MessageProfile, __assign({}, props)); } : _j, _k = _h.renderMessageBody, renderMessageBody = _k === void 0 ? function (props) { return React__default.createElement(MessageBody, __assign({}, props)); } : _k, _l = _h.renderMessageHeader, renderMessageHeader = _l === void 0 ? function (props) { return React__default.createElement(MessageHeader, __assign({}, props)); } : _l, _m = _h.renderMessageMenu, renderMessageMenu = _m === void 0 ? function (props) { return React__default.createElement(MessageMenu, __assign({}, props)); } : _m, _o = _h.renderEmojiMenu, renderEmojiMenu = _o === void 0 ? function () { return React__default.createElement(MessageEmojiMenu, __assign({}, props)); } : _o, _p = _h.renderEmojiReactions, renderEmojiReactions = _p === void 0 ? function (props) { return React__default.createElement(EmojiReactions, __assign({}, props)); } : _p, _q = _h.renderMobileMenuOnLongPress, renderMobileMenuOnLongPress = _q === void 0 ? function (props) { return React__default.createElement(MobileMenu, __assign({}, props)); } : _q;\n    var isMobile = useMediaQueryContext().isMobile;\n    var _r = useLocalization(), dateLocale = _r.dateLocale, stringSet = _r.stringSet;\n    var _s = useSendbird().state, config = _s.config, eventHandlers = _s.eventHandlers;\n    var logger = config.logger;\n    var onPressUserProfileHandler = (_a = eventHandlers === null || eventHandlers === void 0 ? void 0 : eventHandlers.reaction) === null || _a === void 0 ? void 0 : _a.onPressUserProfile;\n    var isMenuMounted = useElementObserver(\"#\".concat(getObservingId(message.messageId), \".\").concat(MENU_OBSERVING_CLASS_NAME), [\n        document.getElementById(MENU_ROOT_ID),\n        document.getElementById(EMOJI_MENU_ROOT_ID),\n    ]);\n    var _t = useThread(), _u = _t.state, onBeforeDownloadFileMessage = _u.onBeforeDownloadFileMessage, filterEmojiCategoryIds = _u.filterEmojiCategoryIds, deleteMessage = _t.actions.deleteMessage;\n    var isByMe = (userId === ((_b = message === null || message === void 0 ? void 0 : message.sender) === null || _b === void 0 ? void 0 : _b.userId))\n        || ((message === null || message === void 0 ? void 0 : message.sendingStatus) === 'pending')\n        || ((message === null || message === void 0 ? void 0 : message.sendingStatus) === 'failed');\n    var useReplying = !!((replyType === 'QUOTE_REPLY' || replyType === 'THREAD')\n        && (message === null || message === void 0 ? void 0 : message.parentMessageId) && (message === null || message === void 0 ? void 0 : message.parentMessage)\n        && !disableQuoteMessage);\n    var supposedHoverClassName = isMenuMounted ? 'sendbird-mouse-hover' : '';\n    var isReactionEnabledInChannel = isReactionEnabled && !(channel === null || channel === void 0 ? void 0 : channel.isEphemeral);\n    var isOgMessageEnabledInGroupChannel = (channel === null || channel === void 0 ? void 0 : channel.isGroupChannel()) && config.groupChannel.enableOgtag;\n    // Mobile\n    var mobileMenuRef = useRef(null);\n    var _v = useState(false), showMobileMenu = _v[0], setShowMobileMenu = _v[1];\n    var longPress = useLongPress({\n        onLongPress: function () {\n            if (isMobile) {\n                setShowMobileMenu(true);\n            }\n        },\n    }, {\n        shouldPreventDefault: false,\n    });\n    var threadMessageKindKey = useThreadMessageKindKeySelector({\n        threadMessageKind: ThreadMessageKind.CHILD,\n        isMobile: isMobile,\n    });\n    // For MultipleFilesMessage only.\n    var statefulFileInfoList = useFileInfoListWithUploaded(message);\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-thread-list-item-content', className, isByMe ? 'outgoing' : 'incoming'), ref: mobileMenuRef },\n        React__default.createElement(\"div\", { className: classnames('sendbird-thread-list-item-content__left', isReactionEnabledInChannel && 'use-reaction', isByMe ? 'outgoing' : 'incoming') },\n            (!isByMe && !chainBottom) && (renderSenderProfile(__assign(__assign({}, props), { className: 'sendbird-thread-list-item-content__left__avatar', isByMe: isByMe, displayThreadReplies: false }))),\n            (isByMe && !isMobile) && (React__default.createElement(\"div\", { className: classnames('sendbird-thread-list-item-content-menu', isReactionEnabledInChannel && 'use-reaction', isByMe ? 'outgoing' : 'incoming', supposedHoverClassName) },\n                renderMessageMenu({\n                    className: 'sendbird-thread-list-item-content-menu__normal-menu',\n                    channel: channel,\n                    message: message,\n                    isByMe: isByMe,\n                    replyType: replyType,\n                    showEdit: showEdit,\n                    showRemove: showRemove,\n                    resendMessage: resendMessage,\n                    onReplyInThread: onReplyInThread,\n                    deleteMessage: deleteMessage,\n                }),\n                isReactionEnabledInChannel && (React__default.createElement(React__default.Fragment, null, renderEmojiMenu({\n                    className: 'sendbird-thread-list-item-content-menu__reaction-menu',\n                    message: message,\n                    userId: userId,\n                    emojiContainer: emojiContainer,\n                    toggleReaction: toggleReaction,\n                    filterEmojiCategoryIds: filterEmojiCategoryIds,\n                })))))),\n        React__default.createElement(\"div\", __assign({ className: \"sendbird-thread-list-item-content__middle\" }, (isMobile) ? __assign({}, longPress) : {}),\n            (!isByMe && !chainTop && !useReplying) && renderMessageHeader(props),\n            React__default.createElement(\"div\", { className: getClassName(['sendbird-thread-list-item-content__middle__body-container']) },\n                (isByMe && !chainBottom) && (React__default.createElement(\"div\", { className: getClassName(['sendbird-thread-list-item-content__middle__body-container__created-at', 'left', supposedHoverClassName]) },\n                    React__default.createElement(\"div\", { className: \"sendbird-thread-list-item-content__middle__body-container__created-at__component-container\" },\n                        React__default.createElement(MessageStatus, { message: message, channel: channel })))),\n                renderMessageBody({\n                    className: 'sendbird-thread-list-item-content__middle__message-item-body',\n                    message: message,\n                    channel: channel,\n                    showFileViewer: showFileViewer,\n                    mouseHover: false,\n                    isMobile: isMobile,\n                    config: config,\n                    isReactionEnabledInChannel: isReactionEnabledInChannel,\n                    isByMe: isByMe,\n                    onBeforeDownloadFileMessage: onBeforeDownloadFileMessage,\n                    /** This is for internal customization to keep the legacy */\n                    customSubcomponentsProps: {\n                        ThumbnailMessageItemBody: {\n                            style: {\n                                width: isMobile ? '100%' : '200px',\n                                height: '148px',\n                            },\n                        },\n                        MultipleFilesMessageItemBody: {\n                            threadMessageKindKey: threadMessageKindKey,\n                            statefulFileInfoList: statefulFileInfoList,\n                        },\n                    },\n                    // TODO: Support these props in Thread\n                    // onMessageHeightChange,\n                    // onTemplateMessageRenderedCallback,\n                }),\n                (isReactionEnabledInChannel && ((_c = message === null || message === void 0 ? void 0 : message.reactions) === null || _c === void 0 ? void 0 : _c.length) > 0) && (React__default.createElement(\"div\", { className: getClassName([\n                        'sendbird-thread-list-item-content-reactions',\n                        (!isByMe\n                            || isThumbnailMessage(message)\n                            || (isOgMessageEnabledInGroupChannel && isOGMessage(message))\n                            || isMultipleFilesMessage(message)) ? '' : 'primary',\n                    ]) }, renderEmojiReactions({\n                    userId: userId,\n                    message: message,\n                    channel: channel,\n                    isByMe: isByMe,\n                    emojiContainer: emojiContainer,\n                    memberNicknamesMap: nicknamesMap,\n                    toggleReaction: toggleReaction,\n                    onPressUserProfile: onPressUserProfileHandler,\n                    filterEmojiCategoryIds: filterEmojiCategoryIds,\n                }))),\n                (!isByMe && !chainBottom) && (React__default.createElement(Label, { className: getClassName(['sendbird-thread-list-item-content__middle__body-container__created-at', 'right', supposedHoverClassName]), type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, format((message === null || message === void 0 ? void 0 : message.createdAt) || 0, stringSet.DATE_FORMAT__MESSAGE_CREATED_AT, {\n                    locale: dateLocale,\n                }))))),\n        React__default.createElement(\"div\", { className: classnames('sendbird-thread-list-item-content__right', chainTop && 'chain-top', isByMe ? 'outgoing' : 'incoming') }, (!isByMe && !isMobile) && (React__default.createElement(\"div\", { className: \"sendbird-thread-list-item-content-menu \".concat(supposedHoverClassName) },\n            isReactionEnabledInChannel && (renderEmojiMenu({\n                className: 'sendbird-thread-list-item-content-menu__reaction-menu',\n                message: message,\n                userId: userId,\n                emojiContainer: emojiContainer,\n                toggleReaction: toggleReaction,\n                filterEmojiCategoryIds: filterEmojiCategoryIds,\n            })),\n            renderMessageMenu({\n                className: 'sendbird-thread-list-item-content-menu__normal-menu',\n                channel: channel,\n                message: message,\n                isByMe: isByMe,\n                replyType: replyType,\n                showRemove: showRemove,\n                resendMessage: resendMessage,\n                onReplyInThread: onReplyInThread,\n                deleteMessage: deleteMessage,\n            })))),\n        showMobileMenu && (renderMobileMenuOnLongPress({\n            parentRef: mobileMenuRef,\n            channel: channel,\n            message: message,\n            userId: userId,\n            replyType: replyType,\n            hideMenu: function () {\n                setShowMobileMenu(false);\n            },\n            isReactionEnabled: isReactionEnabled,\n            isByMe: isByMe,\n            emojiContainer: emojiContainer,\n            showEdit: showEdit,\n            showRemove: showRemove,\n            toggleReaction: toggleReaction,\n            isOpenedFromThread: true,\n            deleteMessage: deleteMessage,\n            onDownloadClick: function (e) { return __awaiter(_this, void 0, void 0, function () {\n                var allowDownload, err_1;\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (!onBeforeDownloadFileMessage)\n                                return [2 /*return*/];\n                            _c.label = 1;\n                        case 1:\n                            _c.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, onBeforeDownloadFileMessage({ message: message })];\n                        case 2:\n                            allowDownload = _c.sent();\n                            if (!allowDownload) {\n                                e.preventDefault();\n                                (_a = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'ThreadListItemContent: Not allowed to download.');\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _c.sent();\n                            (_b = logger === null || logger === void 0 ? void 0 : logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'ThreadListItemContent: Error occurred while determining download continuation:', err_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); },\n        }))));\n}\n\nfunction ThreadListItem(props) {\n    var _this = this;\n    var _a, _b, _c, _d;\n    var className = props.className, message = props.message, chainTop = props.chainTop, chainBottom = props.chainBottom, hasSeparator = props.hasSeparator, renderCustomSeparator = props.renderCustomSeparator, handleScroll = props.handleScroll;\n    var _e = useSendbird().state, stores = _e.stores, config = _e.config;\n    var isOnline = config.isOnline, userMention = config.userMention, logger = config.logger, groupChannel = config.groupChannel;\n    var userId = (_b = (_a = stores === null || stores === void 0 ? void 0 : stores.userStore) === null || _a === void 0 ? void 0 : _a.user) === null || _b === void 0 ? void 0 : _b.userId;\n    var _f = useLocalization(), dateLocale = _f.dateLocale, stringSet = _f.stringSet;\n    var _g = useThread(), _h = _g.state, openingMessage = _h.message, currentChannel = _h.currentChannel, nicknamesMap = _h.nicknamesMap, emojiContainer = _h.emojiContainer, threadListState = _h.threadListState, isMuted = _h.isMuted, isChannelFrozen = _h.isChannelFrozen, onBeforeDownloadFileMessage = _h.onBeforeDownloadFileMessage, _j = _g.actions, toggleReaction = _j.toggleReaction, updateMessage = _j.updateMessage, resendMessage = _j.resendMessage, deleteMessage = _j.deleteMessage;\n    var _k = useState(false), showEdit = _k[0], setShowEdit = _k[1];\n    var _l = useState(false), showRemove = _l[0], setShowRemove = _l[1];\n    var _m = useState(false), showFileViewer = _m[0], setShowFileViewer = _m[1];\n    var isReactionEnabled = getIsReactionEnabled({\n        channel: currentChannel,\n        config: config,\n    });\n    var isMentionEnabled = groupChannel.enableMention;\n    var replyType = getCaseResolvedReplyType(groupChannel.replyType).upperCase;\n    // Move to message\n    var messageScrollRef = useRef(null);\n    useLayoutEffect(function () {\n        var _a;\n        if ((openingMessage === null || openingMessage === void 0 ? void 0 : openingMessage.messageId) === (message === null || message === void 0 ? void 0 : message.messageId) && (messageScrollRef === null || messageScrollRef === void 0 ? void 0 : messageScrollRef.current)) {\n            (_a = messageScrollRef.current) === null || _a === void 0 ? void 0 : _a.scrollIntoView({ block: 'center', inline: 'center' });\n        }\n    }, [openingMessage, messageScrollRef === null || messageScrollRef === void 0 ? void 0 : messageScrollRef.current]);\n    // reactions\n    useLayoutEffect(function () {\n        handleScroll === null || handleScroll === void 0 ? void 0 : handleScroll();\n    }, [showEdit, (_c = message === null || message === void 0 ? void 0 : message.reactions) === null || _c === void 0 ? void 0 : _c.length]);\n    // mention\n    var editMessageInputRef = useRef(null);\n    var _o = useState(''), mentionNickname = _o[0], setMentionNickname = _o[1];\n    var _p = useState([]), mentionedUsers = _p[0], setMentionedUsers = _p[1];\n    var _q = useState([]), mentionedUserIds = _q[0], setMentionedUserIds = _q[1];\n    var _r = useState(null), messageInputEvent = _r[0], setMessageInputEvent = _r[1];\n    var _s = useState(null), selectedUser = _s[0], setSelectedUser = _s[1];\n    var _t = useState([]), mentionSuggestedUsers = _t[0], setMentionSuggestedUsers = _t[1];\n    var displaySuggestedMentionList = isOnline\n        && isMentionEnabled\n        && mentionNickname.length > 0\n        && !isMuted\n        && !(isChannelFrozen && !(currentChannel.myRole === Role.OPERATOR));\n    var mentionNodes = useDirtyGetMentions({ ref: editMessageInputRef }, { logger: logger });\n    var ableMention = (mentionNodes === null || mentionNodes === void 0 ? void 0 : mentionNodes.length) < (userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount);\n    useEffect(function () {\n        setMentionedUsers(mentionedUsers.filter(function (_a) {\n            var userId = _a.userId;\n            var i = mentionedUserIds.indexOf(userId);\n            if (i < 0) {\n                return false;\n            }\n            else {\n                mentionedUserIds.splice(i, 1);\n                return true;\n            }\n        }));\n    }, [mentionedUserIds]);\n    // edit input\n    var disabled = !(threadListState === ThreadListStateTypes.INITIALIZED)\n        || !isOnline\n        || isMuted\n        || isChannelFrozen;\n    // memorize\n    var MemorizedSeparator = useMemo(function () {\n        if (typeof renderCustomSeparator === 'function') {\n            return renderCustomSeparator === null || renderCustomSeparator === void 0 ? void 0 : renderCustomSeparator({ message: message });\n        }\n    }, [message, renderCustomSeparator]);\n    // Edit message\n    if (showEdit && message.isUserMessage()) {\n        return (React__default.createElement(React__default.Fragment, null,\n            displaySuggestedMentionList && (React__default.createElement(SuggestedMentionList, { targetNickname: mentionNickname, inputEvent: messageInputEvent !== null && messageInputEvent !== void 0 ? messageInputEvent : undefined, \n                // renderUserMentionItem={renderUserMentionItem}\n                onUserItemClick: function (user) {\n                    if (user) {\n                        setMentionedUsers(__spreadArray(__spreadArray([], mentionedUsers, true), [user], false));\n                    }\n                    setMentionNickname('');\n                    setSelectedUser(user);\n                    setMessageInputEvent(null);\n                }, onFocusItemChange: function () {\n                    setMessageInputEvent(null);\n                }, onFetchUsers: function (users) {\n                    setMentionSuggestedUsers(users);\n                }, ableAddMention: ableMention, maxMentionCount: userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount, maxSuggestionCount: userMention === null || userMention === void 0 ? void 0 : userMention.maxSuggestionCount })),\n            React__default.createElement(MessageInput, { isEdit: true, channel: currentChannel, disabled: disabled, ref: editMessageInputRef, mentionSelectedUser: selectedUser, isMentionEnabled: isMentionEnabled, message: message, onStartTyping: function () {\n                    var _a;\n                    (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.startTyping) === null || _a === void 0 ? void 0 : _a.call(currentChannel);\n                }, onUpdateMessage: function (_a) {\n                    var _b;\n                    var messageId = _a.messageId, message = _a.message, mentionTemplate = _a.mentionTemplate;\n                    updateMessage({\n                        messageId: messageId,\n                        message: message,\n                        mentionedUsers: mentionedUsers,\n                        mentionTemplate: mentionTemplate,\n                    });\n                    setShowEdit(false);\n                    (_b = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.endTyping) === null || _b === void 0 ? void 0 : _b.call(currentChannel);\n                }, onCancelEdit: function () {\n                    var _a;\n                    setMentionNickname('');\n                    setMentionedUsers([]);\n                    setMentionedUserIds([]);\n                    setMentionSuggestedUsers([]);\n                    setShowEdit(false);\n                    (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.endTyping) === null || _a === void 0 ? void 0 : _a.call(currentChannel);\n                }, onUserMentioned: function (user) {\n                    if ((selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.userId) === (user === null || user === void 0 ? void 0 : user.userId)) {\n                        setSelectedUser(null);\n                        setMentionNickname('');\n                    }\n                }, onMentionStringChange: function (mentionText) {\n                    setMentionNickname(mentionText);\n                }, onMentionedUserIdsUpdated: function (userIds) {\n                    setMentionedUserIds(userIds);\n                }, onKeyDown: function (e) {\n                    if (displaySuggestedMentionList && (mentionSuggestedUsers === null || mentionSuggestedUsers === void 0 ? void 0 : mentionSuggestedUsers.length) > 0\n                        && ((e.key === MessageInputKeys.Enter && ableMention) || e.key === MessageInputKeys.ArrowUp || e.key === MessageInputKeys.ArrowDown)) {\n                        setMessageInputEvent(e);\n                        return true;\n                    }\n                    return false;\n                } })));\n    }\n    return (React__default.createElement(\"div\", { ref: messageScrollRef, className: classnames('sendbird-thread-list-item', className), \"data-testid\": \"sendbird-thread-list-item\" },\n        hasSeparator && (message === null || message === void 0 ? void 0 : message.createdAt) && (MemorizedSeparator || (React__default.createElement(DateSeparator, null,\n            React__default.createElement(Label, { type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, format(message === null || message === void 0 ? void 0 : message.createdAt, stringSet.DATE_FORMAT__THREAD_LIST__DATE_SEPARATOR, { locale: dateLocale }))))),\n        React__default.createElement(ThreadListItemContent, __assign({}, props, { userId: userId, channel: currentChannel, message: message, chainTop: chainTop, chainBottom: chainBottom, isReactionEnabled: isReactionEnabled, disableQuoteMessage: true, replyType: replyType, nicknamesMap: nicknamesMap, emojiContainer: emojiContainer, resendMessage: resendMessage, showRemove: setShowRemove, showFileViewer: setShowFileViewer, toggleReaction: toggleReaction, showEdit: setShowEdit })),\n        showRemove && (React__default.createElement(RemoveMessage, { message: message, onCancel: function () { return setShowRemove(false); } })),\n        showFileViewer && (React__default.createElement(FileViewer, { message: message, isByMe: ((_d = message === null || message === void 0 ? void 0 : message.sender) === null || _d === void 0 ? void 0 : _d.userId) === userId, onClose: function () { return setShowFileViewer(false); }, onDelete: function () {\n                deleteMessage(message);\n                setShowFileViewer(false);\n            }, onDownloadClick: function (e) { return __awaiter(_this, void 0, void 0, function () {\n                var allowDownload, err_1;\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (!onBeforeDownloadFileMessage)\n                                return [2 /*return*/];\n                            _c.label = 1;\n                        case 1:\n                            _c.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, onBeforeDownloadFileMessage({ message: message })];\n                        case 2:\n                            allowDownload = _c.sent();\n                            if (!allowDownload) {\n                                e.preventDefault();\n                                (_a = logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'ThreadListItem: Not allowed to download.');\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _c.sent();\n                            (_b = logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'ThreadListItem: Error occurred while determining download continuation:', err_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); } }))));\n}\n\nexport { ThreadListItem as default };\n//# sourceMappingURL=ThreadListItem.js.map\n", "import { _ as __assign } from '../../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport ThreadListItem from './ThreadListItem.js';\nimport { compareMessagesForGrouping } from '../../Channel/utils/compareMessagesForGrouping.js';\nimport { isSameDay } from 'date-fns';\nimport { MessageProvider } from '../../Message/context.js';\nimport { g as getCaseResolvedReplyType } from '../../chunks/bundle-CCDeoxT_.js';\nimport { u as useThread } from '../../chunks/bundle-DlwwNCtN.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport { u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../ui/DateSeparator.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-ByyQIaJp.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-DMQ4ARs5.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '../../ui/FileViewer.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../chunks/bundle-CsZOw9J5.js';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-C8jOzYoR.js';\nimport '../../chunks/bundle-CaZn7sCJ.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-B-wIh5Qv.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../context/types.js';\nimport '../../chunks/bundle-BEUsrftF.js';\nimport '../../ui/SortByRow.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-BSieP1ow.js';\nimport '../../chunks/bundle-SEoRcjBh.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-B_HhSA6x.js';\nimport '../../chunks/bundle-BBGwVlcE.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../ui/MobileMenu.js';\nimport '../../chunks/bundle-CxdqLaUY.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-iiHh_YqB.js';\nimport '../../chunks/bundle-C-Qr6Xbj.js';\nimport '../../chunks/bundle-DEVtRtKL.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../chunks/bundle-bLHW4VuD.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../ui/TextButton.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-B6tSyuRm.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../chunks/bundle-COu2UBrG.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-D9VCJ_xd.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../chunks/bundle-DgO_xXWo.js';\nimport '../../chunks/bundle-CWmJRvV1.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../chunks/bundle-BlD_kPlV.js';\nimport '../../chunks/bundle-CVdCKMn9.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../../chunks/bundle-Dx43PGfx.js';\n\nfunction ThreadList(_a) {\n    var className = _a.className, _b = _a.renderMessage, renderMessage = _b === void 0 ? function (props) { return React__default.createElement(ThreadListItem, __assign({}, props)); } : _b, renderCustomSeparator = _a.renderCustomSeparator, scrollRef = _a.scrollRef, scrollBottom = _a.scrollBottom;\n    var config = useSendbird().state.config;\n    var stringSet = useLocalization().stringSet;\n    var userId = config.userId;\n    var _c = useThread().state, currentChannel = _c.currentChannel, allThreadMessages = _c.allThreadMessages, localThreadMessages = _c.localThreadMessages;\n    return (React__default.createElement(\"div\", { className: \"sendbird-thread-list \".concat(className) },\n        allThreadMessages.map(function (message, idx) {\n            var _a;\n            var isByMe = ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId) === userId;\n            var prevMessage = allThreadMessages[idx - 1];\n            var nextMessage = allThreadMessages[idx + 1];\n            // eslint-disable-next-line no-constant-condition\n            var _b = compareMessagesForGrouping(prevMessage, message, nextMessage, stringSet, currentChannel, getCaseResolvedReplyType(config.groupChannel.replyType).upperCase)\n                , chainTop = _b[0], chainBottom = _b[1];\n            var hasSeparator = !((prevMessage === null || prevMessage === void 0 ? void 0 : prevMessage.createdAt) > 0 && (isSameDay(message === null || message === void 0 ? void 0 : message.createdAt, prevMessage === null || prevMessage === void 0 ? void 0 : prevMessage.createdAt)));\n            var handleScroll = function () {\n                var current = scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current;\n                if (current && scrollBottom) {\n                    var bottom = current.scrollHeight - current.scrollTop - current.offsetHeight;\n                    if (scrollBottom < bottom) {\n                        current.scrollTop += bottom - scrollBottom;\n                    }\n                }\n            };\n            return (React__default.createElement(MessageProvider, { message: message, isByMe: isByMe, key: message === null || message === void 0 ? void 0 : message.messageId }, renderMessage({\n                message: message,\n                chainTop: chainTop,\n                chainBottom: chainBottom,\n                hasSeparator: hasSeparator,\n                renderCustomSeparator: renderCustomSeparator,\n                handleScroll: handleScroll,\n            })));\n        }),\n        localThreadMessages.map(function (message) {\n            var _a;\n            var isByMe = ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId) === userId;\n            var handleScroll = function () {\n                var current = scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current;\n                if (current) {\n                    var bottom = current.scrollHeight - current.scrollTop - current.offsetHeight;\n                    if (scrollBottom < bottom) {\n                        current.scrollTop += bottom - scrollBottom;\n                    }\n                }\n            };\n            return (React__default.createElement(MessageProvider, { message: message, isByMe: isByMe, key: message === null || message === void 0 ? void 0 : message.messageId }, renderMessage({\n                message: message,\n                hasSeparator: false,\n                renderCustomSeparator: renderCustomSeparator,\n                handleScroll: handleScroll,\n            })));\n        })));\n}\n\nexport { ThreadList as default };\n//# sourceMappingURL=ThreadList.js.map\n", "import React__default, { useMemo, useState, useRef } from 'react';\nimport { u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport { g as getChannelTitle } from '../../chunks/bundle-C68gpKfa.js';\nimport ParentMessageInfo from './ParentMessageInfo.js';\nimport ThreadHeader from './ThreadHeader.js';\nimport ThreadList from './ThreadList.js';\nimport ThreadMessageInput from './ThreadMessageInput.js';\nimport { ParentMessageStateTypes, ThreadListStateTypes } from '../context/types.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-MoKyCGQH.js';\nimport { i as isAboutSame } from '../../chunks/bundle-BlD_kPlV.js';\nimport { MessageProvider } from '../../Message/context.js';\nimport { M as getHTMLTextDirection } from '../../chunks/bundle-Ug7rKzFJ.js';\nimport { c as classnames } from '../../chunks/bundle-Bc1fdQjj.js';\nimport { u as useThread } from '../../chunks/bundle-DlwwNCtN.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-ByyQIaJp.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-DMQ4ARs5.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport './ParentMessageInfoItem.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-BSieP1ow.js';\nimport '../../chunks/bundle-BEUsrftF.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../ui/BottomSheet.js';\nimport '../../hooks/useModal.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../chunks/bundle-B61f7NvF.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-B6tSyuRm.js';\nimport '../../VoiceRecorder/context.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-bLHW4VuD.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../chunks/bundle-CxdqLaUY.js';\nimport '@sendbird/chat/message';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-CsZOw9J5.js';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-CVdCKMn9.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../../chunks/bundle-Dx43PGfx.js';\nimport '../../chunks/bundle-C8jOzYoR.js';\nimport '../../chunks/bundle-CaZn7sCJ.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-B-wIh5Qv.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../chunks/bundle-CWmJRvV1.js';\nimport '../../ui/MobileMenu.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../chunks/bundle-CCDeoxT_.js';\nimport '../../chunks/bundle-iiHh_YqB.js';\nimport '../../chunks/bundle-C-Qr6Xbj.js';\nimport '../../ui/Header.js';\nimport './ThreadListItem.js';\nimport '../../ui/DateSeparator.js';\nimport '../../chunks/bundle-SEoRcjBh.js';\nimport '../../chunks/bundle-B_HhSA6x.js';\nimport '../../chunks/bundle-BBGwVlcE.js';\nimport '../../chunks/bundle-DEVtRtKL.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../chunks/bundle-COu2UBrG.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-D9VCJ_xd.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../chunks/bundle-DgO_xXWo.js';\nimport '../../Channel/utils/compareMessagesForGrouping.js';\nimport 'date-fns';\nimport '../../chunks/bundle-D59i-wy0.js';\nimport '../../GroupChannel/components/SuggestedMentionList.js';\nimport '../../ui/QuoteMessageInput.js';\nimport '../../VoiceRecorder/useVoiceRecorder.js';\nimport '../../chunks/bundle-vF_8gzZb.js';\nimport '../../chunks/bundle-4VvXLz4o.js';\nimport '../../chunks/bundle-DPw-2E0C.js';\nimport '../../chunks/bundle-DtQBJOWR.js';\nimport '../../Channel/hooks/useHandleUploadFiles.js';\n\nvar useMemorizedHeader = function (_a) {\n    var renderHeader = _a.renderHeader;\n    return useMemo(function () {\n        if (typeof renderHeader === 'function') {\n            return renderHeader();\n        }\n        return null;\n    }, [renderHeader]);\n};\n\nvar useMemorizedParentMessageInfo = function (_a) {\n    var parentMessage = _a.parentMessage, parentMessageState = _a.parentMessageState, renderParentMessageInfo = _a.renderParentMessageInfo, renderParentMessageInfoPlaceholder = _a.renderParentMessageInfoPlaceholder;\n    return useMemo(function () {\n        if (parentMessageState === ParentMessageStateTypes.NIL\n            || parentMessageState === ParentMessageStateTypes.LOADING\n            || parentMessageState === ParentMessageStateTypes.INVALID) {\n            if (typeof renderParentMessageInfoPlaceholder === 'function') {\n                return renderParentMessageInfoPlaceholder(parentMessageState);\n            }\n            switch (parentMessageState) {\n                case ParentMessageStateTypes.NIL: {\n                    return (React__default.createElement(PlaceHolder, { className: \"sendbird-thread-ui__parent-message-info placeholder-nil\", type: PlaceHolderTypes.NO_RESULTS, iconSize: \"64px\" }));\n                }\n                case ParentMessageStateTypes.LOADING: {\n                    return (React__default.createElement(PlaceHolder, { className: \"sendbird-thread-ui__parent-message-info placeholder-loading\", type: PlaceHolderTypes.LOADING, iconSize: \"64px\" }));\n                }\n                case ParentMessageStateTypes.INVALID: {\n                    return (React__default.createElement(PlaceHolder, { className: \"sendbird-thread-ui__parent-message-info placeholder-invalid\", type: PlaceHolderTypes.WRONG, iconSize: \"64px\" }));\n                }\n                default: {\n                    return null;\n                }\n            }\n        }\n        else if (parentMessageState === ParentMessageStateTypes.INITIALIZED) {\n            if (typeof renderParentMessageInfo === 'function') {\n                return renderParentMessageInfo();\n            }\n        }\n        return null;\n    }, [\n        parentMessage,\n        parentMessageState,\n        renderParentMessageInfo,\n        renderParentMessageInfoPlaceholder,\n    ]);\n};\n\nvar useMemorizedThreadList = function (_a) {\n    var threadListState = _a.threadListState, renderThreadListPlaceHolder = _a.renderThreadListPlaceHolder;\n    return useMemo(function () {\n        if (threadListState === ThreadListStateTypes.NIL\n            || threadListState === ThreadListStateTypes.LOADING\n            || threadListState === ThreadListStateTypes.INVALID) {\n            if (typeof renderThreadListPlaceHolder === 'function') {\n                return renderThreadListPlaceHolder(threadListState);\n            }\n            switch (threadListState) {\n                case ThreadListStateTypes.LOADING: {\n                    return (React__default.createElement(PlaceHolder, { className: \"sendbird-thread-ui__thread-list placeholder-loading\", type: PlaceHolderTypes.LOADING, iconSize: \"64px\" }));\n                }\n                case ThreadListStateTypes.INVALID: {\n                    return (React__default.createElement(PlaceHolder, { className: \"sendbird-thread-ui__thread-list placeholder-invalid\", type: PlaceHolderTypes.WRONG, iconSize: \"64px\" }));\n                }\n                case ThreadListStateTypes.NIL: {\n                    return React__default.createElement(React__default.Fragment, null);\n                }\n                default: {\n                    return null;\n                }\n            }\n        }\n        return null;\n    }, [\n        threadListState,\n        renderThreadListPlaceHolder,\n    ]);\n};\n\nvar ThreadUI = function (_a) {\n    var _b, _c, _d, _e;\n    var renderHeader = _a.renderHeader, _f = _a.renderParentMessageInfo, renderParentMessageInfo = _f === void 0 ? function () { return React__default.createElement(ParentMessageInfo, { className: \"sendbird-thread-ui__parent-message-info\" }); } : _f, renderMessage = _a.renderMessage, renderMessageInput = _a.renderMessageInput, renderCustomSeparator = _a.renderCustomSeparator, renderParentMessageInfoPlaceholder = _a.renderParentMessageInfoPlaceholder, renderThreadListPlaceHolder = _a.renderThreadListPlaceHolder, renderFileUploadIcon = _a.renderFileUploadIcon, renderVoiceMessageIcon = _a.renderVoiceMessageIcon, renderSendMessageIcon = _a.renderSendMessageIcon;\n    var _g = useSendbird().state, stores = _g.stores, config = _g.config;\n    var currentUserId = (_d = (_c = (_b = stores === null || stores === void 0 ? void 0 : stores.sdkStore) === null || _b === void 0 ? void 0 : _b.sdk) === null || _c === void 0 ? void 0 : _c.currentUser) === null || _d === void 0 ? void 0 : _d.userId;\n    var stringSet = useLocalization().stringSet;\n    var _h = useThread(), _j = _h.state, currentChannel = _j.currentChannel, allThreadMessages = _j.allThreadMessages, parentMessage = _j.parentMessage, parentMessageState = _j.parentMessageState, threadListState = _j.threadListState, hasMorePrev = _j.hasMorePrev, hasMoreNext = _j.hasMoreNext, onHeaderActionClick = _j.onHeaderActionClick, onMoveToParentMessage = _j.onMoveToParentMessage, _k = _h.actions, fetchPrevThreads = _k.fetchPrevThreads, fetchNextThreads = _k.fetchNextThreads;\n    var replyCount = allThreadMessages.length;\n    var isByMe = currentUserId === ((_e = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender) === null || _e === void 0 ? void 0 : _e.userId);\n    // Memoized custom components\n    var MemorizedHeader = useMemorizedHeader({ renderHeader: renderHeader });\n    var MemorizedParentMessageInfo = useMemorizedParentMessageInfo({\n        parentMessage: parentMessage,\n        parentMessageState: parentMessageState,\n        renderParentMessageInfo: renderParentMessageInfo,\n        renderParentMessageInfoPlaceholder: renderParentMessageInfoPlaceholder,\n    });\n    var MemorizedThreadList = useMemorizedThreadList({\n        threadListState: threadListState,\n        renderThreadListPlaceHolder: renderThreadListPlaceHolder,\n    });\n    // scroll\n    var _l = useState(0), scrollBottom = _l[0], setScrollBottom = _l[1];\n    var scrollRef = useRef(null);\n    var onScroll = function (e) {\n        var _a;\n        var element = e.target;\n        var scrollTop = element.scrollTop, clientHeight = element.clientHeight, scrollHeight = element.scrollHeight;\n        var threadItemNodes = (_a = scrollRef.current) === null || _a === void 0 ? void 0 : _a.querySelectorAll('.sendbird-thread-list-item');\n        var firstNode = threadItemNodes === null || threadItemNodes === void 0 ? void 0 : threadItemNodes[0];\n        if (isAboutSame(scrollTop, 0, 10) && hasMorePrev) {\n            fetchPrevThreads(function (messages) {\n                var _a;\n                if (messages) {\n                    try {\n                        (_a = firstNode === null || firstNode === void 0 ? void 0 : firstNode.scrollIntoView) === null || _a === void 0 ? void 0 : _a.call(firstNode, { block: 'start', inline: 'nearest' });\n                    }\n                    catch (error) {\n                        //\n                    }\n                }\n            });\n        }\n        if (isAboutSame(clientHeight + scrollTop, scrollHeight, 10) && hasMoreNext) {\n            var scrollTop_1 = scrollTop;\n            fetchNextThreads(function (messages) {\n                if (messages) {\n                    try {\n                        element.scrollTop = scrollTop_1;\n                        if (scrollRef.current) {\n                            scrollRef.current.scrollTop = scrollTop_1;\n                        }\n                    }\n                    catch (error) {\n                        //\n                    }\n                }\n            });\n        }\n        // save the lastest scroll bottom value\n        if (scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current) {\n            var current = scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current;\n            setScrollBottom(current.scrollHeight - current.scrollTop - current.offsetHeight);\n        }\n    };\n    return (React__default.createElement(\"div\", { className: 'sendbird-thread-ui' },\n        MemorizedHeader || (React__default.createElement(ThreadHeader, { className: \"sendbird-thread-ui__header\", channelName: getChannelTitle(currentChannel, currentUserId !== null && currentUserId !== void 0 ? currentUserId : '', stringSet), onActionIconClick: onHeaderActionClick, onChannelNameClick: function () {\n                onMoveToParentMessage === null || onMoveToParentMessage === void 0 ? void 0 : onMoveToParentMessage({ message: parentMessage, channel: currentChannel });\n            } })),\n        React__default.createElement(\"div\", { className: classnames('sendbird-thread-ui--scroll', 'sendbird-conversation__messages'), ref: scrollRef, onScroll: onScroll, dir: getHTMLTextDirection(config === null || config === void 0 ? void 0 : config.htmlTextDirection, config === null || config === void 0 ? void 0 : config.forceLeftToRightMessageLayout) },\n            React__default.createElement(MessageProvider, { message: parentMessage, isByMe: isByMe }, MemorizedParentMessageInfo),\n            replyCount > 0 && (React__default.createElement(\"div\", { className: \"sendbird-thread-ui__reply-counts\" },\n                React__default.createElement(Label, { type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_3 }, \"\".concat(replyCount, \" \").concat(replyCount > 1 ? stringSet.THREAD__THREAD_REPLIES : stringSet.THREAD__THREAD_REPLY)))),\n            MemorizedThreadList || (React__default.createElement(ThreadList, { className: \"sendbird-thread-ui__thread-list\", renderMessage: renderMessage, renderCustomSeparator: renderCustomSeparator, scrollRef: scrollRef, scrollBottom: scrollBottom }))),\n        (renderMessageInput === null || renderMessageInput === void 0 ? void 0 : renderMessageInput()) || (React__default.createElement(ThreadMessageInput, { className: \"sendbird-thread-ui__message-input\", renderFileUploadIcon: renderFileUploadIcon, renderVoiceMessageIcon: renderVoiceMessageIcon, renderSendMessageIcon: renderSendMessageIcon }))));\n};\n\nexport { ThreadUI as default };\n//# sourceMappingURL=ThreadUI.js.map\n", "import { _ as __assign } from './chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { b as ThreadProvider } from './chunks/bundle-DlwwNCtN.js';\nimport ThreadUI from './Thread/components/ThreadUI.js';\nimport { c as classnames } from './chunks/bundle-Bc1fdQjj.js';\nimport './chunks/bundle-BlD_kPlV.js';\nimport './chunks/bundle-DxUY6hv0.js';\nimport './chunks/bundle-CVdCKMn9.js';\nimport '@sendbird/chat/message';\nimport './chunks/bundle-y-yf0Djs.js';\nimport './chunks/bundle-DXRcwk7R.js';\nimport './chunks/bundle-BRWYGzyd.js';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-BDIF-bj_.js';\nimport './chunks/bundle-ByW5tGii.js';\nimport './chunks/bundle-Bk7vYzLW.js';\nimport './chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\nimport './chunks/bundle-BGRwc73U.js';\nimport './chunks/bundle-C7sqWYfV.js';\nimport './Thread/context/types.js';\nimport './chunks/bundle-Dx43PGfx.js';\nimport './chunks/bundle-C68gpKfa.js';\nimport './chunks/bundle-MoKyCGQH.js';\nimport './chunks/bundle-Ug7rKzFJ.js';\nimport './chunks/bundle-CWd47dzy.js';\nimport './chunks/bundle-BA9ZfQ-7.js';\nimport './chunks/bundle-BovMsFd4.js';\nimport './Thread/components/ParentMessageInfo.js';\nimport './chunks/bundle-CDOQ--pz.js';\nimport './chunks/bundle-ByyQIaJp.js';\nimport './chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport './chunks/bundle-DvgqpwmQ.js';\nimport './ui/IconButton.js';\nimport './ui/Button.js';\nimport './ui/Icon.js';\nimport './chunks/bundle-DMQ4ARs5.js';\nimport './Thread/components/ParentMessageInfoItem.js';\nimport './ui/ImageRenderer.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-DU7VpG0M.js';\nimport './ui/EmojiReactions.js';\nimport './ui/ReactionBadge.js';\nimport './ui/ReactionButton.js';\nimport './chunks/bundle-BSieP1ow.js';\nimport './chunks/bundle-BEUsrftF.js';\nimport './ui/SortByRow.js';\nimport './ui/BottomSheet.js';\nimport './hooks/useModal.js';\nimport './ui/UserListItem.js';\nimport './chunks/bundle-BkCv3z1C.js';\nimport './chunks/bundle-MdZYxYNf.js';\nimport './ui/MutedAvatarOverlay.js';\nimport './ui/Checkbox.js';\nimport './ui/UserProfile.js';\nimport './sendbirdSelectors.js';\nimport './ui/Tooltip.js';\nimport './ui/TooltipWrapper.js';\nimport './Message/context.js';\nimport './chunks/bundle-B61f7NvF.js';\nimport './ui/VoiceMessageItemBody.js';\nimport './ui/ProgressBar.js';\nimport './VoicePlayer/useVoicePlayer.js';\nimport './chunks/bundle-B6tSyuRm.js';\nimport './VoiceRecorder/context.js';\nimport './ui/PlaybackTime.js';\nimport './ui/Loader.js';\nimport './chunks/bundle-bLHW4VuD.js';\nimport './chunks/bundle-BJl-Stow.js';\nimport './ui/MentionLabel.js';\nimport './ui/LinkLabel.js';\nimport './chunks/bundle-CxdqLaUY.js';\nimport './ui/FileViewer.js';\nimport './chunks/bundle-CsZOw9J5.js';\nimport '@sendbird/uikit-tools';\nimport './chunks/bundle-C8jOzYoR.js';\nimport './chunks/bundle-CaZn7sCJ.js';\nimport './chunks/bundle-mxwNwHvq.js';\nimport './chunks/bundle-B-wIh5Qv.js';\nimport './ui/MessageItemReactionMenu.js';\nimport './ui/MessageInput.js';\nimport './chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport './chunks/bundle-CnWjrGUf.js';\nimport './chunks/bundle-B602cp-8.js';\nimport './chunks/bundle-CXh4vzCv.js';\nimport './chunks/bundle-CWmJRvV1.js';\nimport './ui/MobileMenu.js';\nimport './Message/hooks/useDirtyGetMentions.js';\nimport './chunks/bundle-CCDeoxT_.js';\nimport './chunks/bundle-iiHh_YqB.js';\nimport './chunks/bundle-C-Qr6Xbj.js';\nimport './Thread/components/ThreadHeader.js';\nimport './ui/Header.js';\nimport './Thread/components/ThreadList.js';\nimport './Thread/components/ThreadListItem.js';\nimport './ui/DateSeparator.js';\nimport './chunks/bundle-SEoRcjBh.js';\nimport './chunks/bundle-B_HhSA6x.js';\nimport './chunks/bundle-BBGwVlcE.js';\nimport './chunks/bundle-DEVtRtKL.js';\nimport './ui/OGMessageItemBody.js';\nimport './ui/TextMessageItemBody.js';\nimport './ui/FileMessageItemBody.js';\nimport './ui/ThumbnailMessageItemBody.js';\nimport './chunks/bundle-COu2UBrG.js';\nimport './ui/UnknownMessageItemBody.js';\nimport './ui/TemplateMessageItemBody.js';\nimport './chunks/bundle-D9VCJ_xd.js';\nimport './ui/FallbackTemplateMessageItemBody.tsx.js';\nimport './ui/LoadingTemplateMessageItemBody.tsx.js';\nimport './ui/MessageFeedbackFailedModal.js';\nimport './chunks/bundle-DgO_xXWo.js';\nimport './Channel/utils/compareMessagesForGrouping.js';\nimport 'date-fns';\nimport './Thread/components/ThreadMessageInput.js';\nimport './chunks/bundle-D59i-wy0.js';\nimport './GroupChannel/components/SuggestedMentionList.js';\nimport './ui/QuoteMessageInput.js';\nimport './VoiceRecorder/useVoiceRecorder.js';\nimport './chunks/bundle-vF_8gzZb.js';\nimport './chunks/bundle-4VvXLz4o.js';\nimport './chunks/bundle-DPw-2E0C.js';\nimport './chunks/bundle-DtQBJOWR.js';\nimport './Channel/hooks/useHandleUploadFiles.js';\nimport './ui/PlaceHolder.js';\n\nvar Thread = function (props) {\n    var _a;\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-thread', (_a = props === null || props === void 0 ? void 0 : props.className) !== null && _a !== void 0 ? _a : '') },\n        React__default.createElement(ThreadProvider, __assign({}, props),\n            React__default.createElement(ThreadUI, __assign({}, props)))));\n};\n\nexport { Thread as default };\n//# sourceMappingURL=Thread.js.map\n", "import React__default, { useEffect, useCallback, useState, useReducer, useRef, useMemo } from 'react';\nimport { u as useLocalization } from './bundle-y-yf0Djs.js';\nimport { U as UserProfileProvider } from './bundle-ByW5tGii.js';\nimport { _ as __assign, a as __spreadArray, b as __awaiter, c as __generator } from './bundle-BosquA9C.js';\nimport { c as compareIds } from './bundle-C7sqWYfV.js';\nimport { p as pubSubTopics } from './bundle-DxUY6hv0.js';\nimport { ChannelType } from '@sendbird/chat';\nimport { OpenChannelHandler } from '@sendbird/chat/openChannel';\nimport { u as uuidv4 } from './bundle-BGRwc73U.js';\nimport { c as compressImages } from './bundle-4VvXLz4o.js';\nimport { useGlobalModalContext } from '../hooks/useModal.js';\nimport { O as ONE_MiB } from './bundle-BDIF-bj_.js';\nimport { c as ModalFooter } from './bundle-ZMBEGemL.js';\nimport './bundle-MoKyCGQH.js';\nimport { ButtonTypes } from '../ui/Button.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\n\nvar shouldFetchMore = function (messageLength, maxMessages) {\n    if (typeof maxMessages !== 'number') {\n        return true;\n    }\n    return maxMessages > messageLength;\n};\n/* eslint-disable default-param-last */\nvar scrollIntoLast = function (initialTry, scrollRef) {\n    if (initialTry === void 0) { initialTry = 0; }\n    var MAX_TRIES = 10;\n    if (initialTry > MAX_TRIES) {\n        return;\n    }\n    var scrollDOM = (scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current)\n        || document.querySelector('.sendbird-openchannel-conversation-scroll__container__item-container');\n    if (scrollDOM) {\n        var applyScroll = function () {\n            scrollDOM.style.overflow = 'auto';\n            scrollDOM.scrollTop = scrollDOM.scrollHeight;\n        };\n        setTimeout(applyScroll);\n    }\n    else {\n        setTimeout(function () {\n            scrollIntoLast(initialTry + 1, scrollRef);\n        }, 500 * initialTry);\n    }\n};\nvar kFormatter = function (num) {\n    if (Math.abs(num) > 999999) {\n        return \"\".concat((Math.abs(num) / 1000000).toFixed(1), \"M\");\n    }\n    if (Math.abs(num) > 999) {\n        return \"\".concat((Math.abs(num) / 1000).toFixed(1), \"K\");\n    }\n    return \"\".concat(num);\n};\nvar isOperator = function (openChannel, userId) {\n    var operators = openChannel === null || openChannel === void 0 ? void 0 : openChannel.operators;\n    if (operators.map(function (operator) { return operator.userId; }).indexOf(userId) < 0) {\n        return false;\n    }\n    return true;\n};\nvar isDisabledBecauseFrozen = function (openChannel, userId) {\n    if (!openChannel)\n        return false;\n    var isFrozen = openChannel.isFrozen;\n    return isFrozen && !isOperator(openChannel, userId);\n};\nvar isDisabledBecauseMuted = function (mutedParticipantIds, userId) {\n    return mutedParticipantIds.indexOf(userId) > -1;\n};\nvar fetchWithListQuery = function (listQuery, logger, eachQueryNextCallback) {\n    var fetchList = function (query) {\n        var hasNext = query.hasNext;\n        if (hasNext) {\n            query.next().then(function (users) {\n                eachQueryNextCallback(users);\n                fetchList(query);\n            }).catch(function (error) {\n                logger.warning('OpenChannel | FetchUserList failed', error);\n            });\n        }\n        else {\n            logger.info('OpenChannel | FetchUserList finished');\n        }\n    };\n    logger.info('OpenChannel | FetchUserList start', listQuery);\n    fetchList(listQuery);\n};\n\nvar SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\nvar SET_CHANNEL_INVALID = 'SET_CHANNEL_INVALID';\nvar RESET_MESSAGES = 'RESET_MESSAGES';\nvar EXIT_CURRENT_CHANNEL = 'EXIT_CURRENT_CHANNEL';\nvar GET_PREV_MESSAGES_START = 'GET_PREV_MESSAGES_START';\nvar GET_PREV_MESSAGES_SUCESS = 'GET_PREV_MESSAGES_SUCESS';\nvar GET_PREV_MESSAGES_FAIL = 'GET_PREV_MESSAGES_FAIL';\nvar SENDING_MESSAGE_FAILED = 'SENDING_MESSAGE_FAILED';\nvar SENDING_MESSAGE_SUCCEEDED = 'SENDING_MESSAGE_SUCCEEDED';\nvar SENDING_MESSAGE_START = 'SENDING_MESSAGE_START';\nvar RESENDING_MESSAGE_START = 'RESENDING_MESSAGE_START';\nvar FETCH_PARTICIPANT_LIST = 'FETCH_PARTICIPANT_LIST';\nvar FETCH_BANNED_USER_LIST = 'FETCH_BANNED_USER_LIST';\nvar FETCH_MUTED_USER_LIST = 'FETCH_MUTED_USER_LIST';\nvar TRIM_MESSAGE_LIST = 'TRIM_MESSAGE_LIST';\n// event handlers\nvar ON_MESSAGE_RECEIVED = 'ON_MESSAGE_RECEIVED';\nvar ON_MESSAGE_UPDATED = 'ON_MESSAGE_UPDATED';\nvar ON_MESSAGE_DELETED = 'ON_MESSAGE_DELETED';\nvar ON_MESSAGE_DELETED_BY_REQ_ID = 'ON_MESSAGE_DELETED_BY_REQ_ID';\nvar ON_OPERATOR_UPDATED = 'ON_OPERATOR_UPDATED';\nvar ON_USER_ENTERED = 'ON_USER_ENTERED';\nvar ON_USER_EXITED = 'ON_USER_EXITED';\nvar ON_USER_MUTED = 'ON_USER_MUTED';\nvar ON_USER_UNMUTED = 'ON_USER_UNMUTED';\nvar ON_USER_BANNED = 'ON_USER_BANNED';\nvar ON_USER_UNBANNED = 'ON_USER_UNBANNED';\nvar ON_CHANNEL_FROZEN = 'ON_CHANNEL_FROZEN';\nvar ON_CHANNEL_UNFROZEN = 'ON_CHANNEL_UNFROZEN';\nvar ON_CHANNEL_CHANGED = 'ON_CHANNEL_CHANGED';\nvar ON_CHANNEL_DELETED = 'ON_CHANNEL_DELETED';\nvar ON_META_DATA_CREATED = 'ON_META_DATA_CREATED';\nvar ON_META_DATA_UPDATED = 'ON_META_DATA_UPDATED';\nvar ON_META_DATA_DELETED = 'ON_META_DATA_DELETED';\nvar ON_META_COUNTERS_CREATED = 'ON_META_COUNTERS_CREATED';\nvar ON_META_COUNTERS_UPDATED = 'ON_META_COUNTERS_UPDATED';\nvar ON_META_COUNTERS_DELETED = 'ON_META_COUNTERS_DELETED';\nvar ON_MENTION_RECEIVED = 'ON_MENTION_RECEIVED';\n\nfunction reducer(state, action) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    switch (action.type) {\n        case RESET_MESSAGES: {\n            return __assign(__assign({}, state), { allMessages: [] });\n        }\n        case EXIT_CURRENT_CHANNEL: {\n            if (((_a = action.payload) === null || _a === void 0 ? void 0 : _a.url) === ((_b = state.currentOpenChannel) === null || _b === void 0 ? void 0 : _b.url)) {\n                return __assign(__assign({}, state), { currentOpenChannel: null });\n            }\n            return state;\n        }\n        case SET_CURRENT_CHANNEL: {\n            var gottenChannel = action.payload;\n            var operators = gottenChannel.operators;\n            if (!state.isInvalid\n                && state.currentOpenChannel\n                && state.currentOpenChannel.url\n                && (state.currentOpenChannel.url === gottenChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { currentOpenChannel: gottenChannel, isInvalid: false, operators: operators, participants: operators, bannedParticipantIds: [], mutedParticipantIds: [] });\n        }\n        case SET_CHANNEL_INVALID: {\n            return __assign(__assign({}, state), { isInvalid: true });\n        }\n        case GET_PREV_MESSAGES_START: {\n            return __assign(__assign({}, state), { loading: true });\n        }\n        case GET_PREV_MESSAGES_SUCESS:\n        case GET_PREV_MESSAGES_FAIL: {\n            var isFailed = (action.type === GET_PREV_MESSAGES_FAIL);\n            var _j = action.payload, _k = _j.currentOpenChannel, currentOpenChannel = _k === void 0 ? {} : _k, _l = _j.messages, messages = _l === void 0 ? [] : _l, hasMore = _j.hasMore, lastMessageTimestamp = _j.lastMessageTimestamp;\n            var actionChannelUrl = currentOpenChannel.url;\n            var receivedMessages_1 = (isFailed ? [] : messages);\n            var _hasMore = isFailed ? false : hasMore;\n            var _lastMessageTimestamp = isFailed ? 0 : lastMessageTimestamp;\n            var stateChannel = state.currentOpenChannel;\n            var stateChannelUrl = stateChannel === null || stateChannel === void 0 ? void 0 : stateChannel.url;\n            if (actionChannelUrl !== stateChannelUrl) {\n                return state;\n            }\n            var filteredAllMessages = state.allMessages.filter(function (message) { return (!(receivedMessages_1.find(function (_a) {\n                var messageId = _a.messageId;\n                return compareIds(messageId, message.messageId);\n            }))); });\n            return __assign(__assign({}, state), { loading: false, initialized: true, hasMore: _hasMore, lastMessageTimestamp: _lastMessageTimestamp, allMessages: __spreadArray(__spreadArray([], receivedMessages_1, true), filteredAllMessages, true) });\n        }\n        case SENDING_MESSAGE_START: {\n            var _m = action.payload, message_1 = _m.message, channel = _m.channel;\n            if ((channel === null || channel === void 0 ? void 0 : channel.url) !== ((_c = state.currentOpenChannel) === null || _c === void 0 ? void 0 : _c.url)\n                || state.allMessages.some(function (m) { return m.reqId === message_1.reqId; })\n            // Handing failed first than sending start issue\n            ) {\n                return state;\n            }\n            return __assign(__assign({}, state), { allMessages: __spreadArray(__spreadArray([], state.allMessages, true), [\n                    message_1,\n                ], false) });\n        }\n        case SENDING_MESSAGE_SUCCEEDED: {\n            var sentMessage_1 = action.payload;\n            var newMessages = state.allMessages.map(function (m) { return (compareIds(m.reqId, sentMessage_1.reqId) ? sentMessage_1 : m); });\n            return __assign(__assign({}, state), { allMessages: newMessages });\n        }\n        case SENDING_MESSAGE_FAILED: {\n            var sentMessage_2 = action.payload;\n            sentMessage_2.sendingStatus = 'failed';\n            if (!(state.allMessages.some(function (m) { return (m === null || m === void 0 ? void 0 : m.reqId) === (sentMessage_2 === null || sentMessage_2 === void 0 ? void 0 : sentMessage_2.reqId); }))) {\n                // Handling failed first than sending start issue\n                return __assign(__assign({}, state), { allMessages: __spreadArray(__spreadArray([], state.allMessages.filter(function (m) { return !compareIds(m.reqId, sentMessage_2); }), true), [\n                        sentMessage_2,\n                    ], false) });\n            }\n            else {\n                return __assign(__assign({}, state), { allMessages: state.allMessages.map(function (m) { return (compareIds(m.reqId, sentMessage_2.reqId) ? sentMessage_2 : m); }) });\n            }\n        }\n        case TRIM_MESSAGE_LIST: {\n            var allMessages = state.allMessages;\n            var messageLimit = (_d = action.payload) === null || _d === void 0 ? void 0 : _d.messageLimit;\n            if (messageLimit\n                && messageLimit > 0\n                && (allMessages === null || allMessages === void 0 ? void 0 : allMessages.length) > messageLimit) {\n                var sliceAt = allMessages.length - messageLimit;\n                return __assign(__assign({}, state), { allMessages: allMessages.slice(sliceAt) });\n            }\n            return state;\n        }\n        case RESENDING_MESSAGE_START: {\n            var eventedChannel = action.payload.channel;\n            var resentMessage_1 = action.payload.message;\n            if (eventedChannel.url !== ((_e = state.currentOpenChannel) === null || _e === void 0 ? void 0 : _e.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { allMessages: state.allMessages.map(function (m) { return (compareIds(m.reqId, resentMessage_1.reqId) ? resentMessage_1 : m); }) });\n        }\n        case FETCH_PARTICIPANT_LIST: {\n            var eventedChannel = action.payload.channel;\n            var fetchedParticipantList = action.payload.users;\n            if (eventedChannel.url !== ((_f = state.currentOpenChannel) === null || _f === void 0 ? void 0 : _f.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { participants: __spreadArray(__spreadArray([], state.participants, true), fetchedParticipantList, true) });\n        }\n        case FETCH_BANNED_USER_LIST: {\n            var eventedChannel = action.payload.channel;\n            var fetchedBannedUserList = action.payload.users;\n            if ((eventedChannel.url !== ((_g = state.currentOpenChannel) === null || _g === void 0 ? void 0 : _g.url))\n                || !(fetchedBannedUserList.every(function (user) { return typeof user.userId === 'string'; }))) {\n                return state;\n            }\n            return __assign(__assign({}, state), { bannedParticipantIds: __spreadArray(__spreadArray([], state.bannedParticipantIds, true), fetchedBannedUserList.map(function (user) { return user.userId; }), true) });\n        }\n        case FETCH_MUTED_USER_LIST: {\n            var eventedChannel = action.payload.channel;\n            var fetchedMutedUserList = action.payload.users;\n            if ((eventedChannel.url !== ((_h = state.currentOpenChannel) === null || _h === void 0 ? void 0 : _h.url))\n                || !(fetchedMutedUserList.every(function (user) { return typeof user.userId === 'string'; }))) {\n                return state;\n            }\n            return __assign(__assign({}, state), { mutedParticipantIds: __spreadArray(__spreadArray([], state.mutedParticipantIds, true), fetchedMutedUserList.map(function (user) { return user.userId; }), true) });\n        }\n        // events\n        case ON_MESSAGE_RECEIVED: {\n            var eventedChannel = action.payload.channel;\n            var receivedMessage = action.payload.message;\n            var currentOpenChannel = state.currentOpenChannel;\n            if (!compareIds(eventedChannel.url, currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.url)\n                || (!(state.allMessages.map(function (message) { return message.messageId; }).indexOf(receivedMessage.messageId) < 0))) {\n                return state;\n            }\n            return __assign(__assign({}, state), { allMessages: __spreadArray(__spreadArray([], state.allMessages, true), [receivedMessage], false) });\n        }\n        case ON_MESSAGE_UPDATED: {\n            var eventedChannel = action.payload.channel;\n            var updatedMessage_1 = action.payload.message;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { allMessages: state.allMessages.map(function (message) { return (message.isIdentical(updatedMessage_1)\n                    ? updatedMessage_1\n                    : message); }) });\n        }\n        case ON_MESSAGE_DELETED: {\n            var eventedChannel = action.payload.channel;\n            var deletedMessageId_1 = action.payload.messageId;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { allMessages: state.allMessages.filter(function (message) { return (!compareIds(message.messageId, deletedMessageId_1)); }) });\n        }\n        case ON_MESSAGE_DELETED_BY_REQ_ID: {\n            return __assign(__assign({}, state), { allMessages: state.allMessages.filter(function (m) { return (!compareIds(m.reqId, action.payload)); }) });\n        }\n        case ON_OPERATOR_UPDATED: {\n            var eventedChannel = action.payload.channel;\n            var updatedOperators = action.payload.operators;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { currentOpenChannel: eventedChannel, operators: updatedOperators });\n        }\n        case ON_USER_ENTERED: {\n            var eventedChannel = action.payload.channel;\n            var enteredUser = action.payload.user;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { participants: __spreadArray(__spreadArray([], state.participants, true), [enteredUser], false) });\n        }\n        case ON_USER_EXITED: {\n            var eventedChannel = action.payload.channel;\n            var exitedUser_1 = action.payload.user;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { participants: state.participants.filter(function (participant) { return (!compareIds(participant.userId, exitedUser_1.userId)); }) });\n        }\n        case ON_USER_MUTED: {\n            var eventedChannel = action.payload.channel;\n            var mutedUser = action.payload.user;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel\n                || (currentChannel.url && (currentChannel.url !== eventedChannel.url))\n                || state.mutedParticipantIds.indexOf(mutedUser.userId) >= 0) {\n                return state;\n            }\n            return __assign(__assign({}, state), { mutedParticipantIds: __spreadArray(__spreadArray([], state.mutedParticipantIds, true), [mutedUser.userId], false) });\n        }\n        case ON_USER_UNMUTED: {\n            var eventedChannel = action.payload.channel;\n            var unmutedUser_1 = action.payload.user;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel\n                || (currentChannel.url && (currentChannel.url !== eventedChannel.url))\n                || state.mutedParticipantIds.indexOf(unmutedUser_1.userId) < 0) {\n                return state;\n            }\n            return __assign(__assign({}, state), { mutedParticipantIds: state.mutedParticipantIds.filter(function (userId) { return userId !== unmutedUser_1.userId; }) });\n        }\n        case ON_USER_BANNED: {\n            var eventedChannel = action.payload.channel;\n            var bannedUser = action.payload.user;\n            var currentUser = action.payload.currentUser;\n            var currentChannel = state.currentOpenChannel;\n            if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (eventedChannel === null || eventedChannel === void 0 ? void 0 : eventedChannel.url) && (bannedUser === null || bannedUser === void 0 ? void 0 : bannedUser.userId) === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.userId)) {\n                return __assign(__assign({}, state), { currentOpenChannel: null });\n            }\n            else if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (eventedChannel === null || eventedChannel === void 0 ? void 0 : eventedChannel.url)) {\n                return __assign(__assign({}, state), { bannedParticipantIds: __spreadArray(__spreadArray([], state.bannedParticipantIds, true), [bannedUser.userId], false) });\n            }\n            return state;\n        }\n        case ON_USER_UNBANNED: {\n            var eventedChannel = action.payload.channel;\n            var unbannedUser_1 = action.payload.user;\n            var currentChannel = state.currentOpenChannel;\n            if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (eventedChannel === null || eventedChannel === void 0 ? void 0 : eventedChannel.url)) {\n                return __assign(__assign({}, state), { bannedParticipantIds: state.bannedParticipantIds.filter(function (userId) { return userId !== unbannedUser_1.userId; }) });\n            }\n            return state;\n        }\n        case ON_CHANNEL_FROZEN: {\n            var frozenChannel = action.payload;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== frozenChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { frozen: true });\n        }\n        case ON_CHANNEL_UNFROZEN: {\n            var unfrozenChannel = action.payload;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== unfrozenChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { frozen: false });\n        }\n        case ON_CHANNEL_CHANGED: {\n            var changedChannel = action.payload;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== changedChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { currentOpenChannel: changedChannel });\n        }\n        case ON_CHANNEL_DELETED: {\n            var deletedChannelUrl = action.payload;\n            var currentChannel = state === null || state === void 0 ? void 0 : state.currentOpenChannel;\n            if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === deletedChannelUrl) {\n                return __assign(__assign({}, state), { currentOpenChannel: null });\n            }\n            return state;\n        }\n        case ON_META_DATA_CREATED: {\n            // const eventedChannel = action.payload.channel;\n            // const createdMetaData = action.payload.metaData;\n            // return {\n            //   ...state\n            // };\n            return state;\n        }\n        case ON_META_DATA_UPDATED: {\n            // const eventedChannel = action.payload.channel;\n            // const updatedMetaData = action.payload.metaData;\n            // return {\n            //   ...state\n            // };\n            return state;\n        }\n        case ON_META_DATA_DELETED: {\n            // const eventedChannel = action.payload.channel;\n            // const deletedMetaDataKeys = action.payload.metaDataKeys;\n            // return {\n            //   ...state\n            // };\n            return state;\n        }\n        case ON_META_COUNTERS_CREATED: {\n            // const eventedChannel = action.payload.channel;\n            // const createdMetaCounter = action.payload.metaCounter;\n            // return {\n            //   ...state\n            // };\n            return state;\n        }\n        case ON_META_COUNTERS_UPDATED: {\n            // const eventedChannel = action.payload.channel;\n            // const updatedMetaCounter = action.payload.metaCounter;\n            // return {\n            //   ...state\n            // };\n            return state;\n        }\n        case ON_META_COUNTERS_DELETED: {\n            // const eventedChannel = action.payload.channel;\n            // const deletedMetaCounterKeys = action.payload.metaCounterKeys;\n            // return {\n            //   ...state\n            // };\n            return state;\n        }\n        case ON_MENTION_RECEIVED: {\n            // const eventedChannel = action.payload.channel;\n            // const mentionedMessage = action.payload.message;\n            // return {\n            //   ...state\n            // };\n            return state;\n        }\n        default:\n            return state;\n    }\n}\n\nvar initialState = {\n    allMessages: [],\n    loading: false,\n    initialized: false,\n    currentOpenChannel: null,\n    isInvalid: false,\n    hasMore: false,\n    lastMessageTimestamp: 0,\n    frozen: false,\n    operators: [],\n    participants: [],\n    bannedParticipantIds: [],\n    mutedParticipantIds: [],\n};\n\nfunction useSetChannel(_a, _b) {\n    var channelUrl = _a.channelUrl, sdkInit = _a.sdkInit, fetchingParticipants = _a.fetchingParticipants, userId = _a.userId, currentOpenChannel = _a.currentOpenChannel;\n    var sdk = _b.sdk, logger = _b.logger, messagesDispatcher = _b.messagesDispatcher;\n    useEffect(function () {\n        var _a;\n        if (channelUrl && sdkInit && (sdk === null || sdk === void 0 ? void 0 : sdk.openChannel)) {\n            if (currentOpenChannel && (currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.exit)) {\n                (_a = currentOpenChannel.exit) === null || _a === void 0 ? void 0 : _a.call(currentOpenChannel).then(function () {\n                    logger.info('OpenChannel | useSetChannel: Exit from the previous open channel', currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.url);\n                    messagesDispatcher({\n                        type: EXIT_CURRENT_CHANNEL,\n                        payload: currentOpenChannel,\n                    });\n                });\n            }\n            logger.info('OpenChannel | useSetChannel: Fetching channel', channelUrl);\n            sdk.openChannel.getChannel(channelUrl).then(function (openChannel) {\n                logger.info('OpenChannel | useSetChannel: Succeeded to fetch channel', openChannel);\n                messagesDispatcher({\n                    type: SET_CURRENT_CHANNEL,\n                    payload: openChannel,\n                });\n                openChannel.enter().then(function () {\n                    if (openChannel.isOperator(userId)) { // only operator has a permission to fetch these list\n                        var bannedParticipantListQuery = openChannel.createBannedUserListQuery();\n                        var mutedParticipantListQuery = openChannel.createMutedUserListQuery();\n                        fetchWithListQuery(bannedParticipantListQuery, logger, function (users) {\n                            messagesDispatcher({\n                                type: FETCH_BANNED_USER_LIST,\n                                payload: {\n                                    channel: openChannel,\n                                    users: users,\n                                },\n                            });\n                        });\n                        fetchWithListQuery(mutedParticipantListQuery, logger, function (users) {\n                            messagesDispatcher({\n                                type: FETCH_MUTED_USER_LIST,\n                                payload: {\n                                    channel: openChannel,\n                                    users: users,\n                                },\n                            });\n                        });\n                    }\n                    else {\n                        openChannel.getMyMutedInfo()\n                            .then(function (mutedInfo) {\n                            if (mutedInfo === null || mutedInfo === void 0 ? void 0 : mutedInfo.isMuted) {\n                                messagesDispatcher({\n                                    type: FETCH_MUTED_USER_LIST,\n                                    payload: {\n                                        channel: openChannel,\n                                        users: [sdk === null || sdk === void 0 ? void 0 : sdk.currentUser],\n                                    },\n                                });\n                            }\n                        });\n                    }\n                    if (fetchingParticipants) {\n                        // fetch participants list\n                        var participantListQuery = openChannel.createParticipantListQuery({\n                            limit: openChannel.participantCount,\n                        });\n                        fetchWithListQuery(participantListQuery, logger, function (users) {\n                            messagesDispatcher({\n                                type: FETCH_PARTICIPANT_LIST,\n                                payload: {\n                                    channel: openChannel,\n                                    users: users,\n                                },\n                            });\n                        });\n                    }\n                }).catch(function (error) {\n                    logger.warning('OpenChannel | useSetChannel: Failed to enter channel', { channelUrl: channelUrl, error: error });\n                    messagesDispatcher({\n                        type: SET_CHANNEL_INVALID,\n                        payload: null,\n                    });\n                });\n            }).catch(function (error) {\n                logger.warning('OpenChannel | useSetChannel: Failed to fetch channel', { channelUrl: channelUrl, error: error });\n                messagesDispatcher({\n                    type: SET_CHANNEL_INVALID,\n                    payload: null,\n                });\n            });\n        }\n    }, [channelUrl, sdkInit, fetchingParticipants]);\n}\n\nfunction useHandleChannelEvents(_a, _b) {\n    var currentOpenChannel = _a.currentOpenChannel, checkScrollBottom = _a.checkScrollBottom;\n    var sdk = _b.sdk, logger = _b.logger, messagesDispatcher = _b.messagesDispatcher, scrollRef = _b.scrollRef;\n    useEffect(function () {\n        var _a, _b;\n        var messageReceiverId = uuidv4();\n        if (currentOpenChannel && currentOpenChannel.url && ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.openChannel) === null || _a === void 0 ? void 0 : _a.addOpenChannelHandler)) {\n            logger.info('OpenChannel | useHandleChannelEvents: Setup evnet handler', messageReceiverId);\n            var channelHandlerParams = {\n                onMessageReceived: function (channel, message) {\n                    var scrollToEnd = checkScrollBottom();\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMessageReceived', { channelUrl: channelUrl, message: message });\n                    messagesDispatcher({\n                        type: ON_MESSAGE_RECEIVED,\n                        payload: { channel: channel, message: message },\n                    });\n                    if (scrollToEnd) {\n                        try {\n                            setTimeout(function () {\n                                scrollIntoLast(0, scrollRef);\n                            });\n                        }\n                        catch (error) {\n                            logger.warning('OpenChannel | onMessageReceived | scroll to end failed');\n                        }\n                    }\n                },\n                onMessageUpdated: function (channel, message) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMessageUpdated', { channelUrl: channelUrl, message: message });\n                    messagesDispatcher({\n                        type: ON_MESSAGE_UPDATED,\n                        payload: { channel: channel, message: message },\n                    });\n                },\n                onMessageDeleted: function (channel, messageId) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMessageDeleted', { channelUrl: channelUrl, messageId: messageId });\n                    messagesDispatcher({\n                        type: ON_MESSAGE_DELETED,\n                        payload: { channel: channel, messageId: messageId },\n                    });\n                },\n                onOperatorUpdated: function (channel, operators) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onOperatorUpdated', { channelUrl: channelUrl, operators: operators });\n                    messagesDispatcher({\n                        type: ON_OPERATOR_UPDATED,\n                        payload: { channel: channel, operators: operators },\n                    });\n                },\n                onUserEntered: function (channel, user) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onUserEntered', { channelUrl: channelUrl, user: user });\n                    messagesDispatcher({\n                        type: ON_USER_ENTERED,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                onUserExited: function (channel, user) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onUserExited', { channelUrl: channelUrl, user: user });\n                    messagesDispatcher({\n                        type: ON_USER_EXITED,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                onUserMuted: function (channel, user) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onUserMuted', { channelUrl: channelUrl, user: user });\n                    messagesDispatcher({\n                        type: ON_USER_MUTED,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                onUserUnmuted: function (channel, user) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onUserUnmuted', { channelUrl: channelUrl, user: user });\n                    messagesDispatcher({\n                        type: ON_USER_UNMUTED,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                onUserBanned: function (channel, user) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onUserBanned', { channelUrl: channelUrl, user: user });\n                    messagesDispatcher({\n                        type: ON_USER_BANNED,\n                        payload: { channel: channel, user: user, currentUser: sdk === null || sdk === void 0 ? void 0 : sdk.currentUser },\n                    });\n                },\n                onUserUnbanned: function (channel, user) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onUserUnbanned', { channelUrl: channelUrl, user: user });\n                    messagesDispatcher({\n                        type: ON_USER_UNBANNED,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                onChannelFrozen: function (channel) {\n                    logger.info('OpenChannel | useHandleChannelEvents: onChannelFrozen', channel);\n                    messagesDispatcher({\n                        type: ON_CHANNEL_FROZEN,\n                        payload: channel,\n                    });\n                },\n                onChannelUnfrozen: function (channel) {\n                    logger.info('OpenChannel | useHandleChannelEvents: onChannelUnfrozen', channel);\n                    messagesDispatcher({\n                        type: ON_CHANNEL_UNFROZEN,\n                        payload: channel,\n                    });\n                },\n                onChannelChanged: function (channel) {\n                    logger.info('OpenChannel | useHandleChannelEvents: onChannelChanged', channel);\n                    messagesDispatcher({\n                        type: ON_CHANNEL_CHANGED,\n                        payload: channel,\n                    });\n                },\n                onMetaDataCreated: function (channel, metaData) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMetaDataCreated', { channelUrl: channelUrl, metaData: metaData });\n                    messagesDispatcher({\n                        type: ON_META_DATA_CREATED,\n                        payload: { channel: channel, metaData: metaData },\n                    });\n                },\n                onMetaDataUpdated: function (channel, metaData) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMetaDataUpdated', { channelUrl: channelUrl, metaData: metaData });\n                    messagesDispatcher({\n                        type: ON_META_DATA_UPDATED,\n                        payload: { channel: channel, metaData: metaData },\n                    });\n                },\n                onMetaDataDeleted: function (channel, metaDataKeys) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMetaDataDeleted', { channelUrl: channelUrl, metaDataKeys: metaDataKeys });\n                    messagesDispatcher({\n                        type: ON_META_DATA_DELETED,\n                        payload: { channel: channel, metaDataKeys: metaDataKeys },\n                    });\n                },\n                onMetaCounterCreated: function (channel, metaCounter) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMetaCountersCreated', { channelUrl: channelUrl, metaCounter: metaCounter });\n                    messagesDispatcher({\n                        type: ON_META_COUNTERS_CREATED,\n                        payload: { channel: channel, metaCounter: metaCounter },\n                    });\n                },\n                onMetaCounterUpdated: function (channel, metaCounter) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMetaCountersUpdated', { channelUrl: channelUrl, metaCounter: metaCounter });\n                    messagesDispatcher({\n                        type: ON_META_COUNTERS_UPDATED,\n                        payload: { channel: channel, metaCounter: metaCounter },\n                    });\n                },\n                onMetaCounterDeleted: function (channel, metaCounterKeys) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMetaCountersDeleted', { channelUrl: channelUrl, metaCounterKeys: metaCounterKeys });\n                    messagesDispatcher({\n                        type: ON_META_COUNTERS_DELETED,\n                        payload: { channel: channel, metaCounterKeys: metaCounterKeys },\n                    });\n                },\n                onMentionReceived: function (channel, message) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMentionReceived', { channelUrl: channelUrl, message: message });\n                    messagesDispatcher({\n                        type: ON_MENTION_RECEIVED,\n                        payload: { channel: channel, message: message },\n                    });\n                },\n                onChannelDeleted: function (channelUrl, channelType) {\n                    if (channelType === ChannelType.OPEN && (currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.url) === channelUrl) {\n                        messagesDispatcher({\n                            type: ON_CHANNEL_DELETED,\n                            payload: channelUrl,\n                        });\n                    }\n                },\n            };\n            var ChannelHandler = new OpenChannelHandler(channelHandlerParams);\n            (_b = sdk === null || sdk === void 0 ? void 0 : sdk.openChannel) === null || _b === void 0 ? void 0 : _b.addOpenChannelHandler(messageReceiverId, ChannelHandler);\n        }\n        return function () {\n            var _a;\n            if ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.openChannel) === null || _a === void 0 ? void 0 : _a.removeOpenChannelHandler) {\n                logger.info('OpenChannel | useHandleChannelEvents: Removing message receiver handler', messageReceiverId);\n                sdk.openChannel.removeOpenChannelHandler(messageReceiverId);\n            }\n        };\n    }, [currentOpenChannel]);\n}\n\nfunction useInitialMessagesFetch(_a, _b) {\n    var currentOpenChannel = _a.currentOpenChannel, userFilledMessageListParams = _a.userFilledMessageListParams;\n    var logger = _b.logger, messagesDispatcher = _b.messagesDispatcher, scrollRef = _b.scrollRef;\n    useEffect(function () {\n        logger === null || logger === void 0 ? void 0 : logger.info('OpenChannel | useInitialMessagesFetch: Setup started', currentOpenChannel);\n        messagesDispatcher({\n            type: RESET_MESSAGES,\n            payload: null,\n        });\n        if (currentOpenChannel && currentOpenChannel.getMessagesByTimestamp) {\n            var messageListParams_1 = {\n                nextResultSize: 0,\n                prevResultSize: 30,\n                isInclusive: true,\n                includeReactions: false,\n            };\n            if (userFilledMessageListParams) {\n                Object.keys(userFilledMessageListParams).forEach(function (key) {\n                    // @ts-ignore\n                    messageListParams_1[key] = userFilledMessageListParams[key];\n                });\n                logger === null || logger === void 0 ? void 0 : logger.info('OpenChannel | useInitialMessagesFetch: Used customizedMessageListParams');\n            }\n            logger === null || logger === void 0 ? void 0 : logger.info('OpenChannel | useInitialMessagesFetch: Fetching messages', { currentOpenChannel: currentOpenChannel, messageListParams: messageListParams_1 });\n            messagesDispatcher({\n                type: GET_PREV_MESSAGES_START,\n                payload: null,\n            });\n            currentOpenChannel.getMessagesByTimestamp(new Date().getTime(), messageListParams_1).then(function (messages) {\n                logger === null || logger === void 0 ? void 0 : logger.info('OpenChannel | useInitialMessagesFetch: Fetching messages succeeded', messages);\n                var hasMore = (messages && messages.length > 0);\n                var lastMessageTimestamp = hasMore ? messages[0].createdAt : null;\n                messagesDispatcher({\n                    type: GET_PREV_MESSAGES_SUCESS,\n                    payload: {\n                        currentOpenChannel: currentOpenChannel,\n                        messages: messages,\n                        hasMore: hasMore,\n                        lastMessageTimestamp: lastMessageTimestamp,\n                    },\n                });\n                setTimeout(function () { scrollIntoLast(0, scrollRef); });\n            }).catch(function (error) {\n                logger === null || logger === void 0 ? void 0 : logger.error('OpenChannel | useInitialMessagesFetch: Fetching messages failed', error);\n                messagesDispatcher({\n                    type: GET_PREV_MESSAGES_FAIL,\n                    payload: {\n                        currentOpenChannel: currentOpenChannel,\n                        messages: [],\n                        hasMore: false,\n                        lastMessageTimestamp: 0,\n                    },\n                });\n            });\n        }\n    }, [currentOpenChannel, userFilledMessageListParams]);\n}\n\nfunction useScrollCallback(_a, _b) {\n    var currentOpenChannel = _a.currentOpenChannel, lastMessageTimestamp = _a.lastMessageTimestamp, fetchMore = _a.fetchMore;\n    var sdk = _b.sdk, logger = _b.logger, messagesDispatcher = _b.messagesDispatcher, hasMore = _b.hasMore, userFilledMessageListParams = _b.userFilledMessageListParams;\n    return useCallback(function (callback) {\n        if (fetchMore && hasMore) {\n            logger.info('OpenChannel | useScrollCallback: start');\n            var messageListParams_1 = {\n                prevResultSize: 30,\n                includeReactions: false,\n                nextResultSize: 0,\n            };\n            if (userFilledMessageListParams) {\n                Object.keys(userFilledMessageListParams).forEach(function (key) {\n                    // @ts-ignore\n                    messageListParams_1[key] = userFilledMessageListParams[key];\n                });\n                logger.info('OpenChannel | useScrollCallback: Used userFilledMessageListParams', userFilledMessageListParams);\n            }\n            logger.info('OpenChannel | useScrollCallback: Fetching messages', { currentOpenChannel: currentOpenChannel, messageListParams: messageListParams_1 });\n            currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.getMessagesByTimestamp(lastMessageTimestamp || new Date().getTime(), messageListParams_1).then(function (messages) {\n                logger.info('OpenChannel | useScrollCallback: Fetching messages succeeded', messages);\n                var hasMore = (messages && messages.length > 0);\n                var lastMessageTimestamp = hasMore ? messages[0].createdAt : null;\n                messagesDispatcher({\n                    type: GET_PREV_MESSAGES_SUCESS,\n                    payload: {\n                        currentOpenChannel: currentOpenChannel,\n                        messages: messages,\n                        hasMore: hasMore,\n                        lastMessageTimestamp: lastMessageTimestamp,\n                    },\n                });\n                setTimeout(function () {\n                    callback();\n                });\n            }).catch(function (error) {\n                logger.error('OpenChannel | useScrollCallback: Fetching messages failed', error);\n                messagesDispatcher({\n                    type: GET_PREV_MESSAGES_FAIL,\n                    payload: {\n                        currentOpenChannel: currentOpenChannel,\n                        messages: [],\n                        hasMore: false,\n                        lastMessageTimestamp: 0,\n                    },\n                });\n            });\n        }\n    }, [currentOpenChannel, lastMessageTimestamp, fetchMore, sdk]);\n}\n\nfunction useCheckScrollBottom(_a, _b) {\n    var conversationScrollRef = _a.conversationScrollRef;\n    var logger = _b.logger;\n    return useCallback(function () {\n        var isBottom = true;\n        if (conversationScrollRef && (conversationScrollRef === null || conversationScrollRef === void 0 ? void 0 : conversationScrollRef.current)) {\n            try {\n                var conversationScroll = conversationScrollRef.current;\n                isBottom = conversationScroll.scrollHeight <= conversationScroll.scrollTop + conversationScroll.clientHeight;\n            }\n            catch (error) {\n                logger.error('OpenChannel | useCheckScrollBottom', error);\n            }\n        }\n        return isBottom;\n    }, [conversationScrollRef]);\n}\n\nfunction useSendMessageCallback(_a, _b) {\n    var currentOpenChannel = _a.currentOpenChannel, onBeforeSendUserMessage = _a.onBeforeSendUserMessage, messageInputRef = _a.messageInputRef;\n    var sdk = _b.sdk, logger = _b.logger, messagesDispatcher = _b.messagesDispatcher, scrollRef = _b.scrollRef;\n    return useCallback(function () {\n        var _a;\n        if (sdk) {\n            var text = (_a = messageInputRef.current) === null || _a === void 0 ? void 0 : _a.innerText;\n            var createParamsDefault = function (txt) {\n                var message = txt;\n                var params = {\n                    message: message,\n                };\n                return params;\n            };\n            var createCustomParams = onBeforeSendUserMessage && typeof onBeforeSendUserMessage === 'function';\n            if (createCustomParams) {\n                logger.info('OpenChannel | useSendMessageCallback: Creating params using onBeforeSendUserMessage', onBeforeSendUserMessage);\n            }\n            var params = onBeforeSendUserMessage ? onBeforeSendUserMessage(text !== null && text !== void 0 ? text : '') : createParamsDefault(text !== null && text !== void 0 ? text : '');\n            logger.info('OpenChannel | useSendMessageCallback: Sending message has started', params);\n            var pendingMsg_1;\n            currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.sendUserMessage(params).onPending(function (pendingMessage) {\n                messagesDispatcher({\n                    type: SENDING_MESSAGE_START,\n                    payload: {\n                        message: pendingMessage,\n                        channel: currentOpenChannel,\n                    },\n                });\n                pendingMsg_1 = pendingMessage;\n                setTimeout(function () { return scrollIntoLast(0, scrollRef); });\n            }).onSucceeded(function (message) {\n                logger.info('OpenChannel | useSendMessageCallback: Sending message succeeded', message);\n                messagesDispatcher({\n                    type: SENDING_MESSAGE_SUCCEEDED,\n                    payload: message,\n                });\n            }).onFailed(function (error) {\n                logger.warning('OpenChannel | useSendMessageCallback: Sending message failed', error);\n                messagesDispatcher({\n                    type: SENDING_MESSAGE_FAILED,\n                    payload: pendingMsg_1,\n                });\n                // https://sendbird.com/docs/chat/v3/javascript/guides/error-codes#2-server-error-codes\n                // TODO: Do we need to handle the error cases?\n                // @ts-ignore\n                if ((error === null || error === void 0 ? void 0 : error.code) === 900041) {\n                    messagesDispatcher({\n                        type: ON_USER_MUTED,\n                        payload: {\n                            channel: currentOpenChannel,\n                            user: sdk.currentUser,\n                        },\n                    });\n                }\n            });\n        }\n    }, [currentOpenChannel, onBeforeSendUserMessage, messageInputRef]);\n}\n\nfunction useFileUploadCallback(_a, _b) {\n    var _this = this;\n    var currentOpenChannel = _a.currentOpenChannel, _c = _a.imageCompression, imageCompression = _c === void 0 ? {} : _c, onBeforeSendFileMessage = _a.onBeforeSendFileMessage;\n    var sdk = _b.sdk, logger = _b.logger, messagesDispatcher = _b.messagesDispatcher, scrollRef = _b.scrollRef;\n    var stringSet = useLocalization().stringSet;\n    var openModal = useGlobalModalContext().openModal;\n    var uikitUploadSizeLimit = useSendbird().state.config.uikitUploadSizeLimit;\n    return useCallback(function (files) { return __awaiter(_this, void 0, void 0, function () {\n        var file_1, createCustomParams, createParamsDefault, compressedFiles, compressedFile, params;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!sdk) return [3 /*break*/, 2];\n                    file_1 = Array.isArray(files) ? files[0] : files;\n                    createCustomParams = onBeforeSendFileMessage && typeof onBeforeSendFileMessage === 'function';\n                    createParamsDefault = function (file) {\n                        var params = {};\n                        params.file = file;\n                        return params;\n                    };\n                    /**\n                     * Validate file sizes\n                     * The default value of uikitUploadSizeLimit is 25MiB\n                     */\n                    if (file_1.size > uikitUploadSizeLimit) {\n                        logger.info(\"OpenChannel | useFileUploadCallback: Cannot upload file size exceeding \".concat(uikitUploadSizeLimit));\n                        openModal({\n                            modalProps: {\n                                titleText: stringSet.FILE_UPLOAD_NOTIFICATION__SIZE_LIMIT.replace('%d', \"\".concat(Math.floor(uikitUploadSizeLimit / ONE_MiB))),\n                                hideFooter: true,\n                            },\n                            childElement: function (_a) {\n                                var closeModal = _a.closeModal;\n                                return (React__default.createElement(ModalFooter, { type: ButtonTypes.PRIMARY, submitText: stringSet.BUTTON__OK, hideCancelButton: true, onCancel: closeModal, onSubmit: closeModal }));\n                            },\n                        });\n                        return [2 /*return*/];\n                    }\n                    return [4 /*yield*/, compressImages({\n                            files: [file_1],\n                            imageCompression: imageCompression,\n                            logger: logger,\n                        })];\n                case 1:\n                    compressedFiles = (_a.sent()).compressedFiles;\n                    compressedFile = compressedFiles[0];\n                    // Send FileMessage\n                    if (createCustomParams) {\n                        logger.info('OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage', onBeforeSendFileMessage);\n                    }\n                    params = onBeforeSendFileMessage ? onBeforeSendFileMessage(compressedFile) : createParamsDefault(compressedFile);\n                    logger.info('OpenChannel | useFileUploadCallback: Uploading file message start', params);\n                    currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.sendFileMessage(params).onPending(function (pendingMessage) {\n                        messagesDispatcher({\n                            type: SENDING_MESSAGE_START,\n                            payload: {\n                                // TODO: remove data pollution\n                                message: __assign(__assign({}, pendingMessage), { url: URL.createObjectURL(file_1), \n                                    // pending thumbnail message seems to be failed\n                                    requestState: 'pending', isUserMessage: pendingMessage.isUserMessage, isFileMessage: pendingMessage.isFileMessage, isAdminMessage: pendingMessage.isAdminMessage, isMultipleFilesMessage: pendingMessage.isMultipleFilesMessage }),\n                                channel: currentOpenChannel,\n                            },\n                        });\n                        setTimeout(function () { return scrollIntoLast(0, scrollRef); });\n                    }).onSucceeded(function (message) {\n                        logger.info('OpenChannel | useFileUploadCallback: Sending message succeeded', message);\n                        messagesDispatcher({\n                            type: SENDING_MESSAGE_SUCCEEDED,\n                            payload: message,\n                        });\n                    }).onFailed(function (error, message) {\n                        logger.error('OpenChannel | useFileUploadCallback: Sending file message failed', { message: message, error: error });\n                        // @ts-ignore\n                        message.localUrl = URL.createObjectURL(file_1);\n                        // @ts-ignore\n                        message.file = file_1;\n                        messagesDispatcher({\n                            type: SENDING_MESSAGE_FAILED,\n                            payload: message,\n                        });\n                    });\n                    _a.label = 2;\n                case 2: return [2 /*return*/];\n            }\n        });\n    }); }, [currentOpenChannel, onBeforeSendFileMessage, imageCompression]);\n}\n\nfunction useUpdateMessageCallback(_a, _b) {\n    var currentOpenChannel = _a.currentOpenChannel, onBeforeSendUserMessage = _a.onBeforeSendUserMessage;\n    var logger = _b.logger, messagesDispatcher = _b.messagesDispatcher;\n    return useCallback(function (messageId, text, callback) {\n        var createParamsDefault = function (txt) {\n            return {\n                message: txt,\n            };\n        };\n        if (onBeforeSendUserMessage && typeof onBeforeSendUserMessage === 'function') {\n            logger.info('OpenChannel | useUpdateMessageCallback: Creating params using onBeforeUpdateUserMessage');\n        }\n        var params = onBeforeSendUserMessage ? onBeforeSendUserMessage(text) : createParamsDefault(text);\n        currentOpenChannel.updateUserMessage(messageId, params)\n            .then(function (message) {\n            if (callback) {\n                callback();\n            }\n            logger.info('OpenChannel | useUpdateMessageCallback: Updating message succeeded', { message: message, params: params });\n            messagesDispatcher({\n                type: ON_MESSAGE_UPDATED,\n                payload: {\n                    channel: currentOpenChannel,\n                    message: message,\n                },\n            });\n        });\n    }, [currentOpenChannel, onBeforeSendUserMessage]);\n}\n\nfunction useDeleteMessageCallback(_a, _b) {\n    var currentOpenChannel = _a.currentOpenChannel;\n    var logger = _b.logger, messagesDispatcher = _b.messagesDispatcher;\n    return useCallback(function (message, callback) {\n        logger.info('OpenChannel | useDeleteMessageCallback: Deleting message', message);\n        var sendingStatus = message.sendingStatus;\n        logger.info('OpenChannel | useDeleteMessageCallback: Deleting message requestState', sendingStatus);\n        if (sendingStatus === 'failed' || sendingStatus === 'pending') {\n            logger.info('OpenChannel | useDeleteMessageCallback: Deleted message from local', message);\n            messagesDispatcher({\n                type: ON_MESSAGE_DELETED_BY_REQ_ID,\n                payload: message.reqId,\n            });\n            if (callback) {\n                callback();\n            }\n        }\n        else {\n            if (!(message.messageType === 'file' || message.messageType === 'user')) {\n                return;\n            }\n            var messageToDelete = message;\n            currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.deleteMessage(messageToDelete).then(function () {\n                logger.info('OpenChannel | useDeleteMessageCallback: Deleting message on server', sendingStatus);\n                if (callback) {\n                    callback();\n                }\n                logger.info('OpenChannel | useDeleteMessageCallback: Deleting message succeeded', message);\n                messagesDispatcher({\n                    type: ON_MESSAGE_DELETED,\n                    payload: {\n                        channel: currentOpenChannel,\n                        messageId: message.messageId,\n                    },\n                });\n            }).catch(function (error) {\n                logger.warning('OpenChannel | useDeleteMessageCallback: Deleting message failed', error);\n            });\n        }\n    }, [currentOpenChannel]);\n}\n\nfunction useResendMessageCallback(_a, _b) {\n    var currentOpenChannel = _a.currentOpenChannel;\n    var logger = _b.logger, messagesDispatcher = _b.messagesDispatcher;\n    return useCallback(function (failedMessage) {\n        logger.info('OpenChannel | useResendMessageCallback: Resending message has started', failedMessage);\n        if (typeof (failedMessage === null || failedMessage === void 0 ? void 0 : failedMessage.isResendable) === 'boolean'\n            && failedMessage.isResendable) {\n            // userMessage\n            if (failedMessage.isUserMessage()) {\n                currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.resendMessage(failedMessage).onPending(function (message) {\n                    messagesDispatcher({\n                        type: RESENDING_MESSAGE_START,\n                        payload: {\n                            channel: currentOpenChannel,\n                            message: message,\n                        },\n                    });\n                }).onSucceeded(function (message) {\n                    logger.info('OpenChannel | useResendMessageCallback: Reseding message succeeded', message);\n                    messagesDispatcher({\n                        type: SENDING_MESSAGE_SUCCEEDED,\n                        payload: message,\n                    });\n                }).onFailed(function (error, message) {\n                    logger.warning('OpenChannel | useResendMessageCallback: Resending message failed', error);\n                    messagesDispatcher({\n                        type: SENDING_MESSAGE_FAILED,\n                        payload: message,\n                    });\n                });\n            }\n            // fileMessage\n            if (failedMessage.isFileMessage()) {\n                currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.resendMessage(failedMessage).onPending(function (message) {\n                    messagesDispatcher({\n                        type: RESENDING_MESSAGE_START,\n                        payload: {\n                            channel: currentOpenChannel,\n                            message: message,\n                        },\n                    });\n                }).onSucceeded(function (message) {\n                    logger.info('OpenChannel | useResendMessageCallback: Resending file message succeeded', message);\n                    messagesDispatcher({\n                        type: SENDING_MESSAGE_SUCCEEDED,\n                        payload: message,\n                    });\n                }).onFailed(function (error, message) {\n                    logger.warning('OpenChannel | useResendMessageCallback: Resending file message failed', error);\n                    messagesDispatcher({\n                        type: SENDING_MESSAGE_FAILED,\n                        payload: message,\n                    });\n                });\n            }\n        }\n        else {\n            // to alert user on console\n            // eslint-disable-next-line no-console\n            console.error('OpenChannel | useResendMessageCallback: Message is not resendable');\n            logger.warning('OpenChannel | useResendMessageCallback: Message is not resendable', failedMessage);\n        }\n    }, [currentOpenChannel]);\n}\n\nvar THROTTLE_TIMER = 5000;\n// to trim message list so that we wont keep thousands of messages in memory\n// We are throttling here; not debouncing\n// it will be called once very 5 sec if messagesLength, messageLimit changes\n// we check if messagesLength > messageLimit before dispatching action\nfunction useTrimMessageList(_a, _b) {\n    var messagesLength = _a.messagesLength, messageLimit = _a.messageLimit;\n    var messagesDispatcher = _b.messagesDispatcher, logger = _b.logger;\n    var _c = useState(false), inProgress = _c[0], setInProgress = _c[1];\n    useEffect(function () {\n        if (inProgress) {\n            return;\n        }\n        if (typeof messagesLength === 'number' && typeof messageLimit === 'number' && messagesLength > messageLimit) {\n            logger.info('Trimming MessageList');\n            messagesDispatcher({\n                type: TRIM_MESSAGE_LIST,\n                payload: { messageLimit: messageLimit },\n            });\n        }\n        setInProgress(true);\n        setTimeout(function () { setInProgress(false); }, THROTTLE_TIMER);\n    }, [messagesLength, messageLimit]);\n}\n\nvar OpenChannelContext = React__default.createContext(null);\nvar OpenChannelProvider = function (props) {\n    var _a;\n    var channelUrl = props.channelUrl, children = props.children, _b = props.isMessageGroupingEnabled, isMessageGroupingEnabled = _b === void 0 ? true : _b, queries = props.queries, onBeforeSendUserMessage = props.onBeforeSendUserMessage, messageLimit = props.messageLimit, onBeforeSendFileMessage = props.onBeforeSendFileMessage, onChatHeaderActionClick = props.onChatHeaderActionClick, onBackClick = props.onBackClick, disableUserProfile = props.disableUserProfile, renderUserProfile = props.renderUserProfile;\n    // We didn't decide to support fetching participant list\n    var fetchingParticipants = false;\n    var state = useSendbird().state;\n    var sdk = state.stores.sdkStore.sdk;\n    var sdkInit = state.stores.sdkStore.initialized;\n    var user = state.stores.userStore.user;\n    var config = state.config;\n    var userId = config.userId, isOnline = config.isOnline, logger = config.logger, pubSub = config.pubSub, imageCompression = config.imageCompression;\n    // hook variables\n    var _c = useReducer(reducer, initialState), messagesStore = _c[0], messagesDispatcher = _c[1];\n    var allMessages = messagesStore.allMessages, loading = messagesStore.loading, initialized = messagesStore.initialized, currentOpenChannel = messagesStore.currentOpenChannel, isInvalid = messagesStore.isInvalid, hasMore = messagesStore.hasMore, lastMessageTimestamp = messagesStore.lastMessageTimestamp, operators = messagesStore.operators, bannedParticipantIds = messagesStore.bannedParticipantIds, mutedParticipantIds = messagesStore.mutedParticipantIds;\n    // ref\n    var messageInputRef = useRef(null); // useSendMessageCallback\n    var conversationScrollRef = useRef(null); // useScrollAfterSendMessageCallback\n    // const\n    var userFilledMessageListParams = queries === null || queries === void 0 ? void 0 : queries.messageListParams;\n    var disabled = !initialized\n        || !isOnline\n        || isDisabledBecauseFrozen(currentOpenChannel, userId)\n        || isDisabledBecauseMuted(mutedParticipantIds, userId);\n    // useMemo\n    var amIBanned = useMemo(function () {\n        return bannedParticipantIds.indexOf(user.userId) >= 0;\n    }, [channelUrl, bannedParticipantIds, user]);\n    var amIMuted = useMemo(function () {\n        return mutedParticipantIds.indexOf(user.userId) >= 0;\n    }, [channelUrl, mutedParticipantIds, user]);\n    var amIOperator = useMemo(function () {\n        return operators.map(function (operator) { return operator.userId; }).indexOf(user.userId) >= 0;\n    }, [channelUrl, operators, user]);\n    // use hooks\n    useSetChannel({ channelUrl: channelUrl, sdkInit: sdkInit, fetchingParticipants: fetchingParticipants, userId: userId, currentOpenChannel: currentOpenChannel }, { sdk: sdk, logger: logger, messagesDispatcher: messagesDispatcher });\n    var checkScrollBottom = useCheckScrollBottom({ conversationScrollRef: conversationScrollRef }, { logger: logger });\n    useHandleChannelEvents({ currentOpenChannel: currentOpenChannel, checkScrollBottom: checkScrollBottom }, { sdk: sdk, logger: logger, messagesDispatcher: messagesDispatcher, scrollRef: conversationScrollRef });\n    useInitialMessagesFetch({ currentOpenChannel: currentOpenChannel, userFilledMessageListParams: userFilledMessageListParams }, { logger: logger, messagesDispatcher: messagesDispatcher, scrollRef: conversationScrollRef });\n    var fetchMore = shouldFetchMore(allMessages === null || allMessages === void 0 ? void 0 : allMessages.length, messageLimit);\n    // do not fetch more for streaming\n    var onScroll = useScrollCallback({ currentOpenChannel: currentOpenChannel, lastMessageTimestamp: lastMessageTimestamp, fetchMore: fetchMore }, { sdk: sdk, logger: logger, messagesDispatcher: messagesDispatcher, hasMore: hasMore, userFilledMessageListParams: userFilledMessageListParams });\n    var handleSendMessage = useSendMessageCallback({ currentOpenChannel: currentOpenChannel, onBeforeSendUserMessage: onBeforeSendUserMessage, checkScrollBottom: checkScrollBottom, messageInputRef: messageInputRef }, { sdk: sdk, logger: logger, messagesDispatcher: messagesDispatcher, scrollRef: conversationScrollRef });\n    var handleFileUpload = useFileUploadCallback({ currentOpenChannel: currentOpenChannel, onBeforeSendFileMessage: onBeforeSendFileMessage, checkScrollBottom: checkScrollBottom, imageCompression: imageCompression }, { sdk: sdk, logger: logger, messagesDispatcher: messagesDispatcher, scrollRef: conversationScrollRef });\n    var updateMessage = useUpdateMessageCallback({ currentOpenChannel: currentOpenChannel, onBeforeSendUserMessage: onBeforeSendUserMessage }, { logger: logger, messagesDispatcher: messagesDispatcher });\n    var deleteMessage = useDeleteMessageCallback({ currentOpenChannel: currentOpenChannel }, { logger: logger, messagesDispatcher: messagesDispatcher });\n    var resendMessage = useResendMessageCallback({ currentOpenChannel: currentOpenChannel }, { logger: logger, messagesDispatcher: messagesDispatcher });\n    useTrimMessageList({ messagesLength: allMessages === null || allMessages === void 0 ? void 0 : allMessages.length, messageLimit: messageLimit }, { messagesDispatcher: messagesDispatcher, logger: logger });\n    // handle API calls from withSendbird\n    useEffect(function () {\n        var subscriber = new Map();\n        if (!pubSub || !pubSub.subscribe) {\n            return;\n        }\n        subscriber.set(pubSubTopics.SEND_USER_MESSAGE, pubSub.subscribe(pubSubTopics.SEND_USER_MESSAGE, function (msg) {\n            var channel = msg.channel, message = msg.message;\n            scrollIntoLast(0, conversationScrollRef);\n            if (channel && (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url))) {\n                messagesDispatcher({\n                    type: SENDING_MESSAGE_SUCCEEDED,\n                    payload: message,\n                });\n            }\n        }));\n        subscriber.set(pubSubTopics.SEND_MESSAGE_START, pubSub.subscribe(pubSubTopics.SEND_MESSAGE_START, function (msg) {\n            var channel = msg.channel, message = msg.message;\n            if (channel && (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url))) {\n                messagesDispatcher({\n                    type: SENDING_MESSAGE_START,\n                    payload: { message: message, channel: channel },\n                });\n            }\n        }));\n        subscriber.set(pubSubTopics.SEND_FILE_MESSAGE, pubSub.subscribe(pubSubTopics.SEND_FILE_MESSAGE, function (msg) {\n            var channel = msg.channel, message = msg.message;\n            scrollIntoLast(0, conversationScrollRef);\n            if (channel && (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url))) {\n                messagesDispatcher({\n                    type: SENDING_MESSAGE_SUCCEEDED,\n                    payload: { message: message, channel: channel },\n                });\n            }\n        }));\n        subscriber.set(pubSubTopics.UPDATE_USER_MESSAGE, pubSub.subscribe(pubSubTopics.UPDATE_USER_MESSAGE, function (msg) {\n            var channel = msg.channel, message = msg.message, fromSelector = msg.fromSelector;\n            if (fromSelector && channel && (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url))) {\n                messagesDispatcher({\n                    type: ON_MESSAGE_UPDATED,\n                    payload: { channel: channel, message: message },\n                });\n            }\n        }));\n        subscriber.set(pubSubTopics.DELETE_MESSAGE, pubSub.subscribe(pubSubTopics.DELETE_MESSAGE, function (msg) {\n            var channel = msg.channel, messageId = msg.messageId;\n            if (channel && (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url))) {\n                messagesDispatcher({\n                    type: ON_MESSAGE_DELETED,\n                    payload: messageId,\n                });\n            }\n        }));\n        return function () {\n            if (subscriber) {\n                subscriber.forEach(function (s) {\n                    try {\n                        s.remove();\n                    }\n                    catch (_a) {\n                        //\n                    }\n                });\n            }\n        };\n    }, [channelUrl, sdkInit]);\n    return (React__default.createElement(OpenChannelContext.Provider, { value: {\n            // props\n            channelUrl: channelUrl,\n            children: children,\n            isMessageGroupingEnabled: isMessageGroupingEnabled,\n            queries: queries,\n            onBeforeSendUserMessage: onBeforeSendUserMessage,\n            messageLimit: messageLimit,\n            onBeforeSendFileMessage: onBeforeSendFileMessage,\n            onChatHeaderActionClick: onChatHeaderActionClick,\n            onBackClick: onBackClick,\n            // store\n            allMessages: allMessages,\n            loading: loading,\n            initialized: initialized,\n            currentOpenChannel: currentOpenChannel,\n            isInvalid: isInvalid,\n            hasMore: hasMore,\n            lastMessageTimestamp: lastMessageTimestamp,\n            operators: operators,\n            bannedParticipantIds: bannedParticipantIds,\n            mutedParticipantIds: mutedParticipantIds,\n            // derived/utils\n            messageInputRef: messageInputRef,\n            conversationScrollRef: conversationScrollRef,\n            disabled: disabled,\n            amIBanned: amIBanned,\n            amIMuted: amIMuted,\n            amIOperator: amIOperator,\n            checkScrollBottom: checkScrollBottom,\n            fetchMore: fetchMore,\n            onScroll: onScroll,\n            handleSendMessage: handleSendMessage,\n            handleFileUpload: handleFileUpload,\n            updateMessage: updateMessage,\n            deleteMessage: deleteMessage,\n            resendMessage: resendMessage,\n            frozen: messagesStore.frozen,\n            disableUserProfile: disableUserProfile,\n            renderUserProfile: renderUserProfile,\n            participants: messagesStore.participants,\n        } },\n        React__default.createElement(UserProfileProvider, { isOpenChannel: true, renderUserProfile: props === null || props === void 0 ? void 0 : props.renderUserProfile, disableUserProfile: (_a = props === null || props === void 0 ? void 0 : props.disableUserProfile) !== null && _a !== void 0 ? _a : config === null || config === void 0 ? void 0 : config.disableUserProfile }, children)));\n};\nvar useOpenChannelContext = function () {\n    var context = React__default.useContext(OpenChannelContext);\n    if (!context)\n        throw new Error('OpenChannelContext not found. Use within the OpenChannel module');\n    return context;\n};\n\nexport { OpenChannelProvider as O, kFormatter as k, useOpenChannelContext as u };\n//# sourceMappingURL=bundle-BhCmYlZ1.js.map\n", "import React__default, { useContext } from 'react';\nimport { L as LocalizationContext } from '../../chunks/bundle-y-yf0Djs.js';\nimport MessageInput from '../../ui/MessageInput.js';\nimport { u as useOpenChannelContext } from '../../chunks/bundle-BhCmYlZ1.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-B-wIh5Qv.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-4VvXLz4o.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DvgqpwmQ.js';\n\nvar OpenChannelInput = React__default.forwardRef(function (props, ref) {\n    var _a = useOpenChannelContext(), currentOpenChannel = _a.currentOpenChannel, disabled = _a.disabled, handleSendMessage = _a.handleSendMessage, handleFileUpload = _a.handleFileUpload, amIMuted = _a.amIMuted;\n    var channel = currentOpenChannel;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var value = props.value;\n    function getPlaceHolderString() {\n        if (amIMuted) {\n            return stringSet.MESSAGE_INPUT__PLACE_HOLDER__MUTED;\n        }\n        if (disabled) {\n            return stringSet.MESSAGE_INPUT__PLACE_HOLDER__DISABLED;\n        }\n        return '';\n    }\n    if (!channel) {\n        return null;\n    }\n    return (React__default.createElement(\"div\", { className: \"sendbird-openchannel-footer\" },\n        React__default.createElement(MessageInput, { channel: currentOpenChannel, ref: ref, value: value, disabled: disabled, isVoiceMessageEnabled: false, onSendMessage: handleSendMessage, onFileUpload: handleFileUpload, placeholder: getPlaceHolderString() })));\n});\n\nexport { OpenChannelInput as default };\n//# sourceMappingURL=OpenChannelInput.js.map\n", "var copyToClipboard = function (text) {\n    // @ts-ignore: Unreachable code error\n    if (window.clipboardData && window.clipboardData.setData) {\n        // Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.\n        // @ts-ignore: Unreachable code error\n        return window.clipboardData.setData('Text', text);\n    }\n    if (document.queryCommandSupported && document.queryCommandSupported('copy')) {\n        var textarea = document.createElement('textarea');\n        textarea.textContent = text;\n        textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in Microsoft Edge.\n        document.body.appendChild(textarea);\n        textarea.select();\n        try {\n            return document.execCommand('copy'); // Security exception may be thrown by some browsers.\n        }\n        catch (ex) {\n            return false;\n        }\n        finally {\n            document.body.removeChild(textarea);\n        }\n    }\n    return false;\n};\n\nexport { copyToClipboard as c };\n//# sourceMappingURL=bundle-Bt36atB_.js.map\n", "import React__default from 'react';\nimport { C as ContextMenu, b as MenuItems, c as MenuItem } from './bundle-BEUsrftF.js';\nimport { u as useLocalization } from './bundle-y-yf0Djs.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\n\nvar OpenChannelMessageStatusTypes = {\n    NONE: 'none',\n    PENDING: 'pending',\n    FAILED: 'failed',\n    CANCELED: 'canceled',\n    SUCCEEDED: 'succeeded',\n};\nvar getSenderFromMessage = function (message) {\n    // @ts-ignore\n    return message.sender || message._sender;\n};\nvar checkIsSent = function (status) { return (status === OpenChannelMessageStatusTypes.SUCCEEDED); };\nvar checkIsPending = function (status) { return (status === OpenChannelMessageStatusTypes.PENDING); };\nvar checkIsFailed = function (status) { return (status === OpenChannelMessageStatusTypes.FAILED); };\nvar checkIsByMe = function (message, userId) { return (getSenderFromMessage(message).userId === userId); };\nvar isFineCopy = function (_a) {\n    var _b;\n    var message = _a.message;\n    return ((message === null || message === void 0 ? void 0 : message.messageType) === 'user' && ((_b = message === null || message === void 0 ? void 0 : message.message) === null || _b === void 0 ? void 0 : _b.length) > 0);\n};\nvar isFineResend = function (_a) {\n    var message = _a.message, status = _a.status, userId = _a.userId;\n    return checkIsByMe(message, userId)\n        && checkIsFailed(status)\n        // @ts-ignore\n        && (message === null || message === void 0 ? void 0 : message.isResendable);\n};\nvar isFineEdit = function (_a) {\n    var _b;\n    var message = _a.message, status = _a.status, userId = _a.userId;\n    return checkIsByMe(message, userId) && checkIsSent(status) && ((_b = message === null || message === void 0 ? void 0 : message.isUserMessage) === null || _b === void 0 ? void 0 : _b.call(message));\n};\nvar isFineDelete = function (_a) {\n    var message = _a.message, userId = _a.userId;\n    return checkIsByMe(message, userId);\n};\nvar isFineDownload = function (_a) {\n    var _b;\n    var message = _a.message, status = _a.status;\n    if (((_b = message === null || message === void 0 ? void 0 : message.isFileMessage) === null || _b === void 0 ? void 0 : _b.call(message)) && checkIsSent(status)) {\n        return true;\n    }\n    return false;\n};\nvar showMenuTrigger = function (props) {\n    var message = props.message, status = props.status, userId = props.userId;\n    // @ts-ignore\n    if (message.messageType === 'user') {\n        return (isFineDelete({ message: message, status: status, userId: userId })\n            || isFineEdit({ message: message, status: status, userId: userId })\n            // @ts-ignore\n            || isFineCopy({ message: message, status: status, userId: userId })\n            || isFineResend({ message: message, status: status, userId: userId }));\n    }\n    else {\n        return (isFineDelete({ message: message, status: status, userId: userId })\n            || isFineResend({ message: message, status: status, userId: userId }));\n    }\n};\n\nvar OpenChannelMobileMenu = function (props) {\n    var message = props.message, parentRef = props.parentRef, resendMessage = props.resendMessage, showEdit = props.showEdit, showRemove = props.showRemove, copyToClipboard = props.copyToClipboard, hideMenu = props.hideMenu, _a = props.isEphemeral, isEphemeral = _a === void 0 ? false : _a;\n    var userMessage = message;\n    var status = message === null || message === void 0 ? void 0 : message.sendingStatus;\n    var stringSet = useLocalization().stringSet;\n    var userId = useSendbird().state.config.userId;\n    var fileMessage = message;\n    return (React__default.createElement(ContextMenu, { isOpen: true, menuItems: function () { return (React__default.createElement(MenuItems, { className: \"sendbird-openchannel__mobile-menu\", parentRef: parentRef, parentContainRef: parentRef, closeDropdown: hideMenu },\n            isFineCopy({ message: userMessage, userId: userId, status: status }) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-og-message__top__context-menu__copy\", onClick: function () {\n                    copyToClipboard === null || copyToClipboard === void 0 ? void 0 : copyToClipboard();\n                }, testID: \"open_channel_mobile_context_menu_copy\" },\n                React__default.createElement(React__default.Fragment, null, stringSet.CONTEXT_MENU_DROPDOWN__COPY))),\n            (!isEphemeral && isFineEdit({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-og-message__top__context-menu__edit\", onClick: function () {\n                    showEdit === null || showEdit === void 0 ? void 0 : showEdit();\n                }, testID: \"open_channel_mobile_context_menu_edit\" },\n                React__default.createElement(React__default.Fragment, null, stringSet.CONTEXT_MENU_DROPDOWN__EDIT))),\n            isFineResend({ message: message, userId: userId, status: status }) && (React__default.createElement(MenuItem, { onClick: function () {\n                    resendMessage === null || resendMessage === void 0 ? void 0 : resendMessage();\n                }, testID: \"open_channel_mobile_context_menu_resend\" },\n                React__default.createElement(React__default.Fragment, null, stringSet.CONTEXT_MENU_DROPDOWN__RESEND))),\n            (!isEphemeral && isFineDelete({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { onClick: function () {\n                    showRemove === null || showRemove === void 0 ? void 0 : showRemove();\n                }, testID: \"open_channel_mobile_context_menu_delete\" },\n                React__default.createElement(React__default.Fragment, null, stringSet.CONTEXT_MENU_DROPDOWN__DELETE))),\n            isFineDownload({ message: message, status: status }) && (React__default.createElement(MenuItem, { onClick: function () {\n                    hideMenu();\n                }, testID: \"open_channel_mobile_context_menu_download_file\" },\n                React__default.createElement(\"a\", { className: \"sendbird-openchannel__mobile-menu-hyperlink\", rel: \"noopener noreferrer\", href: fileMessage === null || fileMessage === void 0 ? void 0 : fileMessage.url, target: \"_blank\" }, stringSet.CONTEXT_MENU_DROPDOWN__SAVE))))); } }));\n};\n\nexport { OpenChannelMobileMenu as O, isFineEdit as a, isFineResend as b, isFineDelete as c, checkIsPending as d, checkIsFailed as e, checkIsSent as f, getSenderFromMessage as g, isFineCopy as i, showMenuTrigger as s };\n//# sourceMappingURL=bundle-BI-KSAb4.js.map\n", "import { a as __spreadArray, _ as __assign } from '../chunks/bundle-BosquA9C.js';\nimport React__default, { useRef, useState, useEffect } from 'react';\nimport { f as format } from '../chunks/bundle-CDOQ--pz.js';\nimport { A as Avatar } from '../chunks/bundle-BkCv3z1C.js';\nimport { C as ContextMenu, b as MenuItems, c as MenuItem } from '../chunks/bundle-BEUsrftF.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport IconButton from './IconButton.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport Loader from './Loader.js';\nimport UserProfile from './UserProfile.js';\nimport { u as useUserProfileContext } from '../chunks/bundle-ByW5tGii.js';\nimport { u as useLocalization } from '../chunks/bundle-y-yf0Djs.js';\nimport { c as copyToClipboard } from '../chunks/bundle-Bt36atB_.js';\nimport { u as uuidv4 } from '../chunks/bundle-BGRwc73U.js';\nimport { g as getSenderFromMessage, s as showMenuTrigger, i as isFineCopy, a as isFineEdit, b as isFineResend, c as isFineDelete, O as OpenChannelMobileMenu, d as checkIsPending, e as checkIsFailed } from '../chunks/bundle-BI-KSAb4.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DvgqpwmQ.js';\nimport { u as useLongPress } from '../chunks/bundle-BSieP1ow.js';\nimport { e as isEditedMessage } from '../chunks/bundle-Ug7rKzFJ.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-MdZYxYNf.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat/groupChannel';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DxUY6hv0.js';\nimport './Button.js';\nimport '../chunks/bundle-Bk7vYzLW.js';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\n\nfunction OpenchannelUserMessage(_a) {\n    var className = _a.className, message = _a.message, isOperator = _a.isOperator, _b = _a.isEphemeral, isEphemeral = _b === void 0 ? false : _b, userId = _a.userId, resendMessage = _a.resendMessage, disabled = _a.disabled, showEdit = _a.showEdit, showRemove = _a.showRemove, chainTop = _a.chainTop;\n    // hooks\n    var _c = useLocalization(), stringSet = _c.stringSet, dateLocale = _c.dateLocale;\n    var _d = useUserProfileContext(), disableUserProfile = _d.disableUserProfile, renderUserProfile = _d.renderUserProfile;\n    var messageRef = useRef();\n    var avatarRef = useRef();\n    var contextMenuRef = useRef();\n    var mobileMenuRef = useRef();\n    var _e = useState({}), contextStyle = _e[0], setContextStyle = _e[1];\n    var _f = useState(false), contextMenu = _f[0], setContextMenu = _f[1];\n    // consts\n    var status = message === null || message === void 0 ? void 0 : message.sendingStatus;\n    var isPending = checkIsPending(status);\n    var isFailed = checkIsFailed(status);\n    var sender = getSenderFromMessage(message);\n    // place context menu top depending clientHeight of message component\n    useEffect(function () {\n        var _a;\n        if (((_a = messageRef === null || messageRef === void 0 ? void 0 : messageRef.current) === null || _a === void 0 ? void 0 : _a.clientHeight) && messageRef.current.clientHeight > 36) {\n            setContextStyle({ top: '8px ' });\n        }\n        else {\n            setContextStyle({ top: '2px' });\n        }\n    }, [window.innerWidth]);\n    var onLongPress = useLongPress({\n        onLongPress: function () {\n            setContextMenu(true);\n        },\n    });\n    var isMobile = useMediaQueryContext().isMobile;\n    if (!message || message.messageType !== 'user') {\n        return React__default.createElement(React__default.Fragment, null);\n    }\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n                'sendbird-openchannel-user-message',\n            ], false).join(' '), ref: messageRef },\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-user-message__left\" }, !chainTop && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(Avatar, { className: \"sendbird-openchannel-user-message__left__avatar\", src: sender.profileUrl || '', ref: avatarRef, width: \"28px\", height: \"28px\", onClick: function () {\n                        if (!disableUserProfile) {\n                            toggleDropdown();\n                        }\n                    } })); }, menuItems: function (closeDropdown) { return (renderUserProfile\n                    ? (renderUserProfile({\n                        user: sender,\n                        close: closeDropdown,\n                        currentUserId: userId,\n                        avatarRef: avatarRef,\n                    }))\n                    : (React__default.createElement(MenuItems, { parentRef: avatarRef, parentContainRef: avatarRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n                        React__default.createElement(UserProfile, { user: sender, onSuccess: closeDropdown, disableMessaging: true })))); } }))),\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-user-message__right\" },\n                !chainTop && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-user-message__right__top\" },\n                    React__default.createElement(Label, { className: \"sendbird-openchannel-user-message__right__top__sender-name\", type: LabelTypography.CAPTION_2, color: isOperator ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2 }, sender && (sender.friendName\n                        || sender.nickname\n                        || sender.userId)),\n                    React__default.createElement(Label, { className: \"sendbird-openchannel-user-message__right__top__sent-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_3 }, (message === null || message === void 0 ? void 0 : message.createdAt) && (format(message === null || message === void 0 ? void 0 : message.createdAt, stringSet.DATE_FORMAT__MESSAGE_CREATED_AT, {\n                        locale: dateLocale,\n                    }))))),\n                React__default.createElement(\"div\", __assign({}, (isMobile ? __assign({}, onLongPress) : {}), { className: \"sendbird-openchannel-user-message__right__bottom\", ref: mobileMenuRef }),\n                    React__default.createElement(Label, { className: \"sendbird-openchannel-user-message__right__bottom__message\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_1 }, message === null || message === void 0 ? void 0 :\n                        message.message,\n                        isEditedMessage(message) && (React__default.createElement(Label, { key: uuidv4(), type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_2, className: \"sendbird-openchannel-user-message-word\" }, \" \".concat(stringSet.MESSAGE_EDITED, \" \"))))),\n                (isPending || isFailed) && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-user-message__right__tail\" },\n                    isPending && (React__default.createElement(Loader, { width: \"16px\", height: \"16px\" },\n                        React__default.createElement(Icon, { className: \"sendbird-openchannel-user-message__right__tail__pending\", type: IconTypes.SPINNER, fillColor: IconColors.PRIMARY, width: \"16px\", height: \"16px\" }))),\n                    isFailed && (React__default.createElement(Icon, { className: \"sendbird-openchannel-user-message__right__tail__failed\", type: IconTypes.ERROR, fillColor: IconColors.ERROR, width: \"16px\", height: \"16px\" }))))),\n            !isMobile && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-user-message__context-menu\", ref: contextMenuRef, style: contextStyle },\n                React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (showMenuTrigger({ message: message, userId: userId, status: status }) && (React__default.createElement(IconButton, { className: \"sendbird-openchannel-user-message__context-menu--icon\", width: \"32px\", height: \"32px\", onClick: function () {\n                            toggleDropdown();\n                        } },\n                        React__default.createElement(Icon, { type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE, width: \"24px\", height: \"24px\" })))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentRef: contextMenuRef, parentContainRef: contextMenuRef, closeDropdown: closeDropdown, openLeft: true },\n                        isFineCopy({ message: message, userId: userId, status: status }) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-user-message__context-menu__copy\", onClick: function () {\n                                copyToClipboard(message.message);\n                                closeDropdown();\n                            }, testID: \"open_channel_user_message_menu_copy\" }, stringSet.CONTEXT_MENU_DROPDOWN__COPY)),\n                        (!isEphemeral && isFineEdit({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-user-message__context-menu__edit\", onClick: function () {\n                                if (disabled) {\n                                    return;\n                                }\n                                showEdit(true);\n                                closeDropdown();\n                            }, testID: \"open_channel_user_message_menu_edit\" }, stringSet.CONTEXT_MENU_DROPDOWN__EDIT)),\n                        isFineResend({ message: message, userId: userId, status: status }) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-user-message__context-menu__resend\", onClick: function () {\n                                resendMessage(message);\n                                closeDropdown();\n                            }, testID: \"open_channel_user_message_menu_resend\" }, stringSet.CONTEXT_MENU_DROPDOWN__RESEND)),\n                        (!isEphemeral && isFineDelete({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-user-message__context-menu__delete\", onClick: function () {\n                                if (disabled) {\n                                    return;\n                                }\n                                showRemove(true);\n                                closeDropdown();\n                            }, testID: \"open_channel_user_message_menu_delete\" }, stringSet.CONTEXT_MENU_DROPDOWN__DELETE)))); } })))),\n        contextMenu && (React__default.createElement(OpenChannelMobileMenu, { message: message, parentRef: mobileMenuRef, hideMenu: function () {\n                setContextMenu(false);\n            }, showRemove: function () {\n                setContextMenu(false);\n                showRemove(true);\n            }, showEdit: function () {\n                setContextMenu(false);\n                showEdit(true);\n            }, copyToClipboard: function () {\n                setContextMenu(false);\n                copyToClipboard(message === null || message === void 0 ? void 0 : message.message);\n            }, resendMessage: function () {\n                setContextMenu(false);\n                resendMessage(message);\n            } }))));\n}\n\nexport { OpenchannelUserMessage as default };\n//# sourceMappingURL=OpenchannelUserMessage.js.map\n", "import { a as __spreadArray } from '../chunks/bundle-BosquA9C.js';\nimport React__default from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport '../chunks/bundle-DXRcwk7R.js';\n\nfunction OpenChannelAdminMessage(_a) {\n    var className = _a.className, message = _a.message;\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-openchannel-admin-message',\n        ], false).join(' ') },\n        React__default.createElement(Label, { className: \"sendbird-openchannel-admin-message__text\", type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, message.message || '')));\n}\n\nexport { OpenChannelAdminMessage as default };\n//# sourceMappingURL=OpenChannelAdminMessage.js.map\n", "import { _ as __assign, a as __spreadArray } from '../chunks/bundle-BosquA9C.js';\nimport React__default, { useState, useRef, useMemo, useEffect } from 'react';\nimport { f as format } from '../chunks/bundle-CDOQ--pz.js';\nimport { A as Avatar } from '../chunks/bundle-BkCv3z1C.js';\nimport { C as ContextMenu, b as MenuItems, c as MenuItem } from '../chunks/bundle-BEUsrftF.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport IconButton from './IconButton.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport LinkLabel from './LinkLabel.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport Loader from './Loader.js';\nimport UserProfile from './UserProfile.js';\nimport { u as useUserProfileContext } from '../chunks/bundle-ByW5tGii.js';\nimport { u as uuidv4 } from '../chunks/bundle-BGRwc73U.js';\nimport { c as copyToClipboard } from '../chunks/bundle-Bt36atB_.js';\nimport { u as useLocalization } from '../chunks/bundle-y-yf0Djs.js';\nimport { g as getSenderFromMessage, s as showMenuTrigger, i as isFineCopy, a as isFineEdit, b as isFineResend, c as isFineDelete, O as OpenChannelMobileMenu, d as checkIsPending, e as checkIsFailed } from '../chunks/bundle-BI-KSAb4.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DvgqpwmQ.js';\nimport { u as useLongPress } from '../chunks/bundle-BSieP1ow.js';\nimport { T as TextFragment } from '../chunks/bundle-bLHW4VuD.js';\nimport { t as tokenizeMessage } from '../chunks/bundle-BJl-Stow.js';\nimport { o as openURL } from '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../chunks/bundle-MdZYxYNf.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-Ug7rKzFJ.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DxUY6hv0.js';\nimport './Button.js';\nimport '../chunks/bundle-Bk7vYzLW.js';\nimport '../Message/context.js';\nimport './MentionLabel.js';\n\nfunction OpenChannelOGMessage(_a) {\n    var _b, _c, _d;\n    var message = _a.message, isOperator = _a.isOperator, _e = _a.isEphemeral, isEphemeral = _e === void 0 ? false : _e, className = _a.className, disabled = _a.disabled, showEdit = _a.showEdit, showRemove = _a.showRemove, resendMessage = _a.resendMessage, chainTop = _a.chainTop, userId = _a.userId;\n    var status = message === null || message === void 0 ? void 0 : message.sendingStatus;\n    var ogMetaData = (_b = message.ogMetaData) !== null && _b !== void 0 ? _b : null;\n    var defaultImage = ogMetaData === null || ogMetaData === void 0 ? void 0 : ogMetaData.defaultImage;\n    var _f = useLocalization(), stringSet = _f.stringSet, dateLocale = _f.dateLocale;\n    var isMobile = useMediaQueryContext().isMobile;\n    var _g = useUserProfileContext(), disableUserProfile = _g.disableUserProfile, renderUserProfile = _g.renderUserProfile;\n    var _h = useState({}), contextStyle = _h[0], setContextStyle = _h[1];\n    var _j = useState(false), showContextMenu = _j[0], setShowContextMenu = _j[1];\n    var openLink = function () { return openURL(ogMetaData === null || ogMetaData === void 0 ? void 0 : ogMetaData.url); };\n    var onLongPress = useLongPress({\n        onLongPress: function () { return setShowContextMenu(true); },\n        onClick: openLink,\n    }, {\n        delay: 300,\n    });\n    var messageComponentRef = useRef();\n    var contextMenuRef = useRef();\n    var mobileMenuRef = useRef();\n    var avatarRef = useRef();\n    var isPending = checkIsPending(status);\n    var isFailed = checkIsFailed(status);\n    var sender = getSenderFromMessage(message);\n    var tokens = useMemo(function () {\n        return tokenizeMessage({\n            messageText: message.message,\n        });\n    }, [message === null || message === void 0 ? void 0 : message.updatedAt, message === null || message === void 0 ? void 0 : message.message]);\n    // place conxt menu top depending clientHeight of message component\n    useEffect(function () {\n        var _a, _b;\n        if (((_a = messageComponentRef === null || messageComponentRef === void 0 ? void 0 : messageComponentRef.current) === null || _a === void 0 ? void 0 : _a.clientHeight) && ((_b = messageComponentRef === null || messageComponentRef === void 0 ? void 0 : messageComponentRef.current) === null || _b === void 0 ? void 0 : _b.clientHeight) > 36) {\n            setContextStyle({ top: '8px ' });\n        }\n        else {\n            setContextStyle({ top: '2px' });\n        }\n    }, [window.innerWidth]);\n    if (!message || message.messageType !== 'user') {\n        return React__default.createElement(React__default.Fragment, null);\n    }\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", __assign({ className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n                'sendbird-openchannel-og-message',\n            ], false).join(' '), ref: messageComponentRef }, (isMobile ? __assign({}, onLongPress) : {})),\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__top\" },\n                React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__top__left\" }, !chainTop && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(Avatar, { className: \"sendbird-openchannel-og-message__top__left__avatar\", src: sender.profileUrl || '', ref: avatarRef, width: \"28px\", height: \"28px\", onClick: function () {\n                            if (!disableUserProfile) {\n                                toggleDropdown();\n                            }\n                        } })); }, menuItems: function (closeDropdown) { return (renderUserProfile\n                        ? (renderUserProfile({\n                            user: sender,\n                            close: closeDropdown,\n                            currentUserId: userId,\n                            avatarRef: avatarRef,\n                        }))\n                        : (React__default.createElement(MenuItems, { parentRef: avatarRef, parentContainRef: avatarRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n                            React__default.createElement(UserProfile, { user: sender, onSuccess: closeDropdown, disableMessaging: true })))); } }))),\n                React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__top__right\" },\n                    !chainTop && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__top__right__title\" },\n                        React__default.createElement(Label, { className: \"sendbird-openchannel-og-message__top__right__title__sender-name\", type: LabelTypography.CAPTION_2, color: isOperator ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2 }, sender && (sender.friendName\n                            || sender.nickname\n                            || sender.userId)),\n                        React__default.createElement(Label, { className: \"sendbird-openchannel-og-message__top__right__title__sent-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_3 }, (message === null || message === void 0 ? void 0 : message.createdAt) && (format(message === null || message === void 0 ? void 0 : message.createdAt, stringSet.DATE_FORMAT__MESSAGE_CREATED_AT, {\n                            locale: dateLocale,\n                        }))))),\n                    React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__top__right__description\" },\n                        React__default.createElement(Label, { className: \"sendbird-openchannel-og-message__top__right__description__message\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_1 },\n                            React__default.createElement(TextFragment, { tokens: tokens }),\n                            (((_c = message === null || message === void 0 ? void 0 : message.updatedAt) !== null && _c !== void 0 ? _c : 0) > 0) && (React__default.createElement(Label, { key: uuidv4(), className: 'sendbird-openchannel-og-message--word', type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_2 }, stringSet.MESSAGE_EDITED))))),\n                !isMobile && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__top__context-menu\", ref: contextMenuRef, style: contextStyle },\n                    React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (showMenuTrigger({ message: message, userId: userId, status: status }) && (React__default.createElement(IconButton, { className: \"sendbird-openchannel-og-message__top__context-menu--icon\", width: \"32px\", height: \"32px\", onClick: function () {\n                                toggleDropdown();\n                            } },\n                            React__default.createElement(Icon, { type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE, width: \"24px\", height: \"24px\" })))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentRef: contextMenuRef, parentContainRef: contextMenuRef, closeDropdown: closeDropdown, openLeft: true },\n                            isFineCopy({ message: message, userId: userId, status: status }) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-og-message__top__context-menu__copy\", onClick: function () {\n                                    copyToClipboard(message.message);\n                                    closeDropdown();\n                                }, testID: \"open_channel_og_message_menu_copy\" }, stringSet.CONTEXT_MENU_DROPDOWN__COPY)),\n                            (!isEphemeral && isFineEdit({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-og-message__top__context-menu__edit\", onClick: function () {\n                                    if (disabled) {\n                                        return;\n                                    }\n                                    showEdit(true);\n                                    closeDropdown();\n                                }, testID: \"open_channel_og_message_menu_edit\" }, stringSet.CONTEXT_MENU_DROPDOWN__EDIT)),\n                            isFineResend({ message: message, userId: userId, status: status }) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-og-message__top__context-menu__resend\", onClick: function () {\n                                    resendMessage(message);\n                                    closeDropdown();\n                                }, testID: \"open_channel_og_message_menu_resend\" }, stringSet.CONTEXT_MENU_DROPDOWN__RESEND)),\n                            (!isEphemeral && isFineDelete({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-og-message__top__context-menu__delete\", onClick: function () {\n                                    if (disabled) {\n                                        return;\n                                    }\n                                    showRemove(true);\n                                    closeDropdown();\n                                }, testID: \"open_channel_og_message_menu_delete\" }, stringSet.CONTEXT_MENU_DROPDOWN__DELETE)))); } })))),\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__bottom\" },\n                React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__bottom__og-tag\", ref: mobileMenuRef },\n                    (ogMetaData === null || ogMetaData === void 0 ? void 0 : ogMetaData.url) && (React__default.createElement(Label, { className: \"sendbird-openchannel-og-message__bottom__og-tag__url\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, ogMetaData.url)),\n                    (ogMetaData === null || ogMetaData === void 0 ? void 0 : ogMetaData.title) && (React__default.createElement(LinkLabel, { className: \"sendbird-openchannel-og-message__bottom__og-tag__title\", src: (_d = ogMetaData.url) !== null && _d !== void 0 ? _d : '', type: LabelTypography.SUBTITLE_2, color: LabelColors.PRIMARY }, ogMetaData.title)),\n                    (ogMetaData === null || ogMetaData === void 0 ? void 0 : ogMetaData.description) && (React__default.createElement(Label, { className: \"sendbird-openchannel-og-message__bottom__og-tag__description\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_1 }, ogMetaData.description)),\n                    (ogMetaData === null || ogMetaData === void 0 ? void 0 : ogMetaData.url) && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__bottom__og-tag__thumbnail\", role: \"button\", onClick: openLink, onKeyDown: openLink, tabIndex: 0 }, defaultImage && (React__default.createElement(ImageRenderer, { className: \"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image\", url: defaultImage.url || '', alt: defaultImage.alt || '', width: \"334px\", height: \"189px\", defaultComponent: (React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder\" },\n                            React__default.createElement(Icon, { type: IconTypes.THUMBNAIL_NONE, width: \"56px\", height: \"56px\" }))) }))))),\n                (isPending || isFailed) && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__top__right__tail\" },\n                    isPending && (React__default.createElement(Loader, { width: \"16px\", height: \"16px\" },\n                        React__default.createElement(Icon, { className: \"sendbird-openchannel-og-message__top__right__tail__pending\", type: IconTypes.SPINNER, fillColor: IconColors.PRIMARY, width: \"16px\", height: \"16px\" }))),\n                    isFailed && (React__default.createElement(Icon, { className: \"sendbird-openchannel-og-message__top__right__tail__failed\", type: IconTypes.ERROR, fillColor: IconColors.ERROR, width: \"16px\", height: \"16px\" })))))),\n        showContextMenu && (React__default.createElement(OpenChannelMobileMenu, { message: message, parentRef: mobileMenuRef, hideMenu: function () {\n                setShowContextMenu(false);\n            }, showRemove: function () {\n                setShowContextMenu(false);\n                showRemove(true);\n            }, showEdit: function () {\n                setShowContextMenu(false);\n                showEdit(true);\n            }, copyToClipboard: function () {\n                setShowContextMenu(false);\n                copyToClipboard(message === null || message === void 0 ? void 0 : message.message);\n            }, resendMessage: function () {\n                setShowContextMenu(false);\n                resendMessage(message);\n            } }))));\n}\n\nexport { OpenChannelOGMessage as default };\n//# sourceMappingURL=OpenchannelOGMessage.js.map\n", "import { a as __spreadArray, _ as __assign } from '../chunks/bundle-BosquA9C.js';\nimport React__default, { useState, useRef, useMemo, useEffect } from 'react';\nimport { f as format } from '../chunks/bundle-CDOQ--pz.js';\nimport { u as useLocalization } from '../chunks/bundle-y-yf0Djs.js';\nimport { A as Avatar } from '../chunks/bundle-BkCv3z1C.js';\nimport { C as ContextMenu, b as MenuItems, c as MenuItem } from '../chunks/bundle-BEUsrftF.js';\nimport Icon, { IconColors, IconTypes } from './Icon.js';\nimport IconButton from './IconButton.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport Loader from './Loader.js';\nimport UserProfile from './UserProfile.js';\nimport { u as useUserProfileContext } from '../chunks/bundle-ByW5tGii.js';\nimport { g as getSenderFromMessage, b as isFineResend, s as showMenuTrigger, c as isFineDelete, O as OpenChannelMobileMenu, f as checkIsSent, d as checkIsPending, e as checkIsFailed } from '../chunks/bundle-BI-KSAb4.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DvgqpwmQ.js';\nimport { u as useLongPress } from '../chunks/bundle-BSieP1ow.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-MdZYxYNf.js';\nimport '../chunks/bundle-Bc1fdQjj.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport '../chunks/bundle-Ug7rKzFJ.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DxUY6hv0.js';\nimport './Button.js';\nimport '../chunks/bundle-Bk7vYzLW.js';\n\nvar SUPPORTING_TYPES = {\n    IMAGE: 'IMAGE',\n    VIDEO: 'VIDEO',\n    UNSUPPORTED: 'UNSUPPORTED',\n};\nvar SUPPORTED_MIMES = {\n    IMAGE: [\n        'image/jpeg',\n        'image/jpg',\n        'image/png',\n        'image/gif',\n        'image/webp',\n    ],\n    VIDEO: [\n        'video/mpeg',\n        'video/ogg',\n        'video/webm',\n        'video/mp4',\n    ],\n};\nvar getSupportingFileType = function (type) {\n    if (SUPPORTED_MIMES.IMAGE.indexOf(type) >= 0) {\n        return SUPPORTING_TYPES.IMAGE;\n    }\n    if (SUPPORTED_MIMES.VIDEO.indexOf(type) >= 0) {\n        return SUPPORTING_TYPES.VIDEO;\n    }\n    return SUPPORTING_TYPES.UNSUPPORTED;\n};\n\nfunction OpenchannelThumbnailMessage(_a) {\n    var _b;\n    var className = _a.className, message = _a.message, isOperator = _a.isOperator, _c = _a.isEphemeral, isEphemeral = _c === void 0 ? false : _c, disabled = _a.disabled, userId = _a.userId, chainTop = _a.chainTop, onClick = _a.onClick, showRemove = _a.showRemove, resendMessage = _a.resendMessage;\n    var type = message.type, url = message.url, thumbnails = message.thumbnails, localUrl = message.localUrl;\n    var status = message === null || message === void 0 ? void 0 : message.sendingStatus;\n    var thumbnailUrl = (thumbnails && thumbnails.length > 0 && thumbnails[0].url) || null;\n    var _d = useLocalization(), stringSet = _d.stringSet, dateLocale = _d.dateLocale;\n    var _e = useUserProfileContext(), disableUserProfile = _e.disableUserProfile, renderUserProfile = _e.renderUserProfile;\n    var _f = useState(360), messageWidth = _f[0], setMessageWidth = _f[1];\n    var _g = useState(false), contextMenu = _g[0], setContextMenu = _g[1];\n    var messageRef = useRef(null);\n    var mobileMenuRef = useRef(null);\n    var contextMenuRef = useRef(null);\n    var avatarRef = useRef(null);\n    var onLongPress = useLongPress({\n        onLongPress: function () { setContextMenu(true); },\n        onClick: function () { onClick(true); },\n    });\n    var isMobile = useMediaQueryContext().isMobile;\n    var memorizedThumbnailPlaceHolder = useMemo(function () { return function (type) { return function (_a) {\n        var style = _a.style;\n        return ( // eslint-disable-line\n        React__default.createElement(\"div\", { style: style },\n            React__default.createElement(Icon, { type: type, fillColor: IconColors.ON_BACKGROUND_2, width: \"56px\", height: \"56px\" })));\n    }; }; }, []);\n    var isMessageSent = checkIsSent(status);\n    var isPending = checkIsPending(status);\n    var isFailed = checkIsFailed(status);\n    var sender = getSenderFromMessage(message);\n    useEffect(function () {\n        var _a, _b;\n        var thumbnailWidth = ((_b = (_a = messageRef === null || messageRef === void 0 ? void 0 : messageRef.current) === null || _a === void 0 ? void 0 : _a.clientWidth) !== null && _b !== void 0 ? _b : 0) - 80;\n        setMessageWidth(thumbnailWidth > 360 ? 360 : thumbnailWidth);\n    }, []);\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n                'sendbird-openchannel-thumbnail-message',\n            ], false).join(' '), ref: messageRef },\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__left\" }, !chainTop && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(Avatar, { className: \"sendbird-openchannel-thumbnail-message__left__avatar\", src: sender.profileUrl || '', ref: avatarRef, width: \"28px\", height: \"28px\", onClick: function () {\n                        if (!disableUserProfile) {\n                            toggleDropdown();\n                        }\n                    } })); }, menuItems: function (closeDropdown) { return (renderUserProfile\n                    ? (renderUserProfile({\n                        user: sender,\n                        close: closeDropdown,\n                        currentUserId: userId,\n                        avatarRef: avatarRef,\n                    }))\n                    : (React__default.createElement(MenuItems, { parentRef: avatarRef, parentContainRef: avatarRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n                        React__default.createElement(UserProfile, { user: sender, onSuccess: closeDropdown, disableMessaging: true })))); } }))),\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__right\" },\n                !chainTop && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__right__title\" },\n                    React__default.createElement(Label, { className: \"sendbird-openchannel-thumbnail-message__right__title__sender-name\", type: LabelTypography.CAPTION_2, color: isOperator ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2 }, sender && (sender.friendName\n                        || sender.nickname\n                        || sender.userId)),\n                    React__default.createElement(Label, { className: \"sendbird-openchannel-thumbnail-message__right__title__sent-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_3 }, (message === null || message === void 0 ? void 0 : message.createdAt) && (format(message.createdAt, stringSet.DATE_FORMAT__MESSAGE_CREATED_AT, {\n                        locale: dateLocale,\n                    }))))),\n                React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__right__body\", ref: mobileMenuRef },\n                    React__default.createElement(\"div\", __assign({ className: \"sendbird-openchannel-thumbnail-message__right__body__wrap\", role: \"button\", onClick: function () {\n                            if (isMessageSent) {\n                                onClick(true);\n                            }\n                        }, onKeyDown: function () {\n                            if (isMessageSent) {\n                                onClick(true);\n                            }\n                        }, tabIndex: 0 }, (isMobile ? __assign({}, onLongPress) : {})),\n                        React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay\" }),\n                        (_b = {},\n                            _b[SUPPORTING_TYPES.VIDEO] = ((url || localUrl)\n                                ? (React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__video\" },\n                                    (thumbnailUrl)\n                                        ? (React__default.createElement(ImageRenderer, { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__video\", url: thumbnailUrl, width: messageWidth, height: \"270px\", alt: \"image\", placeHolder: memorizedThumbnailPlaceHolder(IconTypes.PLAY) }))\n                                        : (React__default.createElement(\"video\", { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video\" },\n                                            React__default.createElement(\"source\", { src: url || localUrl, type: type }))),\n                                    React__default.createElement(Icon, { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon\", type: IconTypes.PLAY, fillColor: IconColors.ON_BACKGROUND_2, width: \"56px\", height: \"56px\" })))\n                                : (React__default.createElement(Icon, { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon\", type: IconTypes.PHOTO, fillColor: IconColors.ON_BACKGROUND_2, width: \"56px\", height: \"56px\" }))),\n                            _b[SUPPORTING_TYPES.IMAGE] = ((url || localUrl)\n                                ? (React__default.createElement(ImageRenderer, { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__image\", url: thumbnailUrl || url || localUrl || '', alt: \"image\", width: messageWidth, height: \"270px\", placeHolder: memorizedThumbnailPlaceHolder(IconTypes.PHOTO) }))\n                                : (React__default.createElement(Icon, { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon\", type: IconTypes.PHOTO, fillColor: IconColors.ON_BACKGROUND_2, width: \"56px\", height: \"56px\" }))),\n                            _b[SUPPORTING_TYPES.UNSUPPORTED] = (React__default.createElement(Icon, { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown\", type: IconTypes.PHOTO, fillColor: IconColors.ON_BACKGROUND_2, width: \"56px\", height: \"56px\" })),\n                            _b)[getSupportingFileType(type)])),\n                (isPending || isFailed) && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__right__tail\" },\n                    isPending && (React__default.createElement(Loader, { width: \"16px\", height: \"16px\" },\n                        React__default.createElement(Icon, { className: \"sendbird-openchannel-thumbnail-message__right__tail__pending\", type: IconTypes.SPINNER, fillColor: IconColors.PRIMARY, width: \"16px\", height: \"16px\" }))),\n                    isFailed && (React__default.createElement(Icon, { className: \"sendbird-openchannel-thumbnail-message__right__tail__failed\", type: IconTypes.ERROR, fillColor: IconColors.ERROR, width: \"16px\", height: \"16px\" }))))),\n            !isMobile && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__context-menu\", ref: contextMenuRef }, (isFineResend({ message: message, userId: userId, status: status }) || !isEphemeral) && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (showMenuTrigger({ message: message, userId: userId, status: status }) && (React__default.createElement(IconButton, { className: \"sendbird-openchannel-thumbnail-message__context-menu--icon\", width: \"32px\", height: \"32px\", onClick: toggleDropdown },\n                    React__default.createElement(Icon, { type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE, width: \"24px\", height: \"24px\" })))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentRef: contextMenuRef, parentContainRef: contextMenuRef, closeDropdown: closeDropdown, openLeft: true },\n                    isFineResend({ message: message, userId: userId, status: status }) && (React__default.createElement(MenuItem, { onClick: function () {\n                            resendMessage(message);\n                            closeDropdown();\n                        }, testID: \"open_channel_thumbnail_message_menu_resend\" }, stringSet.CONTEXT_MENU_DROPDOWN__RESEND)),\n                    (!isEphemeral && isFineDelete({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { onClick: function () {\n                            if (disabled) {\n                                return;\n                            }\n                            showRemove(true);\n                            closeDropdown();\n                        }, testID: \"open_channel_thumbnail_message_menu_delete\" }, stringSet.CONTEXT_MENU_DROPDOWN__DELETE)))); } }))))),\n        contextMenu && (React__default.createElement(OpenChannelMobileMenu, { message: message, parentRef: mobileMenuRef, hideMenu: function () {\n                setContextMenu(false);\n            }, showRemove: function () {\n                setContextMenu(false);\n                showRemove(true);\n            }, resendMessage: function () {\n                setContextMenu(false);\n                resendMessage(message);\n            } }))));\n}\n\nexport { OpenchannelThumbnailMessage as default };\n//# sourceMappingURL=OpenchannelThumbnailMessage.js.map\n", "import { a as __spreadArray, _ as __assign } from '../chunks/bundle-BosquA9C.js';\nimport React__default, { useRef, useState } from 'react';\nimport { f as format } from '../chunks/bundle-CDOQ--pz.js';\nimport { A as Avatar } from '../chunks/bundle-BkCv3z1C.js';\nimport { C as ContextMenu, b as MenuItems, c as MenuItem } from '../chunks/bundle-BEUsrftF.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-MoKyCGQH.js';\nimport Loader from './Loader.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport IconButton from './IconButton.js';\nimport TextButton from './TextButton.js';\nimport UserProfile from './UserProfile.js';\nimport { u as useUserProfileContext } from '../chunks/bundle-ByW5tGii.js';\nimport { u as useLocalization } from '../chunks/bundle-y-yf0Djs.js';\nimport { g as getSenderFromMessage, b as isFineResend, s as showMenuTrigger, c as isFineDelete, O as OpenChannelMobileMenu, d as checkIsPending, e as checkIsFailed } from '../chunks/bundle-BI-KSAb4.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DvgqpwmQ.js';\nimport { u as useLongPress } from '../chunks/bundle-BSieP1ow.js';\nimport { o as openURL } from '../chunks/bundle-Bc1fdQjj.js';\nimport '../chunks/bundle-BovMsFd4.js';\nimport '../chunks/bundle-BRWYGzyd.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-MdZYxYNf.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-BGRwc73U.js';\nimport '../chunks/bundle-Ug7rKzFJ.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CWd47dzy.js';\nimport '../chunks/bundle-BA9ZfQ-7.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '../chunks/bundle-DXRcwk7R.js';\nimport '../chunks/bundle-DU7VpG0M.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DxUY6hv0.js';\nimport './Button.js';\nimport '../chunks/bundle-Bk7vYzLW.js';\n\nvar checkFileType = function (fileUrl) {\n    var audioFile = /(\\.mp3)$/i;\n    var gifFile = /(\\.gif)$/i;\n    if (audioFile.test(fileUrl)) {\n        return IconTypes.FILE_AUDIO;\n    }\n    if (gifFile.test(fileUrl)) {\n        return IconTypes.GIF;\n    }\n    return IconTypes.FILE_DOCUMENT;\n};\nvar truncate = function (fullStr, strLen) {\n    if (fullStr === null || fullStr === undefined)\n        return '';\n    if (fullStr.length <= strLen)\n        return fullStr;\n    var separator = '...';\n    var sepLen = separator.length;\n    var charsToShow = strLen - sepLen;\n    var frontChars = Math.ceil(charsToShow / 2);\n    var backChars = Math.floor(charsToShow / 2);\n    return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\n};\n\nfunction OpenChannelFileMessage(_a) {\n    var className = _a.className, message = _a.message, isOperator = _a.isOperator, _b = _a.isEphemeral, isEphemeral = _b === void 0 ? false : _b, userId = _a.userId, disabled = _a.disabled, chainTop = _a.chainTop, showRemove = _a.showRemove, resendMessage = _a.resendMessage;\n    var status = message === null || message === void 0 ? void 0 : message.sendingStatus;\n    var _c = useLocalization(), dateLocale = _c.dateLocale, stringSet = _c.stringSet;\n    var contextMenuRef = useRef(null);\n    var mobileMenuRef = useRef(null);\n    var avatarRef = useRef(null);\n    var _d = useUserProfileContext(), disableUserProfile = _d.disableUserProfile, renderUserProfile = _d.renderUserProfile;\n    var isMobile = useMediaQueryContext().isMobile;\n    var openFileUrl = function () { return openURL(message.url); };\n    var isPending = checkIsPending(status);\n    var isFailed = checkIsFailed(status);\n    var sender = getSenderFromMessage(message);\n    var _e = useState(false), contextMenu = _e[0], setContextMenu = _e[1];\n    var longPress = useLongPress({\n        onLongPress: function () {\n            if (isMobile) {\n                setContextMenu(true);\n            }\n        },\n        onClick: openFileUrl,\n    }, { delay: 300 });\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n                'sendbird-openchannel-file-message',\n            ], false).join(' '), ref: mobileMenuRef },\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-file-message__left\" }, !chainTop && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(Avatar, { className: \"sendbird-openchannel-file-message__left__avatar\", src: sender.profileUrl || '', ref: avatarRef, width: \"28px\", height: \"28px\", onClick: function () {\n                        if (!disableUserProfile) {\n                            toggleDropdown();\n                        }\n                    } })); }, menuItems: function (closeDropdown) { return (renderUserProfile\n                    ? (renderUserProfile({\n                        user: sender,\n                        close: closeDropdown,\n                        currentUserId: userId,\n                        avatarRef: avatarRef,\n                    }))\n                    : (React__default.createElement(MenuItems, { parentRef: avatarRef, parentContainRef: avatarRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n                        React__default.createElement(UserProfile, { user: sender, onSuccess: closeDropdown, disableMessaging: true })))); } }))),\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-file-message__right\" },\n                !chainTop && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-file-message__right__title\" },\n                    React__default.createElement(Label, { className: \"sendbird-openchannel-file-message__right__title__sender-name\", type: LabelTypography.CAPTION_2, color: isOperator ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2 }, sender && (sender.friendName\n                        || sender.nickname\n                        || sender.userId)),\n                    React__default.createElement(Label, { className: \"sendbird-openchannel-file-message__right__title__sent-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_3 }, (message === null || message === void 0 ? void 0 : message.createdAt) && (format(message.createdAt, stringSet.DATE_FORMAT__MESSAGE_CREATED_AT, {\n                        locale: dateLocale,\n                    }))))),\n                React__default.createElement(\"div\", __assign({ className: \"sendbird-openchannel-file-message__right__body\" }, (isMobile ? __assign({}, longPress) : {})),\n                    checkFileType(message.url) && (React__default.createElement(Icon, { className: \"sendbird-openchannel-file-message__right__body__icon\", type: checkFileType(message.url), fillColor: IconColors.PRIMARY, width: \"48px\", height: \"48px\" })),\n                    React__default.createElement(TextButton, { className: \"sendbird-openchannel-file-message__right__body__file-name\", onClick: openFileUrl },\n                        React__default.createElement(Label, { className: \"sendbird-openchannel-file-message__right__body__file-name__label\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_1 }, truncate(message.name || message.url, 40)))),\n                (isPending || isFailed) && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-file-message__right__tail\" },\n                    isPending && (React__default.createElement(Loader, { width: \"16px\", height: \"16px\" },\n                        React__default.createElement(Icon, { className: \"sendbird-openchannel-file-message__right__tail__pending\", type: IconTypes.SPINNER, fillColor: IconColors.PRIMARY, width: \"16px\", height: \"16px\" }))),\n                    isFailed && (React__default.createElement(Icon, { className: \"sendbird-openchannel-file-message__right__tail__failed\", type: IconTypes.ERROR, fillColor: IconColors.ERROR, width: \"16px\", height: \"16px\" }))))),\n            !isMobile && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-file-message__context-menu\", ref: contextMenuRef }, (isFineResend({ message: message, userId: userId, status: status }) || !isEphemeral) && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (showMenuTrigger({ message: message, userId: userId, status: status }) && (React__default.createElement(IconButton, { className: \"sendbird-openchannel-file-message__context-menu__icon\", width: \"32px\", height: \"32px\", onClick: toggleDropdown },\n                    React__default.createElement(Icon, { type: IconTypes.MORE, width: \"24px\", height: \"24px\" })))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentRef: contextMenuRef, parentContainRef: contextMenuRef, closeDropdown: closeDropdown, openLeft: true },\n                    isFineResend({ message: message, userId: userId, status: status }) && (React__default.createElement(MenuItem, { onClick: function () {\n                            if (disabled) {\n                                return;\n                            }\n                            resendMessage(message);\n                            closeDropdown();\n                        }, testID: \"open_channel_file_message_context_menu_resend\" }, stringSet.CONTEXT_MENU_DROPDOWN__RESEND)),\n                    (!isEphemeral && isFineDelete({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { onClick: function () {\n                            if (disabled) {\n                                return;\n                            }\n                            showRemove(true);\n                            closeDropdown();\n                        }, testID: \"open_channel_file_message_context_menu_delete\" }, stringSet.CONTEXT_MENU_DROPDOWN__DELETE)))); } }))))),\n        contextMenu && (React__default.createElement(OpenChannelMobileMenu, { message: message, hideMenu: function () {\n                setContextMenu(false);\n            }, parentRef: mobileMenuRef, showRemove: function () {\n                setContextMenu(false);\n                showRemove(true);\n            } }))));\n}\n\nexport { OpenChannelFileMessage as default };\n//# sourceMappingURL=OpenchannelFileMessage.js.map\n", "import React__default, { useContext, useState, useRef } from 'react';\nimport { f as format } from '../../chunks/bundle-CDOQ--pz.js';\nimport OpenchannelUserMessage from '../../ui/OpenchannelUserMessage.js';\nimport OpenChannelAdminMessage from '../../ui/OpenChannelAdminMessage.js';\nimport OpenChannelOGMessage from '../../ui/OpenchannelOGMessage.js';\nimport OpenchannelThumbnailMessage from '../../ui/OpenchannelThumbnailMessage.js';\nimport OpenChannelFileMessage from '../../ui/OpenchannelFileMessage.js';\nimport DateSeparator from '../../ui/DateSeparator.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-MoKyCGQH.js';\nimport MessageInput from '../../ui/MessageInput.js';\nimport FileViewer from '../../ui/FileViewer.js';\nimport { M as Modal } from '../../chunks/bundle-ZMBEGemL.js';\nimport { L as LocalizationContext, u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport { g as getModalDeleteMessageTitle } from '../../chunks/bundle-DMQ4ARs5.js';\nimport { k as isImage, j as isVideo } from '../../chunks/bundle-Ug7rKzFJ.js';\nimport { u as useOpenChannelContext } from '../../chunks/bundle-BhCmYlZ1.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-BEUsrftF.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../ui/IconButton.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../ui/Loader.js';\nimport '../../ui/UserProfile.js';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../chunks/bundle-Bt36atB_.js';\nimport '../../chunks/bundle-BI-KSAb4.js';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../chunks/bundle-BSieP1ow.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../ui/LinkLabel.js';\nimport '../../chunks/bundle-bLHW4VuD.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../Message/context.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../chunks/bundle-B-wIh5Qv.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-CsZOw9J5.js';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../../chunks/bundle-4VvXLz4o.js';\n\nfunction RemoveMessageModal(_a) {\n    var message = _a.message, onCloseModal = _a.onCloseModal, onDeleteMessage = _a.onDeleteMessage;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(Modal, { onCancel: onCloseModal, onSubmit: onDeleteMessage, submitText: stringSet.MESSAGE_MENU__DELETE, titleText: getModalDeleteMessageTitle(stringSet, message) }));\n}\n\nvar MessageTypes = {\n    ADMIN: 'ADMIN',\n    USER: 'USER',\n    FILE: 'FILE',\n    THUMBNAIL: 'THUMBNAIL',\n    OG: 'OG',\n    UNKNOWN: 'UNKNOWN',\n};\nvar SendingMessageStatus = {\n    NONE: 'none',\n    SUCCEEDED: 'succeeded',\n    FAILED: 'failed',\n    PENDING: 'pending',\n};\nvar getMessageType = function (message, options) {\n    var _a, _b;\n    var isOgMessageEnabledInOpenChannel = options === null || options === void 0 ? void 0 : options.isOgMessageEnabledInOpenChannel;\n    if (((_a = message === null || message === void 0 ? void 0 : message.isUserMessage) === null || _a === void 0 ? void 0 : _a.call(message)) || (message === null || message === void 0 ? void 0 : message.messageType) === 'user') {\n        return ((message === null || message === void 0 ? void 0 : message.ogMetaData) && isOgMessageEnabledInOpenChannel)\n            ? MessageTypes.OG\n            : MessageTypes.USER;\n    }\n    if ((_b = message === null || message === void 0 ? void 0 : message.isAdminMessage) === null || _b === void 0 ? void 0 : _b.call(message)) {\n        return MessageTypes.ADMIN;\n    }\n    if ((message === null || message === void 0 ? void 0 : message.messageType) === 'file') {\n        return (isImage(message.type) || isVideo(message.type))\n            ? MessageTypes.THUMBNAIL\n            : MessageTypes.FILE;\n    }\n    return MessageTypes.UNKNOWN;\n};\n\nfunction OpenChannelMessage(props) {\n    var _a;\n    var _b;\n    var message = props.message, chainTop = props.chainTop, chainBottom = props.chainBottom, hasSeparator = props.hasSeparator, renderMessage = props.renderMessage;\n    var _c = useOpenChannelContext(), currentOpenChannel = _c.currentOpenChannel, deleteMessage = _c.deleteMessage, updateMessage = _c.updateMessage, resendMessage = _c.resendMessage;\n    var _d = useLocalization(), dateLocale = _d.dateLocale, stringSet = _d.stringSet;\n    var editDisabled = currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isFrozen;\n    var state = useSendbird().state;\n    var currentUserId = (_b = state === null || state === void 0 ? void 0 : state.config) === null || _b === void 0 ? void 0 : _b.userId;\n    var isOgMessageEnabledInOpenChannel = state.config.openChannel.enableOgtag;\n    var sender;\n    if ((message === null || message === void 0 ? void 0 : message.messageType) !== 'admin') {\n        sender = message === null || message === void 0 ? void 0 : message.sender;\n    }\n    var _e = useState(false), showEdit = _e[0], setShowEdit = _e[1];\n    var _f = useState(false), showRemove = _f[0], setShowRemove = _f[1];\n    var _g = useState(false), showFileViewer = _g[0], setShowFileViewer = _g[1];\n    var editMessageInputRef = useRef(null);\n    var isByMe = false;\n    if (sender && (message === null || message === void 0 ? void 0 : message.messageType) !== 'admin') {\n        // pending and failed messages are by me\n        isByMe = currentUserId === sender.userId\n            || (message === null || message === void 0 ? void 0 : message.sendingStatus)\n                === SendingMessageStatus.PENDING\n            || (message === null || message === void 0 ? void 0 : message.sendingStatus)\n                === SendingMessageStatus.FAILED;\n    }\n    if (renderMessage) {\n        return (React__default.createElement(\"div\", { className: \"sendbird-open-channel-msg-hoc sendbird-msg--scroll-ref\", \"data-testid\": \"sendbird-message-hoc\" }, renderMessage({ message: message, chainTop: chainTop, chainBottom: chainBottom })));\n    }\n    if ((message === null || message === void 0 ? void 0 : message.messageType) === 'user' && showEdit) {\n        return (React__default.createElement(MessageInput, { isEdit: true, channel: currentOpenChannel, disabled: editDisabled, ref: editMessageInputRef, message: message, onUpdateMessage: function (_a) {\n                var messageId = _a.messageId, message = _a.message;\n                updateMessage(messageId, message);\n                setShowEdit(false);\n            }, onCancelEdit: function () {\n                setShowEdit(false);\n            } }));\n    }\n    return (React__default.createElement(\"div\", { className: \"sendbird-open-channel-msg-hoc sendbird-msg--scroll-ref\", \"data-testid\": \"sendbird-message-hoc\" },\n        React__default.createElement(React__default.Fragment, null,\n            hasSeparator && (message === null || message === void 0 ? void 0 : message.createdAt) && (React__default.createElement(DateSeparator, null,\n                React__default.createElement(Label, { type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, format(message === null || message === void 0 ? void 0 : message.createdAt, stringSet.DATE_FORMAT__MESSAGE_LIST__DATE_SEPARATOR, { locale: dateLocale })))),\n            (_a = {},\n                _a[MessageTypes.ADMIN] = (function () {\n                    if ((message === null || message === void 0 ? void 0 : message.messageType) === 'admin') {\n                        return (React__default.createElement(OpenChannelAdminMessage, { message: message }));\n                    }\n                })(),\n                _a[MessageTypes.FILE] = (function () {\n                    var _a;\n                    if ((message === null || message === void 0 ? void 0 : message.messageType) === 'file') {\n                        return (React__default.createElement(OpenChannelFileMessage, { message: message, isOperator: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isOperator((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId), isEphemeral: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isEphemeral, disabled: editDisabled, userId: currentUserId, showRemove: setShowRemove, resendMessage: resendMessage, chainTop: chainTop, chainBottom: chainBottom }));\n                    }\n                })(),\n                _a[MessageTypes.OG] = (function () {\n                    var _a;\n                    if ((message === null || message === void 0 ? void 0 : message.messageType) === 'user'\n                        && isOgMessageEnabledInOpenChannel) {\n                        return (React__default.createElement(OpenChannelOGMessage, { message: message, isOperator: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isOperator((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId), isEphemeral: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isEphemeral, userId: currentUserId, showEdit: setShowEdit, disabled: editDisabled, showRemove: setShowRemove, resendMessage: resendMessage, chainTop: chainTop, chainBottom: chainBottom }));\n                    }\n                })(),\n                _a[MessageTypes.THUMBNAIL] = (function () {\n                    var _a;\n                    if ((message === null || message === void 0 ? void 0 : message.messageType) === 'file') {\n                        return (React__default.createElement(OpenchannelThumbnailMessage, { message: message, isOperator: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isOperator((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId), isEphemeral: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isEphemeral, disabled: editDisabled, userId: currentUserId, showRemove: setShowRemove, resendMessage: resendMessage, onClick: setShowFileViewer, chainTop: chainTop, chainBottom: chainBottom }));\n                    }\n                })(),\n                _a[MessageTypes.USER] = (function () {\n                    var _a;\n                    if ((message === null || message === void 0 ? void 0 : message.messageType) === 'user') {\n                        return (React__default.createElement(OpenchannelUserMessage, { message: message, isOperator: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isOperator((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId), isEphemeral: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isEphemeral, userId: currentUserId, disabled: editDisabled, showEdit: setShowEdit, showRemove: setShowRemove, resendMessage: resendMessage, chainTop: chainTop, chainBottom: chainBottom }));\n                    }\n                })(),\n                _a[MessageTypes.UNKNOWN] = (function () {\n                    // return (\n                    //   <OpenChannelUnknownMessage message={message} />\n                    // );\n                })(),\n                _a)[getMessageType(message, { isOgMessageEnabledInOpenChannel: isOgMessageEnabledInOpenChannel })],\n            showRemove && (React__default.createElement(RemoveMessageModal, { message: message, onCloseModal: function () { return setShowRemove(false); }, onDeleteMessage: function () {\n                    if ((message === null || message === void 0 ? void 0 : message.messageType) !== 'admin') {\n                        deleteMessage(message);\n                    }\n                } })),\n            showFileViewer && (message === null || message === void 0 ? void 0 : message.messageType) === 'file' && (React__default.createElement(FileViewer, { onClose: function () { return setShowFileViewer(false); }, message: message, onDelete: function () { return deleteMessage(message); }, isByMe: isByMe })))));\n}\n\nexport { OpenChannelMessage as default };\n//# sourceMappingURL=OpenChannelMessage.js.map\n", "import React__default, { useRef, useState, useMemo } from 'react';\nimport { i as isSameDay } from '../../chunks/bundle-BBGwVlcE.js';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder.js';\nimport { u as useOpenChannelContext } from '../../chunks/bundle-BhCmYlZ1.js';\nimport OpenChannelMessage from './OpenChannelMessage.js';\nimport { MessageProvider } from '../../Message/context.js';\nimport { u as useHandleOnScrollCallback } from '../../chunks/bundle-BkJOIji-.js';\nimport { compareMessagesForGrouping } from '../../Channel/utils/compareMessagesForGrouping.js';\nimport { u as useSendbird } from '../../chunks/bundle-Bk7vYzLW.js';\nimport { u as useLocalization } from '../../chunks/bundle-y-yf0Djs.js';\nimport '../../chunks/bundle-BovMsFd4.js';\nimport '../../chunks/bundle-BosquA9C.js';\nimport '../../chunks/bundle-Bc1fdQjj.js';\nimport '../../chunks/bundle-MoKyCGQH.js';\nimport '../../chunks/bundle-DXRcwk7R.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-BRWYGzyd.js';\nimport '../../chunks/bundle-ByW5tGii.js';\nimport '../../chunks/bundle-C7sqWYfV.js';\nimport '../../chunks/bundle-DxUY6hv0.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-BGRwc73U.js';\nimport '../../chunks/bundle-4VvXLz4o.js';\nimport '../../chunks/bundle-MdZYxYNf.js';\nimport '../../hooks/useModal.js';\nimport '../../chunks/bundle-BA9ZfQ-7.js';\nimport '../../chunks/bundle-ZMBEGemL.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DvgqpwmQ.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-CK7w7gep.js';\nimport '../../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-CDOQ--pz.js';\nimport '../../ui/OpenchannelUserMessage.js';\nimport '../../chunks/bundle-BkCv3z1C.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-BEUsrftF.js';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-Ug7rKzFJ.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CWd47dzy.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-Bt36atB_.js';\nimport '../../chunks/bundle-BI-KSAb4.js';\nimport '../../chunks/bundle-BSieP1ow.js';\nimport '../../ui/OpenChannelAdminMessage.js';\nimport '../../ui/OpenchannelOGMessage.js';\nimport '../../ui/LinkLabel.js';\nimport '../../chunks/bundle-bLHW4VuD.js';\nimport '../../chunks/bundle-BJl-Stow.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/OpenchannelThumbnailMessage.js';\nimport '../../ui/OpenchannelFileMessage.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-DU7VpG0M.js';\nimport '../../ui/DateSeparator.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-B-wIh5Qv.js';\nimport '../../chunks/bundle-mxwNwHvq.js';\nimport '../../chunks/bundle-Ob8Qv8ze.js';\nimport 'dompurify';\nimport '../../chunks/bundle-CnWjrGUf.js';\nimport '../../chunks/bundle-B602cp-8.js';\nimport '../../chunks/bundle-CXh4vzCv.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-CsZOw9J5.js';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-DMQ4ARs5.js';\nimport '../../chunks/bundle-COBh1gnD.js';\nimport '../../chunks/bundle-CVdCKMn9.js';\nimport '@sendbird/chat/message';\n\nfunction OpenChannelMessageList(props, ref) {\n    var _a = useOpenChannelContext(), _b = _a.isMessageGroupingEnabled, isMessageGroupingEnabled = _b === void 0 ? true : _b, allMessages = _a.allMessages, hasMore = _a.hasMore, onScroll = _a.onScroll;\n    var state = useSendbird().state;\n    var stringSet = useLocalization().stringSet;\n    var userId = state.config.userId;\n    var localRef = useRef(null);\n    var scrollRef = ref || localRef;\n    var _c = useState(false), showScrollDownButton = _c[0], setShowScrollDownButton = _c[1];\n    var scrollToBottom = function () {\n        if (scrollRef && 'current' in scrollRef && scrollRef.current) {\n            scrollRef.current.scrollTo(0, scrollRef.current.scrollHeight);\n            setShowScrollDownButton(false);\n        }\n    };\n    var handleOnScroll = useHandleOnScrollCallback({\n        setShowScrollDownButton: setShowScrollDownButton,\n        hasMore: hasMore,\n        onScroll: onScroll,\n        scrollRef: scrollRef,\n    });\n    var memoizedMessageList = useMemo(function () {\n        var _a;\n        if (allMessages.length > 0) {\n            return (allMessages.map(function (message, index) {\n                var _a;\n                var previousMessage = allMessages[index - 1];\n                var nextMessage = allMessages[index - 1];\n                var previousMessageCreatedAt = previousMessage && previousMessage.createdAt;\n                var currentCreatedAt = message === null || message === void 0 ? void 0 : message.createdAt;\n                // https://stackoverflow.com/a/41855608\n                var hasSeparator = !(previousMessageCreatedAt && (isSameDay(currentCreatedAt, previousMessageCreatedAt)));\n                var _b = isMessageGroupingEnabled\n                    ? compareMessagesForGrouping(previousMessage, message, nextMessage, stringSet)\n                    : [false, false], chainTop = _b[0], chainBottom = _b[1];\n                var isByMe = ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId) === userId;\n                var key = (message === null || message === void 0 ? void 0 : message.messageId) || (message === null || message === void 0 ? void 0 : message.reqId);\n                return (React__default.createElement(MessageProvider, { message: message, isByMe: isByMe, key: key },\n                    React__default.createElement(OpenChannelMessage, { message: message, chainTop: chainTop, chainBottom: chainBottom, hasSeparator: hasSeparator, renderMessage: props === null || props === void 0 ? void 0 : props.renderMessage })));\n            }));\n        }\n        return (((_a = props === null || props === void 0 ? void 0 : props.renderPlaceHolderEmptyList) === null || _a === void 0 ? void 0 : _a.call(props)) || (React__default.createElement(PlaceHolder, { className: \"sendbird-openchannel-conversation-scroll__container__place-holder\", type: PlaceHolderTypes.NO_MESSAGES })));\n    }, [allMessages]);\n    return (React__default.createElement(\"div\", { className: \"sendbird-openchannel-conversation-scroll\" },\n        React__default.createElement(\"div\", { className: \"sendbird-openchannel-conversation-scroll__container\" },\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-conversation-scroll__container__padding\" }),\n            React__default.createElement(\"div\", { className: [\n                    'sendbird-openchannel-conversation-scroll__container__item-container',\n                    (allMessages.length > 0) ? '' : 'no-messages',\n                ].join(' '), onScroll: handleOnScroll, ref: scrollRef }, memoizedMessageList)),\n        showScrollDownButton && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-conversation-scroll__container__scroll-bottom-button\", onClick: scrollToBottom, onKeyDown: scrollToBottom, tabIndex: 0, role: \"button\" },\n            React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.CHEVRON_DOWN, fillColor: IconColors.CONTENT })))));\n}\nvar OpenChannelMessageList$1 = React__default.forwardRef(OpenChannelMessageList);\n\nexport { OpenChannelMessageList$1 as default };\n//# sourceMappingURL=OpenChannelMessageList.js.map\n", "import React__default, { useState, useEffect } from 'react';\nimport { OpenChannelHandler } from '@sendbird/chat/openChannel';\nimport { U as UserProfileProvider } from '../chunks/bundle-ByW5tGii.js';\nimport { u as uuidv4 } from '../chunks/bundle-BGRwc73U.js';\nimport { u as useSendbird } from '../chunks/bundle-Bk7vYzLW.js';\nimport '../chunks/bundle-BosquA9C.js';\nimport '../chunks/bundle-CK7w7gep.js';\nimport '../chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\n\nvar OpenChannelSettingsContext = React__default.createContext(null);\nvar OpenChannelSettingsProvider = function (props) {\n    var _a, _b, _c, _d;\n    var children = props.children, channelUrl = props.channelUrl, onCloseClick = props.onCloseClick, onChannelModified = props.onChannelModified, onBeforeUpdateChannel = props.onBeforeUpdateChannel, onDeleteChannel = props.onDeleteChannel;\n    // fetch store from <SendbirdProvider />\n    var _e = useSendbird().state, stores = _e.stores, config = _e.config;\n    var sdk = (_a = stores === null || stores === void 0 ? void 0 : stores.sdkStore) === null || _a === void 0 ? void 0 : _a.sdk;\n    var isSDKInitialized = (_b = stores === null || stores === void 0 ? void 0 : stores.sdkStore) === null || _b === void 0 ? void 0 : _b.initialized;\n    var logger = config === null || config === void 0 ? void 0 : config.logger;\n    var currentUserId = (_c = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _c === void 0 ? void 0 : _c.userId;\n    var _f = useState(null), currentChannel = _f[0], setChannel = _f[1];\n    var _g = useState(false), isChannelInitialized = _g[0], setChannelInitialized = _g[1];\n    useEffect(function () {\n        if (!channelUrl || !sdk.openChannel) {\n            setChannel(null);\n            return;\n        }\n        sdk.openChannel.getChannel(channelUrl)\n            .then(function (channel) {\n            logger.info('open channel setting: fetched', channel);\n            // TODO: Add pending status\n            channel.enter()\n                .then(function () {\n                setChannel(channel);\n                logger.info('OpenChannelSettings | Succeeded to enter channel', channel === null || channel === void 0 ? void 0 : channel.url);\n                setChannelInitialized(true);\n            })\n                .catch(function (error) {\n                setChannel(null);\n                logger.warning('OpenChannelSettings | Failed to enter channel', error);\n            });\n        })\n            .catch(function (error) {\n            logger.error('open channel setting: error fetching', error);\n            setChannel(null);\n        });\n        return function () {\n            if (currentChannel && currentChannel.exit) {\n                currentChannel.exit()\n                    .then(function () {\n                    logger.info('OpenChannelSettings | Succeeded to exit channel', currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url);\n                })\n                    .catch(function (error) {\n                    logger.warning('OpenChannelSettings | Failed to exit channel', error);\n                });\n            }\n        };\n    }, [channelUrl, isSDKInitialized]);\n    useEffect(function () {\n        var _a;\n        var channelHandlerId = uuidv4();\n        if (currentChannel !== null && ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.openChannel) === null || _a === void 0 ? void 0 : _a.addOpenChannelHandler)) {\n            var channelHandlerParams = new OpenChannelHandler({\n                onOperatorUpdated: function (channel) {\n                    if ((channel === null || channel === void 0 ? void 0 : channel.url) === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url)) {\n                        setChannel(channel);\n                    }\n                },\n                onUserMuted: function (channel, user) {\n                    if ((channel === null || channel === void 0 ? void 0 : channel.url) === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) && (user === null || user === void 0 ? void 0 : user.userId) === currentUserId) {\n                        setChannel(channel);\n                    }\n                },\n                onUserUnmuted: function (channel, user) {\n                    if ((channel === null || channel === void 0 ? void 0 : channel.url) === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) && (user === null || user === void 0 ? void 0 : user.userId) === currentUserId) {\n                        setChannel(channel);\n                    }\n                },\n                onUserBanned: function (channel, user) {\n                    if ((channel === null || channel === void 0 ? void 0 : channel.url) === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) && (user === null || user === void 0 ? void 0 : user.userId) === currentUserId) {\n                        setChannel(null);\n                    }\n                },\n                onUserUnbanned: function (channel, user) {\n                    if ((user === null || user === void 0 ? void 0 : user.userId) === currentUserId) {\n                        setChannel(channel);\n                    }\n                },\n                onChannelChanged: function (channel) {\n                    if ((channel === null || channel === void 0 ? void 0 : channel.url) === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url)) {\n                        setChannel(channel);\n                    }\n                },\n                onChannelDeleted: function (channelUrl) {\n                    if (channelUrl === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url)) {\n                        setChannel(null);\n                    }\n                },\n            });\n            sdk.openChannel.addOpenChannelHandler(channelHandlerId, channelHandlerParams);\n        }\n        return function () {\n            var _a, _b, _c;\n            if (((_a = sdk === null || sdk === void 0 ? void 0 : sdk.openChannel) === null || _a === void 0 ? void 0 : _a.removeOpenChannelHandler) && channelHandlerId) {\n                logger.info('OpenChannelSettings | Removing channel handlers', channelHandlerId);\n                (_c = (_b = sdk.openChannel).removeOpenChannelHandler) === null || _c === void 0 ? void 0 : _c.call(_b, channelHandlerId);\n            }\n        };\n    }, [channelUrl]);\n    return (React__default.createElement(OpenChannelSettingsContext.Provider, { value: {\n            channelUrl: channelUrl,\n            channel: currentChannel,\n            isChannelInitialized: isChannelInitialized,\n            setChannel: setChannel,\n            onCloseClick: onCloseClick,\n            onChannelModified: onChannelModified,\n            onBeforeUpdateChannel: onBeforeUpdateChannel,\n            onDeleteChannel: onDeleteChannel,\n        } },\n        React__default.createElement(UserProfileProvider, { isOpenChannel: true, renderUserProfile: props === null || props === void 0 ? void 0 : props.renderUserProfile, disableUserProfile: (_d = props === null || props === void 0 ? void 0 : props.disableUserProfile) !== null && _d !== void 0 ? _d : config === null || config === void 0 ? void 0 : config.disableUserProfile }, children)));\n};\nvar useOpenChannelSettingsContext = function () {\n    var context = React__default.useContext(OpenChannelSettingsContext);\n    if (!context)\n        throw new Error('OpenChannelSettingsContext not found. Use within the OpenChannelSettings module.');\n    return context;\n};\n\nexport { OpenChannelSettingsProvider, useOpenChannelSettingsContext };\n//# sourceMappingURL=context.js.map\n", "import React__default, { createContext, useState, useContext } from 'react';\nimport { n as noop } from '../chunks/bundle-Bc1fdQjj.js';\n\nvar AccordionGroupContext = createContext({\n    openedListKeys: [],\n    addOpenedListKey: noop,\n    removeOpenedListKey: noop,\n    clearOpenedListKeys: noop,\n    allowMultipleOpen: false,\n});\nvar AccordionGroupProvider = function (_a) {\n    var className = _a.className, children = _a.children, _b = _a.allowMultipleOpen, allowMultipleOpen = _b === void 0 ? false : _b;\n    var _c = useState([]), openedListKeys = _c[0], setOpenedListKeys = _c[1];\n    var addOpenedListKey = function (key) {\n        setOpenedListKeys(function (prevList) {\n            if (!allowMultipleOpen) {\n                return [key];\n            }\n            prevList.push(key);\n            return prevList;\n        });\n    };\n    var removeOpenedListKey = function (key) {\n        setOpenedListKeys(function (prevList) { return prevList.filter(function (k) { return k !== key; }); });\n    };\n    var clearOpenedListKeys = function () {\n        setOpenedListKeys([]);\n    };\n    return (React__default.createElement(\"div\", { className: \"sendbird-accordion-group-provider \".concat(className) },\n        React__default.createElement(AccordionGroupContext.Provider, { value: {\n                openedListKeys: openedListKeys,\n                addOpenedListKey: addOpenedListKey,\n                removeOpenedListKey: removeOpenedListKey,\n                clearOpenedListKeys: clearOpenedListKeys,\n                allowMultipleOpen: allowMultipleOpen,\n            } }, children)));\n};\nvar useAccordionGroupContext = function () {\n    var context = useContext(AccordionGroupContext);\n    if (!context)\n        throw new Error('No accordion group context available. Make sure you are rending <AccordionGroupContext />.');\n    return context;\n};\n\nexport { AccordionGroupContext, AccordionGroupProvider, AccordionGroupProvider as default, useAccordionGroupContext };\n//# sourceMappingURL=AccordionGroup.js.map\n", "import { _ as __assign } from './chunks/bundle-BosquA9C.js';\nimport { u as useSendbird } from './chunks/bundle-Bk7vYzLW.js';\nimport './chunks/bundle-CK7w7gep.js';\nimport 'react';\nimport './chunks/bundle-BDIF-bj_.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/chat/openChannel';\n\n// NOTE: Do not use this hook internally.\n// This hook is exported to support backward compatibility.\n// Keep this function for backward compatibility.\nfunction useSendbirdStateContext() {\n    var _a = useSendbird(), state = _a.state, actions = _a.actions;\n    return __assign(__assign({}, state), actions);\n}\n\nexport { useSendbirdStateContext as default, useSendbirdStateContext };\n//# sourceMappingURL=useSendbirdStateContext.js.map\n", "import { _ as __assign, a as __spreadArray, b as __awaiter, c as __generator } from './bundle-BosquA9C.js';\nimport React__default, { useState, useRef, useEffect, useContext, useMemo } from 'react';\nimport { GroupChannelHandler } from '@sendbird/chat/groupChannel';\nimport { GroupChannel } from '../GroupChannel.js';\nimport { u as useGroupChannelList, c as GroupChannelListProvider } from './bundle-P--QfsZn.js';\nimport { GroupChannelListHeader } from '../GroupChannelList/components/GroupChannelListHeader.js';\nimport EditUserProfile from '../EditUserProfile.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../ui/PlaceHolder.js';\nimport { u as useOnScrollPositionChangeDetector } from './bundle-BcyPGc4o.js';\nimport { u as useSendbird } from './bundle-Bk7vYzLW.js';\nimport { GroupChannelPreviewAction } from '../GroupChannelList/components/GroupChannelPreviewAction.js';\nimport { GroupChannelListItem } from '../GroupChannelList/components/GroupChannelListItem.js';\nimport IconButton from '../ui/IconButton.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport { L as LocalizationContext } from './bundle-y-yf0Djs.js';\nimport { u as useMediaQueryContext } from './bundle-DvgqpwmQ.js';\nimport { M as Modal } from './bundle-ZMBEGemL.js';\nimport { L as Label, b as LabelColors, a as LabelTypography } from './bundle-MoKyCGQH.js';\nimport { ButtonTypes } from '../ui/Button.js';\nimport { UserListItem } from '../ui/UserListItem.js';\nimport { d as deleteNullish, n as noop } from './bundle-Bc1fdQjj.js';\nimport { c as createStore, u as useStore, s as shimExports } from './bundle-CK7w7gep.js';\nimport { getCreateGroupChannel, getSdk } from '../sendbirdSelectors.js';\nimport '@sendbird/uikit-tools';\nimport { u as useVoicePlayerContext, b as ALL } from './bundle-B6tSyuRm.js';\nimport '../VoiceRecorder/context.js';\nimport '../hooks/useModal.js';\nimport './bundle-BZ9AHb6D.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport { A as APP_LAYOUT_ROOT } from './bundle-BEUsrftF.js';\nimport '@sendbird/chat/openChannel';\nimport 'react-dom';\nimport './bundle-Ug7rKzFJ.js';\nimport './bundle-DPw-2E0C.js';\nimport './bundle-BHELL2oy.js';\nimport './bundle-BkCv3z1C.js';\nimport '../ui/Header.js';\nimport './bundle-mxwNwHvq.js';\nimport './bundle-DU7VpG0M.js';\nimport '../ui/MessageInput.js';\nimport './bundle-SEoRcjBh.js';\nimport '../ui/ReactionButton.js';\nimport '../ui/ReactionBadge.js';\nimport './bundle-ByW5tGii.js';\nimport '../Message/context.js';\nimport './bundle-BA9ZfQ-7.js';\nimport '@sendbird/chat/message';\nimport '../ui/ThreadReplies.js';\nimport './bundle-D9VCJ_xd.js';\nimport '../ui/TemplateMessageItemBody.js';\nimport '../ui/FeedbackIconButton.js';\nimport '../ui/Input.js';\nimport '../ui/MessageContent.js';\nimport './bundle-DxUY6hv0.js';\nimport '../GroupChannel/components/MessageList.js';\nimport './bundle-D59i-wy0.js';\nimport '../EditUserProfile/context.js';\nimport '../Channel/context.js';\nimport { u as useChannelListContext, S as SET_CURRENT_CHANNEL, L as LEAVE_CHANNEL_SUCCESS, C as ChannelListProvider } from './bundle-DipRMv-6.js';\nimport './bundle-Cb5wfoUA.js';\nimport '../ChannelSettings/hooks/useMenuList.js';\nimport './bundle-B6EYZPPA.js';\nimport './bundle-Bb5bU2pm.js';\nimport './bundle-DlwwNCtN.js';\nimport '../Thread/context/types.js';\nimport '../utils/message/getOutgoingMessageState.js';\nimport 'date-fns';\nimport '../Thread/components/ThreadMessageInput.js';\nimport Channel from '../Channel.js';\nimport ChannelPreview from '../ChannelList/components/ChannelPreview.js';\nimport ChannelSettings from '../ChannelSettings.js';\nimport MessageSearchPannel from '../MessageSearch.js';\nimport Thread from '../Thread.js';\nimport { u as uuidv4 } from './bundle-BGRwc73U.js';\nimport './bundle-BhCmYlZ1.js';\nimport '../OpenChannel/components/OpenChannelInput.js';\nimport '../OpenChannel/components/OpenChannelMessageList.js';\nimport '../OpenChannelSettings/context.js';\nimport '../ui/AccordionGroup.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\n\nvar GroupChannelListUIView = function (_a) {\n    var renderHeader = _a.renderHeader, renderPlaceHolderError = _a.renderPlaceHolderError, renderPlaceHolderLoading = _a.renderPlaceHolderLoading, renderPlaceHolderEmptyList = _a.renderPlaceHolderEmptyList, onChangeTheme = _a.onChangeTheme, onUserProfileUpdated = _a.onUserProfileUpdated, allowProfileEdit = _a.allowProfileEdit, channels = _a.channels, onLoadMore = _a.onLoadMore, initialized = _a.initialized, renderChannel = _a.renderChannel, renderAddChannel = _a.renderAddChannel, scrollRef = _a.scrollRef;\n    var _b = useState(false), showProfileEdit = _b[0], setShowProfileEdit = _b[1];\n    var stores = useSendbird().state.stores;\n    var renderer = {\n        addChannel: renderAddChannel,\n        channel: renderChannel,\n        placeholder: {\n            loading: function () {\n                if (initialized)\n                    return null;\n                if (renderPlaceHolderLoading)\n                    return renderPlaceHolderLoading();\n                return React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.LOADING });\n            },\n            empty: function () {\n                if (!initialized)\n                    return null;\n                if (renderPlaceHolderEmptyList)\n                    return renderPlaceHolderEmptyList();\n                return React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.NO_CHANNELS });\n            },\n            error: function () {\n                if (!initialized || !stores.sdkStore.error)\n                    return null;\n                if (renderPlaceHolderError)\n                    return renderPlaceHolderError();\n                return React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.WRONG });\n            },\n        },\n    };\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", { className: \"sendbird-channel-list__header\" }, (renderHeader === null || renderHeader === void 0 ? void 0 : renderHeader()) || (React__default.createElement(GroupChannelListHeader, { onEdit: function () { return allowProfileEdit && setShowProfileEdit(true); }, allowProfileEdit: allowProfileEdit, renderIconButton: function () { return renderer.addChannel(); } }))),\n        showProfileEdit && (React__default.createElement(EditUserProfile, { onThemeChange: onChangeTheme, onCancel: function () { return setShowProfileEdit(false); }, onEditProfile: function (user) {\n                setShowProfileEdit(false);\n                onUserProfileUpdated(user);\n            } })),\n        React__default.createElement(ChannelListComponent, { data: channels, renderItem: renderer.channel, onLoadMore: onLoadMore, placeholderLoading: renderer.placeholder.loading(), placeholderEmpty: renderer.placeholder.empty(), placeholderError: renderer.placeholder.error(), scrollRef: scrollRef })));\n};\n/**\n * To do: Implement windowing\n * Implement windowing if you are dealing with large number of messages/channels\n * https://github.com/bvaughn/react-window -> recommendation\n * We hesitate to bring one more dependency to our library,\n * we are planning to implement it inside the library\n * */\nvar ChannelListComponent = function (props) {\n    var data = props.data, renderItem = props.renderItem, onLoadMore = props.onLoadMore, placeholderLoading = props.placeholderLoading, placeholderError = props.placeholderError, placeholderEmpty = props.placeholderEmpty, scrollRef = props.scrollRef;\n    var onScroll = useOnScrollPositionChangeDetector({\n        onReachedBottom: function () { return onLoadMore === null || onLoadMore === void 0 ? void 0 : onLoadMore(); },\n    });\n    return (React__default.createElement(\"div\", { className: 'sendbird-channel-list__body', onScroll: onScroll, ref: scrollRef },\n        placeholderError,\n        React__default.createElement(\"div\", null, data.map(function (item, index) { return renderItem({ item: item, index: index }); })),\n        placeholderLoading,\n        data.length === 0 && placeholderEmpty));\n};\n\nvar filterUser = function (idsToFilter) { return function (currentId) { return idsToFilter === null || idsToFilter === void 0 ? void 0 : idsToFilter.includes(currentId); }; };\nvar setChannelType = function (params, type) {\n    if (type === 'broadcast') {\n        // eslint-disable-next-line no-param-reassign\n        params.isBroadcast = true;\n    }\n    if (type === 'supergroup') {\n        // eslint-disable-next-line no-param-reassign\n        params.isSuper = true;\n    }\n    return params;\n};\nvar createDefaultUserListQuery = function (_a) {\n    var sdk = _a.sdk, userFilledApplicationUserListQuery = _a.userFilledApplicationUserListQuery;\n    var params = sdk.createApplicationUserListQuery();\n    if (userFilledApplicationUserListQuery) {\n        Object.keys(userFilledApplicationUserListQuery).forEach(function (key) {\n            // @ts-ignore\n            params[key] = userFilledApplicationUserListQuery[key];\n        });\n    }\n    return params;\n};\n\nvar CHANNEL_TYPE;\n(function (CHANNEL_TYPE) {\n    CHANNEL_TYPE[\"GROUP\"] = \"group\";\n    CHANNEL_TYPE[\"SUPERGROUP\"] = \"supergroup\";\n    CHANNEL_TYPE[\"BROADCAST\"] = \"broadcast\";\n})(CHANNEL_TYPE || (CHANNEL_TYPE = {}));\n\nvar CreateChannelContext = React__default.createContext(null);\nvar initialState = {\n    sdk: undefined,\n    userListQuery: undefined,\n    onCreateChannelClick: undefined,\n    onChannelCreated: undefined,\n    onBeforeCreateChannel: undefined,\n    pageStep: 0,\n    type: CHANNEL_TYPE.GROUP,\n    onCreateChannel: undefined,\n    overrideInviteUser: undefined,\n};\nvar CreateChannelManager = function (props) {\n    var onCreateChannelClick = props.onCreateChannelClick, onBeforeCreateChannel = props.onBeforeCreateChannel, onChannelCreated = props.onChannelCreated, userListQuery = props.userListQuery, onCreateChannel = props.onCreateChannel, overrideInviteUser = props.overrideInviteUser;\n    var updateState = useCreateChannelStore().updateState;\n    var config = useSendbird().state.config;\n    var _userListQuery = userListQuery !== null && userListQuery !== void 0 ? userListQuery : config === null || config === void 0 ? void 0 : config.userListQuery;\n    useEffect(function () {\n        updateState({\n            onCreateChannelClick: onCreateChannelClick,\n            onBeforeCreateChannel: onBeforeCreateChannel,\n            onChannelCreated: onChannelCreated,\n            userListQuery: _userListQuery,\n            onCreateChannel: onCreateChannel,\n            overrideInviteUser: overrideInviteUser,\n        });\n    }, [\n        onCreateChannelClick,\n        onBeforeCreateChannel,\n        onChannelCreated,\n        userListQuery,\n        onCreateChannel,\n        overrideInviteUser,\n        _userListQuery,\n    ]);\n    return null;\n};\nvar CreateChannelProvider = function (props) {\n    var children = props.children;\n    return (React__default.createElement(InternalCreateChannelProvider, __assign({}, props),\n        React__default.createElement(CreateChannelManager, __assign({}, props)),\n        children));\n};\nvar createCreateChannelStore = function (props) { return createStore(__assign(__assign({}, initialState), props)); };\nvar InternalCreateChannelProvider = function (props) {\n    var children = props.children;\n    var defaultProps = deleteNullish({\n        userListQuery: props === null || props === void 0 ? void 0 : props.userListQuery,\n        onCreateChannelClick: props === null || props === void 0 ? void 0 : props.onCreateChannelClick,\n        onChannelCreated: props === null || props === void 0 ? void 0 : props.onChannelCreated,\n        onBeforeCreateChannel: props === null || props === void 0 ? void 0 : props.onBeforeCreateChannel,\n        onCreateChannel: props === null || props === void 0 ? void 0 : props.onCreateChannel,\n        overrideInviteUser: props === null || props === void 0 ? void 0 : props.overrideInviteUser,\n    });\n    var storeRef = useRef(createCreateChannelStore(defaultProps));\n    return (React__default.createElement(CreateChannelContext.Provider, { value: storeRef.current }, children));\n};\nvar useCreateChannelStore = function () {\n    return useStore(CreateChannelContext, function (state) { return state; }, initialState);\n};\nvar useCreateChannelContext = function () {\n    var _a = useCreateChannel(), state = _a.state, actions = _a.actions;\n    return __assign(__assign({}, state), actions);\n};\n\nvar useCreateChannel = function () {\n    var store = useContext(CreateChannelContext);\n    var sendbirdStore = useSendbirdStateContext();\n    if (!store)\n        throw new Error('useCreateChannel must be used within a CreateChannelProvider');\n    var state = shimExports.useSyncExternalStore(store.subscribe, store.getState);\n    var actions = useMemo(function () { return ({\n        setPageStep: function (pageStep) { return store.setState(function (state) { return (__assign(__assign({}, state), { pageStep: pageStep })); }); },\n        setType: function (type) { return store.setState(function (state) { return (__assign(__assign({}, state), { type: type })); }); },\n        createChannel: getCreateGroupChannel(sendbirdStore),\n    }); }, [store]);\n    return { state: state, actions: actions };\n};\n\nvar BUFFER = 50;\nvar InviteUsers = function (_a) {\n    var onCancel = _a.onCancel, userListQuery = _a.userListQuery;\n    var _b = useCreateChannel(), _c = _b.state, onCreateChannelClick = _c.onCreateChannelClick, onBeforeCreateChannel = _c.onBeforeCreateChannel, onChannelCreated = _c.onChannelCreated, onCreateChannel = _c.onCreateChannel, overrideInviteUser = _c.overrideInviteUser, type = _c.type, createChannel = _b.actions.createChannel;\n    var _d = useSendbird().state, userId = _d.config.userId, sdk = _d.stores.sdkStore.sdk;\n    var idsToFilter = [userId];\n    var _e = useState([]), users = _e[0], setUsers = _e[1];\n    var _f = useState({}), selectedUsers = _f[0], setSelectedUsers = _f[1];\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var _g = useState(null), usersDataSource = _g[0], setUsersDataSource = _g[1];\n    var selectedCount = Object.keys(selectedUsers).length;\n    var titleText = stringSet.MODAL__CREATE_CHANNEL__TITLE;\n    var submitText = stringSet.BUTTON__CREATE;\n    var isMobile = useMediaQueryContext().isMobile;\n    var _h = useState(window.innerHeight), scrollableAreaHeight = _h[0], setScrollableAreaHeight = _h[1];\n    useEffect(function () {\n        var applicationUserListQuery = userListQuery ? userListQuery() : createDefaultUserListQuery({ sdk: sdk });\n        setUsersDataSource(applicationUserListQuery);\n        if (!(applicationUserListQuery === null || applicationUserListQuery === void 0 ? void 0 : applicationUserListQuery.isLoading)) {\n            applicationUserListQuery.next().then(function (it) {\n                setUsers(it);\n            });\n        }\n    }, []);\n    // To fix navbar break in mobile we set dynamic height to the scrollable area\n    useEffect(function () {\n        var scrollableAreaHeight = function () {\n            setScrollableAreaHeight(window.innerHeight);\n        };\n        window.addEventListener('resize', scrollableAreaHeight);\n        return function () {\n            window.removeEventListener('resize', scrollableAreaHeight);\n        };\n    }, []);\n    return (React__default.createElement(Modal, { isFullScreenOnMobile: true, titleText: titleText, submitText: submitText, type: ButtonTypes.PRIMARY, \n        // Disable the create button if no users are selected,\n        // but if there's only the logged-in user in the user list,\n        // then the create button should be enabled\n        disabled: users.length > 1 && Object.keys(selectedUsers).length === 0, onCancel: onCancel, onSubmit: function () {\n            var selectedUserList = Object.keys(selectedUsers).length > 0\n                ? Object.keys(selectedUsers)\n                : [userId];\n            var _onChannelCreated = onChannelCreated !== null && onChannelCreated !== void 0 ? onChannelCreated : onCreateChannel;\n            var _onCreateChannelClick = onCreateChannelClick !== null && onCreateChannelClick !== void 0 ? onCreateChannelClick : overrideInviteUser;\n            if (typeof _onCreateChannelClick === 'function') {\n                _onCreateChannelClick({\n                    users: selectedUserList,\n                    onClose: onCancel !== null && onCancel !== void 0 ? onCancel : noop,\n                    channelType: type,\n                });\n                return;\n            }\n            if (onBeforeCreateChannel) {\n                var params = onBeforeCreateChannel(selectedUserList);\n                setChannelType(params, type);\n                createChannel(params).then(function (channel) { return _onChannelCreated === null || _onChannelCreated === void 0 ? void 0 : _onChannelCreated(channel); });\n            }\n            else {\n                var params = {};\n                params.invitedUserIds = selectedUserList;\n                params.isDistinct = false;\n                if (userId) {\n                    params.operatorUserIds = [userId];\n                }\n                setChannelType(params, type);\n                // do not have custom params\n                createChannel(params).then(function (channel) { return _onChannelCreated === null || _onChannelCreated === void 0 ? void 0 : _onChannelCreated(channel); });\n            }\n            onCancel === null || onCancel === void 0 ? void 0 : onCancel();\n        } },\n        React__default.createElement(\"div\", null,\n            React__default.createElement(Label, { color: (selectedCount > 0) ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3, type: LabelTypography.CAPTION_1 }, \"\".concat(selectedCount, \" \").concat(stringSet.MODAL__INVITE_MEMBER__SELECTED)),\n            React__default.createElement(\"div\", { className: \"sendbird-create-channel--scroll\", style: isMobile ? { height: \"calc(\".concat(scrollableAreaHeight, \"px - 200px)\") } : {}, onScroll: function (e) {\n                    if (!usersDataSource)\n                        return;\n                    var eventTarget = e.target;\n                    var hasNext = usersDataSource.hasNext, isLoading = usersDataSource.isLoading;\n                    var fetchMore = ((eventTarget.clientHeight + eventTarget.scrollTop + BUFFER) > eventTarget.scrollHeight);\n                    if (hasNext && fetchMore && !isLoading) {\n                        usersDataSource.next().then(function (usersBatch) {\n                            setUsers(__spreadArray(__spreadArray([], users, true), usersBatch, true));\n                        });\n                    }\n                } }, users.map(function (user) { return (!filterUser(idsToFilter)(user.userId)) && (React__default.createElement(UserListItem, { key: user.userId, user: user, checkBox: true, checked: selectedUsers[user.userId], onChange: function (event) {\n                    var _a;\n                    var modifiedSelectedUsers = __assign(__assign({}, selectedUsers), (_a = {}, _a[event.target.id] = event.target.checked, _a));\n                    if (!event.target.checked) {\n                        delete modifiedSelectedUsers[event.target.id];\n                    }\n                    setSelectedUsers(modifiedSelectedUsers);\n                } })); })))));\n};\n\nvar isBroadcastChannelEnabled = function (sdk) {\n    var _a;\n    var ALLOW_BROADCAST_CHANNEL = 'allow_broadcast_channel';\n    var applicationAttributes = (_a = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) === null || _a === void 0 ? void 0 : _a.applicationAttributes;\n    if (Array.isArray(applicationAttributes)) {\n        return applicationAttributes.includes(ALLOW_BROADCAST_CHANNEL);\n    }\n    return false;\n};\nvar isSuperGroupChannelEnabled = function (sdk) {\n    var _a;\n    var ALLOW_SUPER_GROUP_CHANNEL = 'allow_super_group_channel';\n    var applicationAttributes = (_a = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) === null || _a === void 0 ? void 0 : _a.applicationAttributes;\n    if (Array.isArray(applicationAttributes)) {\n        return applicationAttributes.includes(ALLOW_SUPER_GROUP_CHANNEL);\n    }\n    return false;\n};\n\nvar SelectChannelType = function (props) {\n    var onCancel = props.onCancel;\n    var state = useSendbird().state;\n    var sdk = getSdk(state);\n    var _a = useCreateChannel().actions, setPageStep = _a.setPageStep, setType = _a.setType;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var isBroadcastAvailable = isBroadcastChannelEnabled(sdk);\n    var isSupergroupAvailable = isSuperGroupChannelEnabled(sdk);\n    return (React__default.createElement(Modal, { titleText: stringSet === null || stringSet === void 0 ? void 0 : stringSet.MODAL__CREATE_CHANNEL__TITLE, hideFooter: true, onCancel: function () { onCancel === null || onCancel === void 0 ? void 0 : onCancel(); }, className: \"sendbird-add-channel__modal\" },\n        React__default.createElement(\"div\", { className: \"sendbird-add-channel__rectangle-wrap\" },\n            React__default.createElement(\"div\", { className: \"sendbird-add-channel__rectangle\", onClick: function () {\n                    setType(CHANNEL_TYPE.GROUP);\n                    setPageStep(1);\n                }, role: \"button\", tabIndex: 0, onKeyDown: function () {\n                    setType(CHANNEL_TYPE.GROUP);\n                    setPageStep(1);\n                } },\n                React__default.createElement(Icon, { className: \"sendbird-add-channel__rectangle__chat-icon\", type: IconTypes.CHAT, fillColor: IconColors.PRIMARY, width: \"28px\", height: \"28px\" }),\n                React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MODAL__CREATE_CHANNEL__GROUP)),\n            isSupergroupAvailable && (React__default.createElement(\"div\", { className: \"sendbird-add-channel__rectangle\", onClick: function () {\n                    setType(CHANNEL_TYPE.SUPERGROUP);\n                    setPageStep(1);\n                }, role: \"button\", tabIndex: 0, onKeyDown: function () {\n                    setType(CHANNEL_TYPE.SUPERGROUP);\n                    setPageStep(1);\n                } },\n                React__default.createElement(Icon, { className: \"sendbird-add-channel__rectangle__supergroup-icon\", type: IconTypes.SUPERGROUP, fillColor: IconColors.PRIMARY, width: \"28px\", height: \"28px\" }),\n                React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MODAL__CREATE_CHANNEL__SUPER))),\n            isBroadcastAvailable && (React__default.createElement(\"div\", { className: \"sendbird-add-channel__rectangle\", onClick: function () {\n                    setType(CHANNEL_TYPE.BROADCAST);\n                    setPageStep(1);\n                }, role: \"button\", tabIndex: 0, onKeyDown: function () {\n                    setType(CHANNEL_TYPE.BROADCAST);\n                    setPageStep(1);\n                } },\n                React__default.createElement(Icon, { className: \"sendbird-add-channel__rectangle__broadcast-icon\", type: IconTypes.BROADCAST, fillColor: IconColors.PRIMARY, width: \"28px\", height: \"28px\" }),\n                React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MODAL__CREATE_CHANNEL__BROADCAST))))));\n};\n\nvar CreateChannel$1 = function (props) {\n    var onCancel = props.onCancel, renderStepOne = props.renderStepOne;\n    var _a = useCreateChannel(), _b = _a.state, pageStep = _b.pageStep, userListQuery = _b.userListQuery, setPageStep = _a.actions.setPageStep;\n    return (React__default.createElement(React__default.Fragment, null,\n        pageStep === 0 && ((renderStepOne === null || renderStepOne === void 0 ? void 0 : renderStepOne()) || (React__default.createElement(SelectChannelType, { onCancel: onCancel }))),\n        pageStep === 1 && (React__default.createElement(InviteUsers, { userListQuery: userListQuery, onCancel: function () {\n                setPageStep(0);\n                onCancel === null || onCancel === void 0 ? void 0 : onCancel();\n            } }))));\n};\n\nvar CreateChannel = function (props) {\n    return (React__default.createElement(CreateChannelProvider, __assign({}, props),\n        React__default.createElement(CreateChannel$1, __assign({}, props))));\n};\n\nvar AddGroupChannelView = function (_a) {\n    var createChannelVisible = _a.createChannelVisible, onChangeCreateChannelVisible = _a.onChangeCreateChannelVisible, onBeforeCreateChannel = _a.onBeforeCreateChannel, onCreateChannelClick = _a.onCreateChannelClick, onChannelCreated = _a.onChannelCreated;\n    var config = useSendbird().state.config;\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(IconButton, { height: '32px', width: '32px', disabled: !config.isOnline, onClick: function () { return onChangeCreateChannelVisible(true); } },\n            React__default.createElement(Icon, { type: IconTypes.CREATE, fillColor: IconColors.PRIMARY, width: '24px', height: '24px' })),\n        createChannelVisible && (React__default.createElement(CreateChannel, { onCancel: function () { return onChangeCreateChannelVisible(false); }, onChannelCreated: function (channel) {\n                onChannelCreated === null || onChannelCreated === void 0 ? void 0 : onChannelCreated(channel);\n                onChangeCreateChannelVisible(false);\n            }, onBeforeCreateChannel: onBeforeCreateChannel, onCreateChannelClick: onCreateChannelClick }))));\n};\n\nvar AddGroupChannel = function () {\n    var _a = useState(false), createChannelVisible = _a[0], setCreateChannelVisible = _a[1];\n    var _b = useGroupChannelList().state, onChannelCreated = _b.onChannelCreated, onBeforeCreateChannel = _b.onBeforeCreateChannel, onCreateChannelClick = _b.onCreateChannelClick;\n    return (React__default.createElement(AddGroupChannelView, { createChannelVisible: createChannelVisible, onChangeCreateChannelVisible: setCreateChannelVisible, onCreateChannelClick: onCreateChannelClick, onBeforeCreateChannel: onBeforeCreateChannel, onChannelCreated: onChannelCreated }));\n};\n\nvar GroupChannelListUI = function (props) {\n    var renderHeader = props.renderHeader, renderChannelPreview = props.renderChannelPreview, renderPlaceHolderError = props.renderPlaceHolderError, renderPlaceHolderLoading = props.renderPlaceHolderLoading, renderPlaceHolderEmptyList = props.renderPlaceHolderEmptyList;\n    var _a = useGroupChannelList().state, onChannelSelect = _a.onChannelSelect, onThemeChange = _a.onThemeChange, allowProfileEdit = _a.allowProfileEdit, typingChannelUrls = _a.typingChannelUrls, groupChannels = _a.groupChannels, initialized = _a.initialized, selectedChannelUrl = _a.selectedChannelUrl, loadMore = _a.loadMore, onUserProfileUpdated = _a.onUserProfileUpdated, scrollRef = _a.scrollRef;\n    var _b = useSendbird().state, stores = _b.stores, _c = _b.config, logger = _c.logger, isOnline = _c.isOnline;\n    var sdk = stores.sdkStore.sdk;\n    var renderListItem = function (renderProps) {\n        var channel = renderProps.item, index = renderProps.index;\n        var itemProps = {\n            channel: channel,\n            tabIndex: index,\n            isSelected: channel.url === selectedChannelUrl,\n            isTyping: typingChannelUrls.includes(channel.url),\n            renderChannelAction: function (props) { return React__default.createElement(GroupChannelPreviewAction, __assign({}, props)); },\n            onClick: function () {\n                if (isOnline || (sdk === null || sdk === void 0 ? void 0 : sdk.isCacheEnabled)) {\n                    logger.info('ChannelList: Clicked on channel:', channel);\n                    onChannelSelect(channel);\n                }\n                else {\n                    logger.warning('ChannelList: Inactivated clicking channel item during offline.');\n                }\n            },\n            onLeaveChannel: function () {\n                return __awaiter(this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                logger.info('ChannelList: Leaving channel', channel);\n                                return [4 /*yield*/, channel.leave()];\n                            case 1:\n                                _a.sent();\n                                logger.info('ChannelList: Leaving channel success');\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            },\n        };\n        if (renderChannelPreview) {\n            return (React__default.createElement(\"div\", { key: channel.url, onClick: itemProps.onClick }, renderChannelPreview(itemProps)));\n        }\n        return React__default.createElement(GroupChannelListItem, __assign({ key: channel.url }, itemProps));\n    };\n    return (React__default.createElement(GroupChannelListUIView, { renderHeader: renderHeader, renderChannel: renderListItem, renderPlaceHolderError: renderPlaceHolderError, renderPlaceHolderLoading: renderPlaceHolderLoading, renderPlaceHolderEmptyList: renderPlaceHolderEmptyList, onChangeTheme: onThemeChange !== null && onThemeChange !== void 0 ? onThemeChange : noop, allowProfileEdit: allowProfileEdit, onUserProfileUpdated: onUserProfileUpdated !== null && onUserProfileUpdated !== void 0 ? onUserProfileUpdated : noop, channels: groupChannels, onLoadMore: loadMore, initialized: initialized, renderAddChannel: function () { return React__default.createElement(AddGroupChannel, null); }, scrollRef: scrollRef }));\n};\n\nvar GroupChannelList = function (props) {\n    return (React__default.createElement(GroupChannelListProvider, __assign({}, props),\n        React__default.createElement(GroupChannelListUI, __assign({}, props))));\n};\n\nvar AddChannel = function () {\n    var _a = useState(false), showModal = _a[0], setShowModal = _a[1];\n    var _b = useChannelListContext(), overrideInviteUser = _b.overrideInviteUser, onBeforeCreateChannel = _b.onBeforeCreateChannel, onChannelSelect = _b.onChannelSelect;\n    return (React__default.createElement(AddGroupChannelView, { createChannelVisible: showModal, onChangeCreateChannelVisible: setShowModal, onCreateChannelClick: overrideInviteUser, onBeforeCreateChannel: onBeforeCreateChannel, onChannelCreated: function (it) { return onChannelSelect === null || onChannelSelect === void 0 ? void 0 : onChannelSelect(it); } }));\n};\n\n/**\n * @deprecated This component is deprecated and will be removed in the next major update.\n * Please use the `GroupChannel` component from '@sendbird/uikit-react/GroupChannel' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar ChannelListUI = function (props) {\n    var renderHeader = props.renderHeader, renderChannelPreview = props.renderChannelPreview, renderPlaceHolderError = props.renderPlaceHolderError, renderPlaceHolderLoading = props.renderPlaceHolderLoading, renderPlaceHolderEmptyList = props.renderPlaceHolderEmptyList;\n    var _a = useChannelListContext(), onThemeChange = _a.onThemeChange, allowProfileEdit = _a.allowProfileEdit, allChannels = _a.allChannels, currentChannel = _a.currentChannel, channelListDispatcher = _a.channelListDispatcher, typingChannels = _a.typingChannels, initialized = _a.initialized, fetchChannelList = _a.fetchChannelList, onProfileEditSuccess = _a.onProfileEditSuccess;\n    var state = useSendbird().state;\n    var stores = state.stores, config = state.config;\n    var logger = config.logger, _b = config.isOnline, isOnline = _b === void 0 ? false : _b;\n    var sdk = stores.sdkStore.sdk;\n    var renderListItem = function (props) {\n        var channel = props.item, index = props.index;\n        var previewProps = {\n            channel: channel,\n            tabIndex: index,\n            isSelected: (channel === null || channel === void 0 ? void 0 : channel.url) === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url),\n            isTyping: typingChannels === null || typingChannels === void 0 ? void 0 : typingChannels.some(function (_a) {\n                var url = _a.url;\n                return url === (channel === null || channel === void 0 ? void 0 : channel.url);\n            }),\n            renderChannelAction: function (props) { return React__default.createElement(GroupChannelPreviewAction, __assign({}, props)); },\n            onClick: function () {\n                if (!isOnline && !(sdk === null || sdk === void 0 ? void 0 : sdk.isCacheEnabled)) {\n                    logger.warning('ChannelList: Inactivated clicking channel item during offline.');\n                    return;\n                }\n                logger.info('ChannelList: Clicked on channel:', channel);\n                channelListDispatcher({\n                    type: SET_CURRENT_CHANNEL,\n                    payload: channel,\n                });\n            },\n            onLeaveChannel: function (channel, cb) {\n                return __awaiter(this, void 0, void 0, function () {\n                    var response, err_1;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                logger.info('ChannelList: Leaving channel', channel);\n                                if (!channel) return [3 /*break*/, 4];\n                                _a.label = 1;\n                            case 1:\n                                _a.trys.push([1, 3, , 4]);\n                                return [4 /*yield*/, channel.leave()];\n                            case 2:\n                                response = _a.sent();\n                                logger.info('ChannelList: Leaving channel success', response);\n                                if (cb && typeof cb === 'function')\n                                    cb(channel, null);\n                                channelListDispatcher({\n                                    type: LEAVE_CHANNEL_SUCCESS,\n                                    payload: channel.url,\n                                });\n                                return [3 /*break*/, 4];\n                            case 3:\n                                err_1 = _a.sent();\n                                logger.error('ChannelList: Leaving channel failed', err_1);\n                                if (cb && typeof cb === 'function')\n                                    cb(channel, err_1);\n                                return [3 /*break*/, 4];\n                            case 4: return [2 /*return*/];\n                        }\n                    });\n                });\n            },\n        };\n        if (renderChannelPreview) {\n            return (React__default.createElement(\"div\", { key: channel === null || channel === void 0 ? void 0 : channel.url, onClick: previewProps.onClick }, renderChannelPreview(previewProps)));\n        }\n        return React__default.createElement(ChannelPreview, __assign({ key: channel === null || channel === void 0 ? void 0 : channel.url }, previewProps));\n    };\n    return (React__default.createElement(GroupChannelListUIView, { renderHeader: renderHeader, renderChannel: renderListItem, renderPlaceHolderError: renderPlaceHolderError, renderPlaceHolderLoading: renderPlaceHolderLoading, renderPlaceHolderEmptyList: renderPlaceHolderEmptyList, onChangeTheme: onThemeChange !== null && onThemeChange !== void 0 ? onThemeChange : noop, allowProfileEdit: allowProfileEdit, onUserProfileUpdated: onProfileEditSuccess !== null && onProfileEditSuccess !== void 0 ? onProfileEditSuccess : noop, channels: allChannels, onLoadMore: fetchChannelList, initialized: initialized, renderAddChannel: function () { return React__default.createElement(AddChannel, null); } }));\n};\n\n/**\n * @deprecated This component is deprecated and will be removed in the next major update.\n * Please use the `GroupChannelList` component from '@sendbird/uikit-react/GroupChannelList' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar ChannelList = function (props) {\n    return (React__default.createElement(ChannelListProvider, __assign({}, props),\n        React__default.createElement(ChannelListUI, __assign({}, props))));\n};\n\nvar PANELS;\n(function (PANELS) {\n    PANELS[\"CHANNEL_LIST\"] = \"CHANNEL_LIST\";\n    PANELS[\"CHANNEL\"] = \"CHANNEL\";\n    PANELS[\"CHANNEL_SETTINGS\"] = \"CHANNEL_SETTINGS\";\n    PANELS[\"MESSAGE_SEARCH\"] = \"MESSAGE_SEARCH\";\n    PANELS[\"THREAD\"] = \"THREAD\";\n})(PANELS || (PANELS = {}));\nvar MobileLayout = function (props) {\n    var _a, _b, _c;\n    var replyType = props.replyType, isMessageGroupingEnabled = props.isMessageGroupingEnabled, isMultipleFilesMessageEnabled = props.isMultipleFilesMessageEnabled, allowProfileEdit = props.allowProfileEdit, isReactionEnabled = props.isReactionEnabled, showSearchIcon = props.showSearchIcon, onProfileEditSuccess = props.onProfileEditSuccess, currentChannel = props.currentChannel, setCurrentChannel = props.setCurrentChannel, startingPoint = props.startingPoint, setStartingPoint = props.setStartingPoint, threadTargetMessage = props.threadTargetMessage, setThreadTargetMessage = props.setThreadTargetMessage, highlightedMessage = props.highlightedMessage, setHighlightedMessage = props.setHighlightedMessage, enableLegacyChannelModules = props.enableLegacyChannelModules;\n    var _d = useState(PANELS.CHANNEL_LIST), panel = _d[0], setPanel = _d[1];\n    var store = useSendbird().state;\n    var sdk = (_b = (_a = store === null || store === void 0 ? void 0 : store.stores) === null || _a === void 0 ? void 0 : _a.sdkStore) === null || _b === void 0 ? void 0 : _b.sdk;\n    var userId = (_c = store === null || store === void 0 ? void 0 : store.config) === null || _c === void 0 ? void 0 : _c.userId;\n    var pause = useVoicePlayerContext().pause;\n    var goToMessage = function (message, timeoutCb) {\n        setStartingPoint === null || setStartingPoint === void 0 ? void 0 : setStartingPoint((message === null || message === void 0 ? void 0 : message.createdAt) || null);\n        setTimeout(function () {\n            timeoutCb === null || timeoutCb === void 0 ? void 0 : timeoutCb((message === null || message === void 0 ? void 0 : message.messageId) || null);\n        }, 500);\n    };\n    useEffect(function () {\n        if (panel !== PANELS.CHANNEL) {\n            goToMessage(null, function () { return setHighlightedMessage === null || setHighlightedMessage === void 0 ? void 0 : setHighlightedMessage(null); });\n        }\n    }, [panel]);\n    useEffect(function () {\n        var _a, _b;\n        var handlerId = uuidv4();\n        if ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.addGroupChannelHandler) {\n            var handler = new GroupChannelHandler({\n                onUserBanned: function (groupChannel, user) {\n                    if (groupChannel.url === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) && (user === null || user === void 0 ? void 0 : user.userId) === userId) {\n                        setPanel(PANELS.CHANNEL_LIST);\n                    }\n                },\n                onChannelDeleted: function (channelUrl) {\n                    if (channelUrl === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url)) {\n                        setPanel(PANELS.CHANNEL_LIST);\n                    }\n                },\n                onUserLeft: function (groupChannel, user) {\n                    if (groupChannel.url === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) && (user === null || user === void 0 ? void 0 : user.userId) === userId) {\n                        setPanel(PANELS.CHANNEL_LIST);\n                    }\n                },\n            });\n            (_b = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _b === void 0 ? void 0 : _b.addGroupChannelHandler(handlerId, handler);\n        }\n        return function () {\n            var _a, _b;\n            (_b = (_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.removeGroupChannelHandler) === null || _b === void 0 ? void 0 : _b.call(_a, handlerId);\n        };\n    }, [sdk, currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url]);\n    // if currentChannel is changed while on Thread\n    // then change panel type to CHANNEL\n    useEffect(function () {\n        if (panel === PANELS.THREAD) {\n            setPanel(PANELS.CHANNEL);\n        }\n    }, [currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url]);\n    var channelListProps = {\n        allowProfileEdit: allowProfileEdit,\n        onProfileEditSuccess: onProfileEditSuccess,\n        disableAutoSelect: true,\n        onChannelSelect: function (channel) {\n            setCurrentChannel(channel !== null && channel !== void 0 ? channel : undefined);\n            if (channel) {\n                setPanel(PANELS.CHANNEL);\n            }\n            else {\n                setPanel(PANELS.CHANNEL_LIST);\n            }\n        },\n        // for GroupChannelList\n        onChannelCreated: function (channel) {\n            setCurrentChannel(channel);\n            setPanel(PANELS.CHANNEL);\n        },\n        onUserProfileUpdated: onProfileEditSuccess,\n    };\n    var channelProps = {\n        channelUrl: (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) || '',\n        onChatHeaderActionClick: function () {\n            setPanel(PANELS.CHANNEL_SETTINGS);\n        },\n        onBackClick: function () {\n            setPanel(PANELS.CHANNEL_LIST);\n            pause(ALL);\n        },\n        onSearchClick: function () {\n            setPanel(PANELS.MESSAGE_SEARCH);\n        },\n        onReplyInThread: function (_a) {\n            var message = _a.message;\n            if (replyType === 'THREAD') {\n                setPanel(PANELS.THREAD);\n                setThreadTargetMessage(message);\n            }\n        },\n        onQuoteMessageClick: function (_a) {\n            var message = _a.message;\n            // thread message\n            if (replyType === 'THREAD') {\n                setThreadTargetMessage(message);\n                setPanel(PANELS.THREAD);\n            }\n        },\n        animatedMessage: highlightedMessage,\n        onMessageAnimated: function () { return setHighlightedMessage === null || setHighlightedMessage === void 0 ? void 0 : setHighlightedMessage(null); },\n        showSearchIcon: showSearchIcon,\n        startingPoint: startingPoint !== null && startingPoint !== void 0 ? startingPoint : undefined,\n        isReactionEnabled: isReactionEnabled,\n        replyType: replyType,\n        isMessageGroupingEnabled: isMessageGroupingEnabled,\n        isMultipleFilesMessageEnabled: isMultipleFilesMessageEnabled,\n        // for GroupChannel\n        animatedMessageId: highlightedMessage,\n        onReplyInThreadClick: function (_a) {\n            var message = _a.message;\n            if (replyType === 'THREAD') {\n                setPanel(PANELS.THREAD);\n                setThreadTargetMessage(message);\n            }\n        },\n    };\n    return (React__default.createElement(\"div\", { className: \"sb_mobile\", id: APP_LAYOUT_ROOT },\n        panel === PANELS.CHANNEL_LIST && (React__default.createElement(\"div\", { className: \"sb_mobile__panelwrap\" }, enableLegacyChannelModules ? React__default.createElement(ChannelList, __assign({}, channelListProps)) : React__default.createElement(GroupChannelList, __assign({}, channelListProps)))),\n        panel === PANELS.CHANNEL && (React__default.createElement(\"div\", { className: \"sb_mobile__panelwrap\" }, enableLegacyChannelModules ? React__default.createElement(Channel, __assign({}, channelProps)) : React__default.createElement(GroupChannel, __assign({}, channelProps)))),\n        panel === PANELS.CHANNEL_SETTINGS && (React__default.createElement(\"div\", { className: \"sb_mobile__panelwrap\" },\n            React__default.createElement(ChannelSettings, { channelUrl: (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) || '', onCloseClick: function () {\n                    setPanel(PANELS.CHANNEL);\n                }, onLeaveChannel: function () {\n                    setPanel(PANELS.CHANNEL_LIST);\n                } }))),\n        panel === PANELS.MESSAGE_SEARCH && (React__default.createElement(\"div\", { className: \"sb_mobile__panelwrap\" },\n            React__default.createElement(MessageSearchPannel, { channelUrl: (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) || '', onCloseClick: function () {\n                    setPanel(PANELS.CHANNEL);\n                }, onResultClick: function (message) {\n                    setPanel(PANELS.CHANNEL);\n                    goToMessage(message, function (messageId) {\n                        setHighlightedMessage === null || setHighlightedMessage === void 0 ? void 0 : setHighlightedMessage(messageId);\n                    });\n                } }))),\n        panel === PANELS.THREAD && (React__default.createElement(\"div\", { className: \"sb_mobile__panelwrap\" },\n            React__default.createElement(Thread, { channelUrl: (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) || '', message: threadTargetMessage, onHeaderActionClick: function () {\n                    setPanel(PANELS.CHANNEL);\n                    pause(ALL);\n                }, onMoveToParentMessage: function (_a) {\n                    var message = _a.message, channel = _a.channel;\n                    setCurrentChannel(channel);\n                    goToMessage(message, function (messageId) {\n                        setPanel(PANELS.CHANNEL);\n                        setHighlightedMessage === null || setHighlightedMessage === void 0 ? void 0 : setHighlightedMessage(messageId);\n                    });\n                } })))));\n};\n\nexport { AddGroupChannel as A, ChannelList as C, GroupChannelList as G, InviteUsers as I, MobileLayout as M, SelectChannelType as S, CreateChannelProvider as a, CreateChannelContext as b, useCreateChannelContext as c, CreateChannel$1 as d, CreateChannel as e, GroupChannelListUI as f, AddChannel as g, ChannelListUI as h, useCreateChannel as u };\n//# sourceMappingURL=bundle-CzTsBLUn.js.map\n"],
  "mappings": "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",
  "names": ["DELIVERY_RECEIPT", "_a", "_b", "action", "React__default", "import_react", "import_react", "params", "_a", "_b", "_c", "_d", "state", "topOffset", "initialState", "React__default", "import_react", "React__default", "import_react", "FileViewer", "React__default", "_a", "import_react", "import_react_dom", "React__default", "import_react", "import_react_dom", "_a", "React__default", "props", "FileViewer", "import_react", "import_react_dom", "React__default", "_a", "props", "isScrollBottomReached", "_b", "import_react", "import_react_dom", "React__default", "import_react", "import_react_dom", "props", "React__default", "import_react", "import_react_dom", "React__default", "import_react", "_a", "item", "import_react", "useGroupChannelList", "state", "React__default", "initialState", "getCollectionCreator", "_a", "getCollectionCreator", "import_react", "React__default", "_a", "import_react", "React__default", "import_react", "import_react_dom", "React__default", "_a", "import_react", "import_react_dom", "React__default", "import_react", "import_react_dom", "React__default", "import_react", "React__default", "import_react", "React__default", "import_react", "import_react_dom", "useGroupChannelList", "React__default", "getChannelTitle", "EmojiManager", "type", "regex", "getUrls", "urls", "options", "settings", "mimeType", "onBeforeSend", "Function", "prototype", "onSuccess", "onError", "onComplete", "urlArray", "Array", "isArray", "urlQueue", "apply", "length", "map", "x", "isValidCss", "text", "isString", "isHTML", "trim", "charAt", "xhr", "urlIndex", "responseText", "returnVal", "indexOf", "parser", "document", "createElement", "forEach", "url", "i", "setAttribute", "href", "String", "isIElte9", "Boolean", "all", "window", "atob", "isIElte9CORS", "host", "split", "location", "isSameProtocol", "protocol", "xdr", "XDomainRequest", "open", "timeout", "onprogress", "ontimeout", "onload", "onerror", "err", "setTimeout", "send", "console", "warn", "XMLHttpRequest", "overrideMimeType", "onreadystatechange", "readyState", "status", "balancedMatch", "balanced", "a", "b", "str", "RegExp", "maybeMatch", "r", "range", "start", "end", "pre", "slice", "body", "post", "reg", "m", "match", "begs", "beg", "left", "right", "result", "ai", "bi", "push", "pop", "parseCss", "css", "defaults", "preserveStatic", "removeComments", "_extends", "errors", "error", "msg", "Error", "re", "exec", "close", "whitespace", "comment", "type", "comments", "cmnts", "c", "selector", "selectorItems", "hasComment", "test", "replace", "hasCommaInQuotes", "hasMultipleSelectors", "s", "declaration", "at_rule", "comment_regexp", "prop", "val", "ret", "property", "value", "declarations", "d", "decls", "concat", "keyframe", "vals", "values", "at_keyframes", "vendor", "name", "frame", "frames", "keyframes", "at_page", "sel", "selectors", "at_page_margin_box", "at_fontface", "at_supports", "supports", "rules", "at_host", "at_media", "media", "at_custom_m", "at_document", "at_x", "hasVarFunc", "some", "decl", "arr", "obj", "rule", "hasVarDecl", "filter", "core", "node", "stylesheet", "parseVars", "cssData", "parseHost", "store", "onWarning", "reVarDeclSelectors", "stringifyCss", "tree", "delim", "cb", "arguments", "undefined", "renderMethods", "charset", "customMedia", "visit", "fontFace", "import", "_import", "join", "namespace", "page", "pageMarginBox", "nodes", "buf", "n", "txt", "walkCss", "fn", "VAR_PROP_IDENTIFIER", "VAR_FUNC_IDENTIFIER", "transformCss", "preserveVars", "variables", "splice", "resolvedValue", "resolveValue", "fixNestedCalc", "reCalcVal", "newVal", "__recursiveFallback", "valueData", "resolveFunc", "fallback", "Object", "hasOwnProperty", "call", "replacement", "unresolvedFallback", "isEmptyVarFunc", "isBrowser", "isNativeSupport", "CSS", "counters", "group", "job", "rootElement", "shadowDOM", "include", "exclude", "onlyLegacy", "silent", "updateDOM", "updateURLs", "watch", "onFinally", "regex", "cssComments", "cssKeyframes", "cssMediaQueries", "cssUrls", "cssVarDeclRules", "cssVarDecls", "cssVarFunc", "cssVars", "variableStore", "dom", "user", "cssVarsIsRunning", "cssVarsObserver", "cssVarsSrcNodeCount", "debounceTimer", "isShadowDOMReady", "msgPrefix", "handleError", "message", "sourceNode", "handleWarning", "handleFinally", "hasChanged", "getTimeStamp", "__benchmark", "addMutationObserver", "disconnect", "cssVarsDebounced", "srcNodes", "querySelectorAll", "fixVarNames", "srcNode", "hasStyleCache", "nodeName", "toLowerCase", "__cssVars", "hasStyleChanged", "textContent", "sheet", "disabled", "outNodes", "outNode", "dataGroup", "getAttribute", "querySelector", "parentNode", "removeChild", "hasVarChange", "targetElm", "documentElement", "keys", "key", "varValue", "getComputedStyle", "getPropertyValue", "style", "setProperty", "shadowRoot", "getCssData", "skipDisabled", "cssText", "isUserDisabled", "cssArray", "nodeArray", "responseUrl", "responseURL", "getFullUrl", "statusText", "errorMsg", "isLink", "isStyleImport", "fixRelativeCssUrls", "currentVars", "nodeCSS", "cssTree", "resetCssNodes", "outCssArray", "outNodeArray", "hasKeyframesWithVars", "isSkip", "outCss", "hasCSSVarFunc", "outCssNoSpaces", "hasAttribute", "removeAttribute", "insertBefore", "nextSibling", "elms", "elm", "shadowSettings", "fixKeyframes", "JSON", "parse", "stringify", "addEventListener", "init", "evt", "removeEventListener", "reset", "isDisabled", "isDisabledAttr", "isDisabledSheet", "isStylesheet", "isStyle", "isValidAttributeMutation", "mutation", "isValid", "target", "isEnabledMutation", "attributeName", "isHrefMutation", "isSkipNode", "isSrcNode", "isValidStyleTextMutation", "isStyleElm", "isOutNode", "isValidAddMutation", "addedNodes", "isElm", "nodeType", "hasAttr", "isStyleWithVars", "isValidRemoveMutation", "removedNodes", "orphanNode", "MutationObserver", "mutations", "hasValidMutation", "observe", "attributes", "attributeFilter", "childList", "subtree", "delay", "clearTimeout", "animationNameProp", "allNodes", "keyframeNodes", "nameMarker", "len", "animationName", "offsetHeight", "nodeStyle", "baseUrl", "cssUrl", "oldUrl", "newUrl", "varObj", "reLeadingHyphens", "reduce", "base", "implementation", "createHTMLDocument", "head", "appendChild", "performance", "now", "Date", "getTime", "resetDOMVariableStore", "resetNodes", "import_react", "MessageSearchOrder", "initialState", "_a", "React__default", "initialState", "state", "ChannelStateTypes", "ParentMessageStateTypes", "ThreadListStateTypes", "import_react", "_a", "_b", "params", "message", "state", "compareIds", "_c", "_d", "parentMessage", "initialState", "React__default", "initialState", "isSameDay", "defaultOptions", "defaultOptions", "defaultOptions", "MILLISECONDS_IN_WEEK", "format", "ordinalNumber", "valueCallback", "t", "t", "_isNativeReflectConstruct", "Setter", "ValueSetter", "set", "DateToSystemTimezoneSetter", "Parser", "match", "EraParser", "parse", "match", "set", "YearParser", "parse", "match", "valueCallback", "set", "LocalWeekYearParser", "parse", "match", "valueCallback", "set", "ISOWeekYearParser", "parse", "set", "ExtendedYearParser", "parse", "set", "QuarterParser", "parse", "match", "set", "StandAloneQuarterParser", "parse", "match", "set", "MonthParser", "parse", "match", "valueCallback", "set", "StandAloneMonthParser", "parse", "match", "valueCallback", "set", "LocalWeekParser", "parse", "match", "set", "ISOWeekParser", "parse", "match", "set", "DateParser", "parse", "match", "isLeapYear", "set", "DayOfYearParser", "parse", "match", "isLeapYear", "set", "defaultOptions", "DayParser", "parse", "match", "set", "LocalDayParser", "parse", "match", "valueCallback", "set", "StandAloneLocalDayParser", "parse", "match", "valueCallback", "set", "ISODayParser", "parse", "match", "valueCallback", "set", "AMPMParser", "parse", "match", "set", "AMPMMidnightParser", "parse", "match", "set", "DayPeriodParser", "parse", "match", "set", "Hour1to12Parser", "parse", "match", "set", "Hour0to23Parser", "parse", "match", "set", "Hour0To11Parser", "parse", "match", "set", "Hour1To24Parser", "parse", "match", "set", "MinuteParser", "parse", "match", "set", "SecondParser", "parse", "match", "set", "FractionOfSecondParser", "parse", "valueCallback", "set", "ISOTimezoneWithZParser", "parse", "set", "ISOTimezoneParser", "parse", "set", "TimestampSecondsParser", "parse", "set", "TimestampMillisecondsParser", "parse", "set", "import_react", "React__default", "import_react", "import_react_dom", "_a", "React__default", "file", "import_react", "import_react_dom", "isDisabledBecauseFrozen", "isDisabledBecauseMuted", "_a", "React__default", "_b", "import_react", "import_react_dom", "React__default", "getChannelTitle", "import_react", "React__default", "import_react", "getCreatedAt", "React__default", "import_react", "React__default", "import_react", "React__default", "import_react", "React__default", "import_react", "import_react_dom", "_a", "_b", "_c", "React__default", "import_react", "import_react_dom", "React__default", "_a", "userId", "_b", "_c", "import_react", "React__default", "import_react", "import_react_dom", "props", "React__default", "_a", "_b", "_c", "userId", "message", "import_react", "import_react_dom", "React__default", "_a", "_b", "isSameDay", "import_react", "import_react_dom", "React__default", "_a", "isAboutSame", "import_react", "import_react_dom", "React__default", "import_react", "scrollIntoLast", "isDisabledBecauseFrozen", "isDisabledBecauseMuted", "SET_CURRENT_CHANNEL", "ON_CHANNEL_FROZEN", "ON_CHANNEL_UNFROZEN", "ON_CHANNEL_CHANGED", "ON_CHANNEL_DELETED", "_a", "initialState", "useSetChannel", "useHandleChannelEvents", "_b", "useScrollCallback", "hasMore", "lastMessageTimestamp", "params", "React__default", "useUpdateMessageCallback", "useDeleteMessageCallback", "useResendMessageCallback", "import_react", "import_react_dom", "React__default", "import_react", "copyToClipboard", "React__default", "import_react", "import_react_dom", "isOperator", "_a", "React__default", "import_react", "React__default", "import_react", "import_react_dom", "isOperator", "_a", "_b", "React__default", "import_react", "import_react_dom", "isOperator", "type", "_a", "React__default", "_b", "import_react", "import_react_dom", "isOperator", "React__default", "import_react", "import_react_dom", "RemoveMessageModal", "React__default", "_a", "message", "import_react", "import_react_dom", "_a", "_b", "React__default", "import_react", "React__default", "_a", "channelUrl", "_b", "_c", "import_react", "React__default", "import_react", "import_react", "import_react_dom", "React__default", "CHANNEL_TYPE", "initialState", "state", "scrollableAreaHeight", "React__default", "_a", "useGroupChannelList", "props", "channel", "PANELS", "_b"]
}
